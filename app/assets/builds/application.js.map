{
  "version": 3,
  "sources": ["../../../node_modules/@rails/actioncable/src/adapters.js", "../../../node_modules/@rails/actioncable/src/logger.js", "../../../node_modules/@rails/actioncable/src/connection_monitor.js", "../../../node_modules/@rails/actioncable/src/internal.js", "../../../node_modules/@rails/actioncable/src/connection.js", "../../../node_modules/@rails/actioncable/src/subscription.js", "../../../node_modules/@rails/actioncable/src/subscription_guarantor.js", "../../../node_modules/@rails/actioncable/src/subscriptions.js", "../../../node_modules/@rails/actioncable/src/consumer.js", "../../../node_modules/@rails/actioncable/src/index.js", "../../../node_modules/namespace-emitter/index.js", "../../../node_modules/lodash/isObject.js", "../../../node_modules/lodash/_freeGlobal.js", "../../../node_modules/lodash/_root.js", "../../../node_modules/lodash/now.js", "../../../node_modules/lodash/_trimmedEndIndex.js", "../../../node_modules/lodash/_baseTrim.js", "../../../node_modules/lodash/_Symbol.js", "../../../node_modules/lodash/_getRawTag.js", "../../../node_modules/lodash/_objectToString.js", "../../../node_modules/lodash/_baseGetTag.js", "../../../node_modules/lodash/isObjectLike.js", "../../../node_modules/lodash/isSymbol.js", "../../../node_modules/lodash/toNumber.js", "../../../node_modules/lodash/debounce.js", "../../../node_modules/lodash/throttle.js", "../../../node_modules/@transloadit/prettier-bytes/src/prettierBytes.ts", "../../../node_modules/wildcard/index.js", "../../../node_modules/mime-match/index.js", "../../../node_modules/classnames/index.js", "../../../node_modules/eventemitter3/index.js", "../../../node_modules/cropperjs/dist/cropper.js", "../../../node_modules/@popperjs/core/src/dom-utils/getWindow.js", "../../../node_modules/@popperjs/core/src/dom-utils/instanceOf.js", "../../../node_modules/@popperjs/core/src/utils/math.js", "../../../node_modules/@popperjs/core/src/utils/userAgent.js", "../../../node_modules/@popperjs/core/src/dom-utils/isLayoutViewport.js", "../../../node_modules/@popperjs/core/src/dom-utils/getBoundingClientRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/getWindowScroll.js", "../../../node_modules/@popperjs/core/src/dom-utils/getHTMLElementScroll.js", "../../../node_modules/@popperjs/core/src/dom-utils/getNodeScroll.js", "../../../node_modules/@popperjs/core/src/dom-utils/getNodeName.js", "../../../node_modules/@popperjs/core/src/dom-utils/getDocumentElement.js", "../../../node_modules/@popperjs/core/src/dom-utils/getWindowScrollBarX.js", "../../../node_modules/@popperjs/core/src/dom-utils/getComputedStyle.js", "../../../node_modules/@popperjs/core/src/dom-utils/isScrollParent.js", "../../../node_modules/@popperjs/core/src/dom-utils/getCompositeRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/getLayoutRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/getParentNode.js", "../../../node_modules/@popperjs/core/src/dom-utils/getScrollParent.js", "../../../node_modules/@popperjs/core/src/dom-utils/listScrollParents.js", "../../../node_modules/@popperjs/core/src/dom-utils/isTableElement.js", "../../../node_modules/@popperjs/core/src/dom-utils/getOffsetParent.js", "../../../node_modules/@popperjs/core/src/enums.js", "../../../node_modules/@popperjs/core/src/utils/orderModifiers.js", "../../../node_modules/@popperjs/core/src/utils/debounce.js", "../../../node_modules/@popperjs/core/src/utils/mergeByName.js", "../../../node_modules/@popperjs/core/src/dom-utils/getViewportRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/getDocumentRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/contains.js", "../../../node_modules/@popperjs/core/src/utils/rectToClientRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/getClippingRect.js", "../../../node_modules/@popperjs/core/src/utils/getBasePlacement.js", "../../../node_modules/@popperjs/core/src/utils/getVariation.js", "../../../node_modules/@popperjs/core/src/utils/getMainAxisFromPlacement.js", "../../../node_modules/@popperjs/core/src/utils/computeOffsets.js", "../../../node_modules/@popperjs/core/src/utils/getFreshSideObject.js", "../../../node_modules/@popperjs/core/src/utils/mergePaddingObject.js", "../../../node_modules/@popperjs/core/src/utils/expandToHashMap.js", "../../../node_modules/@popperjs/core/src/utils/detectOverflow.js", "../../../node_modules/@popperjs/core/src/createPopper.js", "../../../node_modules/@popperjs/core/src/modifiers/eventListeners.js", "../../../node_modules/@popperjs/core/src/modifiers/popperOffsets.js", "../../../node_modules/@popperjs/core/src/modifiers/computeStyles.js", "../../../node_modules/@popperjs/core/src/modifiers/applyStyles.js", "../../../node_modules/@popperjs/core/src/modifiers/offset.js", "../../../node_modules/@popperjs/core/src/utils/getOppositePlacement.js", "../../../node_modules/@popperjs/core/src/utils/getOppositeVariationPlacement.js", "../../../node_modules/@popperjs/core/src/utils/computeAutoPlacement.js", "../../../node_modules/@popperjs/core/src/modifiers/flip.js", "../../../node_modules/@popperjs/core/src/utils/getAltAxis.js", "../../../node_modules/@popperjs/core/src/utils/within.js", "../../../node_modules/@popperjs/core/src/modifiers/preventOverflow.js", "../../../node_modules/@popperjs/core/src/modifiers/arrow.js", "../../../node_modules/@popperjs/core/src/modifiers/hide.js", "../../../node_modules/@popperjs/core/src/popper-lite.js", "../../../node_modules/@popperjs/core/src/popper.js", "../../../node_modules/bootstrap/js/src/dom/data.js", "../../../node_modules/bootstrap/js/src/util/index.js", "../../../node_modules/bootstrap/js/src/dom/event-handler.js", "../../../node_modules/bootstrap/js/src/dom/manipulator.js", "../../../node_modules/bootstrap/js/src/util/config.js", "../../../node_modules/bootstrap/js/src/base-component.js", "../../../node_modules/bootstrap/js/src/dom/selector-engine.js", "../../../node_modules/bootstrap/js/src/util/component-functions.js", "../../../node_modules/bootstrap/js/src/alert.js", "../../../node_modules/bootstrap/js/src/button.js", "../../../node_modules/bootstrap/js/src/util/swipe.js", "../../../node_modules/bootstrap/js/src/carousel.js", "../../../node_modules/bootstrap/js/src/collapse.js", "../../../node_modules/bootstrap/js/src/dropdown.js", "../../../node_modules/bootstrap/js/src/util/backdrop.js", "../../../node_modules/bootstrap/js/src/util/focustrap.js", "../../../node_modules/bootstrap/js/src/util/scrollbar.js", "../../../node_modules/bootstrap/js/src/modal.js", "../../../node_modules/bootstrap/js/src/offcanvas.js", "../../../node_modules/bootstrap/js/src/util/sanitizer.js", "../../../node_modules/bootstrap/js/src/util/template-factory.js", "../../../node_modules/bootstrap/js/src/tooltip.js", "../../../node_modules/bootstrap/js/src/popover.js", "../../../node_modules/bootstrap/js/src/scrollspy.js", "../../../node_modules/bootstrap/js/src/tab.js", "../../../node_modules/bootstrap/js/src/toast.js", "../../../node_modules/bootstrap/js/index.umd.js", "../../../node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/snakeize.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable_stream_source_element.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/fetch_requests.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/index.js", "../../../node_modules/@hotwired/stimulus/dist/stimulus.js", "../../javascript/controllers/application.js", "../../javascript/controllers/confirm_controller.js", "../../javascript/controllers/btn_preloader_controller.js", "../../javascript/controllers/notices_controller.js", "../../javascript/controllers/clear_form_controller.js", "../../../node_modules/@fancyapps/ui/dist/index.esm.js", "../../javascript/controllers/fancybox_controller.js", "../../javascript/others/pagy.mjs", "../../javascript/controllers/pagy_initializer_controller.js", "../../javascript/controllers/map_controller.js", "../../../node_modules/swiper/shared/ssr-window.esm.mjs", "../../../node_modules/swiper/shared/utils.mjs", "../../../node_modules/swiper/shared/swiper-core.mjs", "../../../node_modules/swiper/shared/create-element-if-not-defined.mjs", "../../../node_modules/swiper/modules/navigation.mjs", "../../../node_modules/swiper/modules/autoplay.mjs", "../../javascript/controllers/swiper_controller.js", "../../javascript/controllers/expand_text_controller.js", "../../javascript/controllers/collapse_controller.js", "../../../node_modules/@uppy/utils/lib/Translator.js", "../../../node_modules/@uppy/core/lib/Uppy.js", "../../../node_modules/nanoid/non-secure/index.js", "../../../node_modules/@uppy/store-default/lib/index.js", "../../../node_modules/@uppy/utils/lib/getFileNameAndExtension.js", "../../../node_modules/@uppy/utils/lib/mimeTypes.js", "../../../node_modules/@uppy/utils/lib/getFileType.js", "../../../node_modules/@uppy/utils/lib/generateFileID.js", "../../../node_modules/@uppy/core/lib/supportsUploadProgress.js", "../../../node_modules/@uppy/core/lib/getFileName.js", "../../../node_modules/@uppy/utils/lib/getTimeStamp.js", "../../../node_modules/@uppy/core/lib/loggers.js", "../../../node_modules/@uppy/core/lib/Restricter.js", "../../../node_modules/@uppy/core/lib/locale.js", "../../../node_modules/preact/src/constants.js", "../../../node_modules/preact/src/util.js", "../../../node_modules/preact/src/options.js", "../../../node_modules/preact/src/create-element.js", "../../../node_modules/preact/src/component.js", "../../../node_modules/preact/src/diff/props.js", "../../../node_modules/preact/src/create-context.js", "../../../node_modules/preact/src/diff/children.js", "../../../node_modules/preact/src/diff/index.js", "../../../node_modules/preact/src/render.js", "../../../node_modules/preact/src/clone-element.js", "../../../node_modules/preact/src/diff/catch-error.js", "../../../node_modules/@uppy/utils/lib/isDOMElement.js", "../../../node_modules/@uppy/utils/lib/findDOMElement.js", "../../../node_modules/@uppy/utils/lib/getTextDirection.js", "../../../node_modules/@uppy/core/lib/BasePlugin.js", "../../../node_modules/@uppy/core/lib/UIPlugin.js", "../../../node_modules/@uppy/utils/lib/emaFilter.js", "../../../node_modules/@uppy/status-bar/lib/StatusBarStates.js", "../../../node_modules/@uppy/status-bar/lib/StatusBarUI.js", "../../../node_modules/@uppy/status-bar/lib/calculateProcessingProgress.js", "../../../node_modules/@uppy/status-bar/lib/Components.js", "../../../node_modules/@uppy/utils/lib/secondsToTime.js", "../../../node_modules/@uppy/utils/lib/prettyETA.js", "../../../node_modules/@uppy/status-bar/lib/locale.js", "../../../node_modules/@uppy/status-bar/lib/StatusBar.js", "../../../node_modules/@uppy/informer/lib/FadeIn.js", "../../../node_modules/@uppy/informer/lib/TransitionGroup.js", "../../../node_modules/@uppy/informer/lib/Informer.js", "../../../node_modules/@uppy/utils/lib/dataURItoBlob.js", "../../../node_modules/@uppy/utils/lib/isObjectURL.js", "../../../node_modules/@uppy/utils/lib/isPreviewSupported.js", "../../../node_modules/exifr/dist/mini.esm.mjs", "../../../node_modules/@uppy/thumbnail-generator/lib/locale.js", "../../../node_modules/@uppy/thumbnail-generator/lib/index.js", "../../../node_modules/@uppy/utils/lib/findAllDOMElements.js", "../../../node_modules/@uppy/utils/lib/toArray.js", "../../../node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/getFilesAndDirectoriesFromDirectory.js", "../../../node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/index.js", "../../../node_modules/@uppy/utils/lib/getDroppedFiles/utils/fallbackApi.js", "../../../node_modules/@uppy/utils/lib/getDroppedFiles/index.js", "../../../node_modules/@uppy/provider-views/lib/ProviderView/ProviderView.js", "../../../node_modules/@uppy/utils/lib/remoteFileObjToLocal.js", "../../../node_modules/preact/hooks/src/index.js", "../../../node_modules/@uppy/provider-views/lib/ProviderView/AuthView.js", "../../../node_modules/@uppy/provider-views/lib/ProviderView/Header.js", "../../../node_modules/@uppy/provider-views/lib/ProviderView/User.js", "../../../node_modules/@uppy/provider-views/lib/Breadcrumbs.js", "../../../node_modules/@uppy/utils/lib/VirtualList.js", "../../../node_modules/@uppy/provider-views/lib/Item/index.js", "../../../node_modules/@uppy/provider-views/lib/Item/components/ItemIcon.js", "../../../node_modules/@uppy/provider-views/lib/Item/components/GridItem.js", "../../../node_modules/@uppy/provider-views/lib/Item/components/ListItem.js", "../../../node_modules/@uppy/provider-views/lib/Browser.js", "../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/afterOpenFolder.js", "../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/afterScrollFolder.js", "../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/shallowClone.js", "../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/afterToggleCheckbox.js", "../../../node_modules/eventemitter3/index.mjs", "../../../node_modules/p-timeout/index.js", "../../../node_modules/p-queue/dist/lower-bound.js", "../../../node_modules/p-queue/dist/priority-queue.js", "../../../node_modules/p-queue/dist/index.js", "../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/afterFill.js", "../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/index.js", "../../../node_modules/@uppy/provider-views/lib/utils/shouldHandleScroll.js", "../../../node_modules/@uppy/provider-views/lib/utils/handleError.js", "../../../node_modules/@uppy/provider-views/lib/utils/getClickedRange.js", "../../../node_modules/@uppy/provider-views/lib/SearchInput.js", "../../../node_modules/@uppy/provider-views/lib/FooterActions.js", "../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/getNumberOfSelectedFiles.js", "../../../node_modules/@uppy/provider-views/lib/utils/getTagFile.js", "../../../node_modules/@uppy/provider-views/lib/utils/addFiles.js", "../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/getCheckedFilesWithPaths.js", "../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/getBreadcrumbs.js", "../../../node_modules/@uppy/provider-views/lib/SearchProviderView/SearchProviderView.js", "../../../node_modules/memoize-one/dist/memoize-one.esm.js", "../../../node_modules/@uppy/utils/lib/FOCUSABLE_ELEMENTS.js", "../../../node_modules/@uppy/dashboard/lib/utils/getActiveOverlayEl.js", "../../../node_modules/@uppy/dashboard/lib/utils/trapFocus.js", "../../../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js", "../../../node_modules/@uppy/dashboard/lib/components/Dashboard.js", "../../../node_modules/@uppy/utils/lib/isDragDropSupported.js", "../../../node_modules/@uppy/dashboard/lib/components/FileItem/index.js", "../../../node_modules/shallow-equal/src/arrays.ts", "../../../node_modules/shallow-equal/src/objects.ts", "../../../node_modules/shallow-equal/src/index.ts", "../../../node_modules/@uppy/dashboard/lib/utils/getFileTypeIcon.js", "../../../node_modules/@uppy/dashboard/lib/components/FilePreview.js", "../../../node_modules/@uppy/dashboard/lib/components/FileItem/MetaErrorMessage.js", "../../../node_modules/@uppy/dashboard/lib/components/FileItem/FilePreviewAndLink/index.js", "../../../node_modules/@uppy/dashboard/lib/components/FileItem/FileProgress/index.js", "../../../node_modules/@uppy/dashboard/lib/components/FileItem/FileInfo/index.js", "../../../node_modules/@uppy/utils/lib/truncateString.js", "../../../node_modules/@uppy/dashboard/lib/utils/copyToClipboard.js", "../../../node_modules/@uppy/dashboard/lib/components/FileItem/Buttons/index.js", "../../../node_modules/@uppy/dashboard/lib/components/FileList.js", "../../../node_modules/@uppy/dashboard/lib/components/AddFiles.js", "../../../node_modules/@uppy/dashboard/lib/components/AddFilesPanel.js", "../../../node_modules/@uppy/dashboard/lib/components/PickerPanelContent.js", "../../../node_modules/@uppy/dashboard/lib/utils/ignoreEvent.js", "../../../node_modules/@uppy/dashboard/lib/components/EditorPanel.js", "../../../node_modules/@uppy/dashboard/lib/components/PickerPanelTopBar.js", "../../../node_modules/@uppy/dashboard/lib/components/FileCard/index.js", "../../../node_modules/@uppy/dashboard/lib/components/FileCard/RenderMetaFields.js", "../../../node_modules/@uppy/dashboard/lib/components/Slide.js", "../../../node_modules/@uppy/dashboard/lib/locale.js", "../../../node_modules/@uppy/dashboard/lib/Dashboard.js", "../../../node_modules/@uppy/image-editor/lib/Editor.js", "../../../node_modules/@uppy/image-editor/lib/utils/getCanvasDataThatFitsPerfectlyIntoContainer.js", "../../../node_modules/@uppy/image-editor/lib/utils/getScaleFactorThatRemovesDarkCorners.js", "../../../node_modules/@uppy/image-editor/lib/utils/limitCropboxMovementOnMove.js", "../../../node_modules/@uppy/image-editor/lib/utils/limitCropboxMovementOnResize.js", "../../../node_modules/@uppy/image-editor/lib/locale.js", "../../../node_modules/@uppy/image-editor/lib/ImageEditor.js", "../../../node_modules/@uppy/core/lib/EventManager.js", "../../../node_modules/@uppy/utils/lib/RateLimitedQueue.js", "../../../node_modules/@uppy/utils/lib/NetworkError.js", "../../../node_modules/@uppy/utils/lib/isNetworkError.js", "../../../node_modules/@uppy/utils/lib/ProgressTimeout.js", "../../../node_modules/@uppy/utils/lib/fetcher.js", "../../../node_modules/@uppy/utils/lib/fileFilters.js", "../../../node_modules/@uppy/utils/lib/getAllowedMetaFields.js", "../../../node_modules/@uppy/xhr-upload/lib/locale.js", "../../../node_modules/@uppy/xhr-upload/lib/index.js", "../../javascript/controllers/layer_controller.js", "../../javascript/controllers/no_image_controller.js", "../../javascript/controllers/index.js", "../../javascript/application.js", "../../../node_modules/trix/src/trix/config/attachments.js", "../../../node_modules/trix/src/trix/config/block_attributes.js", "../../../node_modules/trix/src/trix/config/browser.js", "../../../node_modules/trix/src/trix/config/lang.js", "../../../node_modules/trix/src/trix/config/file_size_formatting.js", "../../../node_modules/trix/src/trix/constants.js", "../../../node_modules/trix/src/trix/core/helpers/extend.js", "../../../node_modules/trix/src/trix/core/helpers/dom.js", "../../../node_modules/trix/src/trix/config/input.js", "../../../node_modules/trix/src/trix/config/key_names.js", "../../../node_modules/trix/src/trix/config/parser.js", "../../../node_modules/trix/src/trix/config/text_attributes.js", "../../../node_modules/trix/src/trix/config/toolbar.js", "../../../node_modules/trix/src/trix/config/undo.js", "../../../node_modules/trix/src/trix/config/css.js", "../../../node_modules/trix/src/trix/core/basic_object.js", "../../../node_modules/trix/src/trix/core/utilities/utf16_string.js", "../../../node_modules/trix/src/trix/core/object.js", "../../../node_modules/trix/src/trix/core/helpers/arrays.js", "../../../node_modules/trix/src/trix/core/helpers/bidi.js", "../../../node_modules/trix/src/trix/core/helpers/config.js", "../../../node_modules/trix/src/trix/core/helpers/custom_elements.js", "../../../node_modules/trix/src/trix/core/helpers/events.js", "../../../node_modules/trix/src/trix/core/helpers/functions.js", "../../../node_modules/trix/src/trix/core/helpers/objects.js", "../../../node_modules/trix/src/trix/core/helpers/ranges.js", "../../../node_modules/trix/src/trix/observers/selection_change_observer.js", "../../../node_modules/trix/src/trix/core/helpers/strings.js", "../../../node_modules/trix/src/trix/core/collections/hash.js", "../../../node_modules/trix/src/trix/core/collections/object_group.js", "../../../node_modules/trix/src/trix/core/collections/object_map.js", "../../../node_modules/trix/src/trix/core/collections/element_store.js", "../../../node_modules/trix/src/trix/core/utilities/operation.js", "../../../node_modules/trix/src/trix/views/object_view.js", "../../../node_modules/trix/src/trix/views/attachment_view.js", "../../../node_modules/trix/src/trix/views/previewable_attachment_view.js", "../../../node_modules/trix/src/trix/views/piece_view.js", "../../../node_modules/trix/src/trix/views/text_view.js", "../../../node_modules/trix/src/trix/views/block_view.js", "../../../node_modules/trix/src/trix/views/document_view.js", "../../../node_modules/trix/src/trix/models/piece.js", "../../../node_modules/trix/src/trix/operations/image_preload_operation.js", "../../../node_modules/trix/src/trix/models/attachment.js", "../../../node_modules/trix/src/trix/models/attachment_piece.js", "../../../node_modules/trix/src/trix/models/string_piece.js", "../../../node_modules/trix/src/trix/models/splittable_list.js", "../../../node_modules/trix/src/trix/models/text.js", "../../../node_modules/trix/src/trix/models/block.js", "../../../node_modules/trix/src/trix/models/document.js", "../../../node_modules/trix/src/trix/models/html_sanitizer.js", "../../../node_modules/trix/src/trix/models/html_parser.js", "../../../node_modules/trix/src/trix/core/serialization.js", "../../../node_modules/trix/src/trix/models/managed_attachment.js", "../../../node_modules/trix/src/trix/models/attachment_manager.js", "../../../node_modules/trix/src/trix/models/line_break_insertion.js", "../../../node_modules/trix/src/trix/models/composition.js", "../../../node_modules/trix/src/trix/models/undo_manager.js", "../../../node_modules/trix/src/trix/filters/filter.js", "../../../node_modules/trix/src/trix/filters/attachment_gallery_filter.js", "../../../node_modules/trix/src/trix/models/editor.js", "../../../node_modules/trix/src/trix/models/location_mapper.js", "../../../node_modules/trix/src/trix/models/point_mapper.js", "../../../node_modules/trix/src/trix/models/selection_manager.js", "../../../node_modules/trix/src/trix/controllers/attachment_editor_controller.js", "../../../node_modules/trix/src/trix/controllers/composition_controller.js", "../../../node_modules/trix/src/trix/controllers/controller.js", "../../../node_modules/trix/src/trix/observers/mutation_observer.js", "../../../node_modules/trix/src/trix/operations/file_verification_operation.js", "../../../node_modules/trix/src/trix/models/flaky_android_keyboard_detector.js", "../../../node_modules/trix/src/trix/controllers/input_controller.js", "../../../node_modules/trix/src/trix/controllers/level_0_input_controller.js", "../../../node_modules/trix/src/trix/controllers/level_2_input_controller.js", "../../../node_modules/trix/src/trix/controllers/toolbar_controller.js", "../../../node_modules/trix/src/trix/controllers/editor_controller.js", "../../../node_modules/trix/src/trix/elements/trix_toolbar_element.js", "../../../node_modules/trix/src/trix/elements/trix_editor_element.js", "../../../node_modules/trix/src/trix/trix.js", "../../../node_modules/@rails/actiontext/app/assets/javascripts/actiontext.js"],
  "sourcesContent": ["export default {\n  logger: typeof console !== \"undefined\" ? console : undefined,\n  WebSocket: typeof WebSocket !== \"undefined\" ? WebSocket : undefined,\n}\n", "import adapters from \"./adapters\"\n\n// The logger is disabled by default. You can enable it with:\n//\n//   ActionCable.logger.enabled = true\n//\n//   Example:\n//\n//   import * as ActionCable from '@rails/actioncable'\n//\n//   ActionCable.logger.enabled = true\n//   ActionCable.logger.log('Connection Established.')\n//\n\nexport default {\n  log(...messages) {\n    if (this.enabled) {\n      messages.push(Date.now())\n      adapters.logger.log(\"[ActionCable]\", ...messages)\n    }\n  },\n}\n", "import logger from \"./logger\"\n\n// Responsible for ensuring the cable connection is in good health by validating the heartbeat pings sent from the server, and attempting\n// revival reconnections if things go astray. Internal class, not intended for direct user manipulation.\n\nconst now = () => new Date().getTime()\n\nconst secondsSince = time => (now() - time) / 1000\n\nclass ConnectionMonitor {\n  constructor(connection) {\n    this.visibilityDidChange = this.visibilityDidChange.bind(this)\n    this.connection = connection\n    this.reconnectAttempts = 0\n  }\n\n  start() {\n    if (!this.isRunning()) {\n      this.startedAt = now()\n      delete this.stoppedAt\n      this.startPolling()\n      addEventListener(\"visibilitychange\", this.visibilityDidChange)\n      logger.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`)\n    }\n  }\n\n  stop() {\n    if (this.isRunning()) {\n      this.stoppedAt = now()\n      this.stopPolling()\n      removeEventListener(\"visibilitychange\", this.visibilityDidChange)\n      logger.log(\"ConnectionMonitor stopped\")\n    }\n  }\n\n  isRunning() {\n    return this.startedAt && !this.stoppedAt\n  }\n\n  recordPing() {\n    this.pingedAt = now()\n  }\n\n  recordConnect() {\n    this.reconnectAttempts = 0\n    this.recordPing()\n    delete this.disconnectedAt\n    logger.log(\"ConnectionMonitor recorded connect\")\n  }\n\n  recordDisconnect() {\n    this.disconnectedAt = now()\n    logger.log(\"ConnectionMonitor recorded disconnect\")\n  }\n\n  // Private\n\n  startPolling() {\n    this.stopPolling()\n    this.poll()\n  }\n\n  stopPolling() {\n    clearTimeout(this.pollTimeout)\n  }\n\n  poll() {\n    this.pollTimeout = setTimeout(() => {\n      this.reconnectIfStale()\n      this.poll()\n    }\n    , this.getPollInterval())\n  }\n\n  getPollInterval() {\n    const { staleThreshold, reconnectionBackoffRate } = this.constructor\n    const backoff = Math.pow(1 + reconnectionBackoffRate, Math.min(this.reconnectAttempts, 10))\n    const jitterMax = this.reconnectAttempts === 0 ? 1.0 : reconnectionBackoffRate\n    const jitter = jitterMax * Math.random()\n    return staleThreshold * 1000 * backoff * (1 + jitter)\n  }\n\n  reconnectIfStale() {\n    if (this.connectionIsStale()) {\n      logger.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${secondsSince(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`)\n      this.reconnectAttempts++\n      if (this.disconnectedRecently()) {\n        logger.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${secondsSince(this.disconnectedAt)} s`)\n      } else {\n        logger.log(\"ConnectionMonitor reopening\")\n        this.connection.reopen()\n      }\n    }\n  }\n\n  get refreshedAt() {\n    return this.pingedAt ? this.pingedAt : this.startedAt\n  }\n\n  connectionIsStale() {\n    return secondsSince(this.refreshedAt) > this.constructor.staleThreshold\n  }\n\n  disconnectedRecently() {\n    return this.disconnectedAt && (secondsSince(this.disconnectedAt) < this.constructor.staleThreshold)\n  }\n\n  visibilityDidChange() {\n    if (document.visibilityState === \"visible\") {\n      setTimeout(() => {\n        if (this.connectionIsStale() || !this.connection.isOpen()) {\n          logger.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`)\n          this.connection.reopen()\n        }\n      }\n      , 200)\n    }\n  }\n\n}\n\nConnectionMonitor.staleThreshold = 6 // Server::Connections::BEAT_INTERVAL * 2 (missed two pings)\nConnectionMonitor.reconnectionBackoffRate = 0.15\n\nexport default ConnectionMonitor\n", "export default {\n  \"message_types\": {\n    \"welcome\": \"welcome\",\n    \"disconnect\": \"disconnect\",\n    \"ping\": \"ping\",\n    \"confirmation\": \"confirm_subscription\",\n    \"rejection\": \"reject_subscription\"\n  },\n  \"disconnect_reasons\": {\n    \"unauthorized\": \"unauthorized\",\n    \"invalid_request\": \"invalid_request\",\n    \"server_restart\": \"server_restart\",\n    \"remote\": \"remote\"\n  },\n  \"default_mount_path\": \"/cable\",\n  \"protocols\": [\n    \"actioncable-v1-json\",\n    \"actioncable-unsupported\"\n  ]\n}\n", "import adapters from \"./adapters\"\nimport ConnectionMonitor from \"./connection_monitor\"\nimport INTERNAL from \"./internal\"\nimport logger from \"./logger\"\n\n// Encapsulate the cable connection held by the consumer. This is an internal class not intended for direct user manipulation.\n\nconst {message_types, protocols} = INTERNAL\nconst supportedProtocols = protocols.slice(0, protocols.length - 1)\n\nconst indexOf = [].indexOf\n\nclass Connection {\n  constructor(consumer) {\n    this.open = this.open.bind(this)\n    this.consumer = consumer\n    this.subscriptions = this.consumer.subscriptions\n    this.monitor = new ConnectionMonitor(this)\n    this.disconnected = true\n  }\n\n  send(data) {\n    if (this.isOpen()) {\n      this.webSocket.send(JSON.stringify(data))\n      return true\n    } else {\n      return false\n    }\n  }\n\n  open() {\n    if (this.isActive()) {\n      logger.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`)\n      return false\n    } else {\n      const socketProtocols = [...protocols, ...this.consumer.subprotocols || []]\n      logger.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${socketProtocols}`)\n      if (this.webSocket) { this.uninstallEventHandlers() }\n      this.webSocket = new adapters.WebSocket(this.consumer.url, socketProtocols)\n      this.installEventHandlers()\n      this.monitor.start()\n      return true\n    }\n  }\n\n  close({allowReconnect} = {allowReconnect: true}) {\n    if (!allowReconnect) { this.monitor.stop() }\n    // Avoid closing websockets in a \"connecting\" state due to Safari 15.1+ bug. See: https://github.com/rails/rails/issues/43835#issuecomment-1002288478\n    if (this.isOpen()) {\n      return this.webSocket.close()\n    }\n  }\n\n  reopen() {\n    logger.log(`Reopening WebSocket, current state is ${this.getState()}`)\n    if (this.isActive()) {\n      try {\n        return this.close()\n      } catch (error) {\n        logger.log(\"Failed to reopen WebSocket\", error)\n      }\n      finally {\n        logger.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`)\n        setTimeout(this.open, this.constructor.reopenDelay)\n      }\n    } else {\n      return this.open()\n    }\n  }\n\n  getProtocol() {\n    if (this.webSocket) {\n      return this.webSocket.protocol\n    }\n  }\n\n  isOpen() {\n    return this.isState(\"open\")\n  }\n\n  isActive() {\n    return this.isState(\"open\", \"connecting\")\n  }\n\n  triedToReconnect() {\n    return this.monitor.reconnectAttempts > 0\n  }\n\n  // Private\n\n  isProtocolSupported() {\n    return indexOf.call(supportedProtocols, this.getProtocol()) >= 0\n  }\n\n  isState(...states) {\n    return indexOf.call(states, this.getState()) >= 0\n  }\n\n  getState() {\n    if (this.webSocket) {\n      for (let state in adapters.WebSocket) {\n        if (adapters.WebSocket[state] === this.webSocket.readyState) {\n          return state.toLowerCase()\n        }\n      }\n    }\n    return null\n  }\n\n  installEventHandlers() {\n    for (let eventName in this.events) {\n      const handler = this.events[eventName].bind(this)\n      this.webSocket[`on${eventName}`] = handler\n    }\n  }\n\n  uninstallEventHandlers() {\n    for (let eventName in this.events) {\n      this.webSocket[`on${eventName}`] = function() {}\n    }\n  }\n\n}\n\nConnection.reopenDelay = 500\n\nConnection.prototype.events = {\n  message(event) {\n    if (!this.isProtocolSupported()) { return }\n    const {identifier, message, reason, reconnect, type} = JSON.parse(event.data)\n    switch (type) {\n      case message_types.welcome:\n        if (this.triedToReconnect()) {\n          this.reconnectAttempted = true\n        }\n        this.monitor.recordConnect()\n        return this.subscriptions.reload()\n      case message_types.disconnect:\n        logger.log(`Disconnecting. Reason: ${reason}`)\n        return this.close({allowReconnect: reconnect})\n      case message_types.ping:\n        return this.monitor.recordPing()\n      case message_types.confirmation:\n        this.subscriptions.confirmSubscription(identifier)\n        if (this.reconnectAttempted) {\n          this.reconnectAttempted = false\n          return this.subscriptions.notify(identifier, \"connected\", {reconnected: true})\n        } else {\n          return this.subscriptions.notify(identifier, \"connected\", {reconnected: false})\n        }\n      case message_types.rejection:\n        return this.subscriptions.reject(identifier)\n      default:\n        return this.subscriptions.notify(identifier, \"received\", message)\n    }\n  },\n\n  open() {\n    logger.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`)\n    this.disconnected = false\n    if (!this.isProtocolSupported()) {\n      logger.log(\"Protocol is unsupported. Stopping monitor and disconnecting.\")\n      return this.close({allowReconnect: false})\n    }\n  },\n\n  close(event) {\n    logger.log(\"WebSocket onclose event\")\n    if (this.disconnected) { return }\n    this.disconnected = true\n    this.monitor.recordDisconnect()\n    return this.subscriptions.notifyAll(\"disconnected\", {willAttemptReconnect: this.monitor.isRunning()})\n  },\n\n  error() {\n    logger.log(\"WebSocket onerror event\")\n  }\n}\n\nexport default Connection\n", "// A new subscription is created through the ActionCable.Subscriptions instance available on the consumer.\n// It provides a number of callbacks and a method for calling remote procedure calls on the corresponding\n// Channel instance on the server side.\n//\n// An example demonstrates the basic functionality:\n//\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\", {\n//     connected() {\n//       // Called once the subscription has been successfully completed\n//     },\n//\n//     disconnected({ willAttemptReconnect: boolean }) {\n//       // Called when the client has disconnected with the server.\n//       // The object will have an `willAttemptReconnect` property which\n//       // says whether the client has the intention of attempting\n//       // to reconnect.\n//     },\n//\n//     appear() {\n//       this.perform('appear', {appearing_on: this.appearingOn()})\n//     },\n//\n//     away() {\n//       this.perform('away')\n//     },\n//\n//     appearingOn() {\n//       $('main').data('appearing-on')\n//     }\n//   })\n//\n// The methods #appear and #away forward their intent to the remote AppearanceChannel instance on the server\n// by calling the `perform` method with the first parameter being the action (which maps to AppearanceChannel#appear/away).\n// The second parameter is a hash that'll get JSON encoded and made available on the server in the data parameter.\n//\n// This is how the server component would look:\n//\n//   class AppearanceChannel < ApplicationActionCable::Channel\n//     def subscribed\n//       current_user.appear\n//     end\n//\n//     def unsubscribed\n//       current_user.disappear\n//     end\n//\n//     def appear(data)\n//       current_user.appear on: data['appearing_on']\n//     end\n//\n//     def away\n//       current_user.away\n//     end\n//   end\n//\n// The \"AppearanceChannel\" name is automatically mapped between the client-side subscription creation and the server-side Ruby class name.\n// The AppearanceChannel#appear/away public methods are exposed automatically to client-side invocation through the perform method.\n\nconst extend = function(object, properties) {\n  if (properties != null) {\n    for (let key in properties) {\n      const value = properties[key]\n      object[key] = value\n    }\n  }\n  return object\n}\n\nexport default class Subscription {\n  constructor(consumer, params = {}, mixin) {\n    this.consumer = consumer\n    this.identifier = JSON.stringify(params)\n    extend(this, mixin)\n  }\n\n  // Perform a channel action with the optional data passed as an attribute\n  perform(action, data = {}) {\n    data.action = action\n    return this.send(data)\n  }\n\n  send(data) {\n    return this.consumer.send({command: \"message\", identifier: this.identifier, data: JSON.stringify(data)})\n  }\n\n  unsubscribe() {\n    return this.consumer.subscriptions.remove(this)\n  }\n}\n", "import logger from \"./logger\"\n\n// Responsible for ensuring channel subscribe command is confirmed, retrying until confirmation is received.\n// Internal class, not intended for direct user manipulation.\n\nclass SubscriptionGuarantor {\n  constructor(subscriptions) {\n    this.subscriptions = subscriptions\n    this.pendingSubscriptions = []\n  }\n\n  guarantee(subscription) {\n    if(this.pendingSubscriptions.indexOf(subscription) == -1){ \n      logger.log(`SubscriptionGuarantor guaranteeing ${subscription.identifier}`)\n      this.pendingSubscriptions.push(subscription) \n    }\n    else {\n      logger.log(`SubscriptionGuarantor already guaranteeing ${subscription.identifier}`)\n    }\n    this.startGuaranteeing()\n  }\n\n  forget(subscription) {\n    logger.log(`SubscriptionGuarantor forgetting ${subscription.identifier}`)\n    this.pendingSubscriptions = (this.pendingSubscriptions.filter((s) => s !== subscription))\n  }\n\n  startGuaranteeing() {\n    this.stopGuaranteeing()\n    this.retrySubscribing()\n  }\n  \n  stopGuaranteeing() {\n    clearTimeout(this.retryTimeout)\n  }\n\n  retrySubscribing() {\n    this.retryTimeout = setTimeout(() => {\n      if (this.subscriptions && typeof(this.subscriptions.subscribe) === \"function\") {\n        this.pendingSubscriptions.map((subscription) => {\n          logger.log(`SubscriptionGuarantor resubscribing ${subscription.identifier}`)\n          this.subscriptions.subscribe(subscription)\n        })\n      }\n    }\n    , 500)\n  }\n}\n\nexport default SubscriptionGuarantor", "import Subscription from \"./subscription\"\nimport SubscriptionGuarantor from \"./subscription_guarantor\"\nimport logger from \"./logger\"\n\n// Collection class for creating (and internally managing) channel subscriptions.\n// The only method intended to be triggered by the user is ActionCable.Subscriptions#create,\n// and it should be called through the consumer like so:\n//\n//   App = {}\n//   App.cable = ActionCable.createConsumer(\"ws://example.com/accounts/1\")\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\")\n//\n// For more details on how you'd configure an actual channel subscription, see ActionCable.Subscription.\n\nexport default class Subscriptions {\n  constructor(consumer) {\n    this.consumer = consumer\n    this.guarantor = new SubscriptionGuarantor(this)\n    this.subscriptions = []\n  }\n\n  create(channelName, mixin) {\n    const channel = channelName\n    const params = typeof channel === \"object\" ? channel : {channel}\n    const subscription = new Subscription(this.consumer, params, mixin)\n    return this.add(subscription)\n  }\n\n  // Private\n\n  add(subscription) {\n    this.subscriptions.push(subscription)\n    this.consumer.ensureActiveConnection()\n    this.notify(subscription, \"initialized\")\n    this.subscribe(subscription)\n    return subscription\n  }\n\n  remove(subscription) {\n    this.forget(subscription)\n    if (!this.findAll(subscription.identifier).length) {\n      this.sendCommand(subscription, \"unsubscribe\")\n    }\n    return subscription\n  }\n\n  reject(identifier) {\n    return this.findAll(identifier).map((subscription) => {\n      this.forget(subscription)\n      this.notify(subscription, \"rejected\")\n      return subscription\n    })\n  }\n\n  forget(subscription) {\n    this.guarantor.forget(subscription)\n    this.subscriptions = (this.subscriptions.filter((s) => s !== subscription))\n    return subscription\n  }\n\n  findAll(identifier) {\n    return this.subscriptions.filter((s) => s.identifier === identifier)\n  }\n\n  reload() {\n    return this.subscriptions.map((subscription) =>\n      this.subscribe(subscription))\n  }\n\n  notifyAll(callbackName, ...args) {\n    return this.subscriptions.map((subscription) =>\n      this.notify(subscription, callbackName, ...args))\n  }\n\n  notify(subscription, callbackName, ...args) {\n    let subscriptions\n    if (typeof subscription === \"string\") {\n      subscriptions = this.findAll(subscription)\n    } else {\n      subscriptions = [subscription]\n    }\n\n    return subscriptions.map((subscription) =>\n      (typeof subscription[callbackName] === \"function\" ? subscription[callbackName](...args) : undefined))\n  }\n\n  subscribe(subscription) {\n    if (this.sendCommand(subscription, \"subscribe\")) {\n      this.guarantor.guarantee(subscription)\n    }\n  }\n\n  confirmSubscription(identifier) {\n    logger.log(`Subscription confirmed ${identifier}`)\n    this.findAll(identifier).map((subscription) =>\n      this.guarantor.forget(subscription))\n  }\n\n  sendCommand(subscription, command) {\n    const {identifier} = subscription\n    return this.consumer.send({command, identifier})\n  }\n}\n", "import Connection from \"./connection\"\nimport Subscriptions from \"./subscriptions\"\n\n// The ActionCable.Consumer establishes the connection to a server-side Ruby Connection object. Once established,\n// the ActionCable.ConnectionMonitor will ensure that its properly maintained through heartbeats and checking for stale updates.\n// The Consumer instance is also the gateway to establishing subscriptions to desired channels through the #createSubscription\n// method.\n//\n// The following example shows how this can be set up:\n//\n//   App = {}\n//   App.cable = ActionCable.createConsumer(\"ws://example.com/accounts/1\")\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\")\n//\n// For more details on how you'd configure an actual channel subscription, see ActionCable.Subscription.\n//\n// When a consumer is created, it automatically connects with the server.\n//\n// To disconnect from the server, call\n//\n//   App.cable.disconnect()\n//\n// and to restart the connection:\n//\n//   App.cable.connect()\n//\n// Any channel subscriptions which existed prior to disconnecting will\n// automatically resubscribe.\n\nexport default class Consumer {\n  constructor(url) {\n    this._url = url\n    this.subscriptions = new Subscriptions(this)\n    this.connection = new Connection(this)\n    this.subprotocols = []\n  }\n\n  get url() {\n    return createWebSocketURL(this._url)\n  }\n\n  send(data) {\n    return this.connection.send(data)\n  }\n\n  connect() {\n    return this.connection.open()\n  }\n\n  disconnect() {\n    return this.connection.close({allowReconnect: false})\n  }\n\n  ensureActiveConnection() {\n    if (!this.connection.isActive()) {\n      return this.connection.open()\n    }\n  }\n\n  addSubProtocol(subprotocol) {\n    this.subprotocols = [...this.subprotocols, subprotocol]\n  }\n}\n\nexport function createWebSocketURL(url) {\n  if (typeof url === \"function\") {\n    url = url()\n  }\n\n  if (url && !/^wss?:/i.test(url)) {\n    const a = document.createElement(\"a\")\n    a.href = url\n    // Fix populating Location properties in IE. Otherwise, protocol will be blank.\n    a.href = a.href\n    a.protocol = a.protocol.replace(\"http\", \"ws\")\n    return a.href\n  } else {\n    return url\n  }\n}\n", "import Connection from \"./connection\"\nimport ConnectionMonitor from \"./connection_monitor\"\nimport Consumer, { createWebSocketURL } from \"./consumer\"\nimport INTERNAL from \"./internal\"\nimport Subscription from \"./subscription\"\nimport Subscriptions from \"./subscriptions\"\nimport SubscriptionGuarantor from \"./subscription_guarantor\"\nimport adapters from \"./adapters\"\nimport logger from \"./logger\"\n\nexport {\n  Connection,\n  ConnectionMonitor,\n  Consumer,\n  INTERNAL,\n  Subscription,\n  Subscriptions,\n  SubscriptionGuarantor,\n  adapters,\n  createWebSocketURL,\n  logger,\n}\n\nexport function createConsumer(url = getConfig(\"url\") || INTERNAL.default_mount_path) {\n  return new Consumer(url)\n}\n\nexport function getConfig(name) {\n  const element = document.head.querySelector(`meta[name='action-cable-${name}']`)\n  if (element) {\n    return element.getAttribute(\"content\")\n  }\n}\n", "/**\n* Create an event emitter with namespaces\n* @name createNamespaceEmitter\n* @example\n* var emitter = require('./index')()\n*\n* emitter.on('*', function () {\n*   console.log('all events emitted', this.event)\n* })\n*\n* emitter.on('example', function () {\n*   console.log('example event emitted')\n* })\n*/\nmodule.exports = function createNamespaceEmitter () {\n  var emitter = {}\n  var _fns = emitter._fns = {}\n\n  /**\n  * Emit an event. Optionally namespace the event. Handlers are fired in the order in which they were added with exact matches taking precedence. Separate the namespace and event with a `:`\n  * @name emit\n  * @param {String} event \u2013 the name of the event, with optional namespace\n  * @param {...*} data \u2013 up to 6 arguments that are passed to the event listener\n  * @example\n  * emitter.emit('example')\n  * emitter.emit('demo:test')\n  * emitter.emit('data', { example: true}, 'a string', 1)\n  */\n  emitter.emit = function emit (event, arg1, arg2, arg3, arg4, arg5, arg6) {\n    var toEmit = getListeners(event)\n\n    if (toEmit.length) {\n      emitAll(event, toEmit, [arg1, arg2, arg3, arg4, arg5, arg6])\n    }\n  }\n\n  /**\n  * Create en event listener.\n  * @name on\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.on('example', function () {})\n  * emitter.on('demo', function () {})\n  */\n  emitter.on = function on (event, fn) {\n    if (!_fns[event]) {\n      _fns[event] = []\n    }\n\n    _fns[event].push(fn)\n  }\n\n  /**\n  * Create en event listener that fires once.\n  * @name once\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.once('example', function () {})\n  * emitter.once('demo', function () {})\n  */\n  emitter.once = function once (event, fn) {\n    function one () {\n      fn.apply(this, arguments)\n      emitter.off(event, one)\n    }\n    this.on(event, one)\n  }\n\n  /**\n  * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.\n  * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener,\n  * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener\n  * @name off\n  * @param {String} event\n  * @param {Function} [fn] \u2013 the specific handler\n  * @example\n  * emitter.off('example')\n  * emitter.off('demo', function () {})\n  */\n  emitter.off = function off (event, fn) {\n    var keep = []\n\n    if (event && fn) {\n      var fns = this._fns[event]\n      var i = 0\n      var l = fns ? fns.length : 0\n\n      for (i; i < l; i++) {\n        if (fns[i] !== fn) {\n          keep.push(fns[i])\n        }\n      }\n    }\n\n    keep.length ? this._fns[event] = keep : delete this._fns[event]\n  }\n\n  function getListeners (e) {\n    var out = _fns[e] ? _fns[e] : []\n    var idx = e.indexOf(':')\n    var args = (idx === -1) ? [e] : [e.substring(0, idx), e.substring(idx + 1)]\n\n    var keys = Object.keys(_fns)\n    var i = 0\n    var l = keys.length\n\n    for (i; i < l; i++) {\n      var key = keys[i]\n      if (key === '*') {\n        out = out.concat(_fns[key])\n      }\n\n      if (args.length === 2 && args[0] === key) {\n        out = out.concat(_fns[key])\n        break\n      }\n    }\n\n    return out\n  }\n\n  function emitAll (e, fns, args) {\n    var i = 0\n    var l = fns.length\n\n    for (i; i < l; i++) {\n      if (!fns[i]) break\n      fns[i].event = e\n      fns[i].apply(fns[i], args)\n    }\n  }\n\n  return emitter\n}\n", "/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n", "/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n", "var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n", "var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n", "/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n", "var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n", "var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n", "var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n", "var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n", "/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n", "var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n", "var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n", "var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n", "// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nexport = function prettierBytes(num: number): string {\n  if (typeof num !== 'number' || Number.isNaN(num)) {\n    throw new TypeError(`Expected a number, got ${typeof num}`)\n  }\n\n  const neg = num < 0\n  const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num < 1) {\n    return `${(neg ? '-' : '') + num} B`\n  }\n\n  const exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  num = Number(num / 1024 ** exponent)\n  const unit = units[exponent]\n\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return `${(neg ? '-' : '') + num.toFixed(0)} ${unit}`\n  }\n\n  return `${(neg ? '-' : '') + num.toFixed(1)} ${unit}`\n}\n", "/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n", "var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n", "/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "/*!\n * Cropper.js v1.5.7\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2020-05-23T05:23:00.081Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Cropper = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'cropper'; // Actions\n\n  var ACTION_ALL = 'all';\n  var ACTION_CROP = 'crop';\n  var ACTION_MOVE = 'move';\n  var ACTION_ZOOM = 'zoom';\n  var ACTION_EAST = 'e';\n  var ACTION_WEST = 'w';\n  var ACTION_SOUTH = 's';\n  var ACTION_NORTH = 'n';\n  var ACTION_NORTH_EAST = 'ne';\n  var ACTION_NORTH_WEST = 'nw';\n  var ACTION_SOUTH_EAST = 'se';\n  var ACTION_SOUTH_WEST = 'sw'; // Classes\n\n  var CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\n  var CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\n  var CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\"); // Data keys\n\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n  var DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\"); // Drag modes\n\n  var DRAG_MODE_CROP = 'crop';\n  var DRAG_MODE_MOVE = 'move';\n  var DRAG_MODE_NONE = 'none'; // Events\n\n  var EVENT_CROP = 'crop';\n  var EVENT_CROP_END = 'cropend';\n  var EVENT_CROP_MOVE = 'cropmove';\n  var EVENT_CROP_START = 'cropstart';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_READY = 'ready';\n  var EVENT_RESIZE = 'resize';\n  var EVENT_WHEEL = 'wheel';\n  var EVENT_ZOOM = 'zoom'; // Mime types\n\n  var MIME_TYPE_JPEG = 'image/jpeg'; // RegExps\n\n  var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\n  var REGEXP_DATA_URL = /^data:/;\n  var REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\n  var REGEXP_TAG_NAME = /^img|canvas$/i; // Misc\n\n  var DEFAULTS = {\n    // Define the view mode of the cropper\n    viewMode: 0,\n    // 0, 1, 2, 3\n    // Define the dragging mode of the cropper\n    dragMode: DRAG_MODE_CROP,\n    // 'crop', 'move' or 'none'\n    // Define the initial aspect ratio of the crop box\n    initialAspectRatio: NaN,\n    // Define the aspect ratio of the crop box\n    aspectRatio: NaN,\n    // An object with the previous cropping result data\n    data: null,\n    // A selector for adding extra containers to preview\n    preview: '',\n    // Re-render the cropper when resize the window\n    responsive: true,\n    // Restore the cropped area after resize the window\n    restore: true,\n    // Check if the current image is a cross-origin image\n    checkCrossOrigin: true,\n    // Check the current image's Exif Orientation information\n    checkOrientation: true,\n    // Show the black modal\n    modal: true,\n    // Show the dashed lines for guiding\n    guides: true,\n    // Show the center indicator for guiding\n    center: true,\n    // Show the white modal to highlight the crop box\n    highlight: true,\n    // Show the grid background\n    background: true,\n    // Enable to crop the image automatically when initialize\n    autoCrop: true,\n    // Define the percentage of automatic cropping area when initializes\n    autoCropArea: 0.8,\n    // Enable to move the image\n    movable: true,\n    // Enable to rotate the image\n    rotatable: true,\n    // Enable to scale the image\n    scalable: true,\n    // Enable to zoom the image\n    zoomable: true,\n    // Enable to zoom the image by dragging touch\n    zoomOnTouch: true,\n    // Enable to zoom the image by wheeling mouse\n    zoomOnWheel: true,\n    // Define zoom ratio when zoom the image by wheeling mouse\n    wheelZoomRatio: 0.1,\n    // Enable to move the crop box\n    cropBoxMovable: true,\n    // Enable to resize the crop box\n    cropBoxResizable: true,\n    // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n    toggleDragModeOnDblclick: true,\n    // Size limitation\n    minCanvasWidth: 0,\n    minCanvasHeight: 0,\n    minCropBoxWidth: 0,\n    minCropBoxHeight: 0,\n    minContainerWidth: 200,\n    minContainerHeight: 100,\n    // Shortcuts of events\n    ready: null,\n    cropstart: null,\n    cropmove: null,\n    cropend: null,\n    crop: null,\n    zoom: null\n  };\n\n  var TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n  /**\n   * Check if the given value is not a number.\n   */\n\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n  /**\n   * Check if the given value is a positive number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n   */\n\n  var isPositiveNumber = function isPositiveNumber(value) {\n    return value > 0 && value < Infinity;\n  };\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  var slice = Array.prototype.slice;\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length)\n      /* array-like */\n      ) {\n          toArray(data).forEach(function (value, key) {\n            callback.call(data, value, key, data);\n          });\n        } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n\n    return data;\n  }\n  /**\n   * Extend the given object.\n   * @param {*} target - The target object to extend.\n   * @param {*} args - The rest objects for merging to the target object.\n   * @returns {Object} The extended object.\n   */\n\n  var assign = Object.assign || function assign(target) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (isObject(target) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            target[key] = arg[key];\n          });\n        }\n      });\n    }\n\n    return target;\n  };\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n  /**\n   * Normalize decimal number.\n   * Check out {@link https://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n  var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value = \"\".concat(value, \"px\");\n      }\n\n      style[property] = value;\n    });\n  }\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n\n  function hasClass(element, value) {\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n\n  function addClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n\n    var className = element.className.trim();\n\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n\n  function removeClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    } // IE10-11 doesn't support the second parameter of `classList.toggle`\n\n\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n\n  function toParamCase(value) {\n    return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n  }\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n\n    return element.getAttribute(\"data-\".concat(toParamCase(name)));\n  }\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n    }\n  }\n  /**\n   * Remove data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to remove.\n   */\n\n  function removeData(element, name) {\n    if (isObject(element[name])) {\n      try {\n        delete element[name];\n      } catch (error) {\n        element[name] = undefined;\n      }\n    } else if (element.dataset) {\n      // #128 Safari not allows to delete dataset property\n      try {\n        delete element.dataset[name];\n      } catch (error) {\n        element.dataset[name] = undefined;\n      }\n    } else {\n      element.removeAttribute(\"data-\".concat(toParamCase(name)));\n    }\n  }\n  var REGEXP_SPACES = /\\s\\s*/;\n\n  var onceSupported = function () {\n    var supported = false;\n\n    if (IS_BROWSER) {\n      var once = false;\n\n      var listener = function listener() {};\n\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n\n    return supported;\n  }();\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n\n      element.removeEventListener(event, handler, options);\n    });\n  }\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n            listeners = _element$listeners === void 0 ? {} : _element$listeners;\n\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          listener.apply(element, args);\n        };\n\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n\n      element.addEventListener(event, _handler, options);\n    });\n  }\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n\n  function dispatchEvent(element, type, data) {\n    var event; // Event and CustomEvent on IE9-11 are global objects, not constructors\n\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, {\n        detail: data,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n\n    return element.dispatchEvent(event);\n  }\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  var location = WINDOW.location;\n  var REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n  /**\n   * Check if the given URL is a cross origin URL.\n   * @param {string} url - The target URL.\n   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n   */\n\n  function isCrossOriginURL(url) {\n    var parts = url.match(REGEXP_ORIGINS);\n    return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n  }\n  /**\n   * Add timestamp to the given URL.\n   * @param {string} url - The target URL.\n   * @returns {string} The result URL.\n   */\n\n  function addTimestamp(url) {\n    var timestamp = \"timestamp=\".concat(new Date().getTime());\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n  }\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n        scaleX = _ref.scaleX,\n        scaleY = _ref.scaleY,\n        translateX = _ref.translateX,\n        translateY = _ref.translateY;\n    var values = [];\n\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    } // Rotate should come first before scale to match orientation transform\n\n\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n\n    var ratios = [];\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        ratios.push(ratio);\n      });\n    });\n    ratios.sort(function (a, b) {\n      return Math.abs(a) < Math.abs(b);\n    });\n    return ratios[0];\n  }\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n        pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n          startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n  /**\n   * Get the max sizes in a rectangle under the given aspect ratio.\n   * @param {Object} data - The original sizes.\n   * @param {string} [type='contain'] - The adjust type.\n   * @returns {Object} The result sizes.\n   */\n\n  function getAdjustedSizes(_ref4) // or 'cover'\n  {\n    var aspectRatio = _ref4.aspectRatio,\n        height = _ref4.height,\n        width = _ref4.width;\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n    var isValidWidth = isPositiveNumber(width);\n    var isValidHeight = isPositiveNumber(height);\n\n    if (isValidWidth && isValidHeight) {\n      var adjustedWidth = height * aspectRatio;\n\n      if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n        height = width / aspectRatio;\n      } else {\n        width = height * aspectRatio;\n      }\n    } else if (isValidWidth) {\n      height = width / aspectRatio;\n    } else if (isValidHeight) {\n      width = height * aspectRatio;\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n  /**\n   * Get the new sizes of a rectangle after rotated.\n   * @param {Object} data - The original sizes.\n   * @returns {Object} The result sizes.\n   */\n\n  function getRotatedSizes(_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height,\n        degree = _ref5.degree;\n    degree = Math.abs(degree) % 180;\n\n    if (degree === 90) {\n      return {\n        width: height,\n        height: width\n      };\n    }\n\n    var arc = degree % 90 * Math.PI / 180;\n    var sinArc = Math.sin(arc);\n    var cosArc = Math.cos(arc);\n    var newWidth = width * cosArc + height * sinArc;\n    var newHeight = width * sinArc + height * cosArc;\n    return degree > 90 ? {\n      width: newHeight,\n      height: newWidth\n    } : {\n      width: newWidth,\n      height: newHeight\n    };\n  }\n  /**\n   * Get a canvas which drew the given image.\n   * @param {HTMLImageElement} image - The image for drawing.\n   * @param {Object} imageData - The image data.\n   * @param {Object} canvasData - The canvas data.\n   * @param {Object} options - The options.\n   * @returns {HTMLCanvasElement} The result canvas.\n   */\n\n  function getSourceCanvas(image, _ref6, _ref7, _ref8) {\n    var imageAspectRatio = _ref6.aspectRatio,\n        imageNaturalWidth = _ref6.naturalWidth,\n        imageNaturalHeight = _ref6.naturalHeight,\n        _ref6$rotate = _ref6.rotate,\n        rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n        _ref6$scaleX = _ref6.scaleX,\n        scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n        _ref6$scaleY = _ref6.scaleY,\n        scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n    var aspectRatio = _ref7.aspectRatio,\n        naturalWidth = _ref7.naturalWidth,\n        naturalHeight = _ref7.naturalHeight;\n    var _ref8$fillColor = _ref8.fillColor,\n        fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n        _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n        imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n        _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n        imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n        _ref8$maxWidth = _ref8.maxWidth,\n        maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n        _ref8$maxHeight = _ref8.maxHeight,\n        maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n        _ref8$minWidth = _ref8.minWidth,\n        minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n        _ref8$minHeight = _ref8.minHeight,\n        minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n    var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight)); // Note: should always use image's natural sizes for drawing as\n    // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n\n    var destMaxSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var destMinSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n    var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n    var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = fillColor;\n    context.fillRect(0, 0, width, height);\n    context.save();\n    context.translate(width / 2, height / 2);\n    context.rotate(rotate * Math.PI / 180);\n    context.scale(scaleX, scaleY);\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n    context.imageSmoothingQuality = imageSmoothingQuality;\n    context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    context.restore();\n    return canvas;\n  }\n  var fromCharCode = String.fromCharCode;\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    length += start;\n\n    for (var i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n\n    return str;\n  }\n  var REGEXP_DATA_URL_HEAD = /^data:.*,/;\n  /**\n   * Transform Data URL to array buffer.\n   * @param {string} dataURL - The Data URL to transform.\n   * @returns {ArrayBuffer} The result array buffer.\n   */\n\n  function dataURLToArrayBuffer(dataURL) {\n    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n    var binary = atob(base64);\n    var arrayBuffer = new ArrayBuffer(binary.length);\n    var uint8 = new Uint8Array(arrayBuffer);\n    forEach(uint8, function (value, i) {\n      uint8[i] = binary.charCodeAt(i);\n    });\n    return arrayBuffer;\n  }\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = []; // Chunk Typed Array for better performance (#435)\n\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation; // Ignores range error when the image does not have correct Exif information\n\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart; // Only handle JPEG image (start by 0xFFD8)\n\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n\n          offset += 1;\n        }\n      }\n\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n\n          if (littleEndian || endianness === 0x4D4D\n          /* bigEndian */\n          ) {\n              if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n                var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n                if (firstIFDOffset >= 0x00000008) {\n                  ifdStart = tiffOffset + firstIFDOffset;\n                }\n              }\n            }\n        }\n      }\n\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n\n        var _offset;\n\n        var i;\n\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112\n          /* Orientation */\n          ) {\n              // 8 is the offset of the current tag's value\n              _offset += 8; // Get the original orientation value\n\n              orientation = dataView.getUint16(_offset, littleEndian); // Override the orientation with its default value\n\n              dataView.setUint16(_offset, 1, littleEndian);\n              break;\n            }\n        }\n      }\n    } catch (error) {\n      orientation = 1;\n    }\n\n    return orientation;\n  }\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n      // Rotate left 180\u00B0\n\n      case 3:\n        rotate = -180;\n        break;\n      // Flip vertical\n\n      case 4:\n        scaleY = -1;\n        break;\n      // Flip vertical and rotate right 90\u00B0\n\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n      // Rotate right 90\u00B0\n\n      case 6:\n        rotate = 90;\n        break;\n      // Flip horizontal and rotate right 90\u00B0\n\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n      // Rotate left 90\u00B0\n\n      case 8:\n        rotate = -90;\n        break;\n    }\n\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initCanvas();\n      this.initCropBox();\n      this.renderCanvas();\n\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    },\n    initContainer: function initContainer() {\n      var element = this.element,\n          options = this.options,\n          container = this.container,\n          cropper = this.cropper;\n      addClass(cropper, CLASS_HIDDEN);\n      removeClass(element, CLASS_HIDDEN);\n      var containerData = {\n        width: Math.max(container.offsetWidth, Number(options.minContainerWidth) || 200),\n        height: Math.max(container.offsetHeight, Number(options.minContainerHeight) || 100)\n      };\n      this.containerData = containerData;\n      setStyle(cropper, {\n        width: containerData.width,\n        height: containerData.height\n      });\n      addClass(element, CLASS_HIDDEN);\n      removeClass(cropper, CLASS_HIDDEN);\n    },\n    // Canvas (image wrapper)\n    initCanvas: function initCanvas() {\n      var containerData = this.containerData,\n          imageData = this.imageData;\n      var viewMode = this.options.viewMode;\n      var rotated = Math.abs(imageData.rotate) % 180 === 90;\n      var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n      var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var canvasWidth = containerData.width;\n      var canvasHeight = containerData.height;\n\n      if (containerData.height * aspectRatio > containerData.width) {\n        if (viewMode === 3) {\n          canvasWidth = containerData.height * aspectRatio;\n        } else {\n          canvasHeight = containerData.width / aspectRatio;\n        }\n      } else if (viewMode === 3) {\n        canvasHeight = containerData.width / aspectRatio;\n      } else {\n        canvasWidth = containerData.height * aspectRatio;\n      }\n\n      var canvasData = {\n        aspectRatio: aspectRatio,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        width: canvasWidth,\n        height: canvasHeight\n      };\n      canvasData.left = (containerData.width - canvasWidth) / 2;\n      canvasData.top = (containerData.height - canvasHeight) / 2;\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      this.canvasData = canvasData;\n      this.limited = viewMode === 1 || viewMode === 2;\n      this.limitCanvas(true, true);\n      this.initialImageData = assign({}, imageData);\n      this.initialCanvasData = assign({}, canvasData);\n    },\n    limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var viewMode = options.viewMode;\n      var aspectRatio = canvasData.aspectRatio;\n      var cropped = this.cropped && cropBoxData;\n\n      if (sizeLimited) {\n        var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n        var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n\n        if (viewMode > 1) {\n          minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n          minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n\n          if (viewMode === 3) {\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        } else if (viewMode > 0) {\n          if (minCanvasWidth) {\n            minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n          } else if (minCanvasHeight) {\n            minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n          } else if (cropped) {\n            minCanvasWidth = cropBoxData.width;\n            minCanvasHeight = cropBoxData.height;\n\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        }\n\n        var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: minCanvasWidth,\n          height: minCanvasHeight\n        });\n\n        minCanvasWidth = _getAdjustedSizes.width;\n        minCanvasHeight = _getAdjustedSizes.height;\n        canvasData.minWidth = minCanvasWidth;\n        canvasData.minHeight = minCanvasHeight;\n        canvasData.maxWidth = Infinity;\n        canvasData.maxHeight = Infinity;\n      }\n\n      if (positionLimited) {\n        if (viewMode > (cropped ? 0 : 1)) {\n          var newCanvasLeft = containerData.width - canvasData.width;\n          var newCanvasTop = containerData.height - canvasData.height;\n          canvasData.minLeft = Math.min(0, newCanvasLeft);\n          canvasData.minTop = Math.min(0, newCanvasTop);\n          canvasData.maxLeft = Math.max(0, newCanvasLeft);\n          canvasData.maxTop = Math.max(0, newCanvasTop);\n\n          if (cropped && this.limited) {\n            canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n            canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n            canvasData.maxLeft = cropBoxData.left;\n            canvasData.maxTop = cropBoxData.top;\n\n            if (viewMode === 2) {\n              if (canvasData.width >= containerData.width) {\n                canvasData.minLeft = Math.min(0, newCanvasLeft);\n                canvasData.maxLeft = Math.max(0, newCanvasLeft);\n              }\n\n              if (canvasData.height >= containerData.height) {\n                canvasData.minTop = Math.min(0, newCanvasTop);\n                canvasData.maxTop = Math.max(0, newCanvasTop);\n              }\n            }\n          }\n        } else {\n          canvasData.minLeft = -canvasData.width;\n          canvasData.minTop = -canvasData.height;\n          canvasData.maxLeft = containerData.width;\n          canvasData.maxTop = containerData.height;\n        }\n      }\n    },\n    renderCanvas: function renderCanvas(changed, transformed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n\n      if (transformed) {\n        var _getRotatedSizes = getRotatedSizes({\n          width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n          height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n          degree: imageData.rotate || 0\n        }),\n            naturalWidth = _getRotatedSizes.width,\n            naturalHeight = _getRotatedSizes.height;\n\n        var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n        var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n        canvasData.left -= (width - canvasData.width) / 2;\n        canvasData.top -= (height - canvasData.height) / 2;\n        canvasData.width = width;\n        canvasData.height = height;\n        canvasData.aspectRatio = naturalWidth / naturalHeight;\n        canvasData.naturalWidth = naturalWidth;\n        canvasData.naturalHeight = naturalHeight;\n        this.limitCanvas(true, false);\n      }\n\n      if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n        canvasData.left = canvasData.oldLeft;\n      }\n\n      if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n        canvasData.top = canvasData.oldTop;\n      }\n\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      this.limitCanvas(false, true);\n      canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n      canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      setStyle(this.canvas, assign({\n        width: canvasData.width,\n        height: canvasData.height\n      }, getTransforms({\n        translateX: canvasData.left,\n        translateY: canvasData.top\n      })));\n      this.renderImage(changed);\n\n      if (this.cropped && this.limited) {\n        this.limitCropBox(true, true);\n      }\n    },\n    renderImage: function renderImage(changed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n      var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n      var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n      assign(imageData, {\n        width: width,\n        height: height,\n        left: (canvasData.width - width) / 2,\n        top: (canvasData.height - height) / 2\n      });\n      setStyle(this.image, assign({\n        width: imageData.width,\n        height: imageData.height\n      }, getTransforms(assign({\n        translateX: imageData.left,\n        translateY: imageData.top\n      }, imageData))));\n\n      if (changed) {\n        this.output();\n      }\n    },\n    initCropBox: function initCropBox() {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n      var autoCropArea = Number(options.autoCropArea) || 0.8;\n      var cropBoxData = {\n        width: canvasData.width,\n        height: canvasData.height\n      };\n\n      if (aspectRatio) {\n        if (canvasData.height * aspectRatio > canvasData.width) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n\n      this.cropBoxData = cropBoxData;\n      this.limitCropBox(true, true); // Initialize auto crop area\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight); // The width/height of auto crop area must large than \"minWidth/Height\"\n\n      cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n      cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n      cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n      cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      this.initialCropBoxData = assign({}, cropBoxData);\n    },\n    limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData,\n          limited = this.limited;\n      var aspectRatio = options.aspectRatio;\n\n      if (sizeLimited) {\n        var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n        var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n        var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n        var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height; // The min/maxCropBoxWidth/Height must be less than container's width/height\n\n        minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n        minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n\n        if (aspectRatio) {\n          if (minCropBoxWidth && minCropBoxHeight) {\n            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n              minCropBoxHeight = minCropBoxWidth / aspectRatio;\n            } else {\n              minCropBoxWidth = minCropBoxHeight * aspectRatio;\n            }\n          } else if (minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else if (minCropBoxHeight) {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n\n          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n          } else {\n            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n          }\n        } // The minWidth/Height must be less than maxWidth/Height\n\n\n        cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n        cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n        cropBoxData.maxWidth = maxCropBoxWidth;\n        cropBoxData.maxHeight = maxCropBoxHeight;\n      }\n\n      if (positionLimited) {\n        if (limited) {\n          cropBoxData.minLeft = Math.max(0, canvasData.left);\n          cropBoxData.minTop = Math.max(0, canvasData.top);\n          cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n          cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n        } else {\n          cropBoxData.minLeft = 0;\n          cropBoxData.minTop = 0;\n          cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n          cropBoxData.maxTop = containerData.height - cropBoxData.height;\n        }\n      }\n    },\n    renderCropBox: function renderCropBox() {\n      var options = this.options,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData;\n\n      if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n        cropBoxData.left = cropBoxData.oldLeft;\n      }\n\n      if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n        cropBoxData.top = cropBoxData.oldTop;\n      }\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n      this.limitCropBox(false, true);\n      cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n      cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n\n      if (options.movable && options.cropBoxMovable) {\n        // Turn to move the canvas when the crop box is equal to the container\n        setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n      }\n\n      setStyle(this.cropBox, assign({\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      }, getTransforms({\n        translateX: cropBoxData.left,\n        translateY: cropBoxData.top\n      })));\n\n      if (this.cropped && this.limited) {\n        this.limitCanvas(true, true);\n      }\n\n      if (!this.disabled) {\n        this.output();\n      }\n    },\n    output: function output() {\n      this.preview();\n      dispatchEvent(this.element, EVENT_CROP, this.getData());\n    }\n  };\n\n  var preview = {\n    initPreview: function initPreview() {\n      var element = this.element,\n          crossOrigin = this.crossOrigin;\n      var preview = this.options.preview;\n      var url = crossOrigin ? this.crossOriginUrl : this.url;\n      var alt = element.alt || 'The image to preview';\n      var image = document.createElement('img');\n\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n\n      image.src = url;\n      image.alt = alt;\n      this.viewBox.appendChild(image);\n      this.viewBoxImage = image;\n\n      if (!preview) {\n        return;\n      }\n\n      var previews = preview;\n\n      if (typeof preview === 'string') {\n        previews = element.ownerDocument.querySelectorAll(preview);\n      } else if (preview.querySelector) {\n        previews = [preview];\n      }\n\n      this.previews = previews;\n      forEach(previews, function (el) {\n        var img = document.createElement('img'); // Save the original size for recover\n\n        setData(el, DATA_PREVIEW, {\n          width: el.offsetWidth,\n          height: el.offsetHeight,\n          html: el.innerHTML\n        });\n\n        if (crossOrigin) {\n          img.crossOrigin = crossOrigin;\n        }\n\n        img.src = url;\n        img.alt = alt;\n        /**\n         * Override img element styles\n         * Add `display:block` to avoid margin top issue\n         * Add `height:auto` to override `height` attribute on IE8\n         * (Occur only when margin-top <= -height)\n         */\n\n        img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n        el.innerHTML = '';\n        el.appendChild(img);\n      });\n    },\n    resetPreview: function resetPreview() {\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        setStyle(element, {\n          width: data.width,\n          height: data.height\n        });\n        element.innerHTML = data.html;\n        removeData(element, DATA_PREVIEW);\n      });\n    },\n    preview: function preview() {\n      var imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var cropBoxWidth = cropBoxData.width,\n          cropBoxHeight = cropBoxData.height;\n      var width = imageData.width,\n          height = imageData.height;\n      var left = cropBoxData.left - canvasData.left - imageData.left;\n      var top = cropBoxData.top - canvasData.top - imageData.top;\n\n      if (!this.cropped || this.disabled) {\n        return;\n      }\n\n      setStyle(this.viewBoxImage, assign({\n        width: width,\n        height: height\n      }, getTransforms(assign({\n        translateX: -left,\n        translateY: -top\n      }, imageData))));\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        var originalWidth = data.width;\n        var originalHeight = data.height;\n        var newWidth = originalWidth;\n        var newHeight = originalHeight;\n        var ratio = 1;\n\n        if (cropBoxWidth) {\n          ratio = originalWidth / cropBoxWidth;\n          newHeight = cropBoxHeight * ratio;\n        }\n\n        if (cropBoxHeight && newHeight > originalHeight) {\n          ratio = originalHeight / cropBoxHeight;\n          newWidth = cropBoxWidth * ratio;\n          newHeight = originalHeight;\n        }\n\n        setStyle(element, {\n          width: newWidth,\n          height: newHeight\n        });\n        setStyle(element.getElementsByTagName('img')[0], assign({\n          width: width * ratio,\n          height: height * ratio\n        }, getTransforms(assign({\n          translateX: -left * ratio,\n          translateY: -top * ratio\n        }, imageData))));\n      });\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        addListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        addListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        addListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        addListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        addListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n\n      addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n      addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n\n      if (options.responsive) {\n        addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        removeListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        removeListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        removeListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        removeListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n      }\n\n      removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n      removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n\n      if (options.responsive) {\n        removeListener(window, EVENT_RESIZE, this.onResize);\n      }\n    }\n  };\n\n  var handlers = {\n    resize: function resize() {\n      if (this.disabled) {\n        return;\n      }\n\n      var options = this.options,\n          container = this.container,\n          containerData = this.containerData;\n      var ratio = container.offsetWidth / containerData.width; // Resize when width changed or height changed\n\n      if (ratio !== 1 || container.offsetHeight !== containerData.height) {\n        var canvasData;\n        var cropBoxData;\n\n        if (options.restore) {\n          canvasData = this.getCanvasData();\n          cropBoxData = this.getCropBoxData();\n        }\n\n        this.render();\n\n        if (options.restore) {\n          this.setCanvasData(forEach(canvasData, function (n, i) {\n            canvasData[i] = n * ratio;\n          }));\n          this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n            cropBoxData[i] = n * ratio;\n          }));\n        }\n      }\n    },\n    dblclick: function dblclick() {\n      if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n        return;\n      }\n\n      this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n    },\n    wheel: function wheel(event) {\n      var _this = this;\n\n      var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n      var delta = 1;\n\n      if (this.disabled) {\n        return;\n      }\n\n      event.preventDefault(); // Limit wheel speed to prevent zoom too fast (#21)\n\n      if (this.wheeling) {\n        return;\n      }\n\n      this.wheeling = true;\n      setTimeout(function () {\n        _this.wheeling = false;\n      }, 50);\n\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n\n      this.zoom(-delta * ratio, event);\n    },\n    cropStart: function cropStart(event) {\n      var buttons = event.buttons,\n          button = event.button;\n\n      if (this.disabled // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && ( // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0 // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n\n      var options = this.options,\n          pointers = this.pointers;\n      var action;\n\n      if (event.changedTouches) {\n        // Handle touch event\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        // Handle mouse event and pointer event\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n\n      if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n        action = ACTION_ZOOM;\n      } else {\n        action = getData(event.target, DATA_ACTION);\n      }\n\n      if (!REGEXP_ACTIONS.test(action)) {\n        return;\n      }\n\n      if (dispatchEvent(this.element, EVENT_CROP_START, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      } // This line is required for preventing page zooming in iOS browsers\n\n\n      event.preventDefault();\n      this.action = action;\n      this.cropping = false;\n\n      if (action === ACTION_CROP) {\n        this.cropping = true;\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n    },\n    cropMove: function cropMove(event) {\n      var action = this.action;\n\n      if (this.disabled || !action) {\n        return;\n      }\n\n      var pointers = this.pointers;\n      event.preventDefault();\n\n      if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          // The first parameter should not be undefined (#432)\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n\n      this.change(event);\n    },\n    cropEnd: function cropEnd(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      var action = this.action,\n          pointers = this.pointers;\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          delete pointers[touch.identifier];\n        });\n      } else {\n        delete pointers[event.pointerId || 0];\n      }\n\n      if (!action) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (!Object.keys(pointers).length) {\n        this.action = '';\n      }\n\n      if (this.cropping) {\n        this.cropping = false;\n        toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n      }\n\n      dispatchEvent(this.element, EVENT_CROP_END, {\n        originalEvent: event,\n        action: action\n      });\n    }\n  };\n\n  var change = {\n    change: function change(event) {\n      var options = this.options,\n          canvasData = this.canvasData,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData,\n          pointers = this.pointers;\n      var action = this.action;\n      var aspectRatio = options.aspectRatio;\n      var left = cropBoxData.left,\n          top = cropBoxData.top,\n          width = cropBoxData.width,\n          height = cropBoxData.height;\n      var right = left + width;\n      var bottom = top + height;\n      var minLeft = 0;\n      var minTop = 0;\n      var maxWidth = containerData.width;\n      var maxHeight = containerData.height;\n      var renderable = true;\n      var offset; // Locking aspect ratio in \"free mode\" by holding shift key\n\n      if (!aspectRatio && event.shiftKey) {\n        aspectRatio = width && height ? width / height : 1;\n      }\n\n      if (this.limited) {\n        minLeft = cropBoxData.minLeft;\n        minTop = cropBoxData.minTop;\n        maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n        maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n      }\n\n      var pointer = pointers[Object.keys(pointers)[0]];\n      var range = {\n        x: pointer.endX - pointer.startX,\n        y: pointer.endY - pointer.startY\n      };\n\n      var check = function check(side) {\n        switch (side) {\n          case ACTION_EAST:\n            if (right + range.x > maxWidth) {\n              range.x = maxWidth - right;\n            }\n\n            break;\n\n          case ACTION_WEST:\n            if (left + range.x < minLeft) {\n              range.x = minLeft - left;\n            }\n\n            break;\n\n          case ACTION_NORTH:\n            if (top + range.y < minTop) {\n              range.y = minTop - top;\n            }\n\n            break;\n\n          case ACTION_SOUTH:\n            if (bottom + range.y > maxHeight) {\n              range.y = maxHeight - bottom;\n            }\n\n            break;\n        }\n      };\n\n      switch (action) {\n        // Move crop box\n        case ACTION_ALL:\n          left += range.x;\n          top += range.y;\n          break;\n        // Resize crop box\n\n        case ACTION_EAST:\n          if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_EAST);\n          width += range.x;\n\n          if (width < 0) {\n            action = ACTION_WEST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n\n          if (height < 0) {\n            action = ACTION_SOUTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n\n          if (width < 0) {\n            action = ACTION_EAST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_SOUTH);\n          height += range.y;\n\n          if (height < 0) {\n            action = ACTION_NORTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH_EAST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_NORTH_WEST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n            left += cropBoxData.width - width;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_WEST:\n          if (aspectRatio) {\n            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_WEST);\n            width -= range.x;\n            left += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_EAST:\n          if (aspectRatio) {\n            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_EAST);\n            width += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n        // Move canvas\n\n        case ACTION_MOVE:\n          this.move(range.x, range.y);\n          renderable = false;\n          break;\n        // Zoom canvas\n\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), event);\n          renderable = false;\n          break;\n        // Create crop box\n\n        case ACTION_CROP:\n          if (!range.x || !range.y) {\n            renderable = false;\n            break;\n          }\n\n          offset = getOffset(this.cropper);\n          left = pointer.startX - offset.left;\n          top = pointer.startY - offset.top;\n          width = cropBoxData.minWidth;\n          height = cropBoxData.minHeight;\n\n          if (range.x > 0) {\n            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n          } else if (range.x < 0) {\n            left -= width;\n            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n          }\n\n          if (range.y < 0) {\n            top -= height;\n          } // Show the crop box if is hidden\n\n\n          if (!this.cropped) {\n            removeClass(this.cropBox, CLASS_HIDDEN);\n            this.cropped = true;\n\n            if (this.limited) {\n              this.limitCropBox(true, true);\n            }\n          }\n\n          break;\n      }\n\n      if (renderable) {\n        cropBoxData.width = width;\n        cropBoxData.height = height;\n        cropBoxData.left = left;\n        cropBoxData.top = top;\n        this.action = action;\n        this.renderCropBox();\n      } // Override\n\n\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    }\n  };\n\n  var methods = {\n    // Show the crop box manually\n    crop: function crop() {\n      if (this.ready && !this.cropped && !this.disabled) {\n        this.cropped = true;\n        this.limitCropBox(true, true);\n\n        if (this.options.modal) {\n          addClass(this.dragBox, CLASS_MODAL);\n        }\n\n        removeClass(this.cropBox, CLASS_HIDDEN);\n        this.setCropBoxData(this.initialCropBoxData);\n      }\n\n      return this;\n    },\n    // Reset the image and crop box to their initial states\n    reset: function reset() {\n      if (this.ready && !this.disabled) {\n        this.imageData = assign({}, this.initialImageData);\n        this.canvasData = assign({}, this.initialCanvasData);\n        this.cropBoxData = assign({}, this.initialCropBoxData);\n        this.renderCanvas();\n\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n\n      return this;\n    },\n    // Clear the crop box\n    clear: function clear() {\n      if (this.cropped && !this.disabled) {\n        assign(this.cropBoxData, {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0\n        });\n        this.cropped = false;\n        this.renderCropBox();\n        this.limitCanvas(true, true); // Render canvas after crop box rendered\n\n        this.renderCanvas();\n        removeClass(this.dragBox, CLASS_MODAL);\n        addClass(this.cropBox, CLASS_HIDDEN);\n      }\n\n      return this;\n    },\n\n    /**\n     * Replace the image's src and rebuild the cropper\n     * @param {string} url - The new URL.\n     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n     * @returns {Cropper} this\n     */\n    replace: function replace(url) {\n      var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!this.disabled && url) {\n        if (this.isImg) {\n          this.element.src = url;\n        }\n\n        if (hasSameSize) {\n          this.url = url;\n          this.image.src = url;\n\n          if (this.ready) {\n            this.viewBoxImage.src = url;\n            forEach(this.previews, function (element) {\n              element.getElementsByTagName('img')[0].src = url;\n            });\n          }\n        } else {\n          if (this.isImg) {\n            this.replaced = true;\n          }\n\n          this.options.data = null;\n          this.uncreate();\n          this.load(url);\n        }\n      }\n\n      return this;\n    },\n    // Enable (unfreeze) the cropper\n    enable: function enable() {\n      if (this.ready && this.disabled) {\n        this.disabled = false;\n        removeClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n    // Disable (freeze) the cropper\n    disable: function disable() {\n      if (this.ready && !this.disabled) {\n        this.disabled = true;\n        addClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n\n    /**\n     * Destroy the cropper and remove the instance from the image\n     * @returns {Cropper} this\n     */\n    destroy: function destroy() {\n      var element = this.element;\n\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n\n      element[NAMESPACE] = undefined;\n\n      if (this.isImg && this.replaced) {\n        element.src = this.originalUrl;\n      }\n\n      this.uncreate();\n      return this;\n    },\n\n    /**\n     * Move the canvas with relative offsets\n     * @param {number} offsetX - The relative offset distance on the x-axis.\n     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n     * @returns {Cropper} this\n     */\n    move: function move(offsetX) {\n      var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n      var _this$canvasData = this.canvasData,\n          left = _this$canvasData.left,\n          top = _this$canvasData.top;\n      return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n    },\n\n    /**\n     * Move the canvas to an absolute point\n     * @param {number} x - The x-axis coordinate.\n     * @param {number} [y=x] - The y-axis coordinate.\n     * @returns {Cropper} this\n     */\n    moveTo: function moveTo(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var canvasData = this.canvasData;\n      var changed = false;\n      x = Number(x);\n      y = Number(y);\n\n      if (this.ready && !this.disabled && this.options.movable) {\n        if (isNumber(x)) {\n          canvasData.left = x;\n          changed = true;\n        }\n\n        if (isNumber(y)) {\n          canvasData.top = y;\n          changed = true;\n        }\n\n        if (changed) {\n          this.renderCanvas(true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Zoom the canvas with a relative ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoom: function zoom(ratio, _originalEvent) {\n      var canvasData = this.canvasData;\n      ratio = Number(ratio);\n\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n\n      return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n    },\n\n    /**\n     * Zoom the canvas to an absolute ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Object} pivot - The zoom pivot point coordinate.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var width = canvasData.width,\n          height = canvasData.height,\n          naturalWidth = canvasData.naturalWidth,\n          naturalHeight = canvasData.naturalHeight;\n      ratio = Number(ratio);\n\n      if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n\n        if (dispatchEvent(this.element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: width / naturalWidth,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n\n        if (_originalEvent) {\n          var pointers = this.pointers;\n          var offset = getOffset(this.cropper);\n          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          }; // Zoom from the triggering point of the event\n\n          canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n        } else {\n          // Zoom from the center of the canvas\n          canvasData.left -= (newWidth - width) / 2;\n          canvasData.top -= (newHeight - height) / 2;\n        }\n\n        canvasData.width = newWidth;\n        canvasData.height = newHeight;\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Rotate the canvas with a relative degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotate: function rotate(degree) {\n      return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n    },\n\n    /**\n     * Rotate the canvas to an absolute degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotateTo: function rotateTo(degree) {\n      degree = Number(degree);\n\n      if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n        this.imageData.rotate = degree % 360;\n        this.renderCanvas(true, true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Cropper} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      var scaleY = this.imageData.scaleY;\n      return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n    },\n\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      var scaleX = this.imageData.scaleX;\n      return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n    },\n\n    /**\n     * Scale the image\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scale: function scale(scaleX) {\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var imageData = this.imageData;\n      var transformed = false;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n\n      if (this.ready && !this.disabled && this.options.scalable) {\n        if (isNumber(scaleX)) {\n          imageData.scaleX = scaleX;\n          transformed = true;\n        }\n\n        if (isNumber(scaleY)) {\n          imageData.scaleY = scaleY;\n          transformed = true;\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the cropped area position and size data (base on the original image)\n     * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n     * @returns {Object} The result cropped data.\n     */\n    getData: function getData() {\n      var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          x: cropBoxData.left - canvasData.left,\n          y: cropBoxData.top - canvasData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n        var ratio = imageData.width / imageData.naturalWidth;\n        forEach(data, function (n, i) {\n          data[i] = n / ratio;\n        });\n\n        if (rounded) {\n          // In case rounding off leads to extra 1px in right or bottom border\n          // we should round the top-left corner and the dimension (#343).\n          var bottom = Math.round(data.y + data.height);\n          var right = Math.round(data.x + data.width);\n          data.x = Math.round(data.x);\n          data.y = Math.round(data.y);\n          data.width = right - data.x;\n          data.height = bottom - data.y;\n        }\n      } else {\n        data = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      if (options.rotatable) {\n        data.rotate = imageData.rotate || 0;\n      }\n\n      if (options.scalable) {\n        data.scaleX = imageData.scaleX || 1;\n        data.scaleY = imageData.scaleY || 1;\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the cropped area position and size with new data\n     * @param {Object} data - The new data.\n     * @returns {Cropper} this\n     */\n    setData: function setData(data) {\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData;\n      var cropBoxData = {};\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        var transformed = false;\n\n        if (options.rotatable) {\n          if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n            imageData.rotate = data.rotate;\n            transformed = true;\n          }\n        }\n\n        if (options.scalable) {\n          if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n            imageData.scaleX = data.scaleX;\n            transformed = true;\n          }\n\n          if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n            imageData.scaleY = data.scaleY;\n            transformed = true;\n          }\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n\n        var ratio = imageData.width / imageData.naturalWidth;\n\n        if (isNumber(data.x)) {\n          cropBoxData.left = data.x * ratio + canvasData.left;\n        }\n\n        if (isNumber(data.y)) {\n          cropBoxData.top = data.y * ratio + canvasData.top;\n        }\n\n        if (isNumber(data.width)) {\n          cropBoxData.width = data.width * ratio;\n        }\n\n        if (isNumber(data.height)) {\n          cropBoxData.height = data.height * ratio;\n        }\n\n        this.setCropBoxData(cropBoxData);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the container size data.\n     * @returns {Object} The result container data.\n     */\n    getContainerData: function getContainerData() {\n      return this.ready ? assign({}, this.containerData) : {};\n    },\n\n    /**\n     * Get the image position and size data.\n     * @returns {Object} The result image data.\n     */\n    getImageData: function getImageData() {\n      return this.sized ? assign({}, this.imageData) : {};\n    },\n\n    /**\n     * Get the canvas position and size data.\n     * @returns {Object} The result canvas data.\n     */\n    getCanvasData: function getCanvasData() {\n      var canvasData = this.canvasData;\n      var data = {};\n\n      if (this.ready) {\n        forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n          data[n] = canvasData[n];\n        });\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the canvas position and size with new data.\n     * @param {Object} data - The new canvas data.\n     * @returns {Cropper} this\n     */\n    setCanvasData: function setCanvasData(data) {\n      var canvasData = this.canvasData;\n      var aspectRatio = canvasData.aspectRatio;\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          canvasData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          canvasData.top = data.top;\n        }\n\n        if (isNumber(data.width)) {\n          canvasData.width = data.width;\n          canvasData.height = data.width / aspectRatio;\n        } else if (isNumber(data.height)) {\n          canvasData.height = data.height;\n          canvasData.width = data.height * aspectRatio;\n        }\n\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the crop box position and size data.\n     * @returns {Object} The result crop box data.\n     */\n    getCropBoxData: function getCropBoxData() {\n      var cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          left: cropBoxData.left,\n          top: cropBoxData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n      }\n\n      return data || {};\n    },\n\n    /**\n     * Set the crop box position and size with new data.\n     * @param {Object} data - The new crop box data.\n     * @returns {Cropper} this\n     */\n    setCropBoxData: function setCropBoxData(data) {\n      var cropBoxData = this.cropBoxData;\n      var aspectRatio = this.options.aspectRatio;\n      var widthChanged;\n      var heightChanged;\n\n      if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          cropBoxData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          cropBoxData.top = data.top;\n        }\n\n        if (isNumber(data.width) && data.width !== cropBoxData.width) {\n          widthChanged = true;\n          cropBoxData.width = data.width;\n        }\n\n        if (isNumber(data.height) && data.height !== cropBoxData.height) {\n          heightChanged = true;\n          cropBoxData.height = data.height;\n        }\n\n        if (aspectRatio) {\n          if (widthChanged) {\n            cropBoxData.height = cropBoxData.width / aspectRatio;\n          } else if (heightChanged) {\n            cropBoxData.width = cropBoxData.height * aspectRatio;\n          }\n        }\n\n        this.renderCropBox();\n      }\n\n      return this;\n    },\n\n    /**\n     * Get a canvas drawn the cropped image.\n     * @param {Object} [options={}] - The config options.\n     * @returns {HTMLCanvasElement} - The result canvas.\n     */\n    getCroppedCanvas: function getCroppedCanvas() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this.ready || !window.HTMLCanvasElement) {\n        return null;\n      }\n\n      var canvasData = this.canvasData;\n      var source = getSourceCanvas(this.image, this.imageData, canvasData, options); // Returns the source canvas if it is not cropped.\n\n      if (!this.cropped) {\n        return source;\n      }\n\n      var _this$getData = this.getData(),\n          initialX = _this$getData.x,\n          initialY = _this$getData.y,\n          initialWidth = _this$getData.width,\n          initialHeight = _this$getData.height;\n\n      var ratio = source.width / Math.floor(canvasData.naturalWidth);\n\n      if (ratio !== 1) {\n        initialX *= ratio;\n        initialY *= ratio;\n        initialWidth *= ratio;\n        initialHeight *= ratio;\n      }\n\n      var aspectRatio = initialWidth / initialHeight;\n      var maxSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.maxWidth || Infinity,\n        height: options.maxHeight || Infinity\n      });\n      var minSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.minWidth || 0,\n        height: options.minHeight || 0\n      }, 'cover');\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.width || (ratio !== 1 ? source.width : initialWidth),\n        height: options.height || (ratio !== 1 ? source.height : initialHeight)\n      }),\n          width = _getAdjustedSizes.width,\n          height = _getAdjustedSizes.height;\n\n      width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n      height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = normalizeDecimalNumber(width);\n      canvas.height = normalizeDecimalNumber(height);\n      context.fillStyle = options.fillColor || 'transparent';\n      context.fillRect(0, 0, width, height);\n      var _options$imageSmoothi = options.imageSmoothingEnabled,\n          imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n          imageSmoothingQuality = options.imageSmoothingQuality;\n      context.imageSmoothingEnabled = imageSmoothingEnabled;\n\n      if (imageSmoothingQuality) {\n        context.imageSmoothingQuality = imageSmoothingQuality;\n      } // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n\n\n      var sourceWidth = source.width;\n      var sourceHeight = source.height; // Source canvas parameters\n\n      var srcX = initialX;\n      var srcY = initialY;\n      var srcWidth;\n      var srcHeight; // Destination canvas parameters\n\n      var dstX;\n      var dstY;\n      var dstWidth;\n      var dstHeight;\n\n      if (srcX <= -initialWidth || srcX > sourceWidth) {\n        srcX = 0;\n        srcWidth = 0;\n        dstX = 0;\n        dstWidth = 0;\n      } else if (srcX <= 0) {\n        dstX = -srcX;\n        srcX = 0;\n        srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n        dstWidth = srcWidth;\n      } else if (srcX <= sourceWidth) {\n        dstX = 0;\n        srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n        dstWidth = srcWidth;\n      }\n\n      if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n        srcY = 0;\n        srcHeight = 0;\n        dstY = 0;\n        dstHeight = 0;\n      } else if (srcY <= 0) {\n        dstY = -srcY;\n        srcY = 0;\n        srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n        dstHeight = srcHeight;\n      } else if (srcY <= sourceHeight) {\n        dstY = 0;\n        srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n        dstHeight = srcHeight;\n      }\n\n      var params = [srcX, srcY, srcWidth, srcHeight]; // Avoid \"IndexSizeError\"\n\n      if (dstWidth > 0 && dstHeight > 0) {\n        var scale = width / initialWidth;\n        params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n      } // All the numerical parameters should be integer for `drawImage`\n      // https://github.com/fengyuanchen/cropper/issues/476\n\n\n      context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n        return Math.floor(normalizeDecimalNumber(param));\n      }))));\n      return canvas;\n    },\n\n    /**\n     * Change the aspect ratio of the crop box.\n     * @param {number} aspectRatio - The new aspect ratio.\n     * @returns {Cropper} this\n     */\n    setAspectRatio: function setAspectRatio(aspectRatio) {\n      var options = this.options;\n\n      if (!this.disabled && !isUndefined(aspectRatio)) {\n        // 0 -> NaN\n        options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n\n        if (this.ready) {\n          this.initCropBox();\n\n          if (this.cropped) {\n            this.renderCropBox();\n          }\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Change the drag mode.\n     * @param {string} mode - The new drag mode.\n     * @returns {Cropper} this\n     */\n    setDragMode: function setDragMode(mode) {\n      var options = this.options,\n          dragBox = this.dragBox,\n          face = this.face;\n\n      if (this.ready && !this.disabled) {\n        var croppable = mode === DRAG_MODE_CROP;\n        var movable = options.movable && mode === DRAG_MODE_MOVE;\n        mode = croppable || movable ? mode : DRAG_MODE_NONE;\n        options.dragMode = mode;\n        setData(dragBox, DATA_ACTION, mode);\n        toggleClass(dragBox, CLASS_CROP, croppable);\n        toggleClass(dragBox, CLASS_MOVE, movable);\n\n        if (!options.cropBoxMovable) {\n          // Sync drag mode to crop box when it is not movable\n          setData(face, DATA_ACTION, mode);\n          toggleClass(face, CLASS_CROP, croppable);\n          toggleClass(face, CLASS_MOVE, movable);\n        }\n      }\n\n      return this;\n    }\n  };\n\n  var AnotherCropper = WINDOW.Cropper;\n\n  var Cropper = /*#__PURE__*/function () {\n    /**\n     * Create a new Cropper.\n     * @param {Element} element - The target element for cropping.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Cropper(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Cropper);\n\n      if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n        throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n      }\n\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.cropped = false;\n      this.disabled = false;\n      this.pointers = {};\n      this.ready = false;\n      this.reloading = false;\n      this.replaced = false;\n      this.sized = false;\n      this.sizing = false;\n      this.init();\n    }\n\n    _createClass(Cropper, [{\n      key: \"init\",\n      value: function init() {\n        var element = this.element;\n        var tagName = element.tagName.toLowerCase();\n        var url;\n\n        if (element[NAMESPACE]) {\n          return;\n        }\n\n        element[NAMESPACE] = this;\n\n        if (tagName === 'img') {\n          this.isImg = true; // e.g.: \"img/picture.jpg\"\n\n          url = element.getAttribute('src') || '';\n          this.originalUrl = url; // Stop when it's a blank image\n\n          if (!url) {\n            return;\n          } // e.g.: \"https://example.com/img/picture.jpg\"\n\n\n          url = element.src;\n        } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n          url = element.toDataURL();\n        }\n\n        this.load(url);\n      }\n    }, {\n      key: \"load\",\n      value: function load(url) {\n        var _this = this;\n\n        if (!url) {\n          return;\n        }\n\n        this.url = url;\n        this.imageData = {};\n        var element = this.element,\n            options = this.options;\n\n        if (!options.rotatable && !options.scalable) {\n          options.checkOrientation = false;\n        } // Only IE10+ supports Typed Arrays\n\n\n        if (!options.checkOrientation || !window.ArrayBuffer) {\n          this.clone();\n          return;\n        } // Detect the mime type of the image directly if it is a Data URL\n\n\n        if (REGEXP_DATA_URL.test(url)) {\n          // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n          if (REGEXP_DATA_URL_JPEG.test(url)) {\n            this.read(dataURLToArrayBuffer(url));\n          } else {\n            // Only a JPEG image may contains Exif Orientation information,\n            // the rest types of Data URLs are not necessary to check orientation at all.\n            this.clone();\n          }\n\n          return;\n        } // 1. Detect the mime type of the image by a XMLHttpRequest.\n        // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n\n\n        var xhr = new XMLHttpRequest();\n        var clone = this.clone.bind(this);\n        this.reloading = true;\n        this.xhr = xhr; // 1. Cross origin requests are only supported for protocol schemes:\n        // http, https, data, chrome, chrome-extension.\n        // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n        // in some browsers as IE11 and Safari.\n\n        xhr.onabort = clone;\n        xhr.onerror = clone;\n        xhr.ontimeout = clone;\n\n        xhr.onprogress = function () {\n          // Abort the request directly if it not a JPEG image for better performance\n          if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n            xhr.abort();\n          }\n        };\n\n        xhr.onload = function () {\n          _this.read(xhr.response);\n        };\n\n        xhr.onloadend = function () {\n          _this.reloading = false;\n          _this.xhr = null;\n        }; // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n\n\n        if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n          url = addTimestamp(url);\n        }\n\n        xhr.open('GET', url);\n        xhr.responseType = 'arraybuffer';\n        xhr.withCredentials = element.crossOrigin === 'use-credentials';\n        xhr.send();\n      }\n    }, {\n      key: \"read\",\n      value: function read(arrayBuffer) {\n        var options = this.options,\n            imageData = this.imageData; // Reset the orientation value to its default value 1\n        // as some iOS browsers will render image with its orientation\n\n        var orientation = resetAndGetOrientation(arrayBuffer);\n        var rotate = 0;\n        var scaleX = 1;\n        var scaleY = 1;\n\n        if (orientation > 1) {\n          // Generate a new URL which has the default orientation value\n          this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n\n          var _parseOrientation = parseOrientation(orientation);\n\n          rotate = _parseOrientation.rotate;\n          scaleX = _parseOrientation.scaleX;\n          scaleY = _parseOrientation.scaleY;\n        }\n\n        if (options.rotatable) {\n          imageData.rotate = rotate;\n        }\n\n        if (options.scalable) {\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n        }\n\n        this.clone();\n      }\n    }, {\n      key: \"clone\",\n      value: function clone() {\n        var element = this.element,\n            url = this.url;\n        var crossOrigin = element.crossOrigin;\n        var crossOriginUrl = url;\n\n        if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n          if (!crossOrigin) {\n            crossOrigin = 'anonymous';\n          } // Bust cache when there is not a \"crossOrigin\" property (#519)\n\n\n          crossOriginUrl = addTimestamp(url);\n        }\n\n        this.crossOrigin = crossOrigin;\n        this.crossOriginUrl = crossOriginUrl;\n        var image = document.createElement('img');\n\n        if (crossOrigin) {\n          image.crossOrigin = crossOrigin;\n        }\n\n        image.src = crossOriginUrl || url;\n        image.alt = element.alt || 'The image to crop';\n        this.image = image;\n        image.onload = this.start.bind(this);\n        image.onerror = this.stop.bind(this);\n        addClass(image, CLASS_HIDE);\n        element.parentNode.insertBefore(image, element.nextSibling);\n      }\n    }, {\n      key: \"start\",\n      value: function start() {\n        var _this2 = this;\n\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        this.sizing = true; // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n\n        var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n\n        var done = function done(naturalWidth, naturalHeight) {\n          assign(_this2.imageData, {\n            naturalWidth: naturalWidth,\n            naturalHeight: naturalHeight,\n            aspectRatio: naturalWidth / naturalHeight\n          });\n          _this2.sizing = false;\n          _this2.sized = true;\n\n          _this2.build();\n        }; // Most modern browsers (excepts iOS WebKit)\n\n\n        if (image.naturalWidth && !isIOSWebKit) {\n          done(image.naturalWidth, image.naturalHeight);\n          return;\n        }\n\n        var sizingImage = document.createElement('img');\n        var body = document.body || document.documentElement;\n        this.sizingImage = sizingImage;\n\n        sizingImage.onload = function () {\n          done(sizingImage.width, sizingImage.height);\n\n          if (!isIOSWebKit) {\n            body.removeChild(sizingImage);\n          }\n        };\n\n        sizingImage.src = image.src; // iOS WebKit will convert the image automatically\n        // with its orientation once append it into DOM (#279)\n\n        if (!isIOSWebKit) {\n          sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n          body.appendChild(sizingImage);\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (!this.sized || this.ready) {\n          return;\n        }\n\n        var element = this.element,\n            options = this.options,\n            image = this.image; // Create cropper elements\n\n        var container = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n        var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n        var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n        this.container = container;\n        this.cropper = cropper;\n        this.canvas = canvas;\n        this.dragBox = dragBox;\n        this.cropBox = cropBox;\n        this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n        this.face = face;\n        canvas.appendChild(image); // Hide the original image\n\n        addClass(element, CLASS_HIDDEN); // Inserts the cropper after to the current image\n\n        container.insertBefore(cropper, element.nextSibling); // Show the image if is hidden\n\n        if (!this.isImg) {\n          removeClass(image, CLASS_HIDE);\n        }\n\n        this.initPreview();\n        this.bind();\n        options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n        options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n        options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n        addClass(cropBox, CLASS_HIDDEN);\n\n        if (!options.guides) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n        }\n\n        if (!options.center) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n        }\n\n        if (options.background) {\n          addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n        }\n\n        if (!options.highlight) {\n          addClass(face, CLASS_INVISIBLE);\n        }\n\n        if (options.cropBoxMovable) {\n          addClass(face, CLASS_MOVE);\n          setData(face, DATA_ACTION, ACTION_ALL);\n        }\n\n        if (!options.cropBoxResizable) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n        }\n\n        this.render();\n        this.ready = true;\n        this.setDragMode(options.dragMode);\n\n        if (options.autoCrop) {\n          this.crop();\n        }\n\n        this.setData(options.data);\n\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n\n        dispatchEvent(element, EVENT_READY);\n      }\n    }, {\n      key: \"unbuild\",\n      value: function unbuild() {\n        if (!this.ready) {\n          return;\n        }\n\n        this.ready = false;\n        this.unbind();\n        this.resetPreview();\n        this.cropper.parentNode.removeChild(this.cropper);\n        removeClass(this.element, CLASS_HIDDEN);\n      }\n    }, {\n      key: \"uncreate\",\n      value: function uncreate() {\n        if (this.ready) {\n          this.unbuild();\n          this.ready = false;\n          this.cropped = false;\n        } else if (this.sizing) {\n          this.sizingImage.onload = null;\n          this.sizing = false;\n          this.sized = false;\n        } else if (this.reloading) {\n          this.xhr.onabort = null;\n          this.xhr.abort();\n        } else if (this.image) {\n          this.stop();\n        }\n      }\n      /**\n       * Get the no conflict cropper class.\n       * @returns {Cropper} The cropper class.\n       */\n\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Cropper = AnotherCropper;\n        return Cropper;\n      }\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n\n    return Cropper;\n  }();\n\n  assign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\n  return Cropper;\n\n})));\n", "// @flow\nimport type { Window } from '../types';\ndeclare function getWindow(node: Node | Window): Window;\n\nexport default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    const ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}\n", "// @flow\nimport getWindow from './getWindow';\n\ndeclare function isElement(node: mixed): boolean %checks(node instanceof\n  Element);\nfunction isElement(node) {\n  const OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\ndeclare function isHTMLElement(node: mixed): boolean %checks(node instanceof\n  HTMLElement);\nfunction isHTMLElement(node) {\n  const OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\ndeclare function isShadowRoot(node: mixed): boolean %checks(node instanceof\n  ShadowRoot);\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  const OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };\n", "// @flow\nexport const max = Math.max;\nexport const min = Math.min;\nexport const round = Math.round;\n", "// @flow\ntype Navigator = Navigator & { userAgentData?: NavigatorUAData };\n\ninterface NavigatorUAData {\n  brands: Array<{ brand: string, version: string }>;\n  mobile: boolean;\n  platform: string;\n}\n\nexport default function getUAString(): string {\n  const uaData = (navigator: Navigator).userAgentData;\n\n  if (uaData?.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands\n      .map((item) => `${item.brand}/${item.version}`)\n      .join(' ');\n  }\n\n  return navigator.userAgent;\n}\n", "// @flow\nimport getUAString from '../utils/userAgent';\n\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}\n", "// @flow\nimport type { ClientRectObject, VirtualElement } from '../types';\nimport { isElement, isHTMLElement } from './instanceOf';\nimport { round } from '../utils/math';\nimport getWindow from './getWindow';\nimport isLayoutViewport from './isLayoutViewport';\n\nexport default function getBoundingClientRect(\n  element: Element | VirtualElement,\n  includeScale: boolean = false,\n  isFixedStrategy: boolean = false\n): ClientRectObject {\n  const clientRect = element.getBoundingClientRect();\n  let scaleX = 1;\n  let scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX =\n      (element: HTMLElement).offsetWidth > 0\n        ? round(clientRect.width) / (element: HTMLElement).offsetWidth || 1\n        : 1;\n    scaleY =\n      (element: HTMLElement).offsetHeight > 0\n        ? round(clientRect.height) / (element: HTMLElement).offsetHeight || 1\n        : 1;\n  }\n\n  const { visualViewport } = isElement(element) ? getWindow(element) : window;\n  const addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n\n  const x =\n    (clientRect.left +\n      (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) /\n    scaleX;\n  const y =\n    (clientRect.top +\n      (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) /\n    scaleY;\n  const width = clientRect.width / scaleX;\n  const height = clientRect.height / scaleY;\n\n  return {\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x,\n    y,\n  };\n}\n", "// @flow\nimport getWindow from './getWindow';\nimport type { Window } from '../types';\n\nexport default function getWindowScroll(node: Node | Window) {\n  const win = getWindow(node);\n  const scrollLeft = win.pageXOffset;\n  const scrollTop = win.pageYOffset;\n\n  return {\n    scrollLeft,\n    scrollTop,\n  };\n}\n", "// @flow\n\nexport default function getHTMLElementScroll(element: HTMLElement) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop,\n  };\n}\n", "// @flow\nimport getWindowScroll from './getWindowScroll';\nimport getWindow from './getWindow';\nimport { isHTMLElement } from './instanceOf';\nimport getHTMLElementScroll from './getHTMLElementScroll';\nimport type { Window } from '../types';\n\nexport default function getNodeScroll(node: Node | Window) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}\n", "// @flow\nimport type { Window } from '../types';\n\nexport default function getNodeName(element: ?Node | Window): ?string {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}\n", "// @flow\nimport { isElement } from './instanceOf';\nimport type { Window } from '../types';\n\nexport default function getDocumentElement(\n  element: Element | Window\n): HTMLElement {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return (\n    (isElement(element)\n      ? element.ownerDocument\n      : // $FlowFixMe[prop-missing]\n        element.document) || window.document\n  ).documentElement;\n}\n", "// @flow\nimport getBoundingClientRect from './getBoundingClientRect';\nimport getDocumentElement from './getDocumentElement';\nimport getWindowScroll from './getWindowScroll';\n\nexport default function getWindowScrollBarX(element: Element): number {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return (\n    getBoundingClientRect(getDocumentElement(element)).left +\n    getWindowScroll(element).scrollLeft\n  );\n}\n", "// @flow\nimport getWindow from './getWindow';\n\nexport default function getComputedStyle(\n  element: Element\n): CSSStyleDeclaration {\n  return getWindow(element).getComputedStyle(element);\n}\n", "// @flow\nimport getComputedStyle from './getComputedStyle';\n\nexport default function isScrollParent(element: HTMLElement): boolean {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  const { overflow, overflowX, overflowY } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\n", "// @flow\nimport type { Rect, VirtualElement, Window } from '../types';\nimport getBoundingClientRect from './getBoundingClientRect';\nimport getNodeScroll from './getNodeScroll';\nimport getNodeName from './getNodeName';\nimport { isHTMLElement } from './instanceOf';\nimport getWindowScrollBarX from './getWindowScrollBarX';\nimport getDocumentElement from './getDocumentElement';\nimport isScrollParent from './isScrollParent';\nimport { round } from '../utils/math';\n\nfunction isElementScaled(element: HTMLElement) {\n  const rect = element.getBoundingClientRect();\n  const scaleX = round(rect.width) / element.offsetWidth || 1;\n  const scaleY = round(rect.height) / element.offsetHeight || 1;\n\n  return scaleX !== 1 || scaleY !== 1;\n}\n\n// Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\nexport default function getCompositeRect(\n  elementOrVirtualElement: Element | VirtualElement,\n  offsetParent: Element | Window,\n  isFixed: boolean = false\n): Rect {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const offsetParentIsScaled =\n    isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const rect = getBoundingClientRect(\n    elementOrVirtualElement,\n    offsetParentIsScaled,\n    isFixed\n  );\n\n  let scroll = { scrollLeft: 0, scrollTop: 0 };\n  let offsets = { x: 0, y: 0 };\n\n  if (isOffsetParentAnElement || (!isOffsetParentAnElement && !isFixed)) {\n    if (\n      getNodeName(offsetParent) !== 'body' ||\n      // https://github.com/popperjs/popper-core/issues/1078\n      isScrollParent(documentElement)\n    ) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height,\n  };\n}\n", "// @flow\nimport type { Rect } from '../types';\nimport getBoundingClientRect from './getBoundingClientRect';\n\n// Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\nexport default function getLayoutRect(element: HTMLElement): Rect {\n  const clientRect = getBoundingClientRect(element);\n\n  // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n  let width = element.offsetWidth;\n  let height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width,\n    height,\n  };\n}\n", "// @flow\nimport getNodeName from './getNodeName';\nimport getDocumentElement from './getDocumentElement';\nimport { isShadowRoot } from './instanceOf';\n\nexport default function getParentNode(element: Node | ShadowRoot): Node {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (\n    // this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    (isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n  );\n}\n", "// @flow\nimport getParentNode from './getParentNode';\nimport isScrollParent from './isScrollParent';\nimport getNodeName from './getNodeName';\nimport { isHTMLElement } from './instanceOf';\n\nexport default function getScrollParent(node: Node): HTMLElement {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}\n", "// @flow\nimport getScrollParent from './getScrollParent';\nimport getParentNode from './getParentNode';\nimport getWindow from './getWindow';\nimport type { Window, VisualViewport } from '../types';\nimport isScrollParent from './isScrollParent';\n\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\nexport default function listScrollParents(\n  element: Node,\n  list: Array<Element | Window> = []\n): Array<Element | Window | VisualViewport> {\n  const scrollParent = getScrollParent(element);\n  const isBody = scrollParent === element.ownerDocument?.body;\n  const win = getWindow(scrollParent);\n  const target = isBody\n    ? [win].concat(\n        win.visualViewport || [],\n        isScrollParent(scrollParent) ? scrollParent : []\n      )\n    : scrollParent;\n  const updatedList = list.concat(target);\n\n  return isBody\n    ? updatedList\n    : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n      updatedList.concat(listScrollParents(getParentNode(target)));\n}\n", "// @flow\nimport getNodeName from './getNodeName';\n\nexport default function isTableElement(element: Element): boolean {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}\n", "// @flow\nimport getWindow from './getWindow';\nimport getNodeName from './getNodeName';\nimport getComputedStyle from './getComputedStyle';\nimport { isHTMLElement, isShadowRoot } from './instanceOf';\nimport isTableElement from './isTableElement';\nimport getParentNode from './getParentNode';\nimport getUAString from '../utils/userAgent';\n\nfunction getTrueOffsetParent(element: Element): ?Element {\n  if (\n    !isHTMLElement(element) ||\n    // https://github.com/popperjs/popper-core/issues/837\n    getComputedStyle(element).position === 'fixed'\n  ) {\n    return null;\n  }\n\n  return element.offsetParent;\n}\n\n// `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\nfunction getContainingBlock(element: Element) {\n  const isFirefox = /firefox/i.test(getUAString());\n  const isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    const elementCss = getComputedStyle(element);\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  let currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (\n    isHTMLElement(currentNode) &&\n    ['html', 'body'].indexOf(getNodeName(currentNode)) < 0\n  ) {\n    const css = getComputedStyle(currentNode);\n\n    // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n    if (\n      css.transform !== 'none' ||\n      css.perspective !== 'none' ||\n      css.contain === 'paint' ||\n      ['transform', 'perspective'].indexOf(css.willChange) !== -1 ||\n      (isFirefox && css.willChange === 'filter') ||\n      (isFirefox && css.filter && css.filter !== 'none')\n    ) {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nexport default function getOffsetParent(element: Element) {\n  const window = getWindow(element);\n\n  let offsetParent = getTrueOffsetParent(element);\n\n  while (\n    offsetParent &&\n    isTableElement(offsetParent) &&\n    getComputedStyle(offsetParent).position === 'static'\n  ) {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (\n    offsetParent &&\n    (getNodeName(offsetParent) === 'html' ||\n      (getNodeName(offsetParent) === 'body' &&\n        getComputedStyle(offsetParent).position === 'static'))\n  ) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}\n", "// @flow\nexport const top: 'top' = 'top';\nexport const bottom: 'bottom' = 'bottom';\nexport const right: 'right' = 'right';\nexport const left: 'left' = 'left';\nexport const auto: 'auto' = 'auto';\nexport type BasePlacement =\n  | typeof top\n  | typeof bottom\n  | typeof right\n  | typeof left;\nexport const basePlacements: Array<BasePlacement> = [top, bottom, right, left];\n\nexport const start: 'start' = 'start';\nexport const end: 'end' = 'end';\nexport type Variation = typeof start | typeof end;\n\nexport const clippingParents: 'clippingParents' = 'clippingParents';\nexport const viewport: 'viewport' = 'viewport';\nexport type Boundary = Element | Array<Element> | typeof clippingParents;\nexport type RootBoundary = typeof viewport | 'document';\n\nexport const popper: 'popper' = 'popper';\nexport const reference: 'reference' = 'reference';\nexport type Context = typeof popper | typeof reference;\n\nexport type VariationPlacement =\n  | 'top-start'\n  | 'top-end'\n  | 'bottom-start'\n  | 'bottom-end'\n  | 'right-start'\n  | 'right-end'\n  | 'left-start'\n  | 'left-end';\nexport type AutoPlacement = 'auto' | 'auto-start' | 'auto-end';\nexport type ComputedPlacement = VariationPlacement | BasePlacement;\nexport type Placement = AutoPlacement | BasePlacement | VariationPlacement;\n\nexport const variationPlacements: Array<VariationPlacement> = basePlacements.reduce(\n  (acc: Array<VariationPlacement>, placement: BasePlacement) =>\n    acc.concat([(`${placement}-${start}`: any), (`${placement}-${end}`: any)]),\n  []\n);\nexport const placements: Array<Placement> = [...basePlacements, auto].reduce(\n  (\n    acc: Array<Placement>,\n    placement: BasePlacement | typeof auto\n  ): Array<Placement> =>\n    acc.concat([\n      placement,\n      (`${placement}-${start}`: any),\n      (`${placement}-${end}`: any),\n    ]),\n  []\n);\n\n// modifiers that need to read the DOM\nexport const beforeRead: 'beforeRead' = 'beforeRead';\nexport const read: 'read' = 'read';\nexport const afterRead: 'afterRead' = 'afterRead';\n// pure-logic modifiers\nexport const beforeMain: 'beforeMain' = 'beforeMain';\nexport const main: 'main' = 'main';\nexport const afterMain: 'afterMain' = 'afterMain';\n// modifier with the purpose to write to the DOM (or write into a framework state)\nexport const beforeWrite: 'beforeWrite' = 'beforeWrite';\nexport const write: 'write' = 'write';\nexport const afterWrite: 'afterWrite' = 'afterWrite';\nexport const modifierPhases: Array<ModifierPhases> = [\n  beforeRead,\n  read,\n  afterRead,\n  beforeMain,\n  main,\n  afterMain,\n  beforeWrite,\n  write,\n  afterWrite,\n];\n\nexport type ModifierPhases =\n  | typeof beforeRead\n  | typeof read\n  | typeof afterRead\n  | typeof beforeMain\n  | typeof main\n  | typeof afterMain\n  | typeof beforeWrite\n  | typeof write\n  | typeof afterWrite;\n", "// @flow\nimport type { Modifier } from '../types';\nimport { modifierPhases } from '../enums';\n\n// source: https://stackoverflow.com/questions/49875255\nfunction order(modifiers) {\n  const map = new Map();\n  const visited = new Set();\n  const result = [];\n\n  modifiers.forEach(modifier => {\n    map.set(modifier.name, modifier);\n  });\n\n  // On visiting object, check for its dependencies and visit them recursively\n  function sort(modifier: Modifier<any, any>) {\n    visited.add(modifier.name);\n\n    const requires = [\n      ...(modifier.requires || []),\n      ...(modifier.requiresIfExists || []),\n    ];\n\n    requires.forEach(dep => {\n      if (!visited.has(dep)) {\n        const depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n\n    result.push(modifier);\n  }\n\n  modifiers.forEach(modifier => {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n\n  return result;\n}\n\nexport default function orderModifiers(\n  modifiers: Array<Modifier<any, any>>\n): Array<Modifier<any, any>> {\n  // order based on dependencies\n  const orderedModifiers = order(modifiers);\n\n  // order based on phase\n  return modifierPhases.reduce((acc, phase) => {\n    return acc.concat(\n      orderedModifiers.filter(modifier => modifier.phase === phase)\n    );\n  }, []);\n}\n", "// @flow\n\nexport default function debounce<T>(fn: Function): () => Promise<T> {\n  let pending;\n  return () => {\n    if (!pending) {\n      pending = new Promise<T>(resolve => {\n        Promise.resolve().then(() => {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}\n", "// @flow\nimport type { Modifier } from '../types';\n\nexport default function mergeByName(\n  modifiers: Array<$Shape<Modifier<any, any>>>\n): Array<$Shape<Modifier<any, any>>> {\n  const merged = modifiers.reduce((merged, current) => {\n    const existing = merged[current.name];\n    merged[current.name] = existing\n      ? {\n          ...existing,\n          ...current,\n          options: { ...existing.options, ...current.options },\n          data: { ...existing.data, ...current.data },\n        }\n      : current;\n    return merged;\n  }, {});\n\n  // IE11 does not support Object.values\n  return Object.keys(merged).map(key => merged[key]);\n}\n", "// @flow\nimport getWindow from './getWindow';\nimport getDocumentElement from './getDocumentElement';\nimport getWindowScrollBarX from './getWindowScrollBarX';\nimport isLayoutViewport from './isLayoutViewport';\nimport type { PositioningStrategy } from '../types';\n\nexport default function getViewportRect(\n  element: Element,\n  strategy: PositioningStrategy\n) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n\n    const layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || (!layoutViewport && strategy === 'fixed')) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width,\n    height,\n    x: x + getWindowScrollBarX(element),\n    y,\n  };\n}\n", "// @flow\nimport type { Rect } from '../types';\nimport getDocumentElement from './getDocumentElement';\nimport getComputedStyle from './getComputedStyle';\nimport getWindowScrollBarX from './getWindowScrollBarX';\nimport getWindowScroll from './getWindowScroll';\nimport { max } from '../utils/math';\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\nexport default function getDocumentRect(element: HTMLElement): Rect {\n  const html = getDocumentElement(element);\n  const winScroll = getWindowScroll(element);\n  const body = element.ownerDocument?.body;\n\n  const width = max(\n    html.scrollWidth,\n    html.clientWidth,\n    body ? body.scrollWidth : 0,\n    body ? body.clientWidth : 0\n  );\n  const height = max(\n    html.scrollHeight,\n    html.clientHeight,\n    body ? body.scrollHeight : 0,\n    body ? body.clientHeight : 0\n  );\n\n  let x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return { width, height, x, y };\n}\n", "// @flow\nimport { isShadowRoot } from './instanceOf';\n\nexport default function contains(parent: Element, child: Element) {\n  const rootNode = child.getRootNode && child.getRootNode();\n\n  // First, attempt with faster native method\n  if (parent.contains(child)) {\n    return true;\n  }\n  // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    do {\n      if (next && parent.isSameNode(next)) {\n        return true;\n      }\n      // $FlowFixMe[prop-missing]: need a better way to handle this...\n      next = next.parentNode || next.host;\n    } while (next);\n  }\n\n  // Give up, the result is false\n  return false;\n}\n", "// @flow\nimport type { Rect, ClientRectObject } from '../types';\n\nexport default function rectToClientRect(rect: Rect): ClientRectObject {\n  return {\n    ...rect,\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height,\n  };\n}\n", "// @flow\nimport type { ClientRectObject, PositioningStrategy } from '../types';\nimport type { Boundary, RootBoundary } from '../enums';\nimport { viewport } from '../enums';\nimport getViewportRect from './getViewportRect';\nimport getDocumentRect from './getDocumentRect';\nimport listScrollParents from './listScrollParents';\nimport getOffsetParent from './getOffsetParent';\nimport getDocumentElement from './getDocumentElement';\nimport getComputedStyle from './getComputedStyle';\nimport { isElement, isHTMLElement } from './instanceOf';\nimport getBoundingClientRect from './getBoundingClientRect';\nimport getParentNode from './getParentNode';\nimport contains from './contains';\nimport getNodeName from './getNodeName';\nimport rectToClientRect from '../utils/rectToClientRect';\nimport { max, min } from '../utils/math';\n\nfunction getInnerBoundingClientRect(\n  element: Element,\n  strategy: PositioningStrategy\n) {\n  const rect = getBoundingClientRect(element, false, strategy === 'fixed');\n\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n\n  return rect;\n}\n\nfunction getClientRectFromMixedType(\n  element: Element,\n  clippingParent: Element | RootBoundary,\n  strategy: PositioningStrategy\n): ClientRectObject {\n  return clippingParent === viewport\n    ? rectToClientRect(getViewportRect(element, strategy))\n    : isElement(clippingParent)\n    ? getInnerBoundingClientRect(clippingParent, strategy)\n    : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n}\n\n// A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\nfunction getClippingParents(element: Element): Array<Element> {\n  const clippingParents = listScrollParents(getParentNode(element));\n  const canEscapeClipping =\n    ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  const clipperElement =\n    canEscapeClipping && isHTMLElement(element)\n      ? getOffsetParent(element)\n      : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  }\n\n  // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n  return clippingParents.filter(\n    (clippingParent) =>\n      isElement(clippingParent) &&\n      contains(clippingParent, clipperElement) &&\n      getNodeName(clippingParent) !== 'body'\n  );\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping parents\nexport default function getClippingRect(\n  element: Element,\n  boundary: Boundary,\n  rootBoundary: RootBoundary,\n  strategy: PositioningStrategy\n): ClientRectObject {\n  const mainClippingParents =\n    boundary === 'clippingParents'\n      ? getClippingParents(element)\n      : [].concat(boundary);\n  const clippingParents = [...mainClippingParents, rootBoundary];\n  const firstClippingParent = clippingParents[0];\n\n  const clippingRect = clippingParents.reduce((accRect, clippingParent) => {\n    const rect = getClientRectFromMixedType(element, clippingParent, strategy);\n\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n\n  return clippingRect;\n}\n", "// @flow\nimport { type BasePlacement, type Placement, auto } from '../enums';\n\nexport default function getBasePlacement(\n  placement: Placement | typeof auto\n): BasePlacement {\n  return (placement.split('-')[0]: any);\n}\n", "// @flow\nimport { type Variation, type Placement } from '../enums';\n\nexport default function getVariation(placement: Placement): ?Variation {\n  return (placement.split('-')[1]: any);\n}\n", "// @flow\nimport type { Placement } from '../enums';\n\nexport default function getMainAxisFromPlacement(\n  placement: Placement\n): 'x' | 'y' {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}\n", "// @flow\nimport getBasePlacement from './getBasePlacement';\nimport getVariation from './getVariation';\nimport getMainAxisFromPlacement from './getMainAxisFromPlacement';\nimport type {\n  Rect,\n  PositioningStrategy,\n  Offsets,\n  ClientRectObject,\n} from '../types';\nimport { top, right, bottom, left, start, end, type Placement } from '../enums';\n\nexport default function computeOffsets({\n  reference,\n  element,\n  placement,\n}: {\n  reference: Rect | ClientRectObject,\n  element: Rect | ClientRectObject,\n  strategy: PositioningStrategy,\n  placement?: Placement,\n}): Offsets {\n  const basePlacement = placement ? getBasePlacement(placement) : null;\n  const variation = placement ? getVariation(placement) : null;\n  const commonX = reference.x + reference.width / 2 - element.width / 2;\n  const commonY = reference.y + reference.height / 2 - element.height / 2;\n\n  let offsets;\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height,\n      };\n      break;\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height,\n      };\n      break;\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY,\n      };\n      break;\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY,\n      };\n      break;\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y,\n      };\n  }\n\n  const mainAxis = basePlacement\n    ? getMainAxisFromPlacement(basePlacement)\n    : null;\n\n  if (mainAxis != null) {\n    const len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] =\n          offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n      case end:\n        offsets[mainAxis] =\n          offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n      default:\n    }\n  }\n\n  return offsets;\n}\n", "// @flow\nimport type { SideObject } from '../types';\n\nexport default function getFreshSideObject(): SideObject {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n  };\n}\n", "// @flow\nimport type { SideObject } from '../types';\nimport getFreshSideObject from './getFreshSideObject';\n\nexport default function mergePaddingObject(\n  paddingObject: $Shape<SideObject>\n): SideObject {\n  return {\n    ...getFreshSideObject(),\n    ...paddingObject,\n  };\n}\n", "// @flow\n\nexport default function expandToHashMap<\n  T: number | string | boolean,\n  K: string\n>(value: T, keys: Array<K>): { [key: string]: T } {\n  return keys.reduce((hashMap, key) => {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}\n", "// @flow\nimport type { State, SideObject, Padding, PositioningStrategy } from '../types';\nimport type { Placement, Boundary, RootBoundary, Context } from '../enums';\nimport getClippingRect from '../dom-utils/getClippingRect';\nimport getDocumentElement from '../dom-utils/getDocumentElement';\nimport getBoundingClientRect from '../dom-utils/getBoundingClientRect';\nimport computeOffsets from './computeOffsets';\nimport rectToClientRect from './rectToClientRect';\nimport {\n  clippingParents,\n  reference,\n  popper,\n  bottom,\n  top,\n  right,\n  basePlacements,\n  viewport,\n} from '../enums';\nimport { isElement } from '../dom-utils/instanceOf';\nimport mergePaddingObject from './mergePaddingObject';\nimport expandToHashMap from './expandToHashMap';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  placement: Placement,\n  strategy: PositioningStrategy,\n  boundary: Boundary,\n  rootBoundary: RootBoundary,\n  elementContext: Context,\n  altBoundary: boolean,\n  padding: Padding,\n};\n\nexport default function detectOverflow(\n  state: State,\n  options: $Shape<Options> = {}\n): SideObject {\n  const {\n    placement = state.placement,\n    strategy = state.strategy,\n    boundary = clippingParents,\n    rootBoundary = viewport,\n    elementContext = popper,\n    altBoundary = false,\n    padding = 0,\n  } = options;\n\n  const paddingObject = mergePaddingObject(\n    typeof padding !== 'number'\n      ? padding\n      : expandToHashMap(padding, basePlacements)\n  );\n\n  const altContext = elementContext === popper ? reference : popper;\n\n  const popperRect = state.rects.popper;\n  const element = state.elements[altBoundary ? altContext : elementContext];\n\n  const clippingClientRect = getClippingRect(\n    isElement(element)\n      ? element\n      : element.contextElement || getDocumentElement(state.elements.popper),\n    boundary,\n    rootBoundary,\n    strategy\n  );\n\n  const referenceClientRect = getBoundingClientRect(state.elements.reference);\n\n  const popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement,\n  });\n\n  const popperClientRect = rectToClientRect({\n    ...popperRect,\n    ...popperOffsets,\n  });\n\n  const elementClientRect =\n    elementContext === popper ? popperClientRect : referenceClientRect;\n\n  // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n  const overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom:\n      elementClientRect.bottom -\n      clippingClientRect.bottom +\n      paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right:\n      elementClientRect.right - clippingClientRect.right + paddingObject.right,\n  };\n\n  const offsetData = state.modifiersData.offset;\n\n  // Offsets can be applied only to the popper element\n  if (elementContext === popper && offsetData) {\n    const offset = offsetData[placement];\n\n    Object.keys(overflowOffsets).forEach((key) => {\n      const multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      const axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}\n", "// @flow\nimport type {\n  State,\n  OptionsGeneric,\n  Modifier,\n  Instance,\n  VirtualElement,\n} from './types';\nimport getCompositeRect from './dom-utils/getCompositeRect';\nimport getLayoutRect from './dom-utils/getLayoutRect';\nimport listScrollParents from './dom-utils/listScrollParents';\nimport getOffsetParent from './dom-utils/getOffsetParent';\nimport orderModifiers from './utils/orderModifiers';\nimport debounce from './utils/debounce';\nimport mergeByName from './utils/mergeByName';\nimport detectOverflow from './utils/detectOverflow';\nimport { isElement } from './dom-utils/instanceOf';\n\nconst DEFAULT_OPTIONS: OptionsGeneric<any> = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute',\n};\n\ntype PopperGeneratorArgs = {\n  defaultModifiers?: Array<Modifier<any, any>>,\n  defaultOptions?: $Shape<OptionsGeneric<any>>,\n};\n\nfunction areValidElements(...args: Array<any>): boolean {\n  return !args.some(\n    (element) =>\n      !(element && typeof element.getBoundingClientRect === 'function')\n  );\n}\n\nexport function popperGenerator(generatorOptions: PopperGeneratorArgs = {}) {\n  const { defaultModifiers = [], defaultOptions = DEFAULT_OPTIONS } =\n    generatorOptions;\n\n  return function createPopper<TModifier: $Shape<Modifier<any, any>>>(\n    reference: Element | VirtualElement,\n    popper: HTMLElement,\n    options: $Shape<OptionsGeneric<TModifier>> = defaultOptions\n  ): Instance {\n    let state: $Shape<State> = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: { ...DEFAULT_OPTIONS, ...defaultOptions },\n      modifiersData: {},\n      elements: {\n        reference,\n        popper,\n      },\n      attributes: {},\n      styles: {},\n    };\n\n    let effectCleanupFns: Array<() => void> = [];\n    let isDestroyed = false;\n\n    const instance = {\n      state,\n      setOptions(setOptionsAction) {\n        const options =\n          typeof setOptionsAction === 'function'\n            ? setOptionsAction(state.options)\n            : setOptionsAction;\n\n        cleanupModifierEffects();\n\n        state.options = {\n          // $FlowFixMe[exponential-spread]\n          ...defaultOptions,\n          ...state.options,\n          ...options,\n        };\n\n        state.scrollParents = {\n          reference: isElement(reference)\n            ? listScrollParents(reference)\n            : reference.contextElement\n            ? listScrollParents(reference.contextElement)\n            : [],\n          popper: listScrollParents(popper),\n        };\n\n        // Orders the modifiers based on their dependencies and `phase`\n        // properties\n        const orderedModifiers = orderModifiers(\n          mergeByName([...defaultModifiers, ...state.options.modifiers])\n        );\n\n        // Strip out disabled modifiers\n        state.orderedModifiers = orderedModifiers.filter((m) => m.enabled);\n\n        runModifierEffects();\n\n        return instance.update();\n      },\n\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        const { reference, popper } = state.elements;\n\n        // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n        if (!areValidElements(reference, popper)) {\n          return;\n        }\n\n        // Store the reference and popper rects to be read by modifiers\n        state.rects = {\n          reference: getCompositeRect(\n            reference,\n            getOffsetParent(popper),\n            state.options.strategy === 'fixed'\n          ),\n          popper: getLayoutRect(popper),\n        };\n\n        // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n        state.reset = false;\n\n        state.placement = state.options.placement;\n\n        // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n        state.orderedModifiers.forEach(\n          (modifier) =>\n            (state.modifiersData[modifier.name] = {\n              ...modifier.data,\n            })\n        );\n\n        for (let index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          const { fn, options = {}, name } = state.orderedModifiers[index];\n\n          if (typeof fn === 'function') {\n            state = fn({ state, options, name, instance }) || state;\n          }\n        }\n      },\n\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce<$Shape<State>>(\n        () =>\n          new Promise<$Shape<State>>((resolve) => {\n            instance.forceUpdate();\n            resolve(state);\n          })\n      ),\n\n      destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      },\n    };\n\n    if (!areValidElements(reference, popper)) {\n      return instance;\n    }\n\n    instance.setOptions(options).then((state) => {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    });\n\n    // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(({ name, options = {}, effect }) => {\n        if (typeof effect === 'function') {\n          const cleanupFn = effect({ state, name, instance, options });\n          const noopFn = () => {};\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach((fn) => fn());\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\n\nexport const createPopper = popperGenerator();\n\n// eslint-disable-next-line import/no-unused-modules\nexport { detectOverflow };\n", "// @flow\nimport type { ModifierArguments, Modifier } from '../types';\nimport getWindow from '../dom-utils/getWindow';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  scroll: boolean,\n  resize: boolean,\n};\n\nconst passive = { passive: true };\n\nfunction effect({ state, instance, options }: ModifierArguments<Options>) {\n  const { scroll = true, resize = true } = options;\n\n  const window = getWindow(state.elements.popper);\n  const scrollParents = [\n    ...state.scrollParents.reference,\n    ...state.scrollParents.popper,\n  ];\n\n  if (scroll) {\n    scrollParents.forEach(scrollParent => {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return () => {\n    if (scroll) {\n      scrollParents.forEach(scrollParent => {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type EventListenersModifier = Modifier<'eventListeners', Options>;\nexport default ({\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: () => {},\n  effect,\n  data: {},\n}: EventListenersModifier);\n", "// @flow\nimport type { ModifierArguments, Modifier } from '../types';\nimport computeOffsets from '../utils/computeOffsets';\n\nfunction popperOffsets({ state, name }: ModifierArguments<{||}>) {\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement,\n  });\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type PopperOffsetsModifier = Modifier<'popperOffsets', {||}>;\nexport default ({\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {},\n}: PopperOffsetsModifier);\n", "// @flow\nimport type {\n  PositioningStrategy,\n  Offsets,\n  Modifier,\n  ModifierArguments,\n  Rect,\n  Window,\n} from '../types';\nimport {\n  type BasePlacement,\n  type Variation,\n  top,\n  left,\n  right,\n  bottom,\n  end,\n} from '../enums';\nimport getOffsetParent from '../dom-utils/getOffsetParent';\nimport getWindow from '../dom-utils/getWindow';\nimport getDocumentElement from '../dom-utils/getDocumentElement';\nimport getComputedStyle from '../dom-utils/getComputedStyle';\nimport getBasePlacement from '../utils/getBasePlacement';\nimport getVariation from '../utils/getVariation';\nimport { round } from '../utils/math';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type RoundOffsets = (\n  offsets: $Shape<{ x: number, y: number, centerOffset: number }>\n) => Offsets;\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  gpuAcceleration: boolean,\n  adaptive: boolean,\n  roundOffsets?: boolean | RoundOffsets,\n};\n\nconst unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto',\n};\n\n// Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\nfunction roundOffsetsByDPR({ x, y }, win: Window): Offsets {\n  const dpr = win.devicePixelRatio || 1;\n\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0,\n  };\n}\n\nexport function mapToStyles({\n  popper,\n  popperRect,\n  placement,\n  variation,\n  offsets,\n  position,\n  gpuAcceleration,\n  adaptive,\n  roundOffsets,\n  isFixed,\n}: {\n  popper: HTMLElement,\n  popperRect: Rect,\n  placement: BasePlacement,\n  variation: ?Variation,\n  offsets: $Shape<{ x: number, y: number, centerOffset: number }>,\n  position: PositioningStrategy,\n  gpuAcceleration: boolean,\n  adaptive: boolean,\n  roundOffsets: boolean | RoundOffsets,\n  isFixed: boolean,\n}) {\n  let { x = 0, y = 0 } = offsets;\n\n  ({ x, y } =\n    typeof roundOffsets === 'function' ? roundOffsets({ x, y }) : { x, y });\n\n  const hasX = offsets.hasOwnProperty('x');\n  const hasY = offsets.hasOwnProperty('y');\n\n  let sideX: string = left;\n  let sideY: string = top;\n\n  const win: Window = window;\n\n  if (adaptive) {\n    let offsetParent = getOffsetParent(popper);\n    let heightProp = 'clientHeight';\n    let widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (\n        getComputedStyle(offsetParent).position !== 'static' &&\n        position === 'absolute'\n      ) {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    }\n\n    // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n    offsetParent = (offsetParent: Element);\n\n    if (\n      placement === top ||\n      ((placement === left || placement === right) && variation === end)\n    ) {\n      sideY = bottom;\n      const offsetY =\n        isFixed && offsetParent === win && win.visualViewport\n          ? win.visualViewport.height\n          : // $FlowFixMe[prop-missing]\n            offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (\n      placement === left ||\n      ((placement === top || placement === bottom) && variation === end)\n    ) {\n      sideX = right;\n      const offsetX =\n        isFixed && offsetParent === win && win.visualViewport\n          ? win.visualViewport.width\n          : // $FlowFixMe[prop-missing]\n            offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  const commonStyles = {\n    position,\n    ...(adaptive && unsetSides),\n  };\n\n  ({ x, y } =\n    roundOffsets === true\n      ? roundOffsetsByDPR({ x, y }, getWindow(popper))\n      : { x, y });\n\n  if (gpuAcceleration) {\n    return {\n      ...commonStyles,\n      [sideY]: hasY ? '0' : '',\n      [sideX]: hasX ? '0' : '',\n      // Layer acceleration can disable subpixel rendering which causes slightly\n      // blurry text on low PPI displays, so we want to use 2D transforms\n      // instead\n      transform:\n        (win.devicePixelRatio || 1) <= 1\n          ? `translate(${x}px, ${y}px)`\n          : `translate3d(${x}px, ${y}px, 0)`,\n    };\n  }\n\n  return {\n    ...commonStyles,\n    [sideY]: hasY ? `${y}px` : '',\n    [sideX]: hasX ? `${x}px` : '',\n    transform: '',\n  };\n}\n\nfunction computeStyles({ state, options }: ModifierArguments<Options>) {\n  const {\n    gpuAcceleration = true,\n    adaptive = true,\n    // defaults to use builtin `roundOffsetsByDPR`\n    roundOffsets = true,\n  } = options;\n\n  const commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed',\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = {\n      ...state.styles.popper,\n      ...mapToStyles({\n        ...commonStyles,\n        offsets: state.modifiersData.popperOffsets,\n        position: state.options.strategy,\n        adaptive,\n        roundOffsets,\n      }),\n    };\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = {\n      ...state.styles.arrow,\n      ...mapToStyles({\n        ...commonStyles,\n        offsets: state.modifiersData.arrow,\n        position: 'absolute',\n        adaptive: false,\n        roundOffsets,\n      }),\n    };\n  }\n\n  state.attributes.popper = {\n    ...state.attributes.popper,\n    'data-popper-placement': state.placement,\n  };\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type ComputeStylesModifier = Modifier<'computeStyles', Options>;\nexport default ({\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {},\n}: ComputeStylesModifier);\n", "// @flow\nimport type { Modifier, ModifierArguments } from '../types';\nimport getNodeName from '../dom-utils/getNodeName';\nimport { isHTMLElement } from '../dom-utils/instanceOf';\n\n// This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles({ state }: ModifierArguments<{||}>) {\n  Object.keys(state.elements).forEach((name) => {\n    const style = state.styles[name] || {};\n\n    const attributes = state.attributes[name] || {};\n    const element = state.elements[name];\n\n    // arrow is optional + virtual elements\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    }\n\n    // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n    Object.assign(element.style, style);\n\n    Object.keys(attributes).forEach((name) => {\n      const value = attributes[name];\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect({ state }: ModifierArguments<{||}>) {\n  const initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0',\n    },\n    arrow: {\n      position: 'absolute',\n    },\n    reference: {},\n  };\n\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return () => {\n    Object.keys(state.elements).forEach((name) => {\n      const element = state.elements[name];\n      const attributes = state.attributes[name] || {};\n\n      const styleProperties = Object.keys(\n        state.styles.hasOwnProperty(name)\n          ? state.styles[name]\n          : initialStyles[name]\n      );\n\n      // Set all values to an empty string to unset them\n      const style = styleProperties.reduce((style, property) => {\n        style[property] = '';\n        return style;\n      }, {});\n\n      // arrow is optional + virtual elements\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n\n      Object.keys(attributes).forEach((attribute) => {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type ApplyStylesModifier = Modifier<'applyStyles', {||}>;\nexport default ({\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect,\n  requires: ['computeStyles'],\n}: ApplyStylesModifier);\n", "// @flow\nimport type { Placement } from '../enums';\nimport type { ModifierArguments, Modifier, Rect, Offsets } from '../types';\nimport getBasePlacement from '../utils/getBasePlacement';\nimport { top, left, right, placements } from '../enums';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type OffsetsFunction = ({\n  popper: Rect,\n  reference: Rect,\n  placement: Placement,\n}) => [?number, ?number];\n\ntype Offset = OffsetsFunction | [?number, ?number];\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  offset: Offset,\n};\n\nexport function distanceAndSkiddingToXY(\n  placement: Placement,\n  rects: { popper: Rect, reference: Rect },\n  offset: Offset\n): Offsets {\n  const basePlacement = getBasePlacement(placement);\n  const invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  let [skidding, distance] =\n    typeof offset === 'function'\n      ? offset({\n          ...rects,\n          placement,\n        })\n      : offset;\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n\n  return [left, right].indexOf(basePlacement) >= 0\n    ? { x: distance, y: skidding }\n    : { x: skidding, y: distance };\n}\n\nfunction offset({ state, options, name }: ModifierArguments<Options>) {\n  const { offset = [0, 0] } = options;\n\n  const data = placements.reduce((acc, placement) => {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n\n  const { x, y } = data[state.placement];\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type OffsetModifier = Modifier<'offset', Options>;\nexport default ({\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset,\n}: OffsetModifier);\n", "// @flow\nimport type { Placement } from '../enums';\n\nconst hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n\nexport default function getOppositePlacement(placement: Placement): Placement {\n  return (placement.replace(\n    /left|right|bottom|top/g,\n    matched => hash[matched]\n  ): any);\n}\n", "// @flow\nimport type { Placement } from '../enums';\n\nconst hash = { start: 'end', end: 'start' };\n\nexport default function getOppositeVariationPlacement(\n  placement: Placement\n): Placement {\n  return (placement.replace(/start|end/g, matched => hash[matched]): any);\n}\n", "// @flow\nimport type { State, Padding } from '../types';\nimport type {\n  Placement,\n  ComputedPlacement,\n  Boundary,\n  RootBoundary,\n} from '../enums';\nimport getVariation from './getVariation';\nimport {\n  variationPlacements,\n  basePlacements,\n  placements as allPlacements,\n} from '../enums';\nimport detectOverflow from './detectOverflow';\nimport getBasePlacement from './getBasePlacement';\n\ntype Options = {\n  placement: Placement,\n  padding: Padding,\n  boundary: Boundary,\n  rootBoundary: RootBoundary,\n  flipVariations: boolean,\n  allowedAutoPlacements?: Array<Placement>,\n};\n\ntype OverflowsMap = { [ComputedPlacement]: number };\n\nexport default function computeAutoPlacement(\n  state: $Shape<State>,\n  options: Options = {}\n): Array<ComputedPlacement> {\n  const {\n    placement,\n    boundary,\n    rootBoundary,\n    padding,\n    flipVariations,\n    allowedAutoPlacements = allPlacements,\n  } = options;\n\n  const variation = getVariation(placement);\n\n  const placements = variation\n    ? flipVariations\n      ? variationPlacements\n      : variationPlacements.filter(\n          (placement) => getVariation(placement) === variation\n        )\n    : basePlacements;\n\n  let allowedPlacements = placements.filter(\n    (placement) => allowedAutoPlacements.indexOf(placement) >= 0\n  );\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n  }\n\n  // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n  const overflows: OverflowsMap = allowedPlacements.reduce((acc, placement) => {\n    acc[placement] = detectOverflow(state, {\n      placement,\n      boundary,\n      rootBoundary,\n      padding,\n    })[getBasePlacement(placement)];\n\n    return acc;\n  }, {});\n\n  return Object.keys(overflows).sort((a, b) => overflows[a] - overflows[b]);\n}\n", "// @flow\nimport type { Placement, Boundary, RootBoundary } from '../enums';\nimport type { ModifierArguments, Modifier, Padding } from '../types';\nimport getOppositePlacement from '../utils/getOppositePlacement';\nimport getBasePlacement from '../utils/getBasePlacement';\nimport getOppositeVariationPlacement from '../utils/getOppositeVariationPlacement';\nimport detectOverflow from '../utils/detectOverflow';\nimport computeAutoPlacement from '../utils/computeAutoPlacement';\nimport { bottom, top, start, right, left, auto } from '../enums';\nimport getVariation from '../utils/getVariation';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  mainAxis: boolean,\n  altAxis: boolean,\n  fallbackPlacements: Array<Placement>,\n  padding: Padding,\n  boundary: Boundary,\n  rootBoundary: RootBoundary,\n  altBoundary: boolean,\n  flipVariations: boolean,\n  allowedAutoPlacements: Array<Placement>,\n};\n\nfunction getExpandedFallbackPlacements(placement: Placement): Array<Placement> {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  const oppositePlacement = getOppositePlacement(placement);\n\n  return [\n    getOppositeVariationPlacement(placement),\n    oppositePlacement,\n    getOppositeVariationPlacement(oppositePlacement),\n  ];\n}\n\nfunction flip({ state, options, name }: ModifierArguments<Options>) {\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  const {\n    mainAxis: checkMainAxis = true,\n    altAxis: checkAltAxis = true,\n    fallbackPlacements: specifiedFallbackPlacements,\n    padding,\n    boundary,\n    rootBoundary,\n    altBoundary,\n    flipVariations = true,\n    allowedAutoPlacements,\n  } = options;\n\n  const preferredPlacement = state.options.placement;\n  const basePlacement = getBasePlacement(preferredPlacement);\n  const isBasePlacement = basePlacement === preferredPlacement;\n\n  const fallbackPlacements =\n    specifiedFallbackPlacements ||\n    (isBasePlacement || !flipVariations\n      ? [getOppositePlacement(preferredPlacement)]\n      : getExpandedFallbackPlacements(preferredPlacement));\n\n  const placements = [preferredPlacement, ...fallbackPlacements].reduce(\n    (acc, placement) => {\n      return acc.concat(\n        getBasePlacement(placement) === auto\n          ? computeAutoPlacement(state, {\n              placement,\n              boundary,\n              rootBoundary,\n              padding,\n              flipVariations,\n              allowedAutoPlacements,\n            })\n          : placement\n      );\n    },\n    []\n  );\n\n  const referenceRect = state.rects.reference;\n  const popperRect = state.rects.popper;\n\n  const checksMap = new Map();\n  let makeFallbackChecks = true;\n  let firstFittingPlacement = placements[0];\n\n  for (let i = 0; i < placements.length; i++) {\n    const placement = placements[i];\n    const basePlacement = getBasePlacement(placement);\n    const isStartVariation = getVariation(placement) === start;\n    const isVertical = [top, bottom].indexOf(basePlacement) >= 0;\n    const len = isVertical ? 'width' : 'height';\n\n    const overflow = detectOverflow(state, {\n      placement,\n      boundary,\n      rootBoundary,\n      altBoundary,\n      padding,\n    });\n\n    let mainVariationSide: any = isVertical\n      ? isStartVariation\n        ? right\n        : left\n      : isStartVariation\n      ? bottom\n      : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    const altVariationSide: any = getOppositePlacement(mainVariationSide);\n\n    const checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(\n        overflow[mainVariationSide] <= 0,\n        overflow[altVariationSide] <= 0\n      );\n    }\n\n    if (checks.every((check) => check)) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    const numberOfChecks = flipVariations ? 3 : 1;\n\n    for (let i = numberOfChecks; i > 0; i--) {\n      const fittingPlacement = placements.find((placement) => {\n        const checks = checksMap.get(placement);\n        if (checks) {\n          return checks.slice(0, i).every((check) => check);\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        break;\n      }\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type FlipModifier = Modifier<'flip', Options>;\nexport default ({\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: { _skip: false },\n}: FlipModifier);\n", "// @flow\n\nexport default function getAltAxis(axis: 'x' | 'y'): 'x' | 'y' {\n  return axis === 'x' ? 'y' : 'x';\n}\n", "// @flow\nimport { max as mathMax, min as mathMin } from './math';\n\nexport function within(min: number, value: number, max: number): number {\n  return mathMax(min, mathMin(value, max));\n}\n\nexport function withinMaxClamp(min: number, value: number, max: number) {\n  const v = within(min, value, max);\n  return v > max ? max : v;\n}\n", "// @flow\nimport { top, left, right, bottom, start } from '../enums';\nimport type { Placement, Boundary, RootBoundary } from '../enums';\nimport type { Rect, ModifierArguments, Modifier, Padding } from '../types';\nimport getBasePlacement from '../utils/getBasePlacement';\nimport getMainAxisFromPlacement from '../utils/getMainAxisFromPlacement';\nimport getAltAxis from '../utils/getAltAxis';\nimport { within, withinMaxClamp } from '../utils/within';\nimport getLayoutRect from '../dom-utils/getLayoutRect';\nimport getOffsetParent from '../dom-utils/getOffsetParent';\nimport detectOverflow from '../utils/detectOverflow';\nimport getVariation from '../utils/getVariation';\nimport getFreshSideObject from '../utils/getFreshSideObject';\nimport { min as mathMin, max as mathMax } from '../utils/math';\n\ntype TetherOffset =\n  | (({\n      popper: Rect,\n      reference: Rect,\n      placement: Placement,\n    }) => number | { mainAxis: number, altAxis: number })\n  | number\n  | { mainAxis: number, altAxis: number };\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  /* Prevents boundaries overflow on the main axis */\n  mainAxis: boolean,\n  /* Prevents boundaries overflow on the alternate axis */\n  altAxis: boolean,\n  /* The area to check the popper is overflowing in */\n  boundary: Boundary,\n  /* If the popper is not overflowing the main area, fallback to this one */\n  rootBoundary: RootBoundary,\n  /* Use the reference's \"clippingParents\" boundary context */\n  altBoundary: boolean,\n  /**\n   * Allows the popper to overflow from its boundaries to keep it near its\n   * reference element\n   */\n  tether: boolean,\n  /* Offsets when the `tether` option should activate */\n  tetherOffset: TetherOffset,\n  /* Sets a padding to the provided boundary */\n  padding: Padding,\n};\n\nfunction preventOverflow({ state, options, name }: ModifierArguments<Options>) {\n  const {\n    mainAxis: checkMainAxis = true,\n    altAxis: checkAltAxis = false,\n    boundary,\n    rootBoundary,\n    altBoundary,\n    padding,\n    tether = true,\n    tetherOffset = 0,\n  } = options;\n\n  const overflow = detectOverflow(state, {\n    boundary,\n    rootBoundary,\n    padding,\n    altBoundary,\n  });\n  const basePlacement = getBasePlacement(state.placement);\n  const variation = getVariation(state.placement);\n  const isBasePlacement = !variation;\n  const mainAxis = getMainAxisFromPlacement(basePlacement);\n  const altAxis = getAltAxis(mainAxis);\n  const popperOffsets = state.modifiersData.popperOffsets;\n  const referenceRect = state.rects.reference;\n  const popperRect = state.rects.popper;\n  const tetherOffsetValue =\n    typeof tetherOffset === 'function'\n      ? tetherOffset({\n          ...state.rects,\n          placement: state.placement,\n        })\n      : tetherOffset;\n  const normalizedTetherOffsetValue =\n    typeof tetherOffsetValue === 'number'\n      ? { mainAxis: tetherOffsetValue, altAxis: tetherOffsetValue }\n      : { mainAxis: 0, altAxis: 0, ...tetherOffsetValue };\n  const offsetModifierState = state.modifiersData.offset\n    ? state.modifiersData.offset[state.placement]\n    : null;\n\n  const data = { x: 0, y: 0 };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    const mainSide = mainAxis === 'y' ? top : left;\n    const altSide = mainAxis === 'y' ? bottom : right;\n    const len = mainAxis === 'y' ? 'height' : 'width';\n    const offset = popperOffsets[mainAxis];\n\n    const min = offset + overflow[mainSide];\n    const max = offset - overflow[altSide];\n\n    const additive = tether ? -popperRect[len] / 2 : 0;\n\n    const minLen = variation === start ? referenceRect[len] : popperRect[len];\n    const maxLen = variation === start ? -popperRect[len] : -referenceRect[len];\n\n    // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n    const arrowElement = state.elements.arrow;\n    const arrowRect =\n      tether && arrowElement\n        ? getLayoutRect(arrowElement)\n        : { width: 0, height: 0 };\n    const arrowPaddingObject = state.modifiersData['arrow#persistent']\n      ? state.modifiersData['arrow#persistent'].padding\n      : getFreshSideObject();\n    const arrowPaddingMin = arrowPaddingObject[mainSide];\n    const arrowPaddingMax = arrowPaddingObject[altSide];\n\n    // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n    const arrowLen = within(0, referenceRect[len], arrowRect[len]);\n\n    const minOffset = isBasePlacement\n      ? referenceRect[len] / 2 -\n        additive -\n        arrowLen -\n        arrowPaddingMin -\n        normalizedTetherOffsetValue.mainAxis\n      : minLen -\n        arrowLen -\n        arrowPaddingMin -\n        normalizedTetherOffsetValue.mainAxis;\n    const maxOffset = isBasePlacement\n      ? -referenceRect[len] / 2 +\n        additive +\n        arrowLen +\n        arrowPaddingMax +\n        normalizedTetherOffsetValue.mainAxis\n      : maxLen +\n        arrowLen +\n        arrowPaddingMax +\n        normalizedTetherOffsetValue.mainAxis;\n\n    const arrowOffsetParent =\n      state.elements.arrow && getOffsetParent(state.elements.arrow);\n    const clientOffset = arrowOffsetParent\n      ? mainAxis === 'y'\n        ? arrowOffsetParent.clientTop || 0\n        : arrowOffsetParent.clientLeft || 0\n      : 0;\n\n    const offsetModifierValue = offsetModifierState?.[mainAxis] ?? 0;\n    const tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    const tetherMax = offset + maxOffset - offsetModifierValue;\n\n    const preventedOffset = within(\n      tether ? mathMin(min, tetherMin) : min,\n      offset,\n      tether ? mathMax(max, tetherMax) : max\n    );\n\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    const mainSide = mainAxis === 'x' ? top : left;\n    const altSide = mainAxis === 'x' ? bottom : right;\n    const offset = popperOffsets[altAxis];\n\n    const len = altAxis === 'y' ? 'height' : 'width';\n\n    const min = offset + overflow[mainSide];\n    const max = offset - overflow[altSide];\n\n    const isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    const offsetModifierValue = offsetModifierState?.[altAxis] ?? 0;\n    const tetherMin = isOriginSide\n      ? min\n      : offset -\n        referenceRect[len] -\n        popperRect[len] -\n        offsetModifierValue +\n        normalizedTetherOffsetValue.altAxis;\n    const tetherMax = isOriginSide\n      ? offset +\n        referenceRect[len] +\n        popperRect[len] -\n        offsetModifierValue -\n        normalizedTetherOffsetValue.altAxis\n      : max;\n\n    const preventedOffset =\n      tether && isOriginSide\n        ? withinMaxClamp(tetherMin, offset, tetherMax)\n        : within(tether ? tetherMin : min, offset, tether ? tetherMax : max);\n\n    popperOffsets[altAxis] = preventedOffset;\n    data[altAxis] = preventedOffset - offset;\n  }\n\n  state.modifiersData[name] = data;\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type PreventOverflowModifier = Modifier<'preventOverflow', Options>;\nexport default ({\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset'],\n}: PreventOverflowModifier);\n", "// @flow\nimport type { Modifier, ModifierArguments, Padding, Rect } from '../types';\nimport type { Placement } from '../enums';\nimport getBasePlacement from '../utils/getBasePlacement';\nimport getLayoutRect from '../dom-utils/getLayoutRect';\nimport contains from '../dom-utils/contains';\nimport getOffsetParent from '../dom-utils/getOffsetParent';\nimport getMainAxisFromPlacement from '../utils/getMainAxisFromPlacement';\nimport { within } from '../utils/within';\nimport mergePaddingObject from '../utils/mergePaddingObject';\nimport expandToHashMap from '../utils/expandToHashMap';\nimport { left, right, basePlacements, top, bottom } from '../enums';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  element: HTMLElement | string | null,\n  padding:\n    | Padding\n    | (({|\n        popper: Rect,\n        reference: Rect,\n        placement: Placement,\n      |}) => Padding),\n};\n\nconst toPaddingObject = (padding, state) => {\n  padding =\n    typeof padding === 'function'\n      ? padding({ ...state.rects, placement: state.placement })\n      : padding;\n\n  return mergePaddingObject(\n    typeof padding !== 'number'\n      ? padding\n      : expandToHashMap(padding, basePlacements)\n  );\n};\n\nfunction arrow({ state, name, options }: ModifierArguments<Options>) {\n  const arrowElement = state.elements.arrow;\n  const popperOffsets = state.modifiersData.popperOffsets;\n  const basePlacement = getBasePlacement(state.placement);\n  const axis = getMainAxisFromPlacement(basePlacement);\n  const isVertical = [left, right].indexOf(basePlacement) >= 0;\n  const len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  const paddingObject = toPaddingObject(options.padding, state);\n  const arrowRect = getLayoutRect(arrowElement);\n  const minProp = axis === 'y' ? top : left;\n  const maxProp = axis === 'y' ? bottom : right;\n\n  const endDiff =\n    state.rects.reference[len] +\n    state.rects.reference[axis] -\n    popperOffsets[axis] -\n    state.rects.popper[len];\n  const startDiff = popperOffsets[axis] - state.rects.reference[axis];\n\n  const arrowOffsetParent = getOffsetParent(arrowElement);\n  const clientSize = arrowOffsetParent\n    ? axis === 'y'\n      ? arrowOffsetParent.clientHeight || 0\n      : arrowOffsetParent.clientWidth || 0\n    : 0;\n\n  const centerToReference = endDiff / 2 - startDiff / 2;\n\n  // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n  const min = paddingObject[minProp];\n  const max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  const center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  const offset = within(min, center, max);\n\n  // Prevents breaking syntax highlighting...\n  const axisProp: string = axis;\n  state.modifiersData[name] = {\n    [axisProp]: offset,\n    centerOffset: offset - center,\n  };\n}\n\nfunction effect({ state, options }: ModifierArguments<Options>) {\n  let { element: arrowElement = '[data-popper-arrow]' } = options;\n\n  if (arrowElement == null) {\n    return;\n  }\n\n  // CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type ArrowModifier = Modifier<'arrow', Options>;\nexport default ({\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow'],\n}: ArrowModifier);\n", "// @flow\nimport type {\n  ModifierArguments,\n  Modifier,\n  Rect,\n  SideObject,\n  Offsets,\n} from '../types';\nimport { top, bottom, left, right } from '../enums';\nimport detectOverflow from '../utils/detectOverflow';\n\nfunction getSideOffsets(\n  overflow: SideObject,\n  rect: Rect,\n  preventedOffsets: Offsets = { x: 0, y: 0 }\n): SideObject {\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x,\n  };\n}\n\nfunction isAnySideFullyClipped(overflow: SideObject): boolean {\n  return [top, right, bottom, left].some((side) => overflow[side] >= 0);\n}\n\nfunction hide({ state, name }: ModifierArguments<{||}>) {\n  const referenceRect = state.rects.reference;\n  const popperRect = state.rects.popper;\n  const preventedOffsets = state.modifiersData.preventOverflow;\n\n  const referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference',\n  });\n  const popperAltOverflow = detectOverflow(state, {\n    altBoundary: true,\n  });\n\n  const referenceClippingOffsets = getSideOffsets(\n    referenceOverflow,\n    referenceRect\n  );\n  const popperEscapeOffsets = getSideOffsets(\n    popperAltOverflow,\n    popperRect,\n    preventedOffsets\n  );\n\n  const isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  const hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n\n  state.modifiersData[name] = {\n    referenceClippingOffsets,\n    popperEscapeOffsets,\n    isReferenceHidden,\n    hasPopperEscaped,\n  };\n\n  state.attributes.popper = {\n    ...state.attributes.popper,\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped,\n  };\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type HideModifier = Modifier<'hide', {||}>;\nexport default ({\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide,\n}: HideModifier);\n", "// @flow\nimport { popperGenerator, detectOverflow } from './createPopper';\n\nimport eventListeners from './modifiers/eventListeners';\nimport popperOffsets from './modifiers/popperOffsets';\nimport computeStyles from './modifiers/computeStyles';\nimport applyStyles from './modifiers/applyStyles';\n\nexport type * from './types';\n\nconst defaultModifiers = [\n  eventListeners,\n  popperOffsets,\n  computeStyles,\n  applyStyles,\n];\n\nconst createPopper = popperGenerator({ defaultModifiers });\n\n// eslint-disable-next-line import/no-unused-modules\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };\n", "// @flow\nimport { popperGenerator, detectOverflow } from './createPopper';\n\nimport eventListeners from './modifiers/eventListeners';\nimport popperOffsets from './modifiers/popperOffsets';\nimport computeStyles from './modifiers/computeStyles';\nimport applyStyles from './modifiers/applyStyles';\nimport offset from './modifiers/offset';\nimport flip from './modifiers/flip';\nimport preventOverflow from './modifiers/preventOverflow';\nimport arrow from './modifiers/arrow';\nimport hide from './modifiers/hide';\n\nexport type * from './types';\n\nconst defaultModifiers = [\n  eventListeners,\n  popperOffsets,\n  computeStyles,\n  applyStyles,\n  offset,\n  flip,\n  preventOverflow,\n  arrow,\n  hide,\n];\n\nconst createPopper = popperGenerator({ defaultModifiers });\n\n// eslint-disable-next-line import/no-unused-modules\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };\n// eslint-disable-next-line import/no-unused-modules\nexport { createPopper as createPopperLite } from './popper-lite';\n// eslint-disable-next-line import/no-unused-modules\nexport * from './modifiers';\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/data.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n/**\n * Constants\n */\n\nconst elementMap = new Map()\n\nexport default {\n  set(element, key, instance) {\n    if (!elementMap.has(element)) {\n      elementMap.set(element, new Map())\n    }\n\n    const instanceMap = elementMap.get(element)\n\n    // make it clear we only want one instance per element\n    // can be removed later when multiple key/instances are fine to be used\n    if (!instanceMap.has(key) && instanceMap.size !== 0) {\n      // eslint-disable-next-line no-console\n      console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(instanceMap.keys())[0]}.`)\n      return\n    }\n\n    instanceMap.set(key, instance)\n  },\n\n  get(element, key) {\n    if (elementMap.has(element)) {\n      return elementMap.get(element).get(key) || null\n    }\n\n    return null\n  },\n\n  remove(element, key) {\n    if (!elementMap.has(element)) {\n      return\n    }\n\n    const instanceMap = elementMap.get(element)\n\n    instanceMap.delete(key)\n\n    // free up element references if there are no instances left for an element\n    if (instanceMap.size === 0) {\n      elementMap.delete(element)\n    }\n  }\n}\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/index.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MAX_UID = 1_000_000\nconst MILLISECONDS_MULTIPLIER = 1000\nconst TRANSITION_END = 'transitionend'\n\n/**\n * Properly escape IDs selectors to handle weird IDs\n * @param {string} selector\n * @returns {string}\n */\nconst parseSelector = selector => {\n  if (selector && window.CSS && window.CSS.escape) {\n    // document.querySelector needs escaping to handle IDs (html5+) containing for instance /\n    selector = selector.replace(/#([^\\s\"#']+)/g, (match, id) => `#${CSS.escape(id)}`)\n  }\n\n  return selector\n}\n\n// Shout-out Angus Croll (https://goo.gl/pxwQGp)\nconst toType = object => {\n  if (object === null || object === undefined) {\n    return `${object}`\n  }\n\n  return Object.prototype.toString.call(object).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\n/**\n * Public Util API\n */\n\nconst getUID = prefix => {\n  do {\n    prefix += Math.floor(Math.random() * MAX_UID)\n  } while (document.getElementById(prefix))\n\n  return prefix\n}\n\nconst getTransitionDurationFromElement = element => {\n  if (!element) {\n    return 0\n  }\n\n  // Get transition-duration of the element\n  let { transitionDuration, transitionDelay } = window.getComputedStyle(element)\n\n  const floatTransitionDuration = Number.parseFloat(transitionDuration)\n  const floatTransitionDelay = Number.parseFloat(transitionDelay)\n\n  // Return 0 if element or transition duration is not found\n  if (!floatTransitionDuration && !floatTransitionDelay) {\n    return 0\n  }\n\n  // If multiple durations are defined, take the first\n  transitionDuration = transitionDuration.split(',')[0]\n  transitionDelay = transitionDelay.split(',')[0]\n\n  return (Number.parseFloat(transitionDuration) + Number.parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER\n}\n\nconst triggerTransitionEnd = element => {\n  element.dispatchEvent(new Event(TRANSITION_END))\n}\n\nconst isElement = object => {\n  if (!object || typeof object !== 'object') {\n    return false\n  }\n\n  if (typeof object.jquery !== 'undefined') {\n    object = object[0]\n  }\n\n  return typeof object.nodeType !== 'undefined'\n}\n\nconst getElement = object => {\n  // it's a jQuery object or a node element\n  if (isElement(object)) {\n    return object.jquery ? object[0] : object\n  }\n\n  if (typeof object === 'string' && object.length > 0) {\n    return document.querySelector(parseSelector(object))\n  }\n\n  return null\n}\n\nconst isVisible = element => {\n  if (!isElement(element) || element.getClientRects().length === 0) {\n    return false\n  }\n\n  const elementIsVisible = getComputedStyle(element).getPropertyValue('visibility') === 'visible'\n  // Handle `details` element as its content may falsie appear visible when it is closed\n  const closedDetails = element.closest('details:not([open])')\n\n  if (!closedDetails) {\n    return elementIsVisible\n  }\n\n  if (closedDetails !== element) {\n    const summary = element.closest('summary')\n    if (summary && summary.parentNode !== closedDetails) {\n      return false\n    }\n\n    if (summary === null) {\n      return false\n    }\n  }\n\n  return elementIsVisible\n}\n\nconst isDisabled = element => {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    return true\n  }\n\n  if (element.classList.contains('disabled')) {\n    return true\n  }\n\n  if (typeof element.disabled !== 'undefined') {\n    return element.disabled\n  }\n\n  return element.hasAttribute('disabled') && element.getAttribute('disabled') !== 'false'\n}\n\nconst findShadowRoot = element => {\n  if (!document.documentElement.attachShadow) {\n    return null\n  }\n\n  // Can find the shadow root otherwise it'll return the document\n  if (typeof element.getRootNode === 'function') {\n    const root = element.getRootNode()\n    return root instanceof ShadowRoot ? root : null\n  }\n\n  if (element instanceof ShadowRoot) {\n    return element\n  }\n\n  // when we don't find a shadow root\n  if (!element.parentNode) {\n    return null\n  }\n\n  return findShadowRoot(element.parentNode)\n}\n\nconst noop = () => {}\n\n/**\n * Trick to restart an element's animation\n *\n * @param {HTMLElement} element\n * @return void\n *\n * @see https://www.charistheo.io/blog/2021/02/restart-a-css-animation-with-javascript/#restarting-a-css-animation\n */\nconst reflow = element => {\n  element.offsetHeight // eslint-disable-line no-unused-expressions\n}\n\nconst getjQuery = () => {\n  if (window.jQuery && !document.body.hasAttribute('data-bs-no-jquery')) {\n    return window.jQuery\n  }\n\n  return null\n}\n\nconst DOMContentLoadedCallbacks = []\n\nconst onDOMContentLoaded = callback => {\n  if (document.readyState === 'loading') {\n    // add listener on the first call when the document is in loading state\n    if (!DOMContentLoadedCallbacks.length) {\n      document.addEventListener('DOMContentLoaded', () => {\n        for (const callback of DOMContentLoadedCallbacks) {\n          callback()\n        }\n      })\n    }\n\n    DOMContentLoadedCallbacks.push(callback)\n  } else {\n    callback()\n  }\n}\n\nconst isRTL = () => document.documentElement.dir === 'rtl'\n\nconst defineJQueryPlugin = plugin => {\n  onDOMContentLoaded(() => {\n    const $ = getjQuery()\n    /* istanbul ignore if */\n    if ($) {\n      const name = plugin.NAME\n      const JQUERY_NO_CONFLICT = $.fn[name]\n      $.fn[name] = plugin.jQueryInterface\n      $.fn[name].Constructor = plugin\n      $.fn[name].noConflict = () => {\n        $.fn[name] = JQUERY_NO_CONFLICT\n        return plugin.jQueryInterface\n      }\n    }\n  })\n}\n\nconst execute = (possibleCallback, args = [], defaultValue = possibleCallback) => {\n  return typeof possibleCallback === 'function' ? possibleCallback(...args) : defaultValue\n}\n\nconst executeAfterTransition = (callback, transitionElement, waitForTransition = true) => {\n  if (!waitForTransition) {\n    execute(callback)\n    return\n  }\n\n  const durationPadding = 5\n  const emulatedDuration = getTransitionDurationFromElement(transitionElement) + durationPadding\n\n  let called = false\n\n  const handler = ({ target }) => {\n    if (target !== transitionElement) {\n      return\n    }\n\n    called = true\n    transitionElement.removeEventListener(TRANSITION_END, handler)\n    execute(callback)\n  }\n\n  transitionElement.addEventListener(TRANSITION_END, handler)\n  setTimeout(() => {\n    if (!called) {\n      triggerTransitionEnd(transitionElement)\n    }\n  }, emulatedDuration)\n}\n\n/**\n * Return the previous/next element of a list.\n *\n * @param {array} list    The list of elements\n * @param activeElement   The active element\n * @param shouldGetNext   Choose to get next or previous element\n * @param isCycleAllowed\n * @return {Element|elem} The proper element\n */\nconst getNextActiveElement = (list, activeElement, shouldGetNext, isCycleAllowed) => {\n  const listLength = list.length\n  let index = list.indexOf(activeElement)\n\n  // if the element does not exist in the list return an element\n  // depending on the direction and if cycle is allowed\n  if (index === -1) {\n    return !shouldGetNext && isCycleAllowed ? list[listLength - 1] : list[0]\n  }\n\n  index += shouldGetNext ? 1 : -1\n\n  if (isCycleAllowed) {\n    index = (index + listLength) % listLength\n  }\n\n  return list[Math.max(0, Math.min(index, listLength - 1))]\n}\n\nexport {\n  defineJQueryPlugin,\n  execute,\n  executeAfterTransition,\n  findShadowRoot,\n  getElement,\n  getjQuery,\n  getNextActiveElement,\n  getTransitionDurationFromElement,\n  getUID,\n  isDisabled,\n  isElement,\n  isRTL,\n  isVisible,\n  noop,\n  onDOMContentLoaded,\n  parseSelector,\n  reflow,\n  triggerTransitionEnd,\n  toType\n}\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/event-handler.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { getjQuery } from '../util/index.js'\n\n/**\n * Constants\n */\n\nconst namespaceRegex = /[^.]*(?=\\..*)\\.|.*/\nconst stripNameRegex = /\\..*/\nconst stripUidRegex = /::\\d+$/\nconst eventRegistry = {} // Events storage\nlet uidEvent = 1\nconst customEvents = {\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout'\n}\n\nconst nativeEvents = new Set([\n  'click',\n  'dblclick',\n  'mouseup',\n  'mousedown',\n  'contextmenu',\n  'mousewheel',\n  'DOMMouseScroll',\n  'mouseover',\n  'mouseout',\n  'mousemove',\n  'selectstart',\n  'selectend',\n  'keydown',\n  'keypress',\n  'keyup',\n  'orientationchange',\n  'touchstart',\n  'touchmove',\n  'touchend',\n  'touchcancel',\n  'pointerdown',\n  'pointermove',\n  'pointerup',\n  'pointerleave',\n  'pointercancel',\n  'gesturestart',\n  'gesturechange',\n  'gestureend',\n  'focus',\n  'blur',\n  'change',\n  'reset',\n  'select',\n  'submit',\n  'focusin',\n  'focusout',\n  'load',\n  'unload',\n  'beforeunload',\n  'resize',\n  'move',\n  'DOMContentLoaded',\n  'readystatechange',\n  'error',\n  'abort',\n  'scroll'\n])\n\n/**\n * Private methods\n */\n\nfunction makeEventUid(element, uid) {\n  return (uid && `${uid}::${uidEvent++}`) || element.uidEvent || uidEvent++\n}\n\nfunction getElementEvents(element) {\n  const uid = makeEventUid(element)\n\n  element.uidEvent = uid\n  eventRegistry[uid] = eventRegistry[uid] || {}\n\n  return eventRegistry[uid]\n}\n\nfunction bootstrapHandler(element, fn) {\n  return function handler(event) {\n    hydrateObj(event, { delegateTarget: element })\n\n    if (handler.oneOff) {\n      EventHandler.off(element, event.type, fn)\n    }\n\n    return fn.apply(element, [event])\n  }\n}\n\nfunction bootstrapDelegationHandler(element, selector, fn) {\n  return function handler(event) {\n    const domElements = element.querySelectorAll(selector)\n\n    for (let { target } = event; target && target !== this; target = target.parentNode) {\n      for (const domElement of domElements) {\n        if (domElement !== target) {\n          continue\n        }\n\n        hydrateObj(event, { delegateTarget: target })\n\n        if (handler.oneOff) {\n          EventHandler.off(element, event.type, selector, fn)\n        }\n\n        return fn.apply(target, [event])\n      }\n    }\n  }\n}\n\nfunction findHandler(events, callable, delegationSelector = null) {\n  return Object.values(events)\n    .find(event => event.callable === callable && event.delegationSelector === delegationSelector)\n}\n\nfunction normalizeParameters(originalTypeEvent, handler, delegationFunction) {\n  const isDelegated = typeof handler === 'string'\n  // TODO: tooltip passes `false` instead of selector, so we need to check\n  const callable = isDelegated ? delegationFunction : (handler || delegationFunction)\n  let typeEvent = getTypeEvent(originalTypeEvent)\n\n  if (!nativeEvents.has(typeEvent)) {\n    typeEvent = originalTypeEvent\n  }\n\n  return [isDelegated, callable, typeEvent]\n}\n\nfunction addHandler(element, originalTypeEvent, handler, delegationFunction, oneOff) {\n  if (typeof originalTypeEvent !== 'string' || !element) {\n    return\n  }\n\n  let [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction)\n\n  // in case of mouseenter or mouseleave wrap the handler within a function that checks for its DOM position\n  // this prevents the handler from being dispatched the same way as mouseover or mouseout does\n  if (originalTypeEvent in customEvents) {\n    const wrapFunction = fn => {\n      return function (event) {\n        if (!event.relatedTarget || (event.relatedTarget !== event.delegateTarget && !event.delegateTarget.contains(event.relatedTarget))) {\n          return fn.call(this, event)\n        }\n      }\n    }\n\n    callable = wrapFunction(callable)\n  }\n\n  const events = getElementEvents(element)\n  const handlers = events[typeEvent] || (events[typeEvent] = {})\n  const previousFunction = findHandler(handlers, callable, isDelegated ? handler : null)\n\n  if (previousFunction) {\n    previousFunction.oneOff = previousFunction.oneOff && oneOff\n\n    return\n  }\n\n  const uid = makeEventUid(callable, originalTypeEvent.replace(namespaceRegex, ''))\n  const fn = isDelegated ?\n    bootstrapDelegationHandler(element, handler, callable) :\n    bootstrapHandler(element, callable)\n\n  fn.delegationSelector = isDelegated ? handler : null\n  fn.callable = callable\n  fn.oneOff = oneOff\n  fn.uidEvent = uid\n  handlers[uid] = fn\n\n  element.addEventListener(typeEvent, fn, isDelegated)\n}\n\nfunction removeHandler(element, events, typeEvent, handler, delegationSelector) {\n  const fn = findHandler(events[typeEvent], handler, delegationSelector)\n\n  if (!fn) {\n    return\n  }\n\n  element.removeEventListener(typeEvent, fn, Boolean(delegationSelector))\n  delete events[typeEvent][fn.uidEvent]\n}\n\nfunction removeNamespacedHandlers(element, events, typeEvent, namespace) {\n  const storeElementEvent = events[typeEvent] || {}\n\n  for (const [handlerKey, event] of Object.entries(storeElementEvent)) {\n    if (handlerKey.includes(namespace)) {\n      removeHandler(element, events, typeEvent, event.callable, event.delegationSelector)\n    }\n  }\n}\n\nfunction getTypeEvent(event) {\n  // allow to get the native events from namespaced events ('click.bs.button' --> 'click')\n  event = event.replace(stripNameRegex, '')\n  return customEvents[event] || event\n}\n\nconst EventHandler = {\n  on(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, false)\n  },\n\n  one(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, true)\n  },\n\n  off(element, originalTypeEvent, handler, delegationFunction) {\n    if (typeof originalTypeEvent !== 'string' || !element) {\n      return\n    }\n\n    const [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction)\n    const inNamespace = typeEvent !== originalTypeEvent\n    const events = getElementEvents(element)\n    const storeElementEvent = events[typeEvent] || {}\n    const isNamespace = originalTypeEvent.startsWith('.')\n\n    if (typeof callable !== 'undefined') {\n      // Simplest case: handler is passed, remove that listener ONLY.\n      if (!Object.keys(storeElementEvent).length) {\n        return\n      }\n\n      removeHandler(element, events, typeEvent, callable, isDelegated ? handler : null)\n      return\n    }\n\n    if (isNamespace) {\n      for (const elementEvent of Object.keys(events)) {\n        removeNamespacedHandlers(element, events, elementEvent, originalTypeEvent.slice(1))\n      }\n    }\n\n    for (const [keyHandlers, event] of Object.entries(storeElementEvent)) {\n      const handlerKey = keyHandlers.replace(stripUidRegex, '')\n\n      if (!inNamespace || originalTypeEvent.includes(handlerKey)) {\n        removeHandler(element, events, typeEvent, event.callable, event.delegationSelector)\n      }\n    }\n  },\n\n  trigger(element, event, args) {\n    if (typeof event !== 'string' || !element) {\n      return null\n    }\n\n    const $ = getjQuery()\n    const typeEvent = getTypeEvent(event)\n    const inNamespace = event !== typeEvent\n\n    let jQueryEvent = null\n    let bubbles = true\n    let nativeDispatch = true\n    let defaultPrevented = false\n\n    if (inNamespace && $) {\n      jQueryEvent = $.Event(event, args)\n\n      $(element).trigger(jQueryEvent)\n      bubbles = !jQueryEvent.isPropagationStopped()\n      nativeDispatch = !jQueryEvent.isImmediatePropagationStopped()\n      defaultPrevented = jQueryEvent.isDefaultPrevented()\n    }\n\n    const evt = hydrateObj(new Event(event, { bubbles, cancelable: true }), args)\n\n    if (defaultPrevented) {\n      evt.preventDefault()\n    }\n\n    if (nativeDispatch) {\n      element.dispatchEvent(evt)\n    }\n\n    if (evt.defaultPrevented && jQueryEvent) {\n      jQueryEvent.preventDefault()\n    }\n\n    return evt\n  }\n}\n\nfunction hydrateObj(obj, meta = {}) {\n  for (const [key, value] of Object.entries(meta)) {\n    try {\n      obj[key] = value\n    } catch {\n      Object.defineProperty(obj, key, {\n        configurable: true,\n        get() {\n          return value\n        }\n      })\n    }\n  }\n\n  return obj\n}\n\nexport default EventHandler\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/manipulator.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nfunction normalizeData(value) {\n  if (value === 'true') {\n    return true\n  }\n\n  if (value === 'false') {\n    return false\n  }\n\n  if (value === Number(value).toString()) {\n    return Number(value)\n  }\n\n  if (value === '' || value === 'null') {\n    return null\n  }\n\n  if (typeof value !== 'string') {\n    return value\n  }\n\n  try {\n    return JSON.parse(decodeURIComponent(value))\n  } catch {\n    return value\n  }\n}\n\nfunction normalizeDataKey(key) {\n  return key.replace(/[A-Z]/g, chr => `-${chr.toLowerCase()}`)\n}\n\nconst Manipulator = {\n  setDataAttribute(element, key, value) {\n    element.setAttribute(`data-bs-${normalizeDataKey(key)}`, value)\n  },\n\n  removeDataAttribute(element, key) {\n    element.removeAttribute(`data-bs-${normalizeDataKey(key)}`)\n  },\n\n  getDataAttributes(element) {\n    if (!element) {\n      return {}\n    }\n\n    const attributes = {}\n    const bsKeys = Object.keys(element.dataset).filter(key => key.startsWith('bs') && !key.startsWith('bsConfig'))\n\n    for (const key of bsKeys) {\n      let pureKey = key.replace(/^bs/, '')\n      pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1, pureKey.length)\n      attributes[pureKey] = normalizeData(element.dataset[key])\n    }\n\n    return attributes\n  },\n\n  getDataAttribute(element, key) {\n    return normalizeData(element.getAttribute(`data-bs-${normalizeDataKey(key)}`))\n  }\n}\n\nexport default Manipulator\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/config.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Manipulator from '../dom/manipulator.js'\nimport { isElement, toType } from './index.js'\n\n/**\n * Class definition\n */\n\nclass Config {\n  // Getters\n  static get Default() {\n    return {}\n  }\n\n  static get DefaultType() {\n    return {}\n  }\n\n  static get NAME() {\n    throw new Error('You have to implement the static method \"NAME\", for each component!')\n  }\n\n  _getConfig(config) {\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  _configAfterMerge(config) {\n    return config\n  }\n\n  _mergeConfigObj(config, element) {\n    const jsonConfig = isElement(element) ? Manipulator.getDataAttribute(element, 'config') : {} // try to parse\n\n    return {\n      ...this.constructor.Default,\n      ...(typeof jsonConfig === 'object' ? jsonConfig : {}),\n      ...(isElement(element) ? Manipulator.getDataAttributes(element) : {}),\n      ...(typeof config === 'object' ? config : {})\n    }\n  }\n\n  _typeCheckConfig(config, configTypes = this.constructor.DefaultType) {\n    for (const [property, expectedTypes] of Object.entries(configTypes)) {\n      const value = config[property]\n      const valueType = isElement(value) ? 'element' : toType(value)\n\n      if (!new RegExp(expectedTypes).test(valueType)) {\n        throw new TypeError(\n          `${this.constructor.NAME.toUpperCase()}: Option \"${property}\" provided type \"${valueType}\" but expected type \"${expectedTypes}\".`\n        )\n      }\n    }\n  }\n}\n\nexport default Config\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap base-component.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Data from './dom/data.js'\nimport EventHandler from './dom/event-handler.js'\nimport Config from './util/config.js'\nimport { executeAfterTransition, getElement } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst VERSION = '5.3.3'\n\n/**\n * Class definition\n */\n\nclass BaseComponent extends Config {\n  constructor(element, config) {\n    super()\n\n    element = getElement(element)\n    if (!element) {\n      return\n    }\n\n    this._element = element\n    this._config = this._getConfig(config)\n\n    Data.set(this._element, this.constructor.DATA_KEY, this)\n  }\n\n  // Public\n  dispose() {\n    Data.remove(this._element, this.constructor.DATA_KEY)\n    EventHandler.off(this._element, this.constructor.EVENT_KEY)\n\n    for (const propertyName of Object.getOwnPropertyNames(this)) {\n      this[propertyName] = null\n    }\n  }\n\n  _queueCallback(callback, element, isAnimated = true) {\n    executeAfterTransition(callback, element, isAnimated)\n  }\n\n  _getConfig(config) {\n    config = this._mergeConfigObj(config, this._element)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  // Static\n  static getInstance(element) {\n    return Data.get(getElement(element), this.DATA_KEY)\n  }\n\n  static getOrCreateInstance(element, config = {}) {\n    return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null)\n  }\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get DATA_KEY() {\n    return `bs.${this.NAME}`\n  }\n\n  static get EVENT_KEY() {\n    return `.${this.DATA_KEY}`\n  }\n\n  static eventName(name) {\n    return `${name}${this.EVENT_KEY}`\n  }\n}\n\nexport default BaseComponent\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/selector-engine.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { isDisabled, isVisible, parseSelector } from '../util/index.js'\n\nconst getSelector = element => {\n  let selector = element.getAttribute('data-bs-target')\n\n  if (!selector || selector === '#') {\n    let hrefAttribute = element.getAttribute('href')\n\n    // The only valid content that could double as a selector are IDs or classes,\n    // so everything starting with `#` or `.`. If a \"real\" URL is used as the selector,\n    // `document.querySelector` will rightfully complain it is invalid.\n    // See https://github.com/twbs/bootstrap/issues/32273\n    if (!hrefAttribute || (!hrefAttribute.includes('#') && !hrefAttribute.startsWith('.'))) {\n      return null\n    }\n\n    // Just in case some CMS puts out a full URL with the anchor appended\n    if (hrefAttribute.includes('#') && !hrefAttribute.startsWith('#')) {\n      hrefAttribute = `#${hrefAttribute.split('#')[1]}`\n    }\n\n    selector = hrefAttribute && hrefAttribute !== '#' ? hrefAttribute.trim() : null\n  }\n\n  return selector ? selector.split(',').map(sel => parseSelector(sel)).join(',') : null\n}\n\nconst SelectorEngine = {\n  find(selector, element = document.documentElement) {\n    return [].concat(...Element.prototype.querySelectorAll.call(element, selector))\n  },\n\n  findOne(selector, element = document.documentElement) {\n    return Element.prototype.querySelector.call(element, selector)\n  },\n\n  children(element, selector) {\n    return [].concat(...element.children).filter(child => child.matches(selector))\n  },\n\n  parents(element, selector) {\n    const parents = []\n    let ancestor = element.parentNode.closest(selector)\n\n    while (ancestor) {\n      parents.push(ancestor)\n      ancestor = ancestor.parentNode.closest(selector)\n    }\n\n    return parents\n  },\n\n  prev(element, selector) {\n    let previous = element.previousElementSibling\n\n    while (previous) {\n      if (previous.matches(selector)) {\n        return [previous]\n      }\n\n      previous = previous.previousElementSibling\n    }\n\n    return []\n  },\n  // TODO: this is now unused; remove later along with prev()\n  next(element, selector) {\n    let next = element.nextElementSibling\n\n    while (next) {\n      if (next.matches(selector)) {\n        return [next]\n      }\n\n      next = next.nextElementSibling\n    }\n\n    return []\n  },\n\n  focusableChildren(element) {\n    const focusables = [\n      'a',\n      'button',\n      'input',\n      'textarea',\n      'select',\n      'details',\n      '[tabindex]',\n      '[contenteditable=\"true\"]'\n    ].map(selector => `${selector}:not([tabindex^=\"-\"])`).join(',')\n\n    return this.find(focusables, element).filter(el => !isDisabled(el) && isVisible(el))\n  },\n\n  getSelectorFromElement(element) {\n    const selector = getSelector(element)\n\n    if (selector) {\n      return SelectorEngine.findOne(selector) ? selector : null\n    }\n\n    return null\n  },\n\n  getElementFromSelector(element) {\n    const selector = getSelector(element)\n\n    return selector ? SelectorEngine.findOne(selector) : null\n  },\n\n  getMultipleElementsFromSelector(element) {\n    const selector = getSelector(element)\n\n    return selector ? SelectorEngine.find(selector) : []\n  }\n}\n\nexport default SelectorEngine\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/component-functions.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport SelectorEngine from '../dom/selector-engine.js'\nimport { isDisabled } from './index.js'\n\nconst enableDismissTrigger = (component, method = 'hide') => {\n  const clickEvent = `click.dismiss${component.EVENT_KEY}`\n  const name = component.NAME\n\n  EventHandler.on(document, clickEvent, `[data-bs-dismiss=\"${name}\"]`, function (event) {\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault()\n    }\n\n    if (isDisabled(this)) {\n      return\n    }\n\n    const target = SelectorEngine.getElementFromSelector(this) || this.closest(`.${name}`)\n    const instance = component.getOrCreateInstance(target)\n\n    // Method argument is left, for Alert and only, as it doesn't implement the 'hide' method\n    instance[method]()\n  })\n}\n\nexport {\n  enableDismissTrigger\n}\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'alert'\nconst DATA_KEY = 'bs.alert'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_CLOSE = `close${EVENT_KEY}`\nconst EVENT_CLOSED = `closed${EVENT_KEY}`\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\n\n/**\n * Class definition\n */\n\nclass Alert extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  close() {\n    const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE)\n\n    if (closeEvent.defaultPrevented) {\n      return\n    }\n\n    this._element.classList.remove(CLASS_NAME_SHOW)\n\n    const isAnimated = this._element.classList.contains(CLASS_NAME_FADE)\n    this._queueCallback(() => this._destroyElement(), this._element, isAnimated)\n  }\n\n  // Private\n  _destroyElement() {\n    this._element.remove()\n    EventHandler.trigger(this._element, EVENT_CLOSED)\n    this.dispose()\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Alert.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nenableDismissTrigger(Alert, 'close')\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Alert)\n\nexport default Alert\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap button.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'button'\nconst DATA_KEY = 'bs.button'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst CLASS_NAME_ACTIVE = 'active'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"button\"]'\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\n/**\n * Class definition\n */\n\nclass Button extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    // Toggle class and sync the `aria-pressed` attribute with the return value of the `.toggle()` method\n    this._element.setAttribute('aria-pressed', this._element.classList.toggle(CLASS_NAME_ACTIVE))\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Button.getOrCreateInstance(this)\n\n      if (config === 'toggle') {\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, event => {\n  event.preventDefault()\n\n  const button = event.target.closest(SELECTOR_DATA_TOGGLE)\n  const data = Button.getOrCreateInstance(button)\n\n  data.toggle()\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Button)\n\nexport default Button\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/swipe.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport Config from './config.js'\nimport { execute } from './index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'swipe'\nconst EVENT_KEY = '.bs.swipe'\nconst EVENT_TOUCHSTART = `touchstart${EVENT_KEY}`\nconst EVENT_TOUCHMOVE = `touchmove${EVENT_KEY}`\nconst EVENT_TOUCHEND = `touchend${EVENT_KEY}`\nconst EVENT_POINTERDOWN = `pointerdown${EVENT_KEY}`\nconst EVENT_POINTERUP = `pointerup${EVENT_KEY}`\nconst POINTER_TYPE_TOUCH = 'touch'\nconst POINTER_TYPE_PEN = 'pen'\nconst CLASS_NAME_POINTER_EVENT = 'pointer-event'\nconst SWIPE_THRESHOLD = 40\n\nconst Default = {\n  endCallback: null,\n  leftCallback: null,\n  rightCallback: null\n}\n\nconst DefaultType = {\n  endCallback: '(function|null)',\n  leftCallback: '(function|null)',\n  rightCallback: '(function|null)'\n}\n\n/**\n * Class definition\n */\n\nclass Swipe extends Config {\n  constructor(element, config) {\n    super()\n    this._element = element\n\n    if (!element || !Swipe.isSupported()) {\n      return\n    }\n\n    this._config = this._getConfig(config)\n    this._deltaX = 0\n    this._supportPointerEvents = Boolean(window.PointerEvent)\n    this._initEvents()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  dispose() {\n    EventHandler.off(this._element, EVENT_KEY)\n  }\n\n  // Private\n  _start(event) {\n    if (!this._supportPointerEvents) {\n      this._deltaX = event.touches[0].clientX\n\n      return\n    }\n\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX\n    }\n  }\n\n  _end(event) {\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX - this._deltaX\n    }\n\n    this._handleSwipe()\n    execute(this._config.endCallback)\n  }\n\n  _move(event) {\n    this._deltaX = event.touches && event.touches.length > 1 ?\n      0 :\n      event.touches[0].clientX - this._deltaX\n  }\n\n  _handleSwipe() {\n    const absDeltaX = Math.abs(this._deltaX)\n\n    if (absDeltaX <= SWIPE_THRESHOLD) {\n      return\n    }\n\n    const direction = absDeltaX / this._deltaX\n\n    this._deltaX = 0\n\n    if (!direction) {\n      return\n    }\n\n    execute(direction > 0 ? this._config.rightCallback : this._config.leftCallback)\n  }\n\n  _initEvents() {\n    if (this._supportPointerEvents) {\n      EventHandler.on(this._element, EVENT_POINTERDOWN, event => this._start(event))\n      EventHandler.on(this._element, EVENT_POINTERUP, event => this._end(event))\n\n      this._element.classList.add(CLASS_NAME_POINTER_EVENT)\n    } else {\n      EventHandler.on(this._element, EVENT_TOUCHSTART, event => this._start(event))\n      EventHandler.on(this._element, EVENT_TOUCHMOVE, event => this._move(event))\n      EventHandler.on(this._element, EVENT_TOUCHEND, event => this._end(event))\n    }\n  }\n\n  _eventIsPointerPenTouch(event) {\n    return this._supportPointerEvents && (event.pointerType === POINTER_TYPE_PEN || event.pointerType === POINTER_TYPE_TOUCH)\n  }\n\n  // Static\n  static isSupported() {\n    return 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0\n  }\n}\n\nexport default Swipe\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap carousel.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin,\n  getNextActiveElement,\n  isRTL,\n  isVisible,\n  reflow,\n  triggerTransitionEnd\n} from './util/index.js'\nimport Swipe from './util/swipe.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'carousel'\nconst DATA_KEY = 'bs.carousel'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst ARROW_LEFT_KEY = 'ArrowLeft'\nconst ARROW_RIGHT_KEY = 'ArrowRight'\nconst TOUCHEVENT_COMPAT_WAIT = 500 // Time for mouse compat events to fire after touch\n\nconst ORDER_NEXT = 'next'\nconst ORDER_PREV = 'prev'\nconst DIRECTION_LEFT = 'left'\nconst DIRECTION_RIGHT = 'right'\n\nconst EVENT_SLIDE = `slide${EVENT_KEY}`\nconst EVENT_SLID = `slid${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`\nconst EVENT_DRAG_START = `dragstart${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_CAROUSEL = 'carousel'\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_SLIDE = 'slide'\nconst CLASS_NAME_END = 'carousel-item-end'\nconst CLASS_NAME_START = 'carousel-item-start'\nconst CLASS_NAME_NEXT = 'carousel-item-next'\nconst CLASS_NAME_PREV = 'carousel-item-prev'\n\nconst SELECTOR_ACTIVE = '.active'\nconst SELECTOR_ITEM = '.carousel-item'\nconst SELECTOR_ACTIVE_ITEM = SELECTOR_ACTIVE + SELECTOR_ITEM\nconst SELECTOR_ITEM_IMG = '.carousel-item img'\nconst SELECTOR_INDICATORS = '.carousel-indicators'\nconst SELECTOR_DATA_SLIDE = '[data-bs-slide], [data-bs-slide-to]'\nconst SELECTOR_DATA_RIDE = '[data-bs-ride=\"carousel\"]'\n\nconst KEY_TO_DIRECTION = {\n  [ARROW_LEFT_KEY]: DIRECTION_RIGHT,\n  [ARROW_RIGHT_KEY]: DIRECTION_LEFT\n}\n\nconst Default = {\n  interval: 5000,\n  keyboard: true,\n  pause: 'hover',\n  ride: false,\n  touch: true,\n  wrap: true\n}\n\nconst DefaultType = {\n  interval: '(number|boolean)', // TODO:v6 remove boolean support\n  keyboard: 'boolean',\n  pause: '(string|boolean)',\n  ride: '(boolean|string)',\n  touch: 'boolean',\n  wrap: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Carousel extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._interval = null\n    this._activeElement = null\n    this._isSliding = false\n    this.touchTimeout = null\n    this._swipeHelper = null\n\n    this._indicatorsElement = SelectorEngine.findOne(SELECTOR_INDICATORS, this._element)\n    this._addEventListeners()\n\n    if (this._config.ride === CLASS_NAME_CAROUSEL) {\n      this.cycle()\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  next() {\n    this._slide(ORDER_NEXT)\n  }\n\n  nextWhenVisible() {\n    // FIXME TODO use `document.visibilityState`\n    // Don't call next when the page isn't visible\n    // or the carousel or its parent isn't visible\n    if (!document.hidden && isVisible(this._element)) {\n      this.next()\n    }\n  }\n\n  prev() {\n    this._slide(ORDER_PREV)\n  }\n\n  pause() {\n    if (this._isSliding) {\n      triggerTransitionEnd(this._element)\n    }\n\n    this._clearInterval()\n  }\n\n  cycle() {\n    this._clearInterval()\n    this._updateInterval()\n\n    this._interval = setInterval(() => this.nextWhenVisible(), this._config.interval)\n  }\n\n  _maybeEnableCycle() {\n    if (!this._config.ride) {\n      return\n    }\n\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.cycle())\n      return\n    }\n\n    this.cycle()\n  }\n\n  to(index) {\n    const items = this._getItems()\n    if (index > items.length - 1 || index < 0) {\n      return\n    }\n\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.to(index))\n      return\n    }\n\n    const activeIndex = this._getItemIndex(this._getActive())\n    if (activeIndex === index) {\n      return\n    }\n\n    const order = index > activeIndex ? ORDER_NEXT : ORDER_PREV\n\n    this._slide(order, items[index])\n  }\n\n  dispose() {\n    if (this._swipeHelper) {\n      this._swipeHelper.dispose()\n    }\n\n    super.dispose()\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    config.defaultInterval = config.interval\n    return config\n  }\n\n  _addEventListeners() {\n    if (this._config.keyboard) {\n      EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event))\n    }\n\n    if (this._config.pause === 'hover') {\n      EventHandler.on(this._element, EVENT_MOUSEENTER, () => this.pause())\n      EventHandler.on(this._element, EVENT_MOUSELEAVE, () => this._maybeEnableCycle())\n    }\n\n    if (this._config.touch && Swipe.isSupported()) {\n      this._addTouchEventListeners()\n    }\n  }\n\n  _addTouchEventListeners() {\n    for (const img of SelectorEngine.find(SELECTOR_ITEM_IMG, this._element)) {\n      EventHandler.on(img, EVENT_DRAG_START, event => event.preventDefault())\n    }\n\n    const endCallBack = () => {\n      if (this._config.pause !== 'hover') {\n        return\n      }\n\n      // If it's a touch-enabled device, mouseenter/leave are fired as\n      // part of the mouse compatibility events on first tap - the carousel\n      // would stop cycling until user tapped out of it;\n      // here, we listen for touchend, explicitly pause the carousel\n      // (as if it's the second time we tap on it, mouseenter compat event\n      // is NOT fired) and after a timeout (to allow for mouse compatibility\n      // events to fire) we explicitly restart cycling\n\n      this.pause()\n      if (this.touchTimeout) {\n        clearTimeout(this.touchTimeout)\n      }\n\n      this.touchTimeout = setTimeout(() => this._maybeEnableCycle(), TOUCHEVENT_COMPAT_WAIT + this._config.interval)\n    }\n\n    const swipeConfig = {\n      leftCallback: () => this._slide(this._directionToOrder(DIRECTION_LEFT)),\n      rightCallback: () => this._slide(this._directionToOrder(DIRECTION_RIGHT)),\n      endCallback: endCallBack\n    }\n\n    this._swipeHelper = new Swipe(this._element, swipeConfig)\n  }\n\n  _keydown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return\n    }\n\n    const direction = KEY_TO_DIRECTION[event.key]\n    if (direction) {\n      event.preventDefault()\n      this._slide(this._directionToOrder(direction))\n    }\n  }\n\n  _getItemIndex(element) {\n    return this._getItems().indexOf(element)\n  }\n\n  _setActiveIndicatorElement(index) {\n    if (!this._indicatorsElement) {\n      return\n    }\n\n    const activeIndicator = SelectorEngine.findOne(SELECTOR_ACTIVE, this._indicatorsElement)\n\n    activeIndicator.classList.remove(CLASS_NAME_ACTIVE)\n    activeIndicator.removeAttribute('aria-current')\n\n    const newActiveIndicator = SelectorEngine.findOne(`[data-bs-slide-to=\"${index}\"]`, this._indicatorsElement)\n\n    if (newActiveIndicator) {\n      newActiveIndicator.classList.add(CLASS_NAME_ACTIVE)\n      newActiveIndicator.setAttribute('aria-current', 'true')\n    }\n  }\n\n  _updateInterval() {\n    const element = this._activeElement || this._getActive()\n\n    if (!element) {\n      return\n    }\n\n    const elementInterval = Number.parseInt(element.getAttribute('data-bs-interval'), 10)\n\n    this._config.interval = elementInterval || this._config.defaultInterval\n  }\n\n  _slide(order, element = null) {\n    if (this._isSliding) {\n      return\n    }\n\n    const activeElement = this._getActive()\n    const isNext = order === ORDER_NEXT\n    const nextElement = element || getNextActiveElement(this._getItems(), activeElement, isNext, this._config.wrap)\n\n    if (nextElement === activeElement) {\n      return\n    }\n\n    const nextElementIndex = this._getItemIndex(nextElement)\n\n    const triggerEvent = eventName => {\n      return EventHandler.trigger(this._element, eventName, {\n        relatedTarget: nextElement,\n        direction: this._orderToDirection(order),\n        from: this._getItemIndex(activeElement),\n        to: nextElementIndex\n      })\n    }\n\n    const slideEvent = triggerEvent(EVENT_SLIDE)\n\n    if (slideEvent.defaultPrevented) {\n      return\n    }\n\n    if (!activeElement || !nextElement) {\n      // Some weirdness is happening, so we bail\n      // TODO: change tests that use empty divs to avoid this check\n      return\n    }\n\n    const isCycling = Boolean(this._interval)\n    this.pause()\n\n    this._isSliding = true\n\n    this._setActiveIndicatorElement(nextElementIndex)\n    this._activeElement = nextElement\n\n    const directionalClassName = isNext ? CLASS_NAME_START : CLASS_NAME_END\n    const orderClassName = isNext ? CLASS_NAME_NEXT : CLASS_NAME_PREV\n\n    nextElement.classList.add(orderClassName)\n\n    reflow(nextElement)\n\n    activeElement.classList.add(directionalClassName)\n    nextElement.classList.add(directionalClassName)\n\n    const completeCallBack = () => {\n      nextElement.classList.remove(directionalClassName, orderClassName)\n      nextElement.classList.add(CLASS_NAME_ACTIVE)\n\n      activeElement.classList.remove(CLASS_NAME_ACTIVE, orderClassName, directionalClassName)\n\n      this._isSliding = false\n\n      triggerEvent(EVENT_SLID)\n    }\n\n    this._queueCallback(completeCallBack, activeElement, this._isAnimated())\n\n    if (isCycling) {\n      this.cycle()\n    }\n  }\n\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_SLIDE)\n  }\n\n  _getActive() {\n    return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM, this._element)\n  }\n\n  _getItems() {\n    return SelectorEngine.find(SELECTOR_ITEM, this._element)\n  }\n\n  _clearInterval() {\n    if (this._interval) {\n      clearInterval(this._interval)\n      this._interval = null\n    }\n  }\n\n  _directionToOrder(direction) {\n    if (isRTL()) {\n      return direction === DIRECTION_LEFT ? ORDER_PREV : ORDER_NEXT\n    }\n\n    return direction === DIRECTION_LEFT ? ORDER_NEXT : ORDER_PREV\n  }\n\n  _orderToDirection(order) {\n    if (isRTL()) {\n      return order === ORDER_PREV ? DIRECTION_LEFT : DIRECTION_RIGHT\n    }\n\n    return order === ORDER_PREV ? DIRECTION_RIGHT : DIRECTION_LEFT\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Carousel.getOrCreateInstance(this, config)\n\n      if (typeof config === 'number') {\n        data.to(config)\n        return\n      }\n\n      if (typeof config === 'string') {\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_SLIDE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (!target || !target.classList.contains(CLASS_NAME_CAROUSEL)) {\n    return\n  }\n\n  event.preventDefault()\n\n  const carousel = Carousel.getOrCreateInstance(target)\n  const slideIndex = this.getAttribute('data-bs-slide-to')\n\n  if (slideIndex) {\n    carousel.to(slideIndex)\n    carousel._maybeEnableCycle()\n    return\n  }\n\n  if (Manipulator.getDataAttribute(this, 'slide') === 'next') {\n    carousel.next()\n    carousel._maybeEnableCycle()\n    return\n  }\n\n  carousel.prev()\n  carousel._maybeEnableCycle()\n})\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const carousels = SelectorEngine.find(SELECTOR_DATA_RIDE)\n\n  for (const carousel of carousels) {\n    Carousel.getOrCreateInstance(carousel)\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Carousel)\n\nexport default Carousel\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap collapse.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin,\n  getElement,\n  reflow\n} from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'collapse'\nconst DATA_KEY = 'bs.collapse'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_COLLAPSE = 'collapse'\nconst CLASS_NAME_COLLAPSING = 'collapsing'\nconst CLASS_NAME_COLLAPSED = 'collapsed'\nconst CLASS_NAME_DEEPER_CHILDREN = `:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`\nconst CLASS_NAME_HORIZONTAL = 'collapse-horizontal'\n\nconst WIDTH = 'width'\nconst HEIGHT = 'height'\n\nconst SELECTOR_ACTIVES = '.collapse.show, .collapse.collapsing'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"collapse\"]'\n\nconst Default = {\n  parent: null,\n  toggle: true\n}\n\nconst DefaultType = {\n  parent: '(null|element)',\n  toggle: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Collapse extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._isTransitioning = false\n    this._triggerArray = []\n\n    const toggleList = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n\n    for (const elem of toggleList) {\n      const selector = SelectorEngine.getSelectorFromElement(elem)\n      const filterElement = SelectorEngine.find(selector)\n        .filter(foundElement => foundElement === this._element)\n\n      if (selector !== null && filterElement.length) {\n        this._triggerArray.push(elem)\n      }\n    }\n\n    this._initializeChildren()\n\n    if (!this._config.parent) {\n      this._addAriaAndCollapsedClass(this._triggerArray, this._isShown())\n    }\n\n    if (this._config.toggle) {\n      this.toggle()\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    if (this._isShown()) {\n      this.hide()\n    } else {\n      this.show()\n    }\n  }\n\n  show() {\n    if (this._isTransitioning || this._isShown()) {\n      return\n    }\n\n    let activeChildren = []\n\n    // find active children\n    if (this._config.parent) {\n      activeChildren = this._getFirstLevelChildren(SELECTOR_ACTIVES)\n        .filter(element => element !== this._element)\n        .map(element => Collapse.getOrCreateInstance(element, { toggle: false }))\n    }\n\n    if (activeChildren.length && activeChildren[0]._isTransitioning) {\n      return\n    }\n\n    const startEvent = EventHandler.trigger(this._element, EVENT_SHOW)\n    if (startEvent.defaultPrevented) {\n      return\n    }\n\n    for (const activeInstance of activeChildren) {\n      activeInstance.hide()\n    }\n\n    const dimension = this._getDimension()\n\n    this._element.classList.remove(CLASS_NAME_COLLAPSE)\n    this._element.classList.add(CLASS_NAME_COLLAPSING)\n\n    this._element.style[dimension] = 0\n\n    this._addAriaAndCollapsedClass(this._triggerArray, true)\n    this._isTransitioning = true\n\n    const complete = () => {\n      this._isTransitioning = false\n\n      this._element.classList.remove(CLASS_NAME_COLLAPSING)\n      this._element.classList.add(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW)\n\n      this._element.style[dimension] = ''\n\n      EventHandler.trigger(this._element, EVENT_SHOWN)\n    }\n\n    const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1)\n    const scrollSize = `scroll${capitalizedDimension}`\n\n    this._queueCallback(complete, this._element, true)\n    this._element.style[dimension] = `${this._element[scrollSize]}px`\n  }\n\n  hide() {\n    if (this._isTransitioning || !this._isShown()) {\n      return\n    }\n\n    const startEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n    if (startEvent.defaultPrevented) {\n      return\n    }\n\n    const dimension = this._getDimension()\n\n    this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`\n\n    reflow(this._element)\n\n    this._element.classList.add(CLASS_NAME_COLLAPSING)\n    this._element.classList.remove(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW)\n\n    for (const trigger of this._triggerArray) {\n      const element = SelectorEngine.getElementFromSelector(trigger)\n\n      if (element && !this._isShown(element)) {\n        this._addAriaAndCollapsedClass([trigger], false)\n      }\n    }\n\n    this._isTransitioning = true\n\n    const complete = () => {\n      this._isTransitioning = false\n      this._element.classList.remove(CLASS_NAME_COLLAPSING)\n      this._element.classList.add(CLASS_NAME_COLLAPSE)\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._element.style[dimension] = ''\n\n    this._queueCallback(complete, this._element, true)\n  }\n\n  _isShown(element = this._element) {\n    return element.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    config.toggle = Boolean(config.toggle) // Coerce string values\n    config.parent = getElement(config.parent)\n    return config\n  }\n\n  _getDimension() {\n    return this._element.classList.contains(CLASS_NAME_HORIZONTAL) ? WIDTH : HEIGHT\n  }\n\n  _initializeChildren() {\n    if (!this._config.parent) {\n      return\n    }\n\n    const children = this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE)\n\n    for (const element of children) {\n      const selected = SelectorEngine.getElementFromSelector(element)\n\n      if (selected) {\n        this._addAriaAndCollapsedClass([element], this._isShown(selected))\n      }\n    }\n  }\n\n  _getFirstLevelChildren(selector) {\n    const children = SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN, this._config.parent)\n    // remove children if greater depth\n    return SelectorEngine.find(selector, this._config.parent).filter(element => !children.includes(element))\n  }\n\n  _addAriaAndCollapsedClass(triggerArray, isOpen) {\n    if (!triggerArray.length) {\n      return\n    }\n\n    for (const element of triggerArray) {\n      element.classList.toggle(CLASS_NAME_COLLAPSED, !isOpen)\n      element.setAttribute('aria-expanded', isOpen)\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    const _config = {}\n    if (typeof config === 'string' && /show|hide/.test(config)) {\n      _config.toggle = false\n    }\n\n    return this.each(function () {\n      const data = Collapse.getOrCreateInstance(this, _config)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n  if (event.target.tagName === 'A' || (event.delegateTarget && event.delegateTarget.tagName === 'A')) {\n    event.preventDefault()\n  }\n\n  for (const element of SelectorEngine.getMultipleElementsFromSelector(this)) {\n    Collapse.getOrCreateInstance(element, { toggle: false }).toggle()\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Collapse)\n\nexport default Collapse\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap dropdown.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin,\n  execute,\n  getElement,\n  getNextActiveElement,\n  isDisabled,\n  isElement,\n  isRTL,\n  isVisible,\n  noop\n} from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'dropdown'\nconst DATA_KEY = 'bs.dropdown'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst ESCAPE_KEY = 'Escape'\nconst TAB_KEY = 'Tab'\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst RIGHT_MOUSE_BUTTON = 2 // MouseEvent.button value for the secondary button, usually the right button\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_DROPUP = 'dropup'\nconst CLASS_NAME_DROPEND = 'dropend'\nconst CLASS_NAME_DROPSTART = 'dropstart'\nconst CLASS_NAME_DROPUP_CENTER = 'dropup-center'\nconst CLASS_NAME_DROPDOWN_CENTER = 'dropdown-center'\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)'\nconst SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE}.${CLASS_NAME_SHOW}`\nconst SELECTOR_MENU = '.dropdown-menu'\nconst SELECTOR_NAVBAR = '.navbar'\nconst SELECTOR_NAVBAR_NAV = '.navbar-nav'\nconst SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)'\n\nconst PLACEMENT_TOP = isRTL() ? 'top-end' : 'top-start'\nconst PLACEMENT_TOPEND = isRTL() ? 'top-start' : 'top-end'\nconst PLACEMENT_BOTTOM = isRTL() ? 'bottom-end' : 'bottom-start'\nconst PLACEMENT_BOTTOMEND = isRTL() ? 'bottom-start' : 'bottom-end'\nconst PLACEMENT_RIGHT = isRTL() ? 'left-start' : 'right-start'\nconst PLACEMENT_LEFT = isRTL() ? 'right-start' : 'left-start'\nconst PLACEMENT_TOPCENTER = 'top'\nconst PLACEMENT_BOTTOMCENTER = 'bottom'\n\nconst Default = {\n  autoClose: true,\n  boundary: 'clippingParents',\n  display: 'dynamic',\n  offset: [0, 2],\n  popperConfig: null,\n  reference: 'toggle'\n}\n\nconst DefaultType = {\n  autoClose: '(boolean|string)',\n  boundary: '(string|element)',\n  display: 'string',\n  offset: '(array|string|function)',\n  popperConfig: '(null|object|function)',\n  reference: '(string|element|object)'\n}\n\n/**\n * Class definition\n */\n\nclass Dropdown extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._popper = null\n    this._parent = this._element.parentNode // dropdown wrapper\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    this._menu = SelectorEngine.next(this._element, SELECTOR_MENU)[0] ||\n      SelectorEngine.prev(this._element, SELECTOR_MENU)[0] ||\n      SelectorEngine.findOne(SELECTOR_MENU, this._parent)\n    this._inNavbar = this._detectNavbar()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    return this._isShown() ? this.hide() : this.show()\n  }\n\n  show() {\n    if (isDisabled(this._element) || this._isShown()) {\n      return\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, relatedTarget)\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._createPopper()\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement && !this._parent.closest(SELECTOR_NAVBAR_NAV)) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    this._element.focus()\n    this._element.setAttribute('aria-expanded', true)\n\n    this._menu.classList.add(CLASS_NAME_SHOW)\n    this._element.classList.add(CLASS_NAME_SHOW)\n    EventHandler.trigger(this._element, EVENT_SHOWN, relatedTarget)\n  }\n\n  hide() {\n    if (isDisabled(this._element) || !this._isShown()) {\n      return\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n\n    this._completeHide(relatedTarget)\n  }\n\n  dispose() {\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    super.dispose()\n  }\n\n  update() {\n    this._inNavbar = this._detectNavbar()\n    if (this._popper) {\n      this._popper.update()\n    }\n  }\n\n  // Private\n  _completeHide(relatedTarget) {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE, relatedTarget)\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    this._menu.classList.remove(CLASS_NAME_SHOW)\n    this._element.classList.remove(CLASS_NAME_SHOW)\n    this._element.setAttribute('aria-expanded', 'false')\n    Manipulator.removeDataAttribute(this._menu, 'popper')\n    EventHandler.trigger(this._element, EVENT_HIDDEN, relatedTarget)\n  }\n\n  _getConfig(config) {\n    config = super._getConfig(config)\n\n    if (typeof config.reference === 'object' && !isElement(config.reference) &&\n      typeof config.reference.getBoundingClientRect !== 'function'\n    ) {\n      // Popper virtual elements require a getBoundingClientRect method\n      throw new TypeError(`${NAME.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`)\n    }\n\n    return config\n  }\n\n  _createPopper() {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s dropdowns require Popper (https://popper.js.org)')\n    }\n\n    let referenceElement = this._element\n\n    if (this._config.reference === 'parent') {\n      referenceElement = this._parent\n    } else if (isElement(this._config.reference)) {\n      referenceElement = getElement(this._config.reference)\n    } else if (typeof this._config.reference === 'object') {\n      referenceElement = this._config.reference\n    }\n\n    const popperConfig = this._getPopperConfig()\n    this._popper = Popper.createPopper(referenceElement, this._menu, popperConfig)\n  }\n\n  _isShown() {\n    return this._menu.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _getPlacement() {\n    const parentDropdown = this._parent\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPEND)) {\n      return PLACEMENT_RIGHT\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPSTART)) {\n      return PLACEMENT_LEFT\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP_CENTER)) {\n      return PLACEMENT_TOPCENTER\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPDOWN_CENTER)) {\n      return PLACEMENT_BOTTOMCENTER\n    }\n\n    // We need to trim the value because custom properties can also include spaces\n    const isEnd = getComputedStyle(this._menu).getPropertyValue('--bs-position').trim() === 'end'\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP)) {\n      return isEnd ? PLACEMENT_TOPEND : PLACEMENT_TOP\n    }\n\n    return isEnd ? PLACEMENT_BOTTOMEND : PLACEMENT_BOTTOM\n  }\n\n  _detectNavbar() {\n    return this._element.closest(SELECTOR_NAVBAR) !== null\n  }\n\n  _getOffset() {\n    const { offset } = this._config\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10))\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element)\n    }\n\n    return offset\n  }\n\n  _getPopperConfig() {\n    const defaultBsPopperConfig = {\n      placement: this._getPlacement(),\n      modifiers: [{\n        name: 'preventOverflow',\n        options: {\n          boundary: this._config.boundary\n        }\n      },\n      {\n        name: 'offset',\n        options: {\n          offset: this._getOffset()\n        }\n      }]\n    }\n\n    // Disable Popper if we have a static display or Dropdown is in Navbar\n    if (this._inNavbar || this._config.display === 'static') {\n      Manipulator.setDataAttribute(this._menu, 'popper', 'static') // TODO: v6 remove\n      defaultBsPopperConfig.modifiers = [{\n        name: 'applyStyles',\n        enabled: false\n      }]\n    }\n\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [defaultBsPopperConfig])\n    }\n  }\n\n  _selectMenuItem({ key, target }) {\n    const items = SelectorEngine.find(SELECTOR_VISIBLE_ITEMS, this._menu).filter(element => isVisible(element))\n\n    if (!items.length) {\n      return\n    }\n\n    // if target isn't included in items (e.g. when expanding the dropdown)\n    // allow cycling to get the last item in case key equals ARROW_UP_KEY\n    getNextActiveElement(items, target, key === ARROW_DOWN_KEY, !items.includes(target)).focus()\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Dropdown.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n\n  static clearMenus(event) {\n    if (event.button === RIGHT_MOUSE_BUTTON || (event.type === 'keyup' && event.key !== TAB_KEY)) {\n      return\n    }\n\n    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN)\n\n    for (const toggle of openToggles) {\n      const context = Dropdown.getInstance(toggle)\n      if (!context || context._config.autoClose === false) {\n        continue\n      }\n\n      const composedPath = event.composedPath()\n      const isMenuTarget = composedPath.includes(context._menu)\n      if (\n        composedPath.includes(context._element) ||\n        (context._config.autoClose === 'inside' && !isMenuTarget) ||\n        (context._config.autoClose === 'outside' && isMenuTarget)\n      ) {\n        continue\n      }\n\n      // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu\n      if (context._menu.contains(event.target) && ((event.type === 'keyup' && event.key === TAB_KEY) || /input|select|option|textarea|form/i.test(event.target.tagName))) {\n        continue\n      }\n\n      const relatedTarget = { relatedTarget: context._element }\n\n      if (event.type === 'click') {\n        relatedTarget.clickEvent = event\n      }\n\n      context._completeHide(relatedTarget)\n    }\n  }\n\n  static dataApiKeydownHandler(event) {\n    // If not an UP | DOWN | ESCAPE key => not a dropdown command\n    // If input/textarea && if key is other than ESCAPE => not a dropdown command\n\n    const isInput = /input|textarea/i.test(event.target.tagName)\n    const isEscapeEvent = event.key === ESCAPE_KEY\n    const isUpOrDownEvent = [ARROW_UP_KEY, ARROW_DOWN_KEY].includes(event.key)\n\n    if (!isUpOrDownEvent && !isEscapeEvent) {\n      return\n    }\n\n    if (isInput && !isEscapeEvent) {\n      return\n    }\n\n    event.preventDefault()\n\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE) ?\n      this :\n      (SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE)[0] ||\n        SelectorEngine.next(this, SELECTOR_DATA_TOGGLE)[0] ||\n        SelectorEngine.findOne(SELECTOR_DATA_TOGGLE, event.delegateTarget.parentNode))\n\n    const instance = Dropdown.getOrCreateInstance(getToggleButton)\n\n    if (isUpOrDownEvent) {\n      event.stopPropagation()\n      instance.show()\n      instance._selectMenuItem(event)\n      return\n    }\n\n    if (instance._isShown()) { // else is escape and we check if it is shown\n      event.stopPropagation()\n      instance.hide()\n      getToggleButton.focus()\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE, Dropdown.dataApiKeydownHandler)\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler)\nEventHandler.on(document, EVENT_CLICK_DATA_API, Dropdown.clearMenus)\nEventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus)\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  event.preventDefault()\n  Dropdown.getOrCreateInstance(this).toggle()\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Dropdown)\n\nexport default Dropdown\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/backdrop.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport Config from './config.js'\nimport {\n  execute, executeAfterTransition, getElement, reflow\n} from './index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'backdrop'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst EVENT_MOUSEDOWN = `mousedown.bs.${NAME}`\n\nconst Default = {\n  className: 'modal-backdrop',\n  clickCallback: null,\n  isAnimated: false,\n  isVisible: true, // if false, we use the backdrop helper without adding any element to the dom\n  rootElement: 'body' // give the choice to place backdrop under different elements\n}\n\nconst DefaultType = {\n  className: 'string',\n  clickCallback: '(function|null)',\n  isAnimated: 'boolean',\n  isVisible: 'boolean',\n  rootElement: '(element|string)'\n}\n\n/**\n * Class definition\n */\n\nclass Backdrop extends Config {\n  constructor(config) {\n    super()\n    this._config = this._getConfig(config)\n    this._isAppended = false\n    this._element = null\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  show(callback) {\n    if (!this._config.isVisible) {\n      execute(callback)\n      return\n    }\n\n    this._append()\n\n    const element = this._getElement()\n    if (this._config.isAnimated) {\n      reflow(element)\n    }\n\n    element.classList.add(CLASS_NAME_SHOW)\n\n    this._emulateAnimation(() => {\n      execute(callback)\n    })\n  }\n\n  hide(callback) {\n    if (!this._config.isVisible) {\n      execute(callback)\n      return\n    }\n\n    this._getElement().classList.remove(CLASS_NAME_SHOW)\n\n    this._emulateAnimation(() => {\n      this.dispose()\n      execute(callback)\n    })\n  }\n\n  dispose() {\n    if (!this._isAppended) {\n      return\n    }\n\n    EventHandler.off(this._element, EVENT_MOUSEDOWN)\n\n    this._element.remove()\n    this._isAppended = false\n  }\n\n  // Private\n  _getElement() {\n    if (!this._element) {\n      const backdrop = document.createElement('div')\n      backdrop.className = this._config.className\n      if (this._config.isAnimated) {\n        backdrop.classList.add(CLASS_NAME_FADE)\n      }\n\n      this._element = backdrop\n    }\n\n    return this._element\n  }\n\n  _configAfterMerge(config) {\n    // use getElement() with the default \"body\" to get a fresh Element on each instantiation\n    config.rootElement = getElement(config.rootElement)\n    return config\n  }\n\n  _append() {\n    if (this._isAppended) {\n      return\n    }\n\n    const element = this._getElement()\n    this._config.rootElement.append(element)\n\n    EventHandler.on(element, EVENT_MOUSEDOWN, () => {\n      execute(this._config.clickCallback)\n    })\n\n    this._isAppended = true\n  }\n\n  _emulateAnimation(callback) {\n    executeAfterTransition(callback, this._getElement(), this._config.isAnimated)\n  }\n}\n\nexport default Backdrop\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/focustrap.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport SelectorEngine from '../dom/selector-engine.js'\nimport Config from './config.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'focustrap'\nconst DATA_KEY = 'bs.focustrap'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`\nconst EVENT_KEYDOWN_TAB = `keydown.tab${EVENT_KEY}`\n\nconst TAB_KEY = 'Tab'\nconst TAB_NAV_FORWARD = 'forward'\nconst TAB_NAV_BACKWARD = 'backward'\n\nconst Default = {\n  autofocus: true,\n  trapElement: null // The element to trap focus inside of\n}\n\nconst DefaultType = {\n  autofocus: 'boolean',\n  trapElement: 'element'\n}\n\n/**\n * Class definition\n */\n\nclass FocusTrap extends Config {\n  constructor(config) {\n    super()\n    this._config = this._getConfig(config)\n    this._isActive = false\n    this._lastTabNavDirection = null\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  activate() {\n    if (this._isActive) {\n      return\n    }\n\n    if (this._config.autofocus) {\n      this._config.trapElement.focus()\n    }\n\n    EventHandler.off(document, EVENT_KEY) // guard against infinite focus loop\n    EventHandler.on(document, EVENT_FOCUSIN, event => this._handleFocusin(event))\n    EventHandler.on(document, EVENT_KEYDOWN_TAB, event => this._handleKeydown(event))\n\n    this._isActive = true\n  }\n\n  deactivate() {\n    if (!this._isActive) {\n      return\n    }\n\n    this._isActive = false\n    EventHandler.off(document, EVENT_KEY)\n  }\n\n  // Private\n  _handleFocusin(event) {\n    const { trapElement } = this._config\n\n    if (event.target === document || event.target === trapElement || trapElement.contains(event.target)) {\n      return\n    }\n\n    const elements = SelectorEngine.focusableChildren(trapElement)\n\n    if (elements.length === 0) {\n      trapElement.focus()\n    } else if (this._lastTabNavDirection === TAB_NAV_BACKWARD) {\n      elements[elements.length - 1].focus()\n    } else {\n      elements[0].focus()\n    }\n  }\n\n  _handleKeydown(event) {\n    if (event.key !== TAB_KEY) {\n      return\n    }\n\n    this._lastTabNavDirection = event.shiftKey ? TAB_NAV_BACKWARD : TAB_NAV_FORWARD\n  }\n}\n\nexport default FocusTrap\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/scrollBar.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Manipulator from '../dom/manipulator.js'\nimport SelectorEngine from '../dom/selector-engine.js'\nimport { isElement } from './index.js'\n\n/**\n * Constants\n */\n\nconst SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top'\nconst SELECTOR_STICKY_CONTENT = '.sticky-top'\nconst PROPERTY_PADDING = 'padding-right'\nconst PROPERTY_MARGIN = 'margin-right'\n\n/**\n * Class definition\n */\n\nclass ScrollBarHelper {\n  constructor() {\n    this._element = document.body\n  }\n\n  // Public\n  getWidth() {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth#usage_notes\n    const documentWidth = document.documentElement.clientWidth\n    return Math.abs(window.innerWidth - documentWidth)\n  }\n\n  hide() {\n    const width = this.getWidth()\n    this._disableOverFlow()\n    // give padding to element to balance the hidden scrollbar width\n    this._setElementAttributes(this._element, PROPERTY_PADDING, calculatedValue => calculatedValue + width)\n    // trick: We adjust positive paddingRight and negative marginRight to sticky-top elements to keep showing fullwidth\n    this._setElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING, calculatedValue => calculatedValue + width)\n    this._setElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN, calculatedValue => calculatedValue - width)\n  }\n\n  reset() {\n    this._resetElementAttributes(this._element, 'overflow')\n    this._resetElementAttributes(this._element, PROPERTY_PADDING)\n    this._resetElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING)\n    this._resetElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN)\n  }\n\n  isOverflowing() {\n    return this.getWidth() > 0\n  }\n\n  // Private\n  _disableOverFlow() {\n    this._saveInitialAttribute(this._element, 'overflow')\n    this._element.style.overflow = 'hidden'\n  }\n\n  _setElementAttributes(selector, styleProperty, callback) {\n    const scrollbarWidth = this.getWidth()\n    const manipulationCallBack = element => {\n      if (element !== this._element && window.innerWidth > element.clientWidth + scrollbarWidth) {\n        return\n      }\n\n      this._saveInitialAttribute(element, styleProperty)\n      const calculatedValue = window.getComputedStyle(element).getPropertyValue(styleProperty)\n      element.style.setProperty(styleProperty, `${callback(Number.parseFloat(calculatedValue))}px`)\n    }\n\n    this._applyManipulationCallback(selector, manipulationCallBack)\n  }\n\n  _saveInitialAttribute(element, styleProperty) {\n    const actualValue = element.style.getPropertyValue(styleProperty)\n    if (actualValue) {\n      Manipulator.setDataAttribute(element, styleProperty, actualValue)\n    }\n  }\n\n  _resetElementAttributes(selector, styleProperty) {\n    const manipulationCallBack = element => {\n      const value = Manipulator.getDataAttribute(element, styleProperty)\n      // We only want to remove the property if the value is `null`; the value can also be zero\n      if (value === null) {\n        element.style.removeProperty(styleProperty)\n        return\n      }\n\n      Manipulator.removeDataAttribute(element, styleProperty)\n      element.style.setProperty(styleProperty, value)\n    }\n\n    this._applyManipulationCallback(selector, manipulationCallBack)\n  }\n\n  _applyManipulationCallback(selector, callBack) {\n    if (isElement(selector)) {\n      callBack(selector)\n      return\n    }\n\n    for (const sel of SelectorEngine.find(selector, this._element)) {\n      callBack(sel)\n    }\n  }\n}\n\nexport default ScrollBarHelper\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap modal.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport Backdrop from './util/backdrop.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport FocusTrap from './util/focustrap.js'\nimport {\n  defineJQueryPlugin, isRTL, isVisible, reflow\n} from './util/index.js'\nimport ScrollBarHelper from './util/scrollbar.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'modal'\nconst DATA_KEY = 'bs.modal'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst ESCAPE_KEY = 'Escape'\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\nconst EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY}`\nconst EVENT_MOUSEDOWN_DISMISS = `mousedown.dismiss${EVENT_KEY}`\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_OPEN = 'modal-open'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_STATIC = 'modal-static'\n\nconst OPEN_SELECTOR = '.modal.show'\nconst SELECTOR_DIALOG = '.modal-dialog'\nconst SELECTOR_MODAL_BODY = '.modal-body'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"modal\"]'\n\nconst Default = {\n  backdrop: true,\n  focus: true,\n  keyboard: true\n}\n\nconst DefaultType = {\n  backdrop: '(boolean|string)',\n  focus: 'boolean',\n  keyboard: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Modal extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._dialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element)\n    this._backdrop = this._initializeBackDrop()\n    this._focustrap = this._initializeFocusTrap()\n    this._isShown = false\n    this._isTransitioning = false\n    this._scrollBar = new ScrollBarHelper()\n\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget)\n  }\n\n  show(relatedTarget) {\n    if (this._isShown || this._isTransitioning) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, {\n      relatedTarget\n    })\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = true\n    this._isTransitioning = true\n\n    this._scrollBar.hide()\n\n    document.body.classList.add(CLASS_NAME_OPEN)\n\n    this._adjustDialog()\n\n    this._backdrop.show(() => this._showElement(relatedTarget))\n  }\n\n  hide() {\n    if (!this._isShown || this._isTransitioning) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = false\n    this._isTransitioning = true\n    this._focustrap.deactivate()\n\n    this._element.classList.remove(CLASS_NAME_SHOW)\n\n    this._queueCallback(() => this._hideModal(), this._element, this._isAnimated())\n  }\n\n  dispose() {\n    EventHandler.off(window, EVENT_KEY)\n    EventHandler.off(this._dialog, EVENT_KEY)\n\n    this._backdrop.dispose()\n    this._focustrap.deactivate()\n\n    super.dispose()\n  }\n\n  handleUpdate() {\n    this._adjustDialog()\n  }\n\n  // Private\n  _initializeBackDrop() {\n    return new Backdrop({\n      isVisible: Boolean(this._config.backdrop), // 'static' option will be translated to true, and booleans will keep their value,\n      isAnimated: this._isAnimated()\n    })\n  }\n\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    })\n  }\n\n  _showElement(relatedTarget) {\n    // try to append dynamic modal\n    if (!document.body.contains(this._element)) {\n      document.body.append(this._element)\n    }\n\n    this._element.style.display = 'block'\n    this._element.removeAttribute('aria-hidden')\n    this._element.setAttribute('aria-modal', true)\n    this._element.setAttribute('role', 'dialog')\n    this._element.scrollTop = 0\n\n    const modalBody = SelectorEngine.findOne(SELECTOR_MODAL_BODY, this._dialog)\n    if (modalBody) {\n      modalBody.scrollTop = 0\n    }\n\n    reflow(this._element)\n\n    this._element.classList.add(CLASS_NAME_SHOW)\n\n    const transitionComplete = () => {\n      if (this._config.focus) {\n        this._focustrap.activate()\n      }\n\n      this._isTransitioning = false\n      EventHandler.trigger(this._element, EVENT_SHOWN, {\n        relatedTarget\n      })\n    }\n\n    this._queueCallback(transitionComplete, this._dialog, this._isAnimated())\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return\n      }\n\n      if (this._config.keyboard) {\n        this.hide()\n        return\n      }\n\n      this._triggerBackdropTransition()\n    })\n\n    EventHandler.on(window, EVENT_RESIZE, () => {\n      if (this._isShown && !this._isTransitioning) {\n        this._adjustDialog()\n      }\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEDOWN_DISMISS, event => {\n      // a bad trick to segregate clicks that may start inside dialog but end outside, and avoid listen to scrollbar clicks\n      EventHandler.one(this._element, EVENT_CLICK_DISMISS, event2 => {\n        if (this._element !== event.target || this._element !== event2.target) {\n          return\n        }\n\n        if (this._config.backdrop === 'static') {\n          this._triggerBackdropTransition()\n          return\n        }\n\n        if (this._config.backdrop) {\n          this.hide()\n        }\n      })\n    })\n  }\n\n  _hideModal() {\n    this._element.style.display = 'none'\n    this._element.setAttribute('aria-hidden', true)\n    this._element.removeAttribute('aria-modal')\n    this._element.removeAttribute('role')\n    this._isTransitioning = false\n\n    this._backdrop.hide(() => {\n      document.body.classList.remove(CLASS_NAME_OPEN)\n      this._resetAdjustments()\n      this._scrollBar.reset()\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    })\n  }\n\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_FADE)\n  }\n\n  _triggerBackdropTransition() {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight\n    const initialOverflowY = this._element.style.overflowY\n    // return if the following background transition hasn't yet completed\n    if (initialOverflowY === 'hidden' || this._element.classList.contains(CLASS_NAME_STATIC)) {\n      return\n    }\n\n    if (!isModalOverflowing) {\n      this._element.style.overflowY = 'hidden'\n    }\n\n    this._element.classList.add(CLASS_NAME_STATIC)\n    this._queueCallback(() => {\n      this._element.classList.remove(CLASS_NAME_STATIC)\n      this._queueCallback(() => {\n        this._element.style.overflowY = initialOverflowY\n      }, this._dialog)\n    }, this._dialog)\n\n    this._element.focus()\n  }\n\n  /**\n   * The following methods are used to handle overflowing modals\n   */\n\n  _adjustDialog() {\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight\n    const scrollbarWidth = this._scrollBar.getWidth()\n    const isBodyOverflowing = scrollbarWidth > 0\n\n    if (isBodyOverflowing && !isModalOverflowing) {\n      const property = isRTL() ? 'paddingLeft' : 'paddingRight'\n      this._element.style[property] = `${scrollbarWidth}px`\n    }\n\n    if (!isBodyOverflowing && isModalOverflowing) {\n      const property = isRTL() ? 'paddingRight' : 'paddingLeft'\n      this._element.style[property] = `${scrollbarWidth}px`\n    }\n  }\n\n  _resetAdjustments() {\n    this._element.style.paddingLeft = ''\n    this._element.style.paddingRight = ''\n  }\n\n  // Static\n  static jQueryInterface(config, relatedTarget) {\n    return this.each(function () {\n      const data = Modal.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](relatedTarget)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  EventHandler.one(target, EVENT_SHOW, showEvent => {\n    if (showEvent.defaultPrevented) {\n      // only register focus restorer if modal will actually get shown\n      return\n    }\n\n    EventHandler.one(target, EVENT_HIDDEN, () => {\n      if (isVisible(this)) {\n        this.focus()\n      }\n    })\n  })\n\n  // avoid conflict when clicking modal toggler while another one is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR)\n  if (alreadyOpen) {\n    Modal.getInstance(alreadyOpen).hide()\n  }\n\n  const data = Modal.getOrCreateInstance(target)\n\n  data.toggle(this)\n})\n\nenableDismissTrigger(Modal)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Modal)\n\nexport default Modal\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap offcanvas.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport Backdrop from './util/backdrop.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport FocusTrap from './util/focustrap.js'\nimport {\n  defineJQueryPlugin,\n  isDisabled,\n  isVisible\n} from './util/index.js'\nimport ScrollBarHelper from './util/scrollbar.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'offcanvas'\nconst DATA_KEY = 'bs.offcanvas'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst ESCAPE_KEY = 'Escape'\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_SHOWING = 'showing'\nconst CLASS_NAME_HIDING = 'hiding'\nconst CLASS_NAME_BACKDROP = 'offcanvas-backdrop'\nconst OPEN_SELECTOR = '.offcanvas.show'\n\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"offcanvas\"]'\n\nconst Default = {\n  backdrop: true,\n  keyboard: true,\n  scroll: false\n}\n\nconst DefaultType = {\n  backdrop: '(boolean|string)',\n  keyboard: 'boolean',\n  scroll: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Offcanvas extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._isShown = false\n    this._backdrop = this._initializeBackDrop()\n    this._focustrap = this._initializeFocusTrap()\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget)\n  }\n\n  show(relatedTarget) {\n    if (this._isShown) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, { relatedTarget })\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = true\n    this._backdrop.show()\n\n    if (!this._config.scroll) {\n      new ScrollBarHelper().hide()\n    }\n\n    this._element.setAttribute('aria-modal', true)\n    this._element.setAttribute('role', 'dialog')\n    this._element.classList.add(CLASS_NAME_SHOWING)\n\n    const completeCallBack = () => {\n      if (!this._config.scroll || this._config.backdrop) {\n        this._focustrap.activate()\n      }\n\n      this._element.classList.add(CLASS_NAME_SHOW)\n      this._element.classList.remove(CLASS_NAME_SHOWING)\n      EventHandler.trigger(this._element, EVENT_SHOWN, { relatedTarget })\n    }\n\n    this._queueCallback(completeCallBack, this._element, true)\n  }\n\n  hide() {\n    if (!this._isShown) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    this._focustrap.deactivate()\n    this._element.blur()\n    this._isShown = false\n    this._element.classList.add(CLASS_NAME_HIDING)\n    this._backdrop.hide()\n\n    const completeCallback = () => {\n      this._element.classList.remove(CLASS_NAME_SHOW, CLASS_NAME_HIDING)\n      this._element.removeAttribute('aria-modal')\n      this._element.removeAttribute('role')\n\n      if (!this._config.scroll) {\n        new ScrollBarHelper().reset()\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._queueCallback(completeCallback, this._element, true)\n  }\n\n  dispose() {\n    this._backdrop.dispose()\n    this._focustrap.deactivate()\n    super.dispose()\n  }\n\n  // Private\n  _initializeBackDrop() {\n    const clickCallback = () => {\n      if (this._config.backdrop === 'static') {\n        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n        return\n      }\n\n      this.hide()\n    }\n\n    // 'static' option will be translated to true, and booleans will keep their value\n    const isVisible = Boolean(this._config.backdrop)\n\n    return new Backdrop({\n      className: CLASS_NAME_BACKDROP,\n      isVisible,\n      isAnimated: true,\n      rootElement: this._element.parentNode,\n      clickCallback: isVisible ? clickCallback : null\n    })\n  }\n\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    })\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return\n      }\n\n      if (this._config.keyboard) {\n        this.hide()\n        return\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n    })\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Offcanvas.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  if (isDisabled(this)) {\n    return\n  }\n\n  EventHandler.one(target, EVENT_HIDDEN, () => {\n    // focus on trigger when it is closed\n    if (isVisible(this)) {\n      this.focus()\n    }\n  })\n\n  // avoid conflict when clicking a toggler of an offcanvas, while another is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR)\n  if (alreadyOpen && alreadyOpen !== target) {\n    Offcanvas.getInstance(alreadyOpen).hide()\n  }\n\n  const data = Offcanvas.getOrCreateInstance(target)\n  data.toggle(this)\n})\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const selector of SelectorEngine.find(OPEN_SELECTOR)) {\n    Offcanvas.getOrCreateInstance(selector).show()\n  }\n})\n\nEventHandler.on(window, EVENT_RESIZE, () => {\n  for (const element of SelectorEngine.find('[aria-modal][class*=show][class*=offcanvas-]')) {\n    if (getComputedStyle(element).position !== 'fixed') {\n      Offcanvas.getOrCreateInstance(element).hide()\n    }\n  }\n})\n\nenableDismissTrigger(Offcanvas)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Offcanvas)\n\nexport default Offcanvas\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/sanitizer.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// js-docs-start allow-list\nconst ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i\n\nexport const DefaultAllowlist = {\n  // Global attributes allowed on any supplied element below.\n  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n  a: ['target', 'href', 'title', 'rel'],\n  area: [],\n  b: [],\n  br: [],\n  col: [],\n  code: [],\n  dd: [],\n  div: [],\n  dl: [],\n  dt: [],\n  em: [],\n  hr: [],\n  h1: [],\n  h2: [],\n  h3: [],\n  h4: [],\n  h5: [],\n  h6: [],\n  i: [],\n  img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],\n  li: [],\n  ol: [],\n  p: [],\n  pre: [],\n  s: [],\n  small: [],\n  span: [],\n  sub: [],\n  sup: [],\n  strong: [],\n  u: [],\n  ul: []\n}\n// js-docs-end allow-list\n\nconst uriAttributes = new Set([\n  'background',\n  'cite',\n  'href',\n  'itemtype',\n  'longdesc',\n  'poster',\n  'src',\n  'xlink:href'\n])\n\n/**\n * A pattern that recognizes URLs that are safe wrt. XSS in URL navigation\n * contexts.\n *\n * Shout-out to Angular https://github.com/angular/angular/blob/15.2.8/packages/core/src/sanitization/url_sanitizer.ts#L38\n */\n// eslint-disable-next-line unicorn/better-regex\nconst SAFE_URL_PATTERN = /^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i\n\nconst allowedAttribute = (attribute, allowedAttributeList) => {\n  const attributeName = attribute.nodeName.toLowerCase()\n\n  if (allowedAttributeList.includes(attributeName)) {\n    if (uriAttributes.has(attributeName)) {\n      return Boolean(SAFE_URL_PATTERN.test(attribute.nodeValue))\n    }\n\n    return true\n  }\n\n  // Check if a regular expression validates the attribute.\n  return allowedAttributeList.filter(attributeRegex => attributeRegex instanceof RegExp)\n    .some(regex => regex.test(attributeName))\n}\n\nexport function sanitizeHtml(unsafeHtml, allowList, sanitizeFunction) {\n  if (!unsafeHtml.length) {\n    return unsafeHtml\n  }\n\n  if (sanitizeFunction && typeof sanitizeFunction === 'function') {\n    return sanitizeFunction(unsafeHtml)\n  }\n\n  const domParser = new window.DOMParser()\n  const createdDocument = domParser.parseFromString(unsafeHtml, 'text/html')\n  const elements = [].concat(...createdDocument.body.querySelectorAll('*'))\n\n  for (const element of elements) {\n    const elementName = element.nodeName.toLowerCase()\n\n    if (!Object.keys(allowList).includes(elementName)) {\n      element.remove()\n      continue\n    }\n\n    const attributeList = [].concat(...element.attributes)\n    const allowedAttributes = [].concat(allowList['*'] || [], allowList[elementName] || [])\n\n    for (const attribute of attributeList) {\n      if (!allowedAttribute(attribute, allowedAttributes)) {\n        element.removeAttribute(attribute.nodeName)\n      }\n    }\n  }\n\n  return createdDocument.body.innerHTML\n}\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/template-factory.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport SelectorEngine from '../dom/selector-engine.js'\nimport Config from './config.js'\nimport { DefaultAllowlist, sanitizeHtml } from './sanitizer.js'\nimport { execute, getElement, isElement } from './index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'TemplateFactory'\n\nconst Default = {\n  allowList: DefaultAllowlist,\n  content: {}, // { selector : text ,  selector2 : text2 , }\n  extraClass: '',\n  html: false,\n  sanitize: true,\n  sanitizeFn: null,\n  template: '<div></div>'\n}\n\nconst DefaultType = {\n  allowList: 'object',\n  content: 'object',\n  extraClass: '(string|function)',\n  html: 'boolean',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  template: 'string'\n}\n\nconst DefaultContentType = {\n  entry: '(string|element|function|null)',\n  selector: '(string|element)'\n}\n\n/**\n * Class definition\n */\n\nclass TemplateFactory extends Config {\n  constructor(config) {\n    super()\n    this._config = this._getConfig(config)\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  getContent() {\n    return Object.values(this._config.content)\n      .map(config => this._resolvePossibleFunction(config))\n      .filter(Boolean)\n  }\n\n  hasContent() {\n    return this.getContent().length > 0\n  }\n\n  changeContent(content) {\n    this._checkContent(content)\n    this._config.content = { ...this._config.content, ...content }\n    return this\n  }\n\n  toHtml() {\n    const templateWrapper = document.createElement('div')\n    templateWrapper.innerHTML = this._maybeSanitize(this._config.template)\n\n    for (const [selector, text] of Object.entries(this._config.content)) {\n      this._setContent(templateWrapper, text, selector)\n    }\n\n    const template = templateWrapper.children[0]\n    const extraClass = this._resolvePossibleFunction(this._config.extraClass)\n\n    if (extraClass) {\n      template.classList.add(...extraClass.split(' '))\n    }\n\n    return template\n  }\n\n  // Private\n  _typeCheckConfig(config) {\n    super._typeCheckConfig(config)\n    this._checkContent(config.content)\n  }\n\n  _checkContent(arg) {\n    for (const [selector, content] of Object.entries(arg)) {\n      super._typeCheckConfig({ selector, entry: content }, DefaultContentType)\n    }\n  }\n\n  _setContent(template, content, selector) {\n    const templateElement = SelectorEngine.findOne(selector, template)\n\n    if (!templateElement) {\n      return\n    }\n\n    content = this._resolvePossibleFunction(content)\n\n    if (!content) {\n      templateElement.remove()\n      return\n    }\n\n    if (isElement(content)) {\n      this._putElementInTemplate(getElement(content), templateElement)\n      return\n    }\n\n    if (this._config.html) {\n      templateElement.innerHTML = this._maybeSanitize(content)\n      return\n    }\n\n    templateElement.textContent = content\n  }\n\n  _maybeSanitize(arg) {\n    return this._config.sanitize ? sanitizeHtml(arg, this._config.allowList, this._config.sanitizeFn) : arg\n  }\n\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [this])\n  }\n\n  _putElementInTemplate(element, templateElement) {\n    if (this._config.html) {\n      templateElement.innerHTML = ''\n      templateElement.append(element)\n      return\n    }\n\n    templateElement.textContent = element.textContent\n  }\n}\n\nexport default TemplateFactory\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport {\n  defineJQueryPlugin, execute, findShadowRoot, getElement, getUID, isRTL, noop\n} from './util/index.js'\nimport { DefaultAllowlist } from './util/sanitizer.js'\nimport TemplateFactory from './util/template-factory.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'tooltip'\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn'])\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_MODAL = 'modal'\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner'\nconst SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`\n\nconst EVENT_MODAL_HIDE = 'hide.bs.modal'\n\nconst TRIGGER_HOVER = 'hover'\nconst TRIGGER_FOCUS = 'focus'\nconst TRIGGER_CLICK = 'click'\nconst TRIGGER_MANUAL = 'manual'\n\nconst EVENT_HIDE = 'hide'\nconst EVENT_HIDDEN = 'hidden'\nconst EVENT_SHOW = 'show'\nconst EVENT_SHOWN = 'shown'\nconst EVENT_INSERTED = 'inserted'\nconst EVENT_CLICK = 'click'\nconst EVENT_FOCUSIN = 'focusin'\nconst EVENT_FOCUSOUT = 'focusout'\nconst EVENT_MOUSEENTER = 'mouseenter'\nconst EVENT_MOUSELEAVE = 'mouseleave'\n\nconst AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: isRTL() ? 'left' : 'right',\n  BOTTOM: 'bottom',\n  LEFT: isRTL() ? 'right' : 'left'\n}\n\nconst Default = {\n  allowList: DefaultAllowlist,\n  animation: true,\n  boundary: 'clippingParents',\n  container: false,\n  customClass: '',\n  delay: 0,\n  fallbackPlacements: ['top', 'right', 'bottom', 'left'],\n  html: false,\n  offset: [0, 6],\n  placement: 'top',\n  popperConfig: null,\n  sanitize: true,\n  sanitizeFn: null,\n  selector: false,\n  template: '<div class=\"tooltip\" role=\"tooltip\">' +\n            '<div class=\"tooltip-arrow\"></div>' +\n            '<div class=\"tooltip-inner\"></div>' +\n            '</div>',\n  title: '',\n  trigger: 'hover focus'\n}\n\nconst DefaultType = {\n  allowList: 'object',\n  animation: 'boolean',\n  boundary: '(string|element)',\n  container: '(string|element|boolean)',\n  customClass: '(string|function)',\n  delay: '(number|object)',\n  fallbackPlacements: 'array',\n  html: 'boolean',\n  offset: '(array|string|function)',\n  placement: '(string|function)',\n  popperConfig: '(null|object|function)',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  selector: '(string|boolean)',\n  template: 'string',\n  title: '(string|element|function)',\n  trigger: 'string'\n}\n\n/**\n * Class definition\n */\n\nclass Tooltip extends BaseComponent {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org)')\n    }\n\n    super(element, config)\n\n    // Private\n    this._isEnabled = true\n    this._timeout = 0\n    this._isHovered = null\n    this._activeTrigger = {}\n    this._popper = null\n    this._templateFactory = null\n    this._newContent = null\n\n    // Protected\n    this.tip = null\n\n    this._setListeners()\n\n    if (!this._config.selector) {\n      this._fixTitle()\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  enable() {\n    this._isEnabled = true\n  }\n\n  disable() {\n    this._isEnabled = false\n  }\n\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled\n  }\n\n  toggle() {\n    if (!this._isEnabled) {\n      return\n    }\n\n    this._activeTrigger.click = !this._activeTrigger.click\n    if (this._isShown()) {\n      this._leave()\n      return\n    }\n\n    this._enter()\n  }\n\n  dispose() {\n    clearTimeout(this._timeout)\n\n    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n\n    if (this._element.getAttribute('data-bs-original-title')) {\n      this._element.setAttribute('title', this._element.getAttribute('data-bs-original-title'))\n    }\n\n    this._disposePopper()\n    super.dispose()\n  }\n\n  show() {\n    if (this._element.style.display === 'none') {\n      throw new Error('Please use show on visible elements')\n    }\n\n    if (!(this._isWithContent() && this._isEnabled)) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOW))\n    const shadowRoot = findShadowRoot(this._element)\n    const isInTheDom = (shadowRoot || this._element.ownerDocument.documentElement).contains(this._element)\n\n    if (showEvent.defaultPrevented || !isInTheDom) {\n      return\n    }\n\n    // TODO: v6 remove this or make it optional\n    this._disposePopper()\n\n    const tip = this._getTipElement()\n\n    this._element.setAttribute('aria-describedby', tip.getAttribute('id'))\n\n    const { container } = this._config\n\n    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\n      container.append(tip)\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_INSERTED))\n    }\n\n    this._popper = this._createPopper(tip)\n\n    tip.classList.add(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    const complete = () => {\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOWN))\n\n      if (this._isHovered === false) {\n        this._leave()\n      }\n\n      this._isHovered = false\n    }\n\n    this._queueCallback(complete, this.tip, this._isAnimated())\n  }\n\n  hide() {\n    if (!this._isShown()) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDE))\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const tip = this._getTipElement()\n    tip.classList.remove(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    this._activeTrigger[TRIGGER_CLICK] = false\n    this._activeTrigger[TRIGGER_FOCUS] = false\n    this._activeTrigger[TRIGGER_HOVER] = false\n    this._isHovered = null // it is a trick to support manual triggering\n\n    const complete = () => {\n      if (this._isWithActiveTrigger()) {\n        return\n      }\n\n      if (!this._isHovered) {\n        this._disposePopper()\n      }\n\n      this._element.removeAttribute('aria-describedby')\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDDEN))\n    }\n\n    this._queueCallback(complete, this.tip, this._isAnimated())\n  }\n\n  update() {\n    if (this._popper) {\n      this._popper.update()\n    }\n  }\n\n  // Protected\n  _isWithContent() {\n    return Boolean(this._getTitle())\n  }\n\n  _getTipElement() {\n    if (!this.tip) {\n      this.tip = this._createTipElement(this._newContent || this._getContentForTemplate())\n    }\n\n    return this.tip\n  }\n\n  _createTipElement(content) {\n    const tip = this._getTemplateFactory(content).toHtml()\n\n    // TODO: remove this check in v6\n    if (!tip) {\n      return null\n    }\n\n    tip.classList.remove(CLASS_NAME_FADE, CLASS_NAME_SHOW)\n    // TODO: v6 the following can be achieved with CSS only\n    tip.classList.add(`bs-${this.constructor.NAME}-auto`)\n\n    const tipId = getUID(this.constructor.NAME).toString()\n\n    tip.setAttribute('id', tipId)\n\n    if (this._isAnimated()) {\n      tip.classList.add(CLASS_NAME_FADE)\n    }\n\n    return tip\n  }\n\n  setContent(content) {\n    this._newContent = content\n    if (this._isShown()) {\n      this._disposePopper()\n      this.show()\n    }\n  }\n\n  _getTemplateFactory(content) {\n    if (this._templateFactory) {\n      this._templateFactory.changeContent(content)\n    } else {\n      this._templateFactory = new TemplateFactory({\n        ...this._config,\n        // the `content` var has to be after `this._config`\n        // to override config.content in case of popover\n        content,\n        extraClass: this._resolvePossibleFunction(this._config.customClass)\n      })\n    }\n\n    return this._templateFactory\n  }\n\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TOOLTIP_INNER]: this._getTitle()\n    }\n  }\n\n  _getTitle() {\n    return this._resolvePossibleFunction(this._config.title) || this._element.getAttribute('data-bs-original-title')\n  }\n\n  // Private\n  _initializeOnDelegatedTarget(event) {\n    return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig())\n  }\n\n  _isAnimated() {\n    return this._config.animation || (this.tip && this.tip.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _isShown() {\n    return this.tip && this.tip.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _createPopper(tip) {\n    const placement = execute(this._config.placement, [this, tip, this._element])\n    const attachment = AttachmentMap[placement.toUpperCase()]\n    return Popper.createPopper(this._element, tip, this._getPopperConfig(attachment))\n  }\n\n  _getOffset() {\n    const { offset } = this._config\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10))\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element)\n    }\n\n    return offset\n  }\n\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [this._element])\n  }\n\n  _getPopperConfig(attachment) {\n    const defaultBsPopperConfig = {\n      placement: attachment,\n      modifiers: [\n        {\n          name: 'flip',\n          options: {\n            fallbackPlacements: this._config.fallbackPlacements\n          }\n        },\n        {\n          name: 'offset',\n          options: {\n            offset: this._getOffset()\n          }\n        },\n        {\n          name: 'preventOverflow',\n          options: {\n            boundary: this._config.boundary\n          }\n        },\n        {\n          name: 'arrow',\n          options: {\n            element: `.${this.constructor.NAME}-arrow`\n          }\n        },\n        {\n          name: 'preSetPlacement',\n          enabled: true,\n          phase: 'beforeMain',\n          fn: data => {\n            // Pre-set Popper's placement attribute in order to read the arrow sizes properly.\n            // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement\n            this._getTipElement().setAttribute('data-popper-placement', data.state.placement)\n          }\n        }\n      ]\n    }\n\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [defaultBsPopperConfig])\n    }\n  }\n\n  _setListeners() {\n    const triggers = this._config.trigger.split(' ')\n\n    for (const trigger of triggers) {\n      if (trigger === 'click') {\n        EventHandler.on(this._element, this.constructor.eventName(EVENT_CLICK), this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context.toggle()\n        })\n      } else if (trigger !== TRIGGER_MANUAL) {\n        const eventIn = trigger === TRIGGER_HOVER ?\n          this.constructor.eventName(EVENT_MOUSEENTER) :\n          this.constructor.eventName(EVENT_FOCUSIN)\n        const eventOut = trigger === TRIGGER_HOVER ?\n          this.constructor.eventName(EVENT_MOUSELEAVE) :\n          this.constructor.eventName(EVENT_FOCUSOUT)\n\n        EventHandler.on(this._element, eventIn, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true\n          context._enter()\n        })\n        EventHandler.on(this._element, eventOut, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] =\n            context._element.contains(event.relatedTarget)\n\n          context._leave()\n        })\n      }\n    }\n\n    this._hideModalHandler = () => {\n      if (this._element) {\n        this.hide()\n      }\n    }\n\n    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n  }\n\n  _fixTitle() {\n    const title = this._element.getAttribute('title')\n\n    if (!title) {\n      return\n    }\n\n    if (!this._element.getAttribute('aria-label') && !this._element.textContent.trim()) {\n      this._element.setAttribute('aria-label', title)\n    }\n\n    this._element.setAttribute('data-bs-original-title', title) // DO NOT USE IT. Is only for backwards compatibility\n    this._element.removeAttribute('title')\n  }\n\n  _enter() {\n    if (this._isShown() || this._isHovered) {\n      this._isHovered = true\n      return\n    }\n\n    this._isHovered = true\n\n    this._setTimeout(() => {\n      if (this._isHovered) {\n        this.show()\n      }\n    }, this._config.delay.show)\n  }\n\n  _leave() {\n    if (this._isWithActiveTrigger()) {\n      return\n    }\n\n    this._isHovered = false\n\n    this._setTimeout(() => {\n      if (!this._isHovered) {\n        this.hide()\n      }\n    }, this._config.delay.hide)\n  }\n\n  _setTimeout(handler, timeout) {\n    clearTimeout(this._timeout)\n    this._timeout = setTimeout(handler, timeout)\n  }\n\n  _isWithActiveTrigger() {\n    return Object.values(this._activeTrigger).includes(true)\n  }\n\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element)\n\n    for (const dataAttribute of Object.keys(dataAttributes)) {\n      if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {\n        delete dataAttributes[dataAttribute]\n      }\n    }\n\n    config = {\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    }\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  _configAfterMerge(config) {\n    config.container = config.container === false ? document.body : getElement(config.container)\n\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      }\n    }\n\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString()\n    }\n\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString()\n    }\n\n    return config\n  }\n\n  _getDelegateConfig() {\n    const config = {}\n\n    for (const [key, value] of Object.entries(this._config)) {\n      if (this.constructor.Default[key] !== value) {\n        config[key] = value\n      }\n    }\n\n    config.selector = false\n    config.trigger = 'manual'\n\n    // In the future can be replaced with:\n    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\n    // `Object.fromEntries(keysWithDifferentValues)`\n    return config\n  }\n\n  _disposePopper() {\n    if (this._popper) {\n      this._popper.destroy()\n      this._popper = null\n    }\n\n    if (this.tip) {\n      this.tip.remove()\n      this.tip = null\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tooltip.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tooltip)\n\nexport default Tooltip\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap popover.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Tooltip from './tooltip.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'popover'\n\nconst SELECTOR_TITLE = '.popover-header'\nconst SELECTOR_CONTENT = '.popover-body'\n\nconst Default = {\n  ...Tooltip.Default,\n  content: '',\n  offset: [0, 8],\n  placement: 'right',\n  template: '<div class=\"popover\" role=\"tooltip\">' +\n    '<div class=\"popover-arrow\"></div>' +\n    '<h3 class=\"popover-header\"></h3>' +\n    '<div class=\"popover-body\"></div>' +\n    '</div>',\n  trigger: 'click'\n}\n\nconst DefaultType = {\n  ...Tooltip.DefaultType,\n  content: '(null|string|element|function)'\n}\n\n/**\n * Class definition\n */\n\nclass Popover extends Tooltip {\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Overrides\n  _isWithContent() {\n    return this._getTitle() || this._getContent()\n  }\n\n  // Private\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TITLE]: this._getTitle(),\n      [SELECTOR_CONTENT]: this._getContent()\n    }\n  }\n\n  _getContent() {\n    return this._resolvePossibleFunction(this._config.content)\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Popover.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Popover)\n\nexport default Popover\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap scrollspy.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin, getElement, isDisabled, isVisible\n} from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'scrollspy'\nconst DATA_KEY = 'bs.scrollspy'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_ACTIVATE = `activate${EVENT_KEY}`\nconst EVENT_CLICK = `click${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item'\nconst CLASS_NAME_ACTIVE = 'active'\n\nconst SELECTOR_DATA_SPY = '[data-bs-spy=\"scroll\"]'\nconst SELECTOR_TARGET_LINKS = '[href]'\nconst SELECTOR_NAV_LIST_GROUP = '.nav, .list-group'\nconst SELECTOR_NAV_LINKS = '.nav-link'\nconst SELECTOR_NAV_ITEMS = '.nav-item'\nconst SELECTOR_LIST_ITEMS = '.list-group-item'\nconst SELECTOR_LINK_ITEMS = `${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`\nconst SELECTOR_DROPDOWN = '.dropdown'\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle'\n\nconst Default = {\n  offset: null, // TODO: v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: '0px 0px -25%',\n  smoothScroll: false,\n  target: null,\n  threshold: [0.1, 0.5, 1]\n}\n\nconst DefaultType = {\n  offset: '(number|null)', // TODO v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: 'string',\n  smoothScroll: 'boolean',\n  target: 'element',\n  threshold: 'array'\n}\n\n/**\n * Class definition\n */\n\nclass ScrollSpy extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    // this._element is the observablesContainer and config.target the menu links wrapper\n    this._targetLinks = new Map()\n    this._observableSections = new Map()\n    this._rootElement = getComputedStyle(this._element).overflowY === 'visible' ? null : this._element\n    this._activeTarget = null\n    this._observer = null\n    this._previousScrollData = {\n      visibleEntryTop: 0,\n      parentScrollTop: 0\n    }\n    this.refresh() // initialize\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  refresh() {\n    this._initializeTargetsAndObservables()\n    this._maybeEnableSmoothScroll()\n\n    if (this._observer) {\n      this._observer.disconnect()\n    } else {\n      this._observer = this._getNewObserver()\n    }\n\n    for (const section of this._observableSections.values()) {\n      this._observer.observe(section)\n    }\n  }\n\n  dispose() {\n    this._observer.disconnect()\n    super.dispose()\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    // TODO: on v6 target should be given explicitly & remove the {target: 'ss-target'} case\n    config.target = getElement(config.target) || document.body\n\n    // TODO: v6 Only for backwards compatibility reasons. Use rootMargin only\n    config.rootMargin = config.offset ? `${config.offset}px 0px -30%` : config.rootMargin\n\n    if (typeof config.threshold === 'string') {\n      config.threshold = config.threshold.split(',').map(value => Number.parseFloat(value))\n    }\n\n    return config\n  }\n\n  _maybeEnableSmoothScroll() {\n    if (!this._config.smoothScroll) {\n      return\n    }\n\n    // unregister any previous listeners\n    EventHandler.off(this._config.target, EVENT_CLICK)\n\n    EventHandler.on(this._config.target, EVENT_CLICK, SELECTOR_TARGET_LINKS, event => {\n      const observableSection = this._observableSections.get(event.target.hash)\n      if (observableSection) {\n        event.preventDefault()\n        const root = this._rootElement || window\n        const height = observableSection.offsetTop - this._element.offsetTop\n        if (root.scrollTo) {\n          root.scrollTo({ top: height, behavior: 'smooth' })\n          return\n        }\n\n        // Chrome 60 doesn't support `scrollTo`\n        root.scrollTop = height\n      }\n    })\n  }\n\n  _getNewObserver() {\n    const options = {\n      root: this._rootElement,\n      threshold: this._config.threshold,\n      rootMargin: this._config.rootMargin\n    }\n\n    return new IntersectionObserver(entries => this._observerCallback(entries), options)\n  }\n\n  // The logic of selection\n  _observerCallback(entries) {\n    const targetElement = entry => this._targetLinks.get(`#${entry.target.id}`)\n    const activate = entry => {\n      this._previousScrollData.visibleEntryTop = entry.target.offsetTop\n      this._process(targetElement(entry))\n    }\n\n    const parentScrollTop = (this._rootElement || document.documentElement).scrollTop\n    const userScrollsDown = parentScrollTop >= this._previousScrollData.parentScrollTop\n    this._previousScrollData.parentScrollTop = parentScrollTop\n\n    for (const entry of entries) {\n      if (!entry.isIntersecting) {\n        this._activeTarget = null\n        this._clearActiveClass(targetElement(entry))\n\n        continue\n      }\n\n      const entryIsLowerThanPrevious = entry.target.offsetTop >= this._previousScrollData.visibleEntryTop\n      // if we are scrolling down, pick the bigger offsetTop\n      if (userScrollsDown && entryIsLowerThanPrevious) {\n        activate(entry)\n        // if parent isn't scrolled, let's keep the first visible item, breaking the iteration\n        if (!parentScrollTop) {\n          return\n        }\n\n        continue\n      }\n\n      // if we are scrolling up, pick the smallest offsetTop\n      if (!userScrollsDown && !entryIsLowerThanPrevious) {\n        activate(entry)\n      }\n    }\n  }\n\n  _initializeTargetsAndObservables() {\n    this._targetLinks = new Map()\n    this._observableSections = new Map()\n\n    const targetLinks = SelectorEngine.find(SELECTOR_TARGET_LINKS, this._config.target)\n\n    for (const anchor of targetLinks) {\n      // ensure that the anchor has an id and is not disabled\n      if (!anchor.hash || isDisabled(anchor)) {\n        continue\n      }\n\n      const observableSection = SelectorEngine.findOne(decodeURI(anchor.hash), this._element)\n\n      // ensure that the observableSection exists & is visible\n      if (isVisible(observableSection)) {\n        this._targetLinks.set(decodeURI(anchor.hash), anchor)\n        this._observableSections.set(anchor.hash, observableSection)\n      }\n    }\n  }\n\n  _process(target) {\n    if (this._activeTarget === target) {\n      return\n    }\n\n    this._clearActiveClass(this._config.target)\n    this._activeTarget = target\n    target.classList.add(CLASS_NAME_ACTIVE)\n    this._activateParents(target)\n\n    EventHandler.trigger(this._element, EVENT_ACTIVATE, { relatedTarget: target })\n  }\n\n  _activateParents(target) {\n    // Activate dropdown parents\n    if (target.classList.contains(CLASS_NAME_DROPDOWN_ITEM)) {\n      SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE, target.closest(SELECTOR_DROPDOWN))\n        .classList.add(CLASS_NAME_ACTIVE)\n      return\n    }\n\n    for (const listGroup of SelectorEngine.parents(target, SELECTOR_NAV_LIST_GROUP)) {\n      // Set triggered links parents as active\n      // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor\n      for (const item of SelectorEngine.prev(listGroup, SELECTOR_LINK_ITEMS)) {\n        item.classList.add(CLASS_NAME_ACTIVE)\n      }\n    }\n  }\n\n  _clearActiveClass(parent) {\n    parent.classList.remove(CLASS_NAME_ACTIVE)\n\n    const activeNodes = SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE}`, parent)\n    for (const node of activeNodes) {\n      node.classList.remove(CLASS_NAME_ACTIVE)\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = ScrollSpy.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const spy of SelectorEngine.find(SELECTOR_DATA_SPY)) {\n    ScrollSpy.getOrCreateInstance(spy)\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(ScrollSpy)\n\nexport default ScrollSpy\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap tab.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { defineJQueryPlugin, getNextActiveElement, isDisabled } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'tab'\nconst DATA_KEY = 'bs.tab'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}`\n\nconst ARROW_LEFT_KEY = 'ArrowLeft'\nconst ARROW_RIGHT_KEY = 'ArrowRight'\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst HOME_KEY = 'Home'\nconst END_KEY = 'End'\n\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_DROPDOWN = 'dropdown'\n\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle'\nconst SELECTOR_DROPDOWN_MENU = '.dropdown-menu'\nconst NOT_SELECTOR_DROPDOWN_TOGGLE = `:not(${SELECTOR_DROPDOWN_TOGGLE})`\n\nconst SELECTOR_TAB_PANEL = '.list-group, .nav, [role=\"tablist\"]'\nconst SELECTOR_OUTER = '.nav-item, .list-group-item'\nconst SELECTOR_INNER = `.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role=\"tab\"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]' // TODO: could only be `tab` in v6\nconst SELECTOR_INNER_ELEM = `${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`\n\nconst SELECTOR_DATA_TOGGLE_ACTIVE = `.${CLASS_NAME_ACTIVE}[data-bs-toggle=\"tab\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"pill\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"list\"]`\n\n/**\n * Class definition\n */\n\nclass Tab extends BaseComponent {\n  constructor(element) {\n    super(element)\n    this._parent = this._element.closest(SELECTOR_TAB_PANEL)\n\n    if (!this._parent) {\n      return\n      // TODO: should throw exception in v6\n      // throw new TypeError(`${element.outerHTML} has not a valid parent ${SELECTOR_INNER_ELEM}`)\n    }\n\n    // Set up initial aria attributes\n    this._setInitialAttributes(this._parent, this._getChildren())\n\n    EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event))\n  }\n\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  show() { // Shows this elem and deactivate the active sibling if exists\n    const innerElem = this._element\n    if (this._elemIsActive(innerElem)) {\n      return\n    }\n\n    // Search for active tab on same parent to deactivate it\n    const active = this._getActiveElem()\n\n    const hideEvent = active ?\n      EventHandler.trigger(active, EVENT_HIDE, { relatedTarget: innerElem }) :\n      null\n\n    const showEvent = EventHandler.trigger(innerElem, EVENT_SHOW, { relatedTarget: active })\n\n    if (showEvent.defaultPrevented || (hideEvent && hideEvent.defaultPrevented)) {\n      return\n    }\n\n    this._deactivate(active, innerElem)\n    this._activate(innerElem, active)\n  }\n\n  // Private\n  _activate(element, relatedElem) {\n    if (!element) {\n      return\n    }\n\n    element.classList.add(CLASS_NAME_ACTIVE)\n\n    this._activate(SelectorEngine.getElementFromSelector(element)) // Search and activate/show the proper section\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.add(CLASS_NAME_SHOW)\n        return\n      }\n\n      element.removeAttribute('tabindex')\n      element.setAttribute('aria-selected', true)\n      this._toggleDropDown(element, true)\n      EventHandler.trigger(element, EVENT_SHOWN, {\n        relatedTarget: relatedElem\n      })\n    }\n\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _deactivate(element, relatedElem) {\n    if (!element) {\n      return\n    }\n\n    element.classList.remove(CLASS_NAME_ACTIVE)\n    element.blur()\n\n    this._deactivate(SelectorEngine.getElementFromSelector(element)) // Search and deactivate the shown section too\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.remove(CLASS_NAME_SHOW)\n        return\n      }\n\n      element.setAttribute('aria-selected', false)\n      element.setAttribute('tabindex', '-1')\n      this._toggleDropDown(element, false)\n      EventHandler.trigger(element, EVENT_HIDDEN, { relatedTarget: relatedElem })\n    }\n\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _keydown(event) {\n    if (!([ARROW_LEFT_KEY, ARROW_RIGHT_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY, HOME_KEY, END_KEY].includes(event.key))) {\n      return\n    }\n\n    event.stopPropagation()// stopPropagation/preventDefault both added to support up/down keys without scrolling the page\n    event.preventDefault()\n\n    const children = this._getChildren().filter(element => !isDisabled(element))\n    let nextActiveElement\n\n    if ([HOME_KEY, END_KEY].includes(event.key)) {\n      nextActiveElement = children[event.key === HOME_KEY ? 0 : children.length - 1]\n    } else {\n      const isNext = [ARROW_RIGHT_KEY, ARROW_DOWN_KEY].includes(event.key)\n      nextActiveElement = getNextActiveElement(children, event.target, isNext, true)\n    }\n\n    if (nextActiveElement) {\n      nextActiveElement.focus({ preventScroll: true })\n      Tab.getOrCreateInstance(nextActiveElement).show()\n    }\n  }\n\n  _getChildren() { // collection of inner elements\n    return SelectorEngine.find(SELECTOR_INNER_ELEM, this._parent)\n  }\n\n  _getActiveElem() {\n    return this._getChildren().find(child => this._elemIsActive(child)) || null\n  }\n\n  _setInitialAttributes(parent, children) {\n    this._setAttributeIfNotExists(parent, 'role', 'tablist')\n\n    for (const child of children) {\n      this._setInitialAttributesOnChild(child)\n    }\n  }\n\n  _setInitialAttributesOnChild(child) {\n    child = this._getInnerElement(child)\n    const isActive = this._elemIsActive(child)\n    const outerElem = this._getOuterElement(child)\n    child.setAttribute('aria-selected', isActive)\n\n    if (outerElem !== child) {\n      this._setAttributeIfNotExists(outerElem, 'role', 'presentation')\n    }\n\n    if (!isActive) {\n      child.setAttribute('tabindex', '-1')\n    }\n\n    this._setAttributeIfNotExists(child, 'role', 'tab')\n\n    // set attributes to the related panel too\n    this._setInitialAttributesOnTargetPanel(child)\n  }\n\n  _setInitialAttributesOnTargetPanel(child) {\n    const target = SelectorEngine.getElementFromSelector(child)\n\n    if (!target) {\n      return\n    }\n\n    this._setAttributeIfNotExists(target, 'role', 'tabpanel')\n\n    if (child.id) {\n      this._setAttributeIfNotExists(target, 'aria-labelledby', `${child.id}`)\n    }\n  }\n\n  _toggleDropDown(element, open) {\n    const outerElem = this._getOuterElement(element)\n    if (!outerElem.classList.contains(CLASS_DROPDOWN)) {\n      return\n    }\n\n    const toggle = (selector, className) => {\n      const element = SelectorEngine.findOne(selector, outerElem)\n      if (element) {\n        element.classList.toggle(className, open)\n      }\n    }\n\n    toggle(SELECTOR_DROPDOWN_TOGGLE, CLASS_NAME_ACTIVE)\n    toggle(SELECTOR_DROPDOWN_MENU, CLASS_NAME_SHOW)\n    outerElem.setAttribute('aria-expanded', open)\n  }\n\n  _setAttributeIfNotExists(element, attribute, value) {\n    if (!element.hasAttribute(attribute)) {\n      element.setAttribute(attribute, value)\n    }\n  }\n\n  _elemIsActive(elem) {\n    return elem.classList.contains(CLASS_NAME_ACTIVE)\n  }\n\n  // Try to get the inner element (usually the .nav-link)\n  _getInnerElement(elem) {\n    return elem.matches(SELECTOR_INNER_ELEM) ? elem : SelectorEngine.findOne(SELECTOR_INNER_ELEM, elem)\n  }\n\n  // Try to get the outer element (usually the .nav-item)\n  _getOuterElement(elem) {\n    return elem.closest(SELECTOR_OUTER) || elem\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tab.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  if (isDisabled(this)) {\n    return\n  }\n\n  Tab.getOrCreateInstance(this).show()\n})\n\n/**\n * Initialize on focus\n */\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE)) {\n    Tab.getOrCreateInstance(element)\n  }\n})\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tab)\n\nexport default Tab\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap toast.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport { defineJQueryPlugin, reflow } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'toast'\nconst DATA_KEY = 'bs.toast'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_MOUSEOVER = `mouseover${EVENT_KEY}`\nconst EVENT_MOUSEOUT = `mouseout${EVENT_KEY}`\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`\nconst EVENT_FOCUSOUT = `focusout${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_HIDE = 'hide' // @deprecated - kept here only for backwards compatibility\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_SHOWING = 'showing'\n\nconst DefaultType = {\n  animation: 'boolean',\n  autohide: 'boolean',\n  delay: 'number'\n}\n\nconst Default = {\n  animation: true,\n  autohide: true,\n  delay: 5000\n}\n\n/**\n * Class definition\n */\n\nclass Toast extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._timeout = null\n    this._hasMouseInteraction = false\n    this._hasKeyboardInteraction = false\n    this._setListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  show() {\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW)\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._clearTimeout()\n\n    if (this._config.animation) {\n      this._element.classList.add(CLASS_NAME_FADE)\n    }\n\n    const complete = () => {\n      this._element.classList.remove(CLASS_NAME_SHOWING)\n      EventHandler.trigger(this._element, EVENT_SHOWN)\n\n      this._maybeScheduleHide()\n    }\n\n    this._element.classList.remove(CLASS_NAME_HIDE) // @deprecated\n    reflow(this._element)\n    this._element.classList.add(CLASS_NAME_SHOW, CLASS_NAME_SHOWING)\n\n    this._queueCallback(complete, this._element, this._config.animation)\n  }\n\n  hide() {\n    if (!this.isShown()) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const complete = () => {\n      this._element.classList.add(CLASS_NAME_HIDE) // @deprecated\n      this._element.classList.remove(CLASS_NAME_SHOWING, CLASS_NAME_SHOW)\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._element.classList.add(CLASS_NAME_SHOWING)\n    this._queueCallback(complete, this._element, this._config.animation)\n  }\n\n  dispose() {\n    this._clearTimeout()\n\n    if (this.isShown()) {\n      this._element.classList.remove(CLASS_NAME_SHOW)\n    }\n\n    super.dispose()\n  }\n\n  isShown() {\n    return this._element.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  // Private\n\n  _maybeScheduleHide() {\n    if (!this._config.autohide) {\n      return\n    }\n\n    if (this._hasMouseInteraction || this._hasKeyboardInteraction) {\n      return\n    }\n\n    this._timeout = setTimeout(() => {\n      this.hide()\n    }, this._config.delay)\n  }\n\n  _onInteraction(event, isInteracting) {\n    switch (event.type) {\n      case 'mouseover':\n      case 'mouseout': {\n        this._hasMouseInteraction = isInteracting\n        break\n      }\n\n      case 'focusin':\n      case 'focusout': {\n        this._hasKeyboardInteraction = isInteracting\n        break\n      }\n\n      default: {\n        break\n      }\n    }\n\n    if (isInteracting) {\n      this._clearTimeout()\n      return\n    }\n\n    const nextElement = event.relatedTarget\n    if (this._element === nextElement || this._element.contains(nextElement)) {\n      return\n    }\n\n    this._maybeScheduleHide()\n  }\n\n  _setListeners() {\n    EventHandler.on(this._element, EVENT_MOUSEOVER, event => this._onInteraction(event, true))\n    EventHandler.on(this._element, EVENT_MOUSEOUT, event => this._onInteraction(event, false))\n    EventHandler.on(this._element, EVENT_FOCUSIN, event => this._onInteraction(event, true))\n    EventHandler.on(this._element, EVENT_FOCUSOUT, event => this._onInteraction(event, false))\n  }\n\n  _clearTimeout() {\n    clearTimeout(this._timeout)\n    this._timeout = null\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Toast.getOrCreateInstance(this, config)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config](this)\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nenableDismissTrigger(Toast)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Toast)\n\nexport default Toast\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap index.umd.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Alert from './src/alert.js'\nimport Button from './src/button.js'\nimport Carousel from './src/carousel.js'\nimport Collapse from './src/collapse.js'\nimport Dropdown from './src/dropdown.js'\nimport Modal from './src/modal.js'\nimport Offcanvas from './src/offcanvas.js'\nimport Popover from './src/popover.js'\nimport ScrollSpy from './src/scrollspy.js'\nimport Tab from './src/tab.js'\nimport Toast from './src/toast.js'\nimport Tooltip from './src/tooltip.js'\n\nexport default {\n  Alert,\n  Button,\n  Carousel,\n  Collapse,\n  Dropdown,\n  Modal,\n  Offcanvas,\n  Popover,\n  ScrollSpy,\n  Tab,\n  Toast,\n  Tooltip\n}\n", "/*!\nTurbo 8.0.3\nCopyright \u00A9 2024 37signals LLC\n */\n/**\n * The MIT License (MIT)\n *\n * Copyright (c) 2019 Javan Makhmali\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n(function (prototype) {\n  if (typeof prototype.requestSubmit == \"function\") return\n\n  prototype.requestSubmit = function (submitter) {\n    if (submitter) {\n      validateSubmitter(submitter, this);\n      submitter.click();\n    } else {\n      submitter = document.createElement(\"input\");\n      submitter.type = \"submit\";\n      submitter.hidden = true;\n      this.appendChild(submitter);\n      submitter.click();\n      this.removeChild(submitter);\n    }\n  };\n\n  function validateSubmitter(submitter, form) {\n    submitter instanceof HTMLElement || raise(TypeError, \"parameter 1 is not of type 'HTMLElement'\");\n    submitter.type == \"submit\" || raise(TypeError, \"The specified element is not a submit button\");\n    submitter.form == form ||\n      raise(DOMException, \"The specified element is not owned by this form element\", \"NotFoundError\");\n  }\n\n  function raise(errorConstructor, message, name) {\n    throw new errorConstructor(\"Failed to execute 'requestSubmit' on 'HTMLFormElement': \" + message + \".\", name)\n  }\n})(HTMLFormElement.prototype);\n\nconst submittersByForm = new WeakMap();\n\nfunction findSubmitterFromClickTarget(target) {\n  const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n  const candidate = element ? element.closest(\"input, button\") : null;\n  return candidate?.type == \"submit\" ? candidate : null\n}\n\nfunction clickCaptured(event) {\n  const submitter = findSubmitterFromClickTarget(event.target);\n\n  if (submitter && submitter.form) {\n    submittersByForm.set(submitter.form, submitter);\n  }\n}\n\n(function () {\n  if (\"submitter\" in Event.prototype) return\n\n  let prototype = window.Event.prototype;\n  // Certain versions of Safari 15 have a bug where they won't\n  // populate the submitter. This hurts TurboDrive's enable/disable detection.\n  // See https://bugs.webkit.org/show_bug.cgi?id=229660\n  if (\"SubmitEvent\" in window) {\n    const prototypeOfSubmitEvent = window.SubmitEvent.prototype;\n\n    if (/Apple Computer/.test(navigator.vendor) && !(\"submitter\" in prototypeOfSubmitEvent)) {\n      prototype = prototypeOfSubmitEvent;\n    } else {\n      return // polyfill not needed\n    }\n  }\n\n  addEventListener(\"click\", clickCaptured, true);\n\n  Object.defineProperty(prototype, \"submitter\", {\n    get() {\n      if (this.type == \"submit\" && this.target instanceof HTMLFormElement) {\n        return submittersByForm.get(this.target)\n      }\n    }\n  });\n})();\n\nconst FrameLoadingStyle = {\n  eager: \"eager\",\n  lazy: \"lazy\"\n};\n\n/**\n * Contains a fragment of HTML which is updated based on navigation within\n * it (e.g. via links or form submissions).\n *\n * @customElement turbo-frame\n * @example\n *   <turbo-frame id=\"messages\">\n *     <a href=\"/messages/expanded\">\n *       Show all expanded messages in this frame.\n *     </a>\n *\n *     <form action=\"/messages\">\n *       Show response from this form within this frame.\n *     </form>\n *   </turbo-frame>\n */\nclass FrameElement extends HTMLElement {\n  static delegateConstructor = undefined\n\n  loaded = Promise.resolve()\n\n  static get observedAttributes() {\n    return [\"disabled\", \"complete\", \"loading\", \"src\"]\n  }\n\n  constructor() {\n    super();\n    this.delegate = new FrameElement.delegateConstructor(this);\n  }\n\n  connectedCallback() {\n    this.delegate.connect();\n  }\n\n  disconnectedCallback() {\n    this.delegate.disconnect();\n  }\n\n  reload() {\n    return this.delegate.sourceURLReloaded()\n  }\n\n  attributeChangedCallback(name) {\n    if (name == \"loading\") {\n      this.delegate.loadingStyleChanged();\n    } else if (name == \"complete\") {\n      this.delegate.completeChanged();\n    } else if (name == \"src\") {\n      this.delegate.sourceURLChanged();\n    } else {\n      this.delegate.disabledChanged();\n    }\n  }\n\n  /**\n   * Gets the URL to lazily load source HTML from\n   */\n  get src() {\n    return this.getAttribute(\"src\")\n  }\n\n  /**\n   * Sets the URL to lazily load source HTML from\n   */\n  set src(value) {\n    if (value) {\n      this.setAttribute(\"src\", value);\n    } else {\n      this.removeAttribute(\"src\");\n    }\n  }\n\n  /**\n   * Gets the refresh mode for the frame.\n   */\n  get refresh() {\n    return this.getAttribute(\"refresh\")\n  }\n\n  /**\n   * Sets the refresh mode for the frame.\n   */\n  set refresh(value) {\n    if (value) {\n      this.setAttribute(\"refresh\", value);\n    } else {\n      this.removeAttribute(\"refresh\");\n    }\n  }\n\n  /**\n   * Determines if the element is loading\n   */\n  get loading() {\n    return frameLoadingStyleFromString(this.getAttribute(\"loading\") || \"\")\n  }\n\n  /**\n   * Sets the value of if the element is loading\n   */\n  set loading(value) {\n    if (value) {\n      this.setAttribute(\"loading\", value);\n    } else {\n      this.removeAttribute(\"loading\");\n    }\n  }\n\n  /**\n   * Gets the disabled state of the frame.\n   *\n   * If disabled, no requests will be intercepted by the frame.\n   */\n  get disabled() {\n    return this.hasAttribute(\"disabled\")\n  }\n\n  /**\n   * Sets the disabled state of the frame.\n   *\n   * If disabled, no requests will be intercepted by the frame.\n   */\n  set disabled(value) {\n    if (value) {\n      this.setAttribute(\"disabled\", \"\");\n    } else {\n      this.removeAttribute(\"disabled\");\n    }\n  }\n\n  /**\n   * Gets the autoscroll state of the frame.\n   *\n   * If true, the frame will be scrolled into view automatically on update.\n   */\n  get autoscroll() {\n    return this.hasAttribute(\"autoscroll\")\n  }\n\n  /**\n   * Sets the autoscroll state of the frame.\n   *\n   * If true, the frame will be scrolled into view automatically on update.\n   */\n  set autoscroll(value) {\n    if (value) {\n      this.setAttribute(\"autoscroll\", \"\");\n    } else {\n      this.removeAttribute(\"autoscroll\");\n    }\n  }\n\n  /**\n   * Determines if the element has finished loading\n   */\n  get complete() {\n    return !this.delegate.isLoading\n  }\n\n  /**\n   * Gets the active state of the frame.\n   *\n   * If inactive, source changes will not be observed.\n   */\n  get isActive() {\n    return this.ownerDocument === document && !this.isPreview\n  }\n\n  /**\n   * Sets the active state of the frame.\n   *\n   * If inactive, source changes will not be observed.\n   */\n  get isPreview() {\n    return this.ownerDocument?.documentElement?.hasAttribute(\"data-turbo-preview\")\n  }\n}\n\nfunction frameLoadingStyleFromString(style) {\n  switch (style.toLowerCase()) {\n    case \"lazy\":\n      return FrameLoadingStyle.lazy\n    default:\n      return FrameLoadingStyle.eager\n  }\n}\n\nfunction expandURL(locatable) {\n  return new URL(locatable.toString(), document.baseURI)\n}\n\nfunction getAnchor(url) {\n  let anchorMatch;\n  if (url.hash) {\n    return url.hash.slice(1)\n    // eslint-disable-next-line no-cond-assign\n  } else if ((anchorMatch = url.href.match(/#(.*)$/))) {\n    return anchorMatch[1]\n  }\n}\n\nfunction getAction$1(form, submitter) {\n  const action = submitter?.getAttribute(\"formaction\") || form.getAttribute(\"action\") || form.action;\n\n  return expandURL(action)\n}\n\nfunction getExtension(url) {\n  return (getLastPathComponent(url).match(/\\.[^.]*$/) || [])[0] || \"\"\n}\n\nfunction isHTML(url) {\n  return !!getExtension(url).match(/^(?:|\\.(?:htm|html|xhtml|php))$/)\n}\n\nfunction isPrefixedBy(baseURL, url) {\n  const prefix = getPrefix(url);\n  return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix)\n}\n\nfunction locationIsVisitable(location, rootLocation) {\n  return isPrefixedBy(location, rootLocation) && isHTML(location)\n}\n\nfunction getRequestURL(url) {\n  const anchor = getAnchor(url);\n  return anchor != null ? url.href.slice(0, -(anchor.length + 1)) : url.href\n}\n\nfunction toCacheKey(url) {\n  return getRequestURL(url)\n}\n\nfunction urlsAreEqual(left, right) {\n  return expandURL(left).href == expandURL(right).href\n}\n\nfunction getPathComponents(url) {\n  return url.pathname.split(\"/\").slice(1)\n}\n\nfunction getLastPathComponent(url) {\n  return getPathComponents(url).slice(-1)[0]\n}\n\nfunction getPrefix(url) {\n  return addTrailingSlash(url.origin + url.pathname)\n}\n\nfunction addTrailingSlash(value) {\n  return value.endsWith(\"/\") ? value : value + \"/\"\n}\n\nclass FetchResponse {\n  constructor(response) {\n    this.response = response;\n  }\n\n  get succeeded() {\n    return this.response.ok\n  }\n\n  get failed() {\n    return !this.succeeded\n  }\n\n  get clientError() {\n    return this.statusCode >= 400 && this.statusCode <= 499\n  }\n\n  get serverError() {\n    return this.statusCode >= 500 && this.statusCode <= 599\n  }\n\n  get redirected() {\n    return this.response.redirected\n  }\n\n  get location() {\n    return expandURL(this.response.url)\n  }\n\n  get isHTML() {\n    return this.contentType && this.contentType.match(/^(?:text\\/([^\\s;,]+\\b)?html|application\\/xhtml\\+xml)\\b/)\n  }\n\n  get statusCode() {\n    return this.response.status\n  }\n\n  get contentType() {\n    return this.header(\"Content-Type\")\n  }\n\n  get responseText() {\n    return this.response.clone().text()\n  }\n\n  get responseHTML() {\n    if (this.isHTML) {\n      return this.response.clone().text()\n    } else {\n      return Promise.resolve(undefined)\n    }\n  }\n\n  header(name) {\n    return this.response.headers.get(name)\n  }\n}\n\nfunction activateScriptElement(element) {\n  if (element.getAttribute(\"data-turbo-eval\") == \"false\") {\n    return element\n  } else {\n    const createdScriptElement = document.createElement(\"script\");\n    const cspNonce = getMetaContent(\"csp-nonce\");\n    if (cspNonce) {\n      createdScriptElement.nonce = cspNonce;\n    }\n    createdScriptElement.textContent = element.textContent;\n    createdScriptElement.async = false;\n    copyElementAttributes(createdScriptElement, element);\n    return createdScriptElement\n  }\n}\n\nfunction copyElementAttributes(destinationElement, sourceElement) {\n  for (const { name, value } of sourceElement.attributes) {\n    destinationElement.setAttribute(name, value);\n  }\n}\n\nfunction createDocumentFragment(html) {\n  const template = document.createElement(\"template\");\n  template.innerHTML = html;\n  return template.content\n}\n\nfunction dispatch(eventName, { target, cancelable, detail } = {}) {\n  const event = new CustomEvent(eventName, {\n    cancelable,\n    bubbles: true,\n    composed: true,\n    detail\n  });\n\n  if (target && target.isConnected) {\n    target.dispatchEvent(event);\n  } else {\n    document.documentElement.dispatchEvent(event);\n  }\n\n  return event\n}\n\nfunction nextRepaint() {\n  if (document.visibilityState === \"hidden\") {\n    return nextEventLoopTick()\n  } else {\n    return nextAnimationFrame()\n  }\n}\n\nfunction nextAnimationFrame() {\n  return new Promise((resolve) => requestAnimationFrame(() => resolve()))\n}\n\nfunction nextEventLoopTick() {\n  return new Promise((resolve) => setTimeout(() => resolve(), 0))\n}\n\nfunction nextMicrotask() {\n  return Promise.resolve()\n}\n\nfunction parseHTMLDocument(html = \"\") {\n  return new DOMParser().parseFromString(html, \"text/html\")\n}\n\nfunction unindent(strings, ...values) {\n  const lines = interpolate(strings, values).replace(/^\\n/, \"\").split(\"\\n\");\n  const match = lines[0].match(/^\\s+/);\n  const indent = match ? match[0].length : 0;\n  return lines.map((line) => line.slice(indent)).join(\"\\n\")\n}\n\nfunction interpolate(strings, values) {\n  return strings.reduce((result, string, i) => {\n    const value = values[i] == undefined ? \"\" : values[i];\n    return result + string + value\n  }, \"\")\n}\n\nfunction uuid() {\n  return Array.from({ length: 36 })\n    .map((_, i) => {\n      if (i == 8 || i == 13 || i == 18 || i == 23) {\n        return \"-\"\n      } else if (i == 14) {\n        return \"4\"\n      } else if (i == 19) {\n        return (Math.floor(Math.random() * 4) + 8).toString(16)\n      } else {\n        return Math.floor(Math.random() * 15).toString(16)\n      }\n    })\n    .join(\"\")\n}\n\nfunction getAttribute(attributeName, ...elements) {\n  for (const value of elements.map((element) => element?.getAttribute(attributeName))) {\n    if (typeof value == \"string\") return value\n  }\n\n  return null\n}\n\nfunction hasAttribute(attributeName, ...elements) {\n  return elements.some((element) => element && element.hasAttribute(attributeName))\n}\n\nfunction markAsBusy(...elements) {\n  for (const element of elements) {\n    if (element.localName == \"turbo-frame\") {\n      element.setAttribute(\"busy\", \"\");\n    }\n    element.setAttribute(\"aria-busy\", \"true\");\n  }\n}\n\nfunction clearBusyState(...elements) {\n  for (const element of elements) {\n    if (element.localName == \"turbo-frame\") {\n      element.removeAttribute(\"busy\");\n    }\n\n    element.removeAttribute(\"aria-busy\");\n  }\n}\n\nfunction waitForLoad(element, timeoutInMilliseconds = 2000) {\n  return new Promise((resolve) => {\n    const onComplete = () => {\n      element.removeEventListener(\"error\", onComplete);\n      element.removeEventListener(\"load\", onComplete);\n      resolve();\n    };\n\n    element.addEventListener(\"load\", onComplete, { once: true });\n    element.addEventListener(\"error\", onComplete, { once: true });\n    setTimeout(resolve, timeoutInMilliseconds);\n  })\n}\n\nfunction getHistoryMethodForAction(action) {\n  switch (action) {\n    case \"replace\":\n      return history.replaceState\n    case \"advance\":\n    case \"restore\":\n      return history.pushState\n  }\n}\n\nfunction isAction(action) {\n  return action == \"advance\" || action == \"replace\" || action == \"restore\"\n}\n\nfunction getVisitAction(...elements) {\n  const action = getAttribute(\"data-turbo-action\", ...elements);\n\n  return isAction(action) ? action : null\n}\n\nfunction getMetaElement(name) {\n  return document.querySelector(`meta[name=\"${name}\"]`)\n}\n\nfunction getMetaContent(name) {\n  const element = getMetaElement(name);\n  return element && element.content\n}\n\nfunction setMetaContent(name, content) {\n  let element = getMetaElement(name);\n\n  if (!element) {\n    element = document.createElement(\"meta\");\n    element.setAttribute(\"name\", name);\n\n    document.head.appendChild(element);\n  }\n\n  element.setAttribute(\"content\", content);\n\n  return element\n}\n\nfunction findClosestRecursively(element, selector) {\n  if (element instanceof Element) {\n    return (\n      element.closest(selector) || findClosestRecursively(element.assignedSlot || element.getRootNode()?.host, selector)\n    )\n  }\n}\n\nfunction elementIsFocusable(element) {\n  const inertDisabledOrHidden = \"[inert], :disabled, [hidden], details:not([open]), dialog:not([open])\";\n\n  return !!element && element.closest(inertDisabledOrHidden) == null && typeof element.focus == \"function\"\n}\n\nfunction queryAutofocusableElement(elementOrDocumentFragment) {\n  return Array.from(elementOrDocumentFragment.querySelectorAll(\"[autofocus]\")).find(elementIsFocusable)\n}\n\nasync function around(callback, reader) {\n  const before = reader();\n\n  callback();\n\n  await nextAnimationFrame();\n\n  const after = reader();\n\n  return [before, after]\n}\n\nfunction doesNotTargetIFrame(anchor) {\n  if (anchor.hasAttribute(\"target\")) {\n    for (const element of document.getElementsByName(anchor.target)) {\n      if (element instanceof HTMLIFrameElement) return false\n    }\n  }\n\n  return true\n}\n\nfunction findLinkFromClickTarget(target) {\n  return findClosestRecursively(target, \"a[href]:not([target^=_]):not([download])\")\n}\n\nfunction getLocationForLink(link) {\n  return expandURL(link.getAttribute(\"href\") || \"\")\n}\n\nfunction debounce(fn, delay) {\n  let timeoutId = null;\n\n  return (...args) => {\n    const callback = () => fn.apply(this, args);\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(callback, delay);\n  }\n}\n\nclass LimitedSet extends Set {\n  constructor(maxSize) {\n    super();\n    this.maxSize = maxSize;\n  }\n\n  add(value) {\n    if (this.size >= this.maxSize) {\n      const iterator = this.values();\n      const oldestValue = iterator.next().value;\n      this.delete(oldestValue);\n    }\n    super.add(value);\n  }\n}\n\nconst recentRequests = new LimitedSet(20);\n\nconst nativeFetch = window.fetch;\n\nfunction fetchWithTurboHeaders(url, options = {}) {\n  const modifiedHeaders = new Headers(options.headers || {});\n  const requestUID = uuid();\n  recentRequests.add(requestUID);\n  modifiedHeaders.append(\"X-Turbo-Request-Id\", requestUID);\n\n  return nativeFetch(url, {\n    ...options,\n    headers: modifiedHeaders\n  })\n}\n\nfunction fetchMethodFromString(method) {\n  switch (method.toLowerCase()) {\n    case \"get\":\n      return FetchMethod.get\n    case \"post\":\n      return FetchMethod.post\n    case \"put\":\n      return FetchMethod.put\n    case \"patch\":\n      return FetchMethod.patch\n    case \"delete\":\n      return FetchMethod.delete\n  }\n}\n\nconst FetchMethod = {\n  get: \"get\",\n  post: \"post\",\n  put: \"put\",\n  patch: \"patch\",\n  delete: \"delete\"\n};\n\nfunction fetchEnctypeFromString(encoding) {\n  switch (encoding.toLowerCase()) {\n    case FetchEnctype.multipart:\n      return FetchEnctype.multipart\n    case FetchEnctype.plain:\n      return FetchEnctype.plain\n    default:\n      return FetchEnctype.urlEncoded\n  }\n}\n\nconst FetchEnctype = {\n  urlEncoded: \"application/x-www-form-urlencoded\",\n  multipart: \"multipart/form-data\",\n  plain: \"text/plain\"\n};\n\nclass FetchRequest {\n  abortController = new AbortController()\n  #resolveRequestPromise = (_value) => {}\n\n  constructor(delegate, method, location, requestBody = new URLSearchParams(), target = null, enctype = FetchEnctype.urlEncoded) {\n    const [url, body] = buildResourceAndBody(expandURL(location), method, requestBody, enctype);\n\n    this.delegate = delegate;\n    this.url = url;\n    this.target = target;\n    this.fetchOptions = {\n      credentials: \"same-origin\",\n      redirect: \"follow\",\n      method: method,\n      headers: { ...this.defaultHeaders },\n      body: body,\n      signal: this.abortSignal,\n      referrer: this.delegate.referrer?.href\n    };\n    this.enctype = enctype;\n  }\n\n  get method() {\n    return this.fetchOptions.method\n  }\n\n  set method(value) {\n    const fetchBody = this.isSafe ? this.url.searchParams : this.fetchOptions.body || new FormData();\n    const fetchMethod = fetchMethodFromString(value) || FetchMethod.get;\n\n    this.url.search = \"\";\n\n    const [url, body] = buildResourceAndBody(this.url, fetchMethod, fetchBody, this.enctype);\n\n    this.url = url;\n    this.fetchOptions.body = body;\n    this.fetchOptions.method = fetchMethod;\n  }\n\n  get headers() {\n    return this.fetchOptions.headers\n  }\n\n  set headers(value) {\n    this.fetchOptions.headers = value;\n  }\n\n  get body() {\n    if (this.isSafe) {\n      return this.url.searchParams\n    } else {\n      return this.fetchOptions.body\n    }\n  }\n\n  set body(value) {\n    this.fetchOptions.body = value;\n  }\n\n  get location() {\n    return this.url\n  }\n\n  get params() {\n    return this.url.searchParams\n  }\n\n  get entries() {\n    return this.body ? Array.from(this.body.entries()) : []\n  }\n\n  cancel() {\n    this.abortController.abort();\n  }\n\n  async perform() {\n    const { fetchOptions } = this;\n    this.delegate.prepareRequest(this);\n    const event = await this.#allowRequestToBeIntercepted(fetchOptions);\n    try {\n      this.delegate.requestStarted(this);\n\n      if (event.detail.fetchRequest) {\n        this.response = event.detail.fetchRequest.response;\n      } else {\n        this.response = fetchWithTurboHeaders(this.url.href, fetchOptions);\n      }\n\n      const response = await this.response;\n      return await this.receive(response)\n    } catch (error) {\n      if (error.name !== \"AbortError\") {\n        if (this.#willDelegateErrorHandling(error)) {\n          this.delegate.requestErrored(this, error);\n        }\n        throw error\n      }\n    } finally {\n      this.delegate.requestFinished(this);\n    }\n  }\n\n  async receive(response) {\n    const fetchResponse = new FetchResponse(response);\n    const event = dispatch(\"turbo:before-fetch-response\", {\n      cancelable: true,\n      detail: { fetchResponse },\n      target: this.target\n    });\n    if (event.defaultPrevented) {\n      this.delegate.requestPreventedHandlingResponse(this, fetchResponse);\n    } else if (fetchResponse.succeeded) {\n      this.delegate.requestSucceededWithResponse(this, fetchResponse);\n    } else {\n      this.delegate.requestFailedWithResponse(this, fetchResponse);\n    }\n    return fetchResponse\n  }\n\n  get defaultHeaders() {\n    return {\n      Accept: \"text/html, application/xhtml+xml\"\n    }\n  }\n\n  get isSafe() {\n    return isSafe(this.method)\n  }\n\n  get abortSignal() {\n    return this.abortController.signal\n  }\n\n  acceptResponseType(mimeType) {\n    this.headers[\"Accept\"] = [mimeType, this.headers[\"Accept\"]].join(\", \");\n  }\n\n  async #allowRequestToBeIntercepted(fetchOptions) {\n    const requestInterception = new Promise((resolve) => (this.#resolveRequestPromise = resolve));\n    const event = dispatch(\"turbo:before-fetch-request\", {\n      cancelable: true,\n      detail: {\n        fetchOptions,\n        url: this.url,\n        resume: this.#resolveRequestPromise\n      },\n      target: this.target\n    });\n    this.url = event.detail.url;\n    if (event.defaultPrevented) await requestInterception;\n\n    return event\n  }\n\n  #willDelegateErrorHandling(error) {\n    const event = dispatch(\"turbo:fetch-request-error\", {\n      target: this.target,\n      cancelable: true,\n      detail: { request: this, error: error }\n    });\n\n    return !event.defaultPrevented\n  }\n}\n\nfunction isSafe(fetchMethod) {\n  return fetchMethodFromString(fetchMethod) == FetchMethod.get\n}\n\nfunction buildResourceAndBody(resource, method, requestBody, enctype) {\n  const searchParams =\n    Array.from(requestBody).length > 0 ? new URLSearchParams(entriesExcludingFiles(requestBody)) : resource.searchParams;\n\n  if (isSafe(method)) {\n    return [mergeIntoURLSearchParams(resource, searchParams), null]\n  } else if (enctype == FetchEnctype.urlEncoded) {\n    return [resource, searchParams]\n  } else {\n    return [resource, requestBody]\n  }\n}\n\nfunction entriesExcludingFiles(requestBody) {\n  const entries = [];\n\n  for (const [name, value] of requestBody) {\n    if (value instanceof File) continue\n    else entries.push([name, value]);\n  }\n\n  return entries\n}\n\nfunction mergeIntoURLSearchParams(url, requestBody) {\n  const searchParams = new URLSearchParams(entriesExcludingFiles(requestBody));\n\n  url.search = searchParams.toString();\n\n  return url\n}\n\nclass AppearanceObserver {\n  started = false\n\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n    this.intersectionObserver = new IntersectionObserver(this.intersect);\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true;\n      this.intersectionObserver.observe(this.element);\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false;\n      this.intersectionObserver.unobserve(this.element);\n    }\n  }\n\n  intersect = (entries) => {\n    const lastEntry = entries.slice(-1)[0];\n    if (lastEntry?.isIntersecting) {\n      this.delegate.elementAppearedInViewport(this.element);\n    }\n  }\n}\n\nclass StreamMessage {\n  static contentType = \"text/vnd.turbo-stream.html\"\n\n  static wrap(message) {\n    if (typeof message == \"string\") {\n      return new this(createDocumentFragment(message))\n    } else {\n      return message\n    }\n  }\n\n  constructor(fragment) {\n    this.fragment = importStreamElements(fragment);\n  }\n}\n\nfunction importStreamElements(fragment) {\n  for (const element of fragment.querySelectorAll(\"turbo-stream\")) {\n    const streamElement = document.importNode(element, true);\n\n    for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll(\"script\")) {\n      inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));\n    }\n\n    element.replaceWith(streamElement);\n  }\n\n  return fragment\n}\n\nconst PREFETCH_DELAY = 100;\n\nclass PrefetchCache {\n  #prefetchTimeout = null\n  #prefetched = null\n\n  get(url) {\n    if (this.#prefetched && this.#prefetched.url === url && this.#prefetched.expire > Date.now()) {\n      return this.#prefetched.request\n    }\n  }\n\n  setLater(url, request, ttl) {\n    this.clear();\n\n    this.#prefetchTimeout = setTimeout(() => {\n      request.perform();\n      this.set(url, request, ttl);\n      this.#prefetchTimeout = null;\n    }, PREFETCH_DELAY);\n  }\n\n  set(url, request, ttl) {\n    this.#prefetched = { url, request, expire: new Date(new Date().getTime() + ttl) };\n  }\n\n  clear() {\n    if (this.#prefetchTimeout) clearTimeout(this.#prefetchTimeout);\n    this.#prefetched = null;\n  }\n}\n\nconst cacheTtl = 10 * 1000;\nconst prefetchCache = new PrefetchCache();\n\nconst FormSubmissionState = {\n  initialized: \"initialized\",\n  requesting: \"requesting\",\n  waiting: \"waiting\",\n  receiving: \"receiving\",\n  stopping: \"stopping\",\n  stopped: \"stopped\"\n};\n\nclass FormSubmission {\n  state = FormSubmissionState.initialized\n\n  static confirmMethod(message, _element, _submitter) {\n    return Promise.resolve(confirm(message))\n  }\n\n  constructor(delegate, formElement, submitter, mustRedirect = false) {\n    const method = getMethod(formElement, submitter);\n    const action = getAction(getFormAction(formElement, submitter), method);\n    const body = buildFormData(formElement, submitter);\n    const enctype = getEnctype(formElement, submitter);\n\n    this.delegate = delegate;\n    this.formElement = formElement;\n    this.submitter = submitter;\n    this.fetchRequest = new FetchRequest(this, method, action, body, formElement, enctype);\n    this.mustRedirect = mustRedirect;\n  }\n\n  get method() {\n    return this.fetchRequest.method\n  }\n\n  set method(value) {\n    this.fetchRequest.method = value;\n  }\n\n  get action() {\n    return this.fetchRequest.url.toString()\n  }\n\n  set action(value) {\n    this.fetchRequest.url = expandURL(value);\n  }\n\n  get body() {\n    return this.fetchRequest.body\n  }\n\n  get enctype() {\n    return this.fetchRequest.enctype\n  }\n\n  get isSafe() {\n    return this.fetchRequest.isSafe\n  }\n\n  get location() {\n    return this.fetchRequest.url\n  }\n\n  // The submission process\n\n  async start() {\n    const { initialized, requesting } = FormSubmissionState;\n    const confirmationMessage = getAttribute(\"data-turbo-confirm\", this.submitter, this.formElement);\n\n    if (typeof confirmationMessage === \"string\") {\n      const answer = await FormSubmission.confirmMethod(confirmationMessage, this.formElement, this.submitter);\n      if (!answer) {\n        return\n      }\n    }\n\n    if (this.state == initialized) {\n      this.state = requesting;\n      return this.fetchRequest.perform()\n    }\n  }\n\n  stop() {\n    const { stopping, stopped } = FormSubmissionState;\n    if (this.state != stopping && this.state != stopped) {\n      this.state = stopping;\n      this.fetchRequest.cancel();\n      return true\n    }\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    if (!request.isSafe) {\n      const token = getCookieValue(getMetaContent(\"csrf-param\")) || getMetaContent(\"csrf-token\");\n      if (token) {\n        request.headers[\"X-CSRF-Token\"] = token;\n      }\n    }\n\n    if (this.requestAcceptsTurboStreamResponse(request)) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted(_request) {\n    this.state = FormSubmissionState.waiting;\n    this.submitter?.setAttribute(\"disabled\", \"\");\n    this.setSubmitsWith();\n    markAsBusy(this.formElement);\n    dispatch(\"turbo:submit-start\", {\n      target: this.formElement,\n      detail: { formSubmission: this }\n    });\n    this.delegate.formSubmissionStarted(this);\n  }\n\n  requestPreventedHandlingResponse(request, response) {\n    prefetchCache.clear();\n\n    this.result = { success: response.succeeded, fetchResponse: response };\n  }\n\n  requestSucceededWithResponse(request, response) {\n    if (response.clientError || response.serverError) {\n      this.delegate.formSubmissionFailedWithResponse(this, response);\n      return\n    }\n\n    prefetchCache.clear();\n\n    if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {\n      const error = new Error(\"Form responses must redirect to another location\");\n      this.delegate.formSubmissionErrored(this, error);\n    } else {\n      this.state = FormSubmissionState.receiving;\n      this.result = { success: true, fetchResponse: response };\n      this.delegate.formSubmissionSucceededWithResponse(this, response);\n    }\n  }\n\n  requestFailedWithResponse(request, response) {\n    this.result = { success: false, fetchResponse: response };\n    this.delegate.formSubmissionFailedWithResponse(this, response);\n  }\n\n  requestErrored(request, error) {\n    this.result = { success: false, error };\n    this.delegate.formSubmissionErrored(this, error);\n  }\n\n  requestFinished(_request) {\n    this.state = FormSubmissionState.stopped;\n    this.submitter?.removeAttribute(\"disabled\");\n    this.resetSubmitterText();\n    clearBusyState(this.formElement);\n    dispatch(\"turbo:submit-end\", {\n      target: this.formElement,\n      detail: { formSubmission: this, ...this.result }\n    });\n    this.delegate.formSubmissionFinished(this);\n  }\n\n  // Private\n\n  setSubmitsWith() {\n    if (!this.submitter || !this.submitsWith) return\n\n    if (this.submitter.matches(\"button\")) {\n      this.originalSubmitText = this.submitter.innerHTML;\n      this.submitter.innerHTML = this.submitsWith;\n    } else if (this.submitter.matches(\"input\")) {\n      const input = this.submitter;\n      this.originalSubmitText = input.value;\n      input.value = this.submitsWith;\n    }\n  }\n\n  resetSubmitterText() {\n    if (!this.submitter || !this.originalSubmitText) return\n\n    if (this.submitter.matches(\"button\")) {\n      this.submitter.innerHTML = this.originalSubmitText;\n    } else if (this.submitter.matches(\"input\")) {\n      const input = this.submitter;\n      input.value = this.originalSubmitText;\n    }\n  }\n\n  requestMustRedirect(request) {\n    return !request.isSafe && this.mustRedirect\n  }\n\n  requestAcceptsTurboStreamResponse(request) {\n    return !request.isSafe || hasAttribute(\"data-turbo-stream\", this.submitter, this.formElement)\n  }\n\n  get submitsWith() {\n    return this.submitter?.getAttribute(\"data-turbo-submits-with\")\n  }\n}\n\nfunction buildFormData(formElement, submitter) {\n  const formData = new FormData(formElement);\n  const name = submitter?.getAttribute(\"name\");\n  const value = submitter?.getAttribute(\"value\");\n\n  if (name) {\n    formData.append(name, value || \"\");\n  }\n\n  return formData\n}\n\nfunction getCookieValue(cookieName) {\n  if (cookieName != null) {\n    const cookies = document.cookie ? document.cookie.split(\"; \") : [];\n    const cookie = cookies.find((cookie) => cookie.startsWith(cookieName));\n    if (cookie) {\n      const value = cookie.split(\"=\").slice(1).join(\"=\");\n      return value ? decodeURIComponent(value) : undefined\n    }\n  }\n}\n\nfunction responseSucceededWithoutRedirect(response) {\n  return response.statusCode == 200 && !response.redirected\n}\n\nfunction getFormAction(formElement, submitter) {\n  const formElementAction = typeof formElement.action === \"string\" ? formElement.action : null;\n\n  if (submitter?.hasAttribute(\"formaction\")) {\n    return submitter.getAttribute(\"formaction\") || \"\"\n  } else {\n    return formElement.getAttribute(\"action\") || formElementAction || \"\"\n  }\n}\n\nfunction getAction(formAction, fetchMethod) {\n  const action = expandURL(formAction);\n\n  if (isSafe(fetchMethod)) {\n    action.search = \"\";\n  }\n\n  return action\n}\n\nfunction getMethod(formElement, submitter) {\n  const method = submitter?.getAttribute(\"formmethod\") || formElement.getAttribute(\"method\") || \"\";\n  return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get\n}\n\nfunction getEnctype(formElement, submitter) {\n  return fetchEnctypeFromString(submitter?.getAttribute(\"formenctype\") || formElement.enctype)\n}\n\nclass Snapshot {\n  constructor(element) {\n    this.element = element;\n  }\n\n  get activeElement() {\n    return this.element.ownerDocument.activeElement\n  }\n\n  get children() {\n    return [...this.element.children]\n  }\n\n  hasAnchor(anchor) {\n    return this.getElementForAnchor(anchor) != null\n  }\n\n  getElementForAnchor(anchor) {\n    return anchor ? this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`) : null\n  }\n\n  get isConnected() {\n    return this.element.isConnected\n  }\n\n  get firstAutofocusableElement() {\n    return queryAutofocusableElement(this.element)\n  }\n\n  get permanentElements() {\n    return queryPermanentElementsAll(this.element)\n  }\n\n  getPermanentElementById(id) {\n    return getPermanentElementById(this.element, id)\n  }\n\n  getPermanentElementMapForSnapshot(snapshot) {\n    const permanentElementMap = {};\n\n    for (const currentPermanentElement of this.permanentElements) {\n      const { id } = currentPermanentElement;\n      const newPermanentElement = snapshot.getPermanentElementById(id);\n      if (newPermanentElement) {\n        permanentElementMap[id] = [currentPermanentElement, newPermanentElement];\n      }\n    }\n\n    return permanentElementMap\n  }\n}\n\nfunction getPermanentElementById(node, id) {\n  return node.querySelector(`#${id}[data-turbo-permanent]`)\n}\n\nfunction queryPermanentElementsAll(node) {\n  return node.querySelectorAll(\"[id][data-turbo-permanent]\")\n}\n\nclass FormSubmitObserver {\n  started = false\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (!this.started) {\n      this.eventTarget.addEventListener(\"submit\", this.submitCaptured, true);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.eventTarget.removeEventListener(\"submit\", this.submitCaptured, true);\n      this.started = false;\n    }\n  }\n\n  submitCaptured = () => {\n    this.eventTarget.removeEventListener(\"submit\", this.submitBubbled, false);\n    this.eventTarget.addEventListener(\"submit\", this.submitBubbled, false);\n  }\n\n  submitBubbled = (event) => {\n    if (!event.defaultPrevented) {\n      const form = event.target instanceof HTMLFormElement ? event.target : undefined;\n      const submitter = event.submitter || undefined;\n\n      if (\n        form &&\n        submissionDoesNotDismissDialog(form, submitter) &&\n        submissionDoesNotTargetIFrame(form, submitter) &&\n        this.delegate.willSubmitForm(form, submitter)\n      ) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        this.delegate.formSubmitted(form, submitter);\n      }\n    }\n  }\n}\n\nfunction submissionDoesNotDismissDialog(form, submitter) {\n  const method = submitter?.getAttribute(\"formmethod\") || form.getAttribute(\"method\");\n\n  return method != \"dialog\"\n}\n\nfunction submissionDoesNotTargetIFrame(form, submitter) {\n  if (submitter?.hasAttribute(\"formtarget\") || form.hasAttribute(\"target\")) {\n    const target = submitter?.getAttribute(\"formtarget\") || form.target;\n\n    for (const element of document.getElementsByName(target)) {\n      if (element instanceof HTMLIFrameElement) return false\n    }\n\n    return true\n  } else {\n    return true\n  }\n}\n\nclass View {\n  #resolveRenderPromise = (_value) => {}\n  #resolveInterceptionPromise = (_value) => {}\n\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n  }\n\n  // Scrolling\n\n  scrollToAnchor(anchor) {\n    const element = this.snapshot.getElementForAnchor(anchor);\n    if (element) {\n      this.scrollToElement(element);\n      this.focusElement(element);\n    } else {\n      this.scrollToPosition({ x: 0, y: 0 });\n    }\n  }\n\n  scrollToAnchorFromLocation(location) {\n    this.scrollToAnchor(getAnchor(location));\n  }\n\n  scrollToElement(element) {\n    element.scrollIntoView();\n  }\n\n  focusElement(element) {\n    if (element instanceof HTMLElement) {\n      if (element.hasAttribute(\"tabindex\")) {\n        element.focus();\n      } else {\n        element.setAttribute(\"tabindex\", \"-1\");\n        element.focus();\n        element.removeAttribute(\"tabindex\");\n      }\n    }\n  }\n\n  scrollToPosition({ x, y }) {\n    this.scrollRoot.scrollTo(x, y);\n  }\n\n  scrollToTop() {\n    this.scrollToPosition({ x: 0, y: 0 });\n  }\n\n  get scrollRoot() {\n    return window\n  }\n\n  // Rendering\n\n  async render(renderer) {\n    const { isPreview, shouldRender, willRender, newSnapshot: snapshot } = renderer;\n\n    // A workaround to ignore tracked element mismatch reloads when performing\n    // a promoted Visit from a frame navigation\n    const shouldInvalidate = willRender;\n\n    if (shouldRender) {\n      try {\n        this.renderPromise = new Promise((resolve) => (this.#resolveRenderPromise = resolve));\n        this.renderer = renderer;\n        await this.prepareToRenderSnapshot(renderer);\n\n        const renderInterception = new Promise((resolve) => (this.#resolveInterceptionPromise = resolve));\n        const options = { resume: this.#resolveInterceptionPromise, render: this.renderer.renderElement, renderMethod: this.renderer.renderMethod };\n        const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);\n        if (!immediateRender) await renderInterception;\n\n        await this.renderSnapshot(renderer);\n        this.delegate.viewRenderedSnapshot(snapshot, isPreview, this.renderer.renderMethod);\n        this.delegate.preloadOnLoadLinksForView(this.element);\n        this.finishRenderingSnapshot(renderer);\n      } finally {\n        delete this.renderer;\n        this.#resolveRenderPromise(undefined);\n        delete this.renderPromise;\n      }\n    } else if (shouldInvalidate) {\n      this.invalidate(renderer.reloadReason);\n    }\n  }\n\n  invalidate(reason) {\n    this.delegate.viewInvalidated(reason);\n  }\n\n  async prepareToRenderSnapshot(renderer) {\n    this.markAsPreview(renderer.isPreview);\n    await renderer.prepareToRender();\n  }\n\n  markAsPreview(isPreview) {\n    if (isPreview) {\n      this.element.setAttribute(\"data-turbo-preview\", \"\");\n    } else {\n      this.element.removeAttribute(\"data-turbo-preview\");\n    }\n  }\n\n  markVisitDirection(direction) {\n    this.element.setAttribute(\"data-turbo-visit-direction\", direction);\n  }\n\n  unmarkVisitDirection() {\n    this.element.removeAttribute(\"data-turbo-visit-direction\");\n  }\n\n  async renderSnapshot(renderer) {\n    await renderer.render();\n  }\n\n  finishRenderingSnapshot(renderer) {\n    renderer.finishRendering();\n  }\n}\n\nclass FrameView extends View {\n  missing() {\n    this.element.innerHTML = `<strong class=\"turbo-frame-error\">Content missing</strong>`;\n  }\n\n  get snapshot() {\n    return new Snapshot(this.element)\n  }\n}\n\nclass LinkInterceptor {\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n  }\n\n  start() {\n    this.element.addEventListener(\"click\", this.clickBubbled);\n    document.addEventListener(\"turbo:click\", this.linkClicked);\n    document.addEventListener(\"turbo:before-visit\", this.willVisit);\n  }\n\n  stop() {\n    this.element.removeEventListener(\"click\", this.clickBubbled);\n    document.removeEventListener(\"turbo:click\", this.linkClicked);\n    document.removeEventListener(\"turbo:before-visit\", this.willVisit);\n  }\n\n  clickBubbled = (event) => {\n    if (this.respondsToEventTarget(event.target)) {\n      this.clickEvent = event;\n    } else {\n      delete this.clickEvent;\n    }\n  }\n\n  linkClicked = (event) => {\n    if (this.clickEvent && this.respondsToEventTarget(event.target) && event.target instanceof Element) {\n      if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {\n        this.clickEvent.preventDefault();\n        event.preventDefault();\n        this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);\n      }\n    }\n    delete this.clickEvent;\n  }\n\n  willVisit = (_event) => {\n    delete this.clickEvent;\n  }\n\n  respondsToEventTarget(target) {\n    const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n    return element && element.closest(\"turbo-frame, html\") == this.element\n  }\n}\n\nclass LinkClickObserver {\n  started = false\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (!this.started) {\n      this.eventTarget.addEventListener(\"click\", this.clickCaptured, true);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.eventTarget.removeEventListener(\"click\", this.clickCaptured, true);\n      this.started = false;\n    }\n  }\n\n  clickCaptured = () => {\n    this.eventTarget.removeEventListener(\"click\", this.clickBubbled, false);\n    this.eventTarget.addEventListener(\"click\", this.clickBubbled, false);\n  }\n\n  clickBubbled = (event) => {\n    if (event instanceof MouseEvent && this.clickEventIsSignificant(event)) {\n      const target = (event.composedPath && event.composedPath()[0]) || event.target;\n      const link = findLinkFromClickTarget(target);\n      if (link && doesNotTargetIFrame(link)) {\n        const location = getLocationForLink(link);\n        if (this.delegate.willFollowLinkToLocation(link, location, event)) {\n          event.preventDefault();\n          this.delegate.followedLinkToLocation(link, location);\n        }\n      }\n    }\n  }\n\n  clickEventIsSignificant(event) {\n    return !(\n      (event.target && event.target.isContentEditable) ||\n      event.defaultPrevented ||\n      event.which > 1 ||\n      event.altKey ||\n      event.ctrlKey ||\n      event.metaKey ||\n      event.shiftKey\n    )\n  }\n}\n\nclass FormLinkClickObserver {\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.linkInterceptor = new LinkClickObserver(this, element);\n  }\n\n  start() {\n    this.linkInterceptor.start();\n  }\n\n  stop() {\n    this.linkInterceptor.stop();\n  }\n\n  // Link hover observer delegate\n\n  canPrefetchRequestToLocation(link, location) {\n    return false\n  }\n\n  prefetchAndCacheRequestToLocation(link, location) {\n    return\n  }\n\n  // Link click observer delegate\n\n  willFollowLinkToLocation(link, location, originalEvent) {\n    return (\n      this.delegate.willSubmitFormLinkToLocation(link, location, originalEvent) &&\n      (link.hasAttribute(\"data-turbo-method\") || link.hasAttribute(\"data-turbo-stream\"))\n    )\n  }\n\n  followedLinkToLocation(link, location) {\n    const form = document.createElement(\"form\");\n\n    const type = \"hidden\";\n    for (const [name, value] of location.searchParams) {\n      form.append(Object.assign(document.createElement(\"input\"), { type, name, value }));\n    }\n\n    const action = Object.assign(location, { search: \"\" });\n    form.setAttribute(\"data-turbo\", \"true\");\n    form.setAttribute(\"action\", action.href);\n    form.setAttribute(\"hidden\", \"\");\n\n    const method = link.getAttribute(\"data-turbo-method\");\n    if (method) form.setAttribute(\"method\", method);\n\n    const turboFrame = link.getAttribute(\"data-turbo-frame\");\n    if (turboFrame) form.setAttribute(\"data-turbo-frame\", turboFrame);\n\n    const turboAction = getVisitAction(link);\n    if (turboAction) form.setAttribute(\"data-turbo-action\", turboAction);\n\n    const turboConfirm = link.getAttribute(\"data-turbo-confirm\");\n    if (turboConfirm) form.setAttribute(\"data-turbo-confirm\", turboConfirm);\n\n    const turboStream = link.hasAttribute(\"data-turbo-stream\");\n    if (turboStream) form.setAttribute(\"data-turbo-stream\", \"\");\n\n    this.delegate.submittedFormLinkToLocation(link, location, form);\n\n    document.body.appendChild(form);\n    form.addEventListener(\"turbo:submit-end\", () => form.remove(), { once: true });\n    requestAnimationFrame(() => form.requestSubmit());\n  }\n}\n\nclass Bardo {\n  static async preservingPermanentElements(delegate, permanentElementMap, callback) {\n    const bardo = new this(delegate, permanentElementMap);\n    bardo.enter();\n    await callback();\n    bardo.leave();\n  }\n\n  constructor(delegate, permanentElementMap) {\n    this.delegate = delegate;\n    this.permanentElementMap = permanentElementMap;\n  }\n\n  enter() {\n    for (const id in this.permanentElementMap) {\n      const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];\n      this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);\n      this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);\n    }\n  }\n\n  leave() {\n    for (const id in this.permanentElementMap) {\n      const [currentPermanentElement] = this.permanentElementMap[id];\n      this.replaceCurrentPermanentElementWithClone(currentPermanentElement);\n      this.replacePlaceholderWithPermanentElement(currentPermanentElement);\n      this.delegate.leavingBardo(currentPermanentElement);\n    }\n  }\n\n  replaceNewPermanentElementWithPlaceholder(permanentElement) {\n    const placeholder = createPlaceholderForPermanentElement(permanentElement);\n    permanentElement.replaceWith(placeholder);\n  }\n\n  replaceCurrentPermanentElementWithClone(permanentElement) {\n    const clone = permanentElement.cloneNode(true);\n    permanentElement.replaceWith(clone);\n  }\n\n  replacePlaceholderWithPermanentElement(permanentElement) {\n    const placeholder = this.getPlaceholderById(permanentElement.id);\n    placeholder?.replaceWith(permanentElement);\n  }\n\n  getPlaceholderById(id) {\n    return this.placeholders.find((element) => element.content == id)\n  }\n\n  get placeholders() {\n    return [...document.querySelectorAll(\"meta[name=turbo-permanent-placeholder][content]\")]\n  }\n}\n\nfunction createPlaceholderForPermanentElement(permanentElement) {\n  const element = document.createElement(\"meta\");\n  element.setAttribute(\"name\", \"turbo-permanent-placeholder\");\n  element.setAttribute(\"content\", permanentElement.id);\n  return element\n}\n\nclass Renderer {\n  #activeElement = null\n\n  constructor(currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n    this.currentSnapshot = currentSnapshot;\n    this.newSnapshot = newSnapshot;\n    this.isPreview = isPreview;\n    this.willRender = willRender;\n    this.renderElement = renderElement;\n    this.promise = new Promise((resolve, reject) => (this.resolvingFunctions = { resolve, reject }));\n  }\n\n  get shouldRender() {\n    return true\n  }\n\n  get reloadReason() {\n    return\n  }\n\n  prepareToRender() {\n    return\n  }\n\n  render() {\n    // Abstract method\n  }\n\n  finishRendering() {\n    if (this.resolvingFunctions) {\n      this.resolvingFunctions.resolve();\n      delete this.resolvingFunctions;\n    }\n  }\n\n  async preservingPermanentElements(callback) {\n    await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);\n  }\n\n  focusFirstAutofocusableElement() {\n    const element = this.connectedSnapshot.firstAutofocusableElement;\n    if (element) {\n      element.focus();\n    }\n  }\n\n  // Bardo delegate\n\n  enteringBardo(currentPermanentElement) {\n    if (this.#activeElement) return\n\n    if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {\n      this.#activeElement = this.currentSnapshot.activeElement;\n    }\n  }\n\n  leavingBardo(currentPermanentElement) {\n    if (currentPermanentElement.contains(this.#activeElement) && this.#activeElement instanceof HTMLElement) {\n      this.#activeElement.focus();\n\n      this.#activeElement = null;\n    }\n  }\n\n  get connectedSnapshot() {\n    return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot\n  }\n\n  get currentElement() {\n    return this.currentSnapshot.element\n  }\n\n  get newElement() {\n    return this.newSnapshot.element\n  }\n\n  get permanentElementMap() {\n    return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)\n  }\n\n  get renderMethod() {\n    return \"replace\"\n  }\n}\n\nclass FrameRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    const destinationRange = document.createRange();\n    destinationRange.selectNodeContents(currentElement);\n    destinationRange.deleteContents();\n\n    const frameElement = newElement;\n    const sourceRange = frameElement.ownerDocument?.createRange();\n    if (sourceRange) {\n      sourceRange.selectNodeContents(frameElement);\n      currentElement.appendChild(sourceRange.extractContents());\n    }\n  }\n\n  constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n    super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);\n    this.delegate = delegate;\n  }\n\n  get shouldRender() {\n    return true\n  }\n\n  async render() {\n    await nextRepaint();\n    this.preservingPermanentElements(() => {\n      this.loadFrameElement();\n    });\n    this.scrollFrameIntoView();\n    await nextRepaint();\n    this.focusFirstAutofocusableElement();\n    await nextRepaint();\n    this.activateScriptElements();\n  }\n\n  loadFrameElement() {\n    this.delegate.willRenderFrame(this.currentElement, this.newElement);\n    this.renderElement(this.currentElement, this.newElement);\n  }\n\n  scrollFrameIntoView() {\n    if (this.currentElement.autoscroll || this.newElement.autoscroll) {\n      const element = this.currentElement.firstElementChild;\n      const block = readScrollLogicalPosition(this.currentElement.getAttribute(\"data-autoscroll-block\"), \"end\");\n      const behavior = readScrollBehavior(this.currentElement.getAttribute(\"data-autoscroll-behavior\"), \"auto\");\n\n      if (element) {\n        element.scrollIntoView({ block, behavior });\n        return true\n      }\n    }\n    return false\n  }\n\n  activateScriptElements() {\n    for (const inertScriptElement of this.newScriptElements) {\n      const activatedScriptElement = activateScriptElement(inertScriptElement);\n      inertScriptElement.replaceWith(activatedScriptElement);\n    }\n  }\n\n  get newScriptElements() {\n    return this.currentElement.querySelectorAll(\"script\")\n  }\n}\n\nfunction readScrollLogicalPosition(value, defaultValue) {\n  if (value == \"end\" || value == \"start\" || value == \"center\" || value == \"nearest\") {\n    return value\n  } else {\n    return defaultValue\n  }\n}\n\nfunction readScrollBehavior(value, defaultValue) {\n  if (value == \"auto\" || value == \"smooth\") {\n    return value\n  } else {\n    return defaultValue\n  }\n}\n\nclass ProgressBar {\n  static animationDuration = 300 /*ms*/\n\n  static get defaultCSS() {\n    return unindent`\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 2147483647;\n        transition:\n          width ${ProgressBar.animationDuration}ms ease-out,\n          opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    `\n  }\n\n  hiding = false\n  value = 0\n  visible = false\n\n  constructor() {\n    this.stylesheetElement = this.createStylesheetElement();\n    this.progressElement = this.createProgressElement();\n    this.installStylesheetElement();\n    this.setValue(0);\n  }\n\n  show() {\n    if (!this.visible) {\n      this.visible = true;\n      this.installProgressElement();\n      this.startTrickling();\n    }\n  }\n\n  hide() {\n    if (this.visible && !this.hiding) {\n      this.hiding = true;\n      this.fadeProgressElement(() => {\n        this.uninstallProgressElement();\n        this.stopTrickling();\n        this.visible = false;\n        this.hiding = false;\n      });\n    }\n  }\n\n  setValue(value) {\n    this.value = value;\n    this.refresh();\n  }\n\n  // Private\n\n  installStylesheetElement() {\n    document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n  }\n\n  installProgressElement() {\n    this.progressElement.style.width = \"0\";\n    this.progressElement.style.opacity = \"1\";\n    document.documentElement.insertBefore(this.progressElement, document.body);\n    this.refresh();\n  }\n\n  fadeProgressElement(callback) {\n    this.progressElement.style.opacity = \"0\";\n    setTimeout(callback, ProgressBar.animationDuration * 1.5);\n  }\n\n  uninstallProgressElement() {\n    if (this.progressElement.parentNode) {\n      document.documentElement.removeChild(this.progressElement);\n    }\n  }\n\n  startTrickling() {\n    if (!this.trickleInterval) {\n      this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n    }\n  }\n\n  stopTrickling() {\n    window.clearInterval(this.trickleInterval);\n    delete this.trickleInterval;\n  }\n\n  trickle = () => {\n    this.setValue(this.value + Math.random() / 100);\n  }\n\n  refresh() {\n    requestAnimationFrame(() => {\n      this.progressElement.style.width = `${10 + this.value * 90}%`;\n    });\n  }\n\n  createStylesheetElement() {\n    const element = document.createElement(\"style\");\n    element.type = \"text/css\";\n    element.textContent = ProgressBar.defaultCSS;\n    if (this.cspNonce) {\n      element.nonce = this.cspNonce;\n    }\n    return element\n  }\n\n  createProgressElement() {\n    const element = document.createElement(\"div\");\n    element.className = \"turbo-progress-bar\";\n    return element\n  }\n\n  get cspNonce() {\n    return getMetaContent(\"csp-nonce\")\n  }\n}\n\nclass HeadSnapshot extends Snapshot {\n  detailsByOuterHTML = this.children\n    .filter((element) => !elementIsNoscript(element))\n    .map((element) => elementWithoutNonce(element))\n    .reduce((result, element) => {\n      const { outerHTML } = element;\n      const details =\n        outerHTML in result\n          ? result[outerHTML]\n          : {\n              type: elementType(element),\n              tracked: elementIsTracked(element),\n              elements: []\n            };\n      return {\n        ...result,\n        [outerHTML]: {\n          ...details,\n          elements: [...details.elements, element]\n        }\n      }\n    }, {})\n\n  get trackedElementSignature() {\n    return Object.keys(this.detailsByOuterHTML)\n      .filter((outerHTML) => this.detailsByOuterHTML[outerHTML].tracked)\n      .join(\"\")\n  }\n\n  getScriptElementsNotInSnapshot(snapshot) {\n    return this.getElementsMatchingTypeNotInSnapshot(\"script\", snapshot)\n  }\n\n  getStylesheetElementsNotInSnapshot(snapshot) {\n    return this.getElementsMatchingTypeNotInSnapshot(\"stylesheet\", snapshot)\n  }\n\n  getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {\n    return Object.keys(this.detailsByOuterHTML)\n      .filter((outerHTML) => !(outerHTML in snapshot.detailsByOuterHTML))\n      .map((outerHTML) => this.detailsByOuterHTML[outerHTML])\n      .filter(({ type }) => type == matchedType)\n      .map(({ elements: [element] }) => element)\n  }\n\n  get provisionalElements() {\n    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n      const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];\n      if (type == null && !tracked) {\n        return [...result, ...elements]\n      } else if (elements.length > 1) {\n        return [...result, ...elements.slice(1)]\n      } else {\n        return result\n      }\n    }, [])\n  }\n\n  getMetaValue(name) {\n    const element = this.findMetaElementByName(name);\n    return element ? element.getAttribute(\"content\") : null\n  }\n\n  findMetaElementByName(name) {\n    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n      const {\n        elements: [element]\n      } = this.detailsByOuterHTML[outerHTML];\n      return elementIsMetaElementWithName(element, name) ? element : result\n    }, undefined | undefined)\n  }\n}\n\nfunction elementType(element) {\n  if (elementIsScript(element)) {\n    return \"script\"\n  } else if (elementIsStylesheet(element)) {\n    return \"stylesheet\"\n  }\n}\n\nfunction elementIsTracked(element) {\n  return element.getAttribute(\"data-turbo-track\") == \"reload\"\n}\n\nfunction elementIsScript(element) {\n  const tagName = element.localName;\n  return tagName == \"script\"\n}\n\nfunction elementIsNoscript(element) {\n  const tagName = element.localName;\n  return tagName == \"noscript\"\n}\n\nfunction elementIsStylesheet(element) {\n  const tagName = element.localName;\n  return tagName == \"style\" || (tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\")\n}\n\nfunction elementIsMetaElementWithName(element, name) {\n  const tagName = element.localName;\n  return tagName == \"meta\" && element.getAttribute(\"name\") == name\n}\n\nfunction elementWithoutNonce(element) {\n  if (element.hasAttribute(\"nonce\")) {\n    element.setAttribute(\"nonce\", \"\");\n  }\n\n  return element\n}\n\nclass PageSnapshot extends Snapshot {\n  static fromHTMLString(html = \"\") {\n    return this.fromDocument(parseHTMLDocument(html))\n  }\n\n  static fromElement(element) {\n    return this.fromDocument(element.ownerDocument)\n  }\n\n  static fromDocument({ documentElement, body, head }) {\n    return new this(documentElement, body, new HeadSnapshot(head))\n  }\n\n  constructor(documentElement, body, headSnapshot) {\n    super(body);\n    this.documentElement = documentElement;\n    this.headSnapshot = headSnapshot;\n  }\n\n  clone() {\n    const clonedElement = this.element.cloneNode(true);\n\n    const selectElements = this.element.querySelectorAll(\"select\");\n    const clonedSelectElements = clonedElement.querySelectorAll(\"select\");\n\n    for (const [index, source] of selectElements.entries()) {\n      const clone = clonedSelectElements[index];\n      for (const option of clone.selectedOptions) option.selected = false;\n      for (const option of source.selectedOptions) clone.options[option.index].selected = true;\n    }\n\n    for (const clonedPasswordInput of clonedElement.querySelectorAll('input[type=\"password\"]')) {\n      clonedPasswordInput.value = \"\";\n    }\n\n    return new PageSnapshot(this.documentElement, clonedElement, this.headSnapshot)\n  }\n\n  get lang() {\n    return this.documentElement.getAttribute(\"lang\")\n  }\n\n  get headElement() {\n    return this.headSnapshot.element\n  }\n\n  get rootLocation() {\n    const root = this.getSetting(\"root\") ?? \"/\";\n    return expandURL(root)\n  }\n\n  get cacheControlValue() {\n    return this.getSetting(\"cache-control\")\n  }\n\n  get isPreviewable() {\n    return this.cacheControlValue != \"no-preview\"\n  }\n\n  get isCacheable() {\n    return this.cacheControlValue != \"no-cache\"\n  }\n\n  get isVisitable() {\n    return this.getSetting(\"visit-control\") != \"reload\"\n  }\n\n  get prefersViewTransitions() {\n    return this.headSnapshot.getMetaValue(\"view-transition\") === \"same-origin\"\n  }\n\n  get shouldMorphPage() {\n    return this.getSetting(\"refresh-method\") === \"morph\"\n  }\n\n  get shouldPreserveScrollPosition() {\n    return this.getSetting(\"refresh-scroll\") === \"preserve\"\n  }\n\n  // Private\n\n  getSetting(name) {\n    return this.headSnapshot.getMetaValue(`turbo-${name}`)\n  }\n}\n\nclass ViewTransitioner {\n  #viewTransitionStarted = false\n  #lastOperation = Promise.resolve()\n\n  renderChange(useViewTransition, render) {\n    if (useViewTransition && this.viewTransitionsAvailable && !this.#viewTransitionStarted) {\n      this.#viewTransitionStarted = true;\n      this.#lastOperation = this.#lastOperation.then(async () => {\n        await document.startViewTransition(render).finished;\n      });\n    } else {\n      this.#lastOperation = this.#lastOperation.then(render);\n    }\n\n    return this.#lastOperation\n  }\n\n  get viewTransitionsAvailable() {\n    return document.startViewTransition\n  }\n}\n\nconst defaultOptions = {\n  action: \"advance\",\n  historyChanged: false,\n  visitCachedSnapshot: () => {},\n  willRender: true,\n  updateHistory: true,\n  shouldCacheSnapshot: true,\n  acceptsStreamResponse: false\n};\n\nconst TimingMetric = {\n  visitStart: \"visitStart\",\n  requestStart: \"requestStart\",\n  requestEnd: \"requestEnd\",\n  visitEnd: \"visitEnd\"\n};\n\nconst VisitState = {\n  initialized: \"initialized\",\n  started: \"started\",\n  canceled: \"canceled\",\n  failed: \"failed\",\n  completed: \"completed\"\n};\n\nconst SystemStatusCode = {\n  networkFailure: 0,\n  timeoutFailure: -1,\n  contentTypeMismatch: -2\n};\n\nconst Direction = {\n  advance: \"forward\",\n  restore: \"back\",\n  replace: \"none\"\n};\n\nclass Visit {\n  identifier = uuid() // Required by turbo-ios\n  timingMetrics = {}\n\n  followedRedirect = false\n  historyChanged = false\n  scrolled = false\n  shouldCacheSnapshot = true\n  acceptsStreamResponse = false\n  snapshotCached = false\n  state = VisitState.initialized\n  viewTransitioner = new ViewTransitioner()\n\n  constructor(delegate, location, restorationIdentifier, options = {}) {\n    this.delegate = delegate;\n    this.location = location;\n    this.restorationIdentifier = restorationIdentifier || uuid();\n\n    const {\n      action,\n      historyChanged,\n      referrer,\n      snapshot,\n      snapshotHTML,\n      response,\n      visitCachedSnapshot,\n      willRender,\n      updateHistory,\n      shouldCacheSnapshot,\n      acceptsStreamResponse,\n      direction\n    } = {\n      ...defaultOptions,\n      ...options\n    };\n    this.action = action;\n    this.historyChanged = historyChanged;\n    this.referrer = referrer;\n    this.snapshot = snapshot;\n    this.snapshotHTML = snapshotHTML;\n    this.response = response;\n    this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);\n    this.isPageRefresh = this.view.isPageRefresh(this);\n    this.visitCachedSnapshot = visitCachedSnapshot;\n    this.willRender = willRender;\n    this.updateHistory = updateHistory;\n    this.scrolled = !willRender;\n    this.shouldCacheSnapshot = shouldCacheSnapshot;\n    this.acceptsStreamResponse = acceptsStreamResponse;\n    this.direction = direction || Direction[action];\n  }\n\n  get adapter() {\n    return this.delegate.adapter\n  }\n\n  get view() {\n    return this.delegate.view\n  }\n\n  get history() {\n    return this.delegate.history\n  }\n\n  get restorationData() {\n    return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)\n  }\n\n  get silent() {\n    return this.isSamePage\n  }\n\n  start() {\n    if (this.state == VisitState.initialized) {\n      this.recordTimingMetric(TimingMetric.visitStart);\n      this.state = VisitState.started;\n      this.adapter.visitStarted(this);\n      this.delegate.visitStarted(this);\n    }\n  }\n\n  cancel() {\n    if (this.state == VisitState.started) {\n      if (this.request) {\n        this.request.cancel();\n      }\n      this.cancelRender();\n      this.state = VisitState.canceled;\n    }\n  }\n\n  complete() {\n    if (this.state == VisitState.started) {\n      this.recordTimingMetric(TimingMetric.visitEnd);\n      this.adapter.visitCompleted(this);\n      this.state = VisitState.completed;\n      this.followRedirect();\n\n      if (!this.followedRedirect) {\n        this.delegate.visitCompleted(this);\n      }\n    }\n  }\n\n  fail() {\n    if (this.state == VisitState.started) {\n      this.state = VisitState.failed;\n      this.adapter.visitFailed(this);\n      this.delegate.visitCompleted(this);\n    }\n  }\n\n  changeHistory() {\n    if (!this.historyChanged && this.updateHistory) {\n      const actionForHistory = this.location.href === this.referrer?.href ? \"replace\" : this.action;\n      const method = getHistoryMethodForAction(actionForHistory);\n      this.history.update(method, this.location, this.restorationIdentifier);\n      this.historyChanged = true;\n    }\n  }\n\n  issueRequest() {\n    if (this.hasPreloadedResponse()) {\n      this.simulateRequest();\n    } else if (this.shouldIssueRequest() && !this.request) {\n      this.request = new FetchRequest(this, FetchMethod.get, this.location);\n      this.request.perform();\n    }\n  }\n\n  simulateRequest() {\n    if (this.response) {\n      this.startRequest();\n      this.recordResponse();\n      this.finishRequest();\n    }\n  }\n\n  startRequest() {\n    this.recordTimingMetric(TimingMetric.requestStart);\n    this.adapter.visitRequestStarted(this);\n  }\n\n  recordResponse(response = this.response) {\n    this.response = response;\n    if (response) {\n      const { statusCode } = response;\n      if (isSuccessful(statusCode)) {\n        this.adapter.visitRequestCompleted(this);\n      } else {\n        this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n      }\n    }\n  }\n\n  finishRequest() {\n    this.recordTimingMetric(TimingMetric.requestEnd);\n    this.adapter.visitRequestFinished(this);\n  }\n\n  loadResponse() {\n    if (this.response) {\n      const { statusCode, responseHTML } = this.response;\n      this.render(async () => {\n        if (this.shouldCacheSnapshot) this.cacheSnapshot();\n        if (this.view.renderPromise) await this.view.renderPromise;\n\n        if (isSuccessful(statusCode) && responseHTML != null) {\n          const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n          await this.renderPageSnapshot(snapshot, false);\n\n          this.adapter.visitRendered(this);\n          this.complete();\n        } else {\n          await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);\n          this.adapter.visitRendered(this);\n          this.fail();\n        }\n      });\n    }\n  }\n\n  getCachedSnapshot() {\n    const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();\n\n    if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {\n      if (this.action == \"restore\" || snapshot.isPreviewable) {\n        return snapshot\n      }\n    }\n  }\n\n  getPreloadedSnapshot() {\n    if (this.snapshotHTML) {\n      return PageSnapshot.fromHTMLString(this.snapshotHTML)\n    }\n  }\n\n  hasCachedSnapshot() {\n    return this.getCachedSnapshot() != null\n  }\n\n  loadCachedSnapshot() {\n    const snapshot = this.getCachedSnapshot();\n    if (snapshot) {\n      const isPreview = this.shouldIssueRequest();\n      this.render(async () => {\n        this.cacheSnapshot();\n        if (this.isSamePage || this.isPageRefresh) {\n          this.adapter.visitRendered(this);\n        } else {\n          if (this.view.renderPromise) await this.view.renderPromise;\n\n          await this.renderPageSnapshot(snapshot, isPreview);\n\n          this.adapter.visitRendered(this);\n          if (!isPreview) {\n            this.complete();\n          }\n        }\n      });\n    }\n  }\n\n  followRedirect() {\n    if (this.redirectedToLocation && !this.followedRedirect && this.response?.redirected) {\n      this.adapter.visitProposedToLocation(this.redirectedToLocation, {\n        action: \"replace\",\n        response: this.response,\n        shouldCacheSnapshot: false,\n        willRender: false\n      });\n      this.followedRedirect = true;\n    }\n  }\n\n  goToSamePageAnchor() {\n    if (this.isSamePage) {\n      this.render(async () => {\n        this.cacheSnapshot();\n        this.performScroll();\n        this.changeHistory();\n        this.adapter.visitRendered(this);\n      });\n    }\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    if (this.acceptsStreamResponse) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted() {\n    this.startRequest();\n  }\n\n  requestPreventedHandlingResponse(_request, _response) {}\n\n  async requestSucceededWithResponse(request, response) {\n    const responseHTML = await response.responseHTML;\n    const { redirected, statusCode } = response;\n    if (responseHTML == undefined) {\n      this.recordResponse({\n        statusCode: SystemStatusCode.contentTypeMismatch,\n        redirected\n      });\n    } else {\n      this.redirectedToLocation = response.redirected ? response.location : undefined;\n      this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n    }\n  }\n\n  async requestFailedWithResponse(request, response) {\n    const responseHTML = await response.responseHTML;\n    const { redirected, statusCode } = response;\n    if (responseHTML == undefined) {\n      this.recordResponse({\n        statusCode: SystemStatusCode.contentTypeMismatch,\n        redirected\n      });\n    } else {\n      this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n    }\n  }\n\n  requestErrored(_request, _error) {\n    this.recordResponse({\n      statusCode: SystemStatusCode.networkFailure,\n      redirected: false\n    });\n  }\n\n  requestFinished() {\n    this.finishRequest();\n  }\n\n  // Scrolling\n\n  performScroll() {\n    if (!this.scrolled && !this.view.forceReloaded && !this.view.shouldPreserveScrollPosition(this)) {\n      if (this.action == \"restore\") {\n        this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();\n      } else {\n        this.scrollToAnchor() || this.view.scrollToTop();\n      }\n      if (this.isSamePage) {\n        this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);\n      }\n\n      this.scrolled = true;\n    }\n  }\n\n  scrollToRestoredPosition() {\n    const { scrollPosition } = this.restorationData;\n    if (scrollPosition) {\n      this.view.scrollToPosition(scrollPosition);\n      return true\n    }\n  }\n\n  scrollToAnchor() {\n    const anchor = getAnchor(this.location);\n    if (anchor != null) {\n      this.view.scrollToAnchor(anchor);\n      return true\n    }\n  }\n\n  // Instrumentation\n\n  recordTimingMetric(metric) {\n    this.timingMetrics[metric] = new Date().getTime();\n  }\n\n  getTimingMetrics() {\n    return { ...this.timingMetrics }\n  }\n\n  // Private\n\n  getHistoryMethodForAction(action) {\n    switch (action) {\n      case \"replace\":\n        return history.replaceState\n      case \"advance\":\n      case \"restore\":\n        return history.pushState\n    }\n  }\n\n  hasPreloadedResponse() {\n    return typeof this.response == \"object\"\n  }\n\n  shouldIssueRequest() {\n    if (this.isSamePage) {\n      return false\n    } else if (this.action == \"restore\") {\n      return !this.hasCachedSnapshot()\n    } else {\n      return this.willRender\n    }\n  }\n\n  cacheSnapshot() {\n    if (!this.snapshotCached) {\n      this.view.cacheSnapshot(this.snapshot).then((snapshot) => snapshot && this.visitCachedSnapshot(snapshot));\n      this.snapshotCached = true;\n    }\n  }\n\n  async render(callback) {\n    this.cancelRender();\n    this.frame = await nextRepaint();\n    await callback();\n    delete this.frame;\n  }\n\n  async renderPageSnapshot(snapshot, isPreview) {\n    await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(snapshot), async () => {\n      await this.view.renderPage(snapshot, isPreview, this.willRender, this);\n      this.performScroll();\n    });\n  }\n\n  cancelRender() {\n    if (this.frame) {\n      cancelAnimationFrame(this.frame);\n      delete this.frame;\n    }\n  }\n}\n\nfunction isSuccessful(statusCode) {\n  return statusCode >= 200 && statusCode < 300\n}\n\nclass BrowserAdapter {\n  progressBar = new ProgressBar()\n\n  constructor(session) {\n    this.session = session;\n  }\n\n  visitProposedToLocation(location, options) {\n    if (locationIsVisitable(location, this.navigator.rootLocation)) {\n      this.navigator.startVisit(location, options?.restorationIdentifier || uuid(), options);\n    } else {\n      window.location.href = location.toString();\n    }\n  }\n\n  visitStarted(visit) {\n    this.location = visit.location;\n    visit.loadCachedSnapshot();\n    visit.issueRequest();\n    visit.goToSamePageAnchor();\n  }\n\n  visitRequestStarted(visit) {\n    this.progressBar.setValue(0);\n    if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n      this.showVisitProgressBarAfterDelay();\n    } else {\n      this.showProgressBar();\n    }\n  }\n\n  visitRequestCompleted(visit) {\n    visit.loadResponse();\n  }\n\n  visitRequestFailedWithStatusCode(visit, statusCode) {\n    switch (statusCode) {\n      case SystemStatusCode.networkFailure:\n      case SystemStatusCode.timeoutFailure:\n      case SystemStatusCode.contentTypeMismatch:\n        return this.reload({\n          reason: \"request_failed\",\n          context: {\n            statusCode\n          }\n        })\n      default:\n        return visit.loadResponse()\n    }\n  }\n\n  visitRequestFinished(_visit) {}\n\n  visitCompleted(_visit) {\n    this.progressBar.setValue(1);\n    this.hideVisitProgressBar();\n  }\n\n  pageInvalidated(reason) {\n    this.reload(reason);\n  }\n\n  visitFailed(_visit) {\n    this.progressBar.setValue(1);\n    this.hideVisitProgressBar();\n  }\n\n  visitRendered(_visit) {}\n\n  // Form Submission Delegate\n\n  formSubmissionStarted(_formSubmission) {\n    this.progressBar.setValue(0);\n    this.showFormProgressBarAfterDelay();\n  }\n\n  formSubmissionFinished(_formSubmission) {\n    this.progressBar.setValue(1);\n    this.hideFormProgressBar();\n  }\n\n  // Private\n\n  showVisitProgressBarAfterDelay() {\n    this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n  }\n\n  hideVisitProgressBar() {\n    this.progressBar.hide();\n    if (this.visitProgressBarTimeout != null) {\n      window.clearTimeout(this.visitProgressBarTimeout);\n      delete this.visitProgressBarTimeout;\n    }\n  }\n\n  showFormProgressBarAfterDelay() {\n    if (this.formProgressBarTimeout == null) {\n      this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n    }\n  }\n\n  hideFormProgressBar() {\n    this.progressBar.hide();\n    if (this.formProgressBarTimeout != null) {\n      window.clearTimeout(this.formProgressBarTimeout);\n      delete this.formProgressBarTimeout;\n    }\n  }\n\n  showProgressBar = () => {\n    this.progressBar.show();\n  }\n\n  reload(reason) {\n    dispatch(\"turbo:reload\", { detail: reason });\n\n    window.location.href = this.location?.toString() || window.location.href;\n  }\n\n  get navigator() {\n    return this.session.navigator\n  }\n}\n\nclass CacheObserver {\n  selector = \"[data-turbo-temporary]\"\n  deprecatedSelector = \"[data-turbo-cache=false]\"\n\n  started = false\n\n  start() {\n    if (!this.started) {\n      this.started = true;\n      addEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false;\n      removeEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n    }\n  }\n\n  removeTemporaryElements = (_event) => {\n    for (const element of this.temporaryElements) {\n      element.remove();\n    }\n  }\n\n  get temporaryElements() {\n    return [...document.querySelectorAll(this.selector), ...this.temporaryElementsWithDeprecation]\n  }\n\n  get temporaryElementsWithDeprecation() {\n    const elements = document.querySelectorAll(this.deprecatedSelector);\n\n    if (elements.length) {\n      console.warn(\n        `The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`\n      );\n    }\n\n    return [...elements]\n  }\n}\n\nclass FrameRedirector {\n  constructor(session, element) {\n    this.session = session;\n    this.element = element;\n    this.linkInterceptor = new LinkInterceptor(this, element);\n    this.formSubmitObserver = new FormSubmitObserver(this, element);\n  }\n\n  start() {\n    this.linkInterceptor.start();\n    this.formSubmitObserver.start();\n  }\n\n  stop() {\n    this.linkInterceptor.stop();\n    this.formSubmitObserver.stop();\n  }\n\n  // Link interceptor delegate\n\n  shouldInterceptLinkClick(element, _location, _event) {\n    return this.#shouldRedirect(element)\n  }\n\n  linkClickIntercepted(element, url, event) {\n    const frame = this.#findFrameElement(element);\n    if (frame) {\n      frame.delegate.linkClickIntercepted(element, url, event);\n    }\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(element, submitter) {\n    return (\n      element.closest(\"turbo-frame\") == null &&\n      this.#shouldSubmit(element, submitter) &&\n      this.#shouldRedirect(element, submitter)\n    )\n  }\n\n  formSubmitted(element, submitter) {\n    const frame = this.#findFrameElement(element, submitter);\n    if (frame) {\n      frame.delegate.formSubmitted(element, submitter);\n    }\n  }\n\n  #shouldSubmit(form, submitter) {\n    const action = getAction$1(form, submitter);\n    const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n    const rootLocation = expandURL(meta?.content ?? \"/\");\n\n    return this.#shouldRedirect(form, submitter) && locationIsVisitable(action, rootLocation)\n  }\n\n  #shouldRedirect(element, submitter) {\n    const isNavigatable =\n      element instanceof HTMLFormElement\n        ? this.session.submissionIsNavigatable(element, submitter)\n        : this.session.elementIsNavigatable(element);\n\n    if (isNavigatable) {\n      const frame = this.#findFrameElement(element, submitter);\n      return frame ? frame != element.closest(\"turbo-frame\") : false\n    } else {\n      return false\n    }\n  }\n\n  #findFrameElement(element, submitter) {\n    const id = submitter?.getAttribute(\"data-turbo-frame\") || element.getAttribute(\"data-turbo-frame\");\n    if (id && id != \"_top\") {\n      const frame = this.element.querySelector(`#${id}:not([disabled])`);\n      if (frame instanceof FrameElement) {\n        return frame\n      }\n    }\n  }\n}\n\nclass History {\n  location\n  restorationIdentifier = uuid()\n  restorationData = {}\n  started = false\n  pageLoaded = false\n  currentIndex = 0\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      addEventListener(\"popstate\", this.onPopState, false);\n      addEventListener(\"load\", this.onPageLoad, false);\n      this.currentIndex = history.state?.turbo?.restorationIndex || 0;\n      this.started = true;\n      this.replace(new URL(window.location.href));\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      removeEventListener(\"popstate\", this.onPopState, false);\n      removeEventListener(\"load\", this.onPageLoad, false);\n      this.started = false;\n    }\n  }\n\n  push(location, restorationIdentifier) {\n    this.update(history.pushState, location, restorationIdentifier);\n  }\n\n  replace(location, restorationIdentifier) {\n    this.update(history.replaceState, location, restorationIdentifier);\n  }\n\n  update(method, location, restorationIdentifier = uuid()) {\n    if (method === history.pushState) ++this.currentIndex;\n\n    const state = { turbo: { restorationIdentifier, restorationIndex: this.currentIndex } };\n    method.call(history, state, \"\", location.href);\n    this.location = location;\n    this.restorationIdentifier = restorationIdentifier;\n  }\n\n  // Restoration data\n\n  getRestorationDataForIdentifier(restorationIdentifier) {\n    return this.restorationData[restorationIdentifier] || {}\n  }\n\n  updateRestorationData(additionalData) {\n    const { restorationIdentifier } = this;\n    const restorationData = this.restorationData[restorationIdentifier];\n    this.restorationData[restorationIdentifier] = {\n      ...restorationData,\n      ...additionalData\n    };\n  }\n\n  // Scroll restoration\n\n  assumeControlOfScrollRestoration() {\n    if (!this.previousScrollRestoration) {\n      this.previousScrollRestoration = history.scrollRestoration ?? \"auto\";\n      history.scrollRestoration = \"manual\";\n    }\n  }\n\n  relinquishControlOfScrollRestoration() {\n    if (this.previousScrollRestoration) {\n      history.scrollRestoration = this.previousScrollRestoration;\n      delete this.previousScrollRestoration;\n    }\n  }\n\n  // Event handlers\n\n  onPopState = (event) => {\n    if (this.shouldHandlePopState()) {\n      const { turbo } = event.state || {};\n      if (turbo) {\n        this.location = new URL(window.location.href);\n        const { restorationIdentifier, restorationIndex } = turbo;\n        this.restorationIdentifier = restorationIdentifier;\n        const direction = restorationIndex > this.currentIndex ? \"forward\" : \"back\";\n        this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location, restorationIdentifier, direction);\n        this.currentIndex = restorationIndex;\n      }\n    }\n  }\n\n  onPageLoad = async (_event) => {\n    await nextMicrotask();\n    this.pageLoaded = true;\n  }\n\n  // Private\n\n  shouldHandlePopState() {\n    // Safari dispatches a popstate event after window's load event, ignore it\n    return this.pageIsLoaded()\n  }\n\n  pageIsLoaded() {\n    return this.pageLoaded || document.readyState == \"complete\"\n  }\n}\n\nclass LinkPrefetchObserver {\n  started = false\n  #prefetchedLink = null\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (this.started) return\n\n    if (this.eventTarget.readyState === \"loading\") {\n      this.eventTarget.addEventListener(\"DOMContentLoaded\", this.#enable, { once: true });\n    } else {\n      this.#enable();\n    }\n  }\n\n  stop() {\n    if (!this.started) return\n\n    this.eventTarget.removeEventListener(\"mouseenter\", this.#tryToPrefetchRequest, {\n      capture: true,\n      passive: true\n    });\n    this.eventTarget.removeEventListener(\"mouseleave\", this.#cancelRequestIfObsolete, {\n      capture: true,\n      passive: true\n    });\n\n    this.eventTarget.removeEventListener(\"turbo:before-fetch-request\", this.#tryToUsePrefetchedRequest, true);\n    this.started = false;\n  }\n\n  #enable = () => {\n    this.eventTarget.addEventListener(\"mouseenter\", this.#tryToPrefetchRequest, {\n      capture: true,\n      passive: true\n    });\n    this.eventTarget.addEventListener(\"mouseleave\", this.#cancelRequestIfObsolete, {\n      capture: true,\n      passive: true\n    });\n\n    this.eventTarget.addEventListener(\"turbo:before-fetch-request\", this.#tryToUsePrefetchedRequest, true);\n    this.started = true;\n  }\n\n  #tryToPrefetchRequest = (event) => {\n    if (getMetaContent(\"turbo-prefetch\") === \"false\") return\n\n    const target = event.target;\n    const isLink = target.matches && target.matches(\"a[href]:not([target^=_]):not([download])\");\n\n    if (isLink && this.#isPrefetchable(target)) {\n      const link = target;\n      const location = getLocationForLink(link);\n\n      if (this.delegate.canPrefetchRequestToLocation(link, location)) {\n        this.#prefetchedLink = link;\n\n        const fetchRequest = new FetchRequest(\n          this,\n          FetchMethod.get,\n          location,\n          new URLSearchParams(),\n          target\n        );\n\n        prefetchCache.setLater(location.toString(), fetchRequest, this.#cacheTtl);\n      }\n    }\n  }\n\n  #cancelRequestIfObsolete = (event) => {\n    if (event.target === this.#prefetchedLink) this.#cancelPrefetchRequest();\n  }\n\n  #cancelPrefetchRequest = () => {\n    prefetchCache.clear();\n    this.#prefetchedLink = null;\n  }\n\n  #tryToUsePrefetchedRequest = (event) => {\n    if (event.target.tagName !== \"FORM\" && event.detail.fetchOptions.method === \"get\") {\n      const cached = prefetchCache.get(event.detail.url.toString());\n\n      if (cached) {\n        // User clicked link, use cache response\n        event.detail.fetchRequest = cached;\n      }\n\n      prefetchCache.clear();\n    }\n  }\n\n  prepareRequest(request) {\n    const link = request.target;\n\n    request.headers[\"X-Sec-Purpose\"] = \"prefetch\";\n\n    const turboFrame = link.closest(\"turbo-frame\");\n    const turboFrameTarget = link.getAttribute(\"data-turbo-frame\") || turboFrame?.getAttribute(\"target\") || turboFrame?.id;\n\n    if (turboFrameTarget && turboFrameTarget !== \"_top\") {\n      request.headers[\"Turbo-Frame\"] = turboFrameTarget;\n    }\n  }\n\n  // Fetch request interface\n\n  requestSucceededWithResponse() {}\n\n  requestStarted(fetchRequest) {}\n\n  requestErrored(fetchRequest) {}\n\n  requestFinished(fetchRequest) {}\n\n  requestPreventedHandlingResponse(fetchRequest, fetchResponse) {}\n\n  requestFailedWithResponse(fetchRequest, fetchResponse) {}\n\n  get #cacheTtl() {\n    return Number(getMetaContent(\"turbo-prefetch-cache-time\")) || cacheTtl\n  }\n\n  #isPrefetchable(link) {\n    const href = link.getAttribute(\"href\");\n\n    if (!href) return false\n\n    if (unfetchableLink(link)) return false\n    if (linkToTheSamePage(link)) return false\n    if (linkOptsOut(link)) return false\n    if (nonSafeLink(link)) return false\n    if (eventPrevented(link)) return false\n\n    return true\n  }\n}\n\nconst unfetchableLink = (link) => {\n  return link.origin !== document.location.origin || ![\"http:\", \"https:\"].includes(link.protocol) || link.hasAttribute(\"target\")\n};\n\nconst linkToTheSamePage = (link) => {\n  return (link.pathname + link.search === document.location.pathname + document.location.search) || link.href.startsWith(\"#\")\n};\n\nconst linkOptsOut = (link) => {\n  if (link.getAttribute(\"data-turbo-prefetch\") === \"false\") return true\n  if (link.getAttribute(\"data-turbo\") === \"false\") return true\n\n  const turboPrefetchParent = findClosestRecursively(link, \"[data-turbo-prefetch]\");\n  if (turboPrefetchParent && turboPrefetchParent.getAttribute(\"data-turbo-prefetch\") === \"false\") return true\n\n  return false\n};\n\nconst nonSafeLink = (link) => {\n  const turboMethod = link.getAttribute(\"data-turbo-method\");\n  if (turboMethod && turboMethod.toLowerCase() !== \"get\") return true\n\n  if (isUJS(link)) return true\n  if (link.hasAttribute(\"data-turbo-confirm\")) return true\n  if (link.hasAttribute(\"data-turbo-stream\")) return true\n\n  return false\n};\n\nconst isUJS = (link) => {\n  return link.hasAttribute(\"data-remote\") || link.hasAttribute(\"data-behavior\") || link.hasAttribute(\"data-confirm\") || link.hasAttribute(\"data-method\")\n};\n\nconst eventPrevented = (link) => {\n  const event = dispatch(\"turbo:before-prefetch\", { target: link, cancelable: true });\n  return event.defaultPrevented\n};\n\nclass Navigator {\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  proposeVisit(location, options = {}) {\n    if (this.delegate.allowsVisitingLocationWithAction(location, options.action)) {\n      this.delegate.visitProposedToLocation(location, options);\n    }\n  }\n\n  startVisit(locatable, restorationIdentifier, options = {}) {\n    this.stop();\n    this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, {\n      referrer: this.location,\n      ...options\n    });\n    this.currentVisit.start();\n  }\n\n  submitForm(form, submitter) {\n    this.stop();\n    this.formSubmission = new FormSubmission(this, form, submitter, true);\n\n    this.formSubmission.start();\n  }\n\n  stop() {\n    if (this.formSubmission) {\n      this.formSubmission.stop();\n      delete this.formSubmission;\n    }\n\n    if (this.currentVisit) {\n      this.currentVisit.cancel();\n      delete this.currentVisit;\n    }\n  }\n\n  get adapter() {\n    return this.delegate.adapter\n  }\n\n  get view() {\n    return this.delegate.view\n  }\n\n  get rootLocation() {\n    return this.view.snapshot.rootLocation\n  }\n\n  get history() {\n    return this.delegate.history\n  }\n\n  // Form submission delegate\n\n  formSubmissionStarted(formSubmission) {\n    // Not all adapters implement formSubmissionStarted\n    if (typeof this.adapter.formSubmissionStarted === \"function\") {\n      this.adapter.formSubmissionStarted(formSubmission);\n    }\n  }\n\n  async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {\n    if (formSubmission == this.formSubmission) {\n      const responseHTML = await fetchResponse.responseHTML;\n      if (responseHTML) {\n        const shouldCacheSnapshot = formSubmission.isSafe;\n        if (!shouldCacheSnapshot) {\n          this.view.clearSnapshotCache();\n        }\n\n        const { statusCode, redirected } = fetchResponse;\n        const action = this.#getActionForFormSubmission(formSubmission, fetchResponse);\n        const visitOptions = {\n          action,\n          shouldCacheSnapshot,\n          response: { statusCode, responseHTML, redirected }\n        };\n        this.proposeVisit(fetchResponse.location, visitOptions);\n      }\n    }\n  }\n\n  async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n    const responseHTML = await fetchResponse.responseHTML;\n\n    if (responseHTML) {\n      const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n      if (fetchResponse.serverError) {\n        await this.view.renderError(snapshot, this.currentVisit);\n      } else {\n        await this.view.renderPage(snapshot, false, true, this.currentVisit);\n      }\n      if(!snapshot.shouldPreserveScrollPosition) {\n        this.view.scrollToTop();\n      }\n      this.view.clearSnapshotCache();\n    }\n  }\n\n  formSubmissionErrored(formSubmission, error) {\n    console.error(error);\n  }\n\n  formSubmissionFinished(formSubmission) {\n    // Not all adapters implement formSubmissionFinished\n    if (typeof this.adapter.formSubmissionFinished === \"function\") {\n      this.adapter.formSubmissionFinished(formSubmission);\n    }\n  }\n\n  // Visit delegate\n\n  visitStarted(visit) {\n    this.delegate.visitStarted(visit);\n  }\n\n  visitCompleted(visit) {\n    this.delegate.visitCompleted(visit);\n  }\n\n  locationWithActionIsSamePage(location, action) {\n    const anchor = getAnchor(location);\n    const currentAnchor = getAnchor(this.view.lastRenderedLocation);\n    const isRestorationToTop = action === \"restore\" && typeof anchor === \"undefined\";\n\n    return (\n      action !== \"replace\" &&\n      getRequestURL(location) === getRequestURL(this.view.lastRenderedLocation) &&\n      (isRestorationToTop || (anchor != null && anchor !== currentAnchor))\n    )\n  }\n\n  visitScrolledToSamePageLocation(oldURL, newURL) {\n    this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);\n  }\n\n  // Visits\n\n  get location() {\n    return this.history.location\n  }\n\n  get restorationIdentifier() {\n    return this.history.restorationIdentifier\n  }\n\n  #getActionForFormSubmission(formSubmission, fetchResponse) {\n    const { submitter, formElement } = formSubmission;\n    return getVisitAction(submitter, formElement) || this.#getDefaultAction(fetchResponse)\n  }\n\n  #getDefaultAction(fetchResponse) {\n    const sameLocationRedirect = fetchResponse.redirected && fetchResponse.location.href === this.location?.href;\n    return sameLocationRedirect ? \"replace\" : \"advance\"\n  }\n}\n\nconst PageStage = {\n  initial: 0,\n  loading: 1,\n  interactive: 2,\n  complete: 3\n};\n\nclass PageObserver {\n  stage = PageStage.initial\n  started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      if (this.stage == PageStage.initial) {\n        this.stage = PageStage.loading;\n      }\n      document.addEventListener(\"readystatechange\", this.interpretReadyState, false);\n      addEventListener(\"pagehide\", this.pageWillUnload, false);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      document.removeEventListener(\"readystatechange\", this.interpretReadyState, false);\n      removeEventListener(\"pagehide\", this.pageWillUnload, false);\n      this.started = false;\n    }\n  }\n\n  interpretReadyState = () => {\n    const { readyState } = this;\n    if (readyState == \"interactive\") {\n      this.pageIsInteractive();\n    } else if (readyState == \"complete\") {\n      this.pageIsComplete();\n    }\n  }\n\n  pageIsInteractive() {\n    if (this.stage == PageStage.loading) {\n      this.stage = PageStage.interactive;\n      this.delegate.pageBecameInteractive();\n    }\n  }\n\n  pageIsComplete() {\n    this.pageIsInteractive();\n    if (this.stage == PageStage.interactive) {\n      this.stage = PageStage.complete;\n      this.delegate.pageLoaded();\n    }\n  }\n\n  pageWillUnload = () => {\n    this.delegate.pageWillUnload();\n  }\n\n  get readyState() {\n    return document.readyState\n  }\n}\n\nclass ScrollObserver {\n  started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      addEventListener(\"scroll\", this.onScroll, false);\n      this.onScroll();\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      removeEventListener(\"scroll\", this.onScroll, false);\n      this.started = false;\n    }\n  }\n\n  onScroll = () => {\n    this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });\n  }\n\n  // Private\n\n  updatePosition(position) {\n    this.delegate.scrollPositionChanged(position);\n  }\n}\n\nclass StreamMessageRenderer {\n  render({ fragment }) {\n    Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () => {\n      withAutofocusFromFragment(fragment, () => {\n        withPreservedFocus(() => {\n          document.documentElement.appendChild(fragment);\n        });\n      });\n    });\n  }\n\n  // Bardo delegate\n\n  enteringBardo(currentPermanentElement, newPermanentElement) {\n    newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));\n  }\n\n  leavingBardo() {}\n}\n\nfunction getPermanentElementMapForFragment(fragment) {\n  const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);\n  const permanentElementMap = {};\n  for (const permanentElementInDocument of permanentElementsInDocument) {\n    const { id } = permanentElementInDocument;\n\n    for (const streamElement of fragment.querySelectorAll(\"turbo-stream\")) {\n      const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);\n\n      if (elementInStream) {\n        permanentElementMap[id] = [permanentElementInDocument, elementInStream];\n      }\n    }\n  }\n\n  return permanentElementMap\n}\n\nasync function withAutofocusFromFragment(fragment, callback) {\n  const generatedID = `turbo-stream-autofocus-${uuid()}`;\n  const turboStreams = fragment.querySelectorAll(\"turbo-stream\");\n  const elementWithAutofocus = firstAutofocusableElementInStreams(turboStreams);\n  let willAutofocusId = null;\n\n  if (elementWithAutofocus) {\n    if (elementWithAutofocus.id) {\n      willAutofocusId = elementWithAutofocus.id;\n    } else {\n      willAutofocusId = generatedID;\n    }\n\n    elementWithAutofocus.id = willAutofocusId;\n  }\n\n  callback();\n  await nextRepaint();\n\n  const hasNoActiveElement = document.activeElement == null || document.activeElement == document.body;\n\n  if (hasNoActiveElement && willAutofocusId) {\n    const elementToAutofocus = document.getElementById(willAutofocusId);\n\n    if (elementIsFocusable(elementToAutofocus)) {\n      elementToAutofocus.focus();\n    }\n    if (elementToAutofocus && elementToAutofocus.id == generatedID) {\n      elementToAutofocus.removeAttribute(\"id\");\n    }\n  }\n}\n\nasync function withPreservedFocus(callback) {\n  const [activeElementBeforeRender, activeElementAfterRender] = await around(callback, () => document.activeElement);\n\n  const restoreFocusTo = activeElementBeforeRender && activeElementBeforeRender.id;\n\n  if (restoreFocusTo) {\n    const elementToFocus = document.getElementById(restoreFocusTo);\n\n    if (elementIsFocusable(elementToFocus) && elementToFocus != activeElementAfterRender) {\n      elementToFocus.focus();\n    }\n  }\n}\n\nfunction firstAutofocusableElementInStreams(nodeListOfStreamElements) {\n  for (const streamElement of nodeListOfStreamElements) {\n    const elementWithAutofocus = queryAutofocusableElement(streamElement.templateElement.content);\n\n    if (elementWithAutofocus) return elementWithAutofocus\n  }\n\n  return null\n}\n\nclass StreamObserver {\n  sources = new Set()\n  #started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.#started) {\n      this.#started = true;\n      addEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n    }\n  }\n\n  stop() {\n    if (this.#started) {\n      this.#started = false;\n      removeEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n    }\n  }\n\n  connectStreamSource(source) {\n    if (!this.streamSourceIsConnected(source)) {\n      this.sources.add(source);\n      source.addEventListener(\"message\", this.receiveMessageEvent, false);\n    }\n  }\n\n  disconnectStreamSource(source) {\n    if (this.streamSourceIsConnected(source)) {\n      this.sources.delete(source);\n      source.removeEventListener(\"message\", this.receiveMessageEvent, false);\n    }\n  }\n\n  streamSourceIsConnected(source) {\n    return this.sources.has(source)\n  }\n\n  inspectFetchResponse = (event) => {\n    const response = fetchResponseFromEvent(event);\n    if (response && fetchResponseIsStream(response)) {\n      event.preventDefault();\n      this.receiveMessageResponse(response);\n    }\n  }\n\n  receiveMessageEvent = (event) => {\n    if (this.#started && typeof event.data == \"string\") {\n      this.receiveMessageHTML(event.data);\n    }\n  }\n\n  async receiveMessageResponse(response) {\n    const html = await response.responseHTML;\n    if (html) {\n      this.receiveMessageHTML(html);\n    }\n  }\n\n  receiveMessageHTML(html) {\n    this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));\n  }\n}\n\nfunction fetchResponseFromEvent(event) {\n  const fetchResponse = event.detail?.fetchResponse;\n  if (fetchResponse instanceof FetchResponse) {\n    return fetchResponse\n  }\n}\n\nfunction fetchResponseIsStream(response) {\n  const contentType = response.contentType ?? \"\";\n  return contentType.startsWith(StreamMessage.contentType)\n}\n\nclass ErrorRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    const { documentElement, body } = document;\n\n    documentElement.replaceChild(newElement, body);\n  }\n\n  async render() {\n    this.replaceHeadAndBody();\n    this.activateScriptElements();\n  }\n\n  replaceHeadAndBody() {\n    const { documentElement, head } = document;\n    documentElement.replaceChild(this.newHead, head);\n    this.renderElement(this.currentElement, this.newElement);\n  }\n\n  activateScriptElements() {\n    for (const replaceableElement of this.scriptElements) {\n      const parentNode = replaceableElement.parentNode;\n      if (parentNode) {\n        const element = activateScriptElement(replaceableElement);\n        parentNode.replaceChild(element, replaceableElement);\n      }\n    }\n  }\n\n  get newHead() {\n    return this.newSnapshot.headSnapshot.element\n  }\n\n  get scriptElements() {\n    return document.documentElement.querySelectorAll(\"script\")\n  }\n}\n\n// base IIFE to define idiomorph\nvar Idiomorph = (function () {\n\n        //=============================================================================\n        // AND NOW IT BEGINS...\n        //=============================================================================\n        let EMPTY_SET = new Set();\n\n        // default configuration values, updatable by users now\n        let defaults = {\n            morphStyle: \"outerHTML\",\n            callbacks : {\n                beforeNodeAdded: noOp,\n                afterNodeAdded: noOp,\n                beforeNodeMorphed: noOp,\n                afterNodeMorphed: noOp,\n                beforeNodeRemoved: noOp,\n                afterNodeRemoved: noOp,\n                beforeAttributeUpdated: noOp,\n\n            },\n            head: {\n                style: 'merge',\n                shouldPreserve: function (elt) {\n                    return elt.getAttribute(\"im-preserve\") === \"true\";\n                },\n                shouldReAppend: function (elt) {\n                    return elt.getAttribute(\"im-re-append\") === \"true\";\n                },\n                shouldRemove: noOp,\n                afterHeadMorphed: noOp,\n            }\n        };\n\n        //=============================================================================\n        // Core Morphing Algorithm - morph, morphNormalizedContent, morphOldNodeTo, morphChildren\n        //=============================================================================\n        function morph(oldNode, newContent, config = {}) {\n\n            if (oldNode instanceof Document) {\n                oldNode = oldNode.documentElement;\n            }\n\n            if (typeof newContent === 'string') {\n                newContent = parseContent(newContent);\n            }\n\n            let normalizedContent = normalizeContent(newContent);\n\n            let ctx = createMorphContext(oldNode, normalizedContent, config);\n\n            return morphNormalizedContent(oldNode, normalizedContent, ctx);\n        }\n\n        function morphNormalizedContent(oldNode, normalizedNewContent, ctx) {\n            if (ctx.head.block) {\n                let oldHead = oldNode.querySelector('head');\n                let newHead = normalizedNewContent.querySelector('head');\n                if (oldHead && newHead) {\n                    let promises = handleHeadElement(newHead, oldHead, ctx);\n                    // when head promises resolve, call morph again, ignoring the head tag\n                    Promise.all(promises).then(function () {\n                        morphNormalizedContent(oldNode, normalizedNewContent, Object.assign(ctx, {\n                            head: {\n                                block: false,\n                                ignore: true\n                            }\n                        }));\n                    });\n                    return;\n                }\n            }\n\n            if (ctx.morphStyle === \"innerHTML\") {\n\n                // innerHTML, so we are only updating the children\n                morphChildren(normalizedNewContent, oldNode, ctx);\n                return oldNode.children;\n\n            } else if (ctx.morphStyle === \"outerHTML\" || ctx.morphStyle == null) {\n                // otherwise find the best element match in the new content, morph that, and merge its siblings\n                // into either side of the best match\n                let bestMatch = findBestNodeMatch(normalizedNewContent, oldNode, ctx);\n\n                // stash the siblings that will need to be inserted on either side of the best match\n                let previousSibling = bestMatch?.previousSibling;\n                let nextSibling = bestMatch?.nextSibling;\n\n                // morph it\n                let morphedNode = morphOldNodeTo(oldNode, bestMatch, ctx);\n\n                if (bestMatch) {\n                    // if there was a best match, merge the siblings in too and return the\n                    // whole bunch\n                    return insertSiblings(previousSibling, morphedNode, nextSibling);\n                } else {\n                    // otherwise nothing was added to the DOM\n                    return []\n                }\n            } else {\n                throw \"Do not understand how to morph style \" + ctx.morphStyle;\n            }\n        }\n\n\n        /**\n         * @param possibleActiveElement\n         * @param ctx\n         * @returns {boolean}\n         */\n        function ignoreValueOfActiveElement(possibleActiveElement, ctx) {\n            return ctx.ignoreActiveValue && possibleActiveElement === document.activeElement && possibleActiveElement !== document.body;\n        }\n\n        /**\n         * @param oldNode root node to merge content into\n         * @param newContent new content to merge\n         * @param ctx the merge context\n         * @returns {Element} the element that ended up in the DOM\n         */\n        function morphOldNodeTo(oldNode, newContent, ctx) {\n            if (ctx.ignoreActive && oldNode === document.activeElement) ; else if (newContent == null) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n\n                oldNode.remove();\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return null;\n            } else if (!isSoftMatch(oldNode, newContent)) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n                if (ctx.callbacks.beforeNodeAdded(newContent) === false) return oldNode;\n\n                oldNode.parentElement.replaceChild(newContent, oldNode);\n                ctx.callbacks.afterNodeAdded(newContent);\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return newContent;\n            } else {\n                if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) return oldNode;\n\n                if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) ; else if (oldNode instanceof HTMLHeadElement && ctx.head.style !== \"morph\") {\n                    handleHeadElement(newContent, oldNode, ctx);\n                } else {\n                    syncNodeFrom(newContent, oldNode, ctx);\n                    if (!ignoreValueOfActiveElement(oldNode, ctx)) {\n                        morphChildren(newContent, oldNode, ctx);\n                    }\n                }\n                ctx.callbacks.afterNodeMorphed(oldNode, newContent);\n                return oldNode;\n            }\n        }\n\n        /**\n         * This is the core algorithm for matching up children.  The idea is to use id sets to try to match up\n         * nodes as faithfully as possible.  We greedily match, which allows us to keep the algorithm fast, but\n         * by using id sets, we are able to better match up with content deeper in the DOM.\n         *\n         * Basic algorithm is, for each node in the new content:\n         *\n         * - if we have reached the end of the old parent, append the new content\n         * - if the new content has an id set match with the current insertion point, morph\n         * - search for an id set match\n         * - if id set match found, morph\n         * - otherwise search for a \"soft\" match\n         * - if a soft match is found, morph\n         * - otherwise, prepend the new node before the current insertion point\n         *\n         * The two search algorithms terminate if competing node matches appear to outweigh what can be achieved\n         * with the current node.  See findIdSetMatch() and findSoftMatch() for details.\n         *\n         * @param {Element} newParent the parent element of the new content\n         * @param {Element } oldParent the old content that we are merging the new content into\n         * @param ctx the merge context\n         */\n        function morphChildren(newParent, oldParent, ctx) {\n\n            let nextNewChild = newParent.firstChild;\n            let insertionPoint = oldParent.firstChild;\n            let newChild;\n\n            // run through all the new content\n            while (nextNewChild) {\n\n                newChild = nextNewChild;\n                nextNewChild = newChild.nextSibling;\n\n                // if we are at the end of the exiting parent's children, just append\n                if (insertionPoint == null) {\n                    if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                    oldParent.appendChild(newChild);\n                    ctx.callbacks.afterNodeAdded(newChild);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // if the current node has an id set match then morph\n                if (isIdSetMatch(newChild, insertionPoint, ctx)) {\n                    morphOldNodeTo(insertionPoint, newChild, ctx);\n                    insertionPoint = insertionPoint.nextSibling;\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // otherwise search forward in the existing old children for an id set match\n                let idSetMatch = findIdSetMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a potential match, remove the nodes until that point and morph\n                if (idSetMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, idSetMatch, ctx);\n                    morphOldNodeTo(idSetMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // no id set match found, so scan forward for a soft match for the current node\n                let softMatch = findSoftMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a soft match for the current node, morph\n                if (softMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, softMatch, ctx);\n                    morphOldNodeTo(softMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // abandon all hope of morphing, just insert the new child before the insertion point\n                // and move on\n                if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                oldParent.insertBefore(newChild, insertionPoint);\n                ctx.callbacks.afterNodeAdded(newChild);\n                removeIdsFromConsideration(ctx, newChild);\n            }\n\n            // remove any remaining old nodes that didn't match up with new content\n            while (insertionPoint !== null) {\n\n                let tempNode = insertionPoint;\n                insertionPoint = insertionPoint.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n        }\n\n        //=============================================================================\n        // Attribute Syncing Code\n        //=============================================================================\n\n        /**\n         * @param attr {String} the attribute to be mutated\n         * @param to {Element} the element that is going to be updated\n         * @param updateType {(\"update\"|\"remove\")}\n         * @param ctx the merge context\n         * @returns {boolean} true if the attribute should be ignored, false otherwise\n         */\n        function ignoreAttribute(attr, to, updateType, ctx) {\n            if(attr === 'value' && ctx.ignoreActiveValue && to === document.activeElement){\n                return true;\n            }\n            return ctx.callbacks.beforeAttributeUpdated(attr, to, updateType) === false;\n        }\n\n        /**\n         * syncs a given node with another node, copying over all attributes and\n         * inner element state from the 'from' node to the 'to' node\n         *\n         * @param {Element} from the element to copy attributes & state from\n         * @param {Element} to the element to copy attributes & state to\n         * @param ctx the merge context\n         */\n        function syncNodeFrom(from, to, ctx) {\n            let type = from.nodeType;\n\n            // if is an element type, sync the attributes from the\n            // new node into the new node\n            if (type === 1 /* element type */) {\n                const fromAttributes = from.attributes;\n                const toAttributes = to.attributes;\n                for (const fromAttribute of fromAttributes) {\n                    if (ignoreAttribute(fromAttribute.name, to, 'update', ctx)) {\n                        continue;\n                    }\n                    if (to.getAttribute(fromAttribute.name) !== fromAttribute.value) {\n                        to.setAttribute(fromAttribute.name, fromAttribute.value);\n                    }\n                }\n                // iterate backwards to avoid skipping over items when a delete occurs\n                for (let i = toAttributes.length - 1; 0 <= i; i--) {\n                    const toAttribute = toAttributes[i];\n                    if (ignoreAttribute(toAttribute.name, to, 'remove', ctx)) {\n                        continue;\n                    }\n                    if (!from.hasAttribute(toAttribute.name)) {\n                        to.removeAttribute(toAttribute.name);\n                    }\n                }\n            }\n\n            // sync text nodes\n            if (type === 8 /* comment */ || type === 3 /* text */) {\n                if (to.nodeValue !== from.nodeValue) {\n                    to.nodeValue = from.nodeValue;\n                }\n            }\n\n            if (!ignoreValueOfActiveElement(to, ctx)) {\n                // sync input values\n                syncInputValue(from, to, ctx);\n            }\n        }\n\n        /**\n         * @param from {Element} element to sync the value from\n         * @param to {Element} element to sync the value to\n         * @param attributeName {String} the attribute name\n         * @param ctx the merge context\n         */\n        function syncBooleanAttribute(from, to, attributeName, ctx) {\n            if (from[attributeName] !== to[attributeName]) {\n                let ignoreUpdate = ignoreAttribute(attributeName, to, 'update', ctx);\n                if (!ignoreUpdate) {\n                    to[attributeName] = from[attributeName];\n                }\n                if (from[attributeName]) {\n                    if (!ignoreUpdate) {\n                        to.setAttribute(attributeName, from[attributeName]);\n                    }\n                } else {\n                    if (!ignoreAttribute(attributeName, to, 'remove', ctx)) {\n                        to.removeAttribute(attributeName);\n                    }\n                }\n            }\n        }\n\n        /**\n         * NB: many bothans died to bring us information:\n         *\n         *  https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js\n         *  https://github.com/choojs/nanomorph/blob/master/lib/morph.jsL113\n         *\n         * @param from {Element} the element to sync the input value from\n         * @param to {Element} the element to sync the input value to\n         * @param ctx the merge context\n         */\n        function syncInputValue(from, to, ctx) {\n            if (from instanceof HTMLInputElement &&\n                to instanceof HTMLInputElement &&\n                from.type !== 'file') {\n\n                let fromValue = from.value;\n                let toValue = to.value;\n\n                // sync boolean attributes\n                syncBooleanAttribute(from, to, 'checked', ctx);\n                syncBooleanAttribute(from, to, 'disabled', ctx);\n\n                if (!from.hasAttribute('value')) {\n                    if (!ignoreAttribute('value', to, 'remove', ctx)) {\n                        to.value = '';\n                        to.removeAttribute('value');\n                    }\n                } else if (fromValue !== toValue) {\n                    if (!ignoreAttribute('value', to, 'update', ctx)) {\n                        to.setAttribute('value', fromValue);\n                        to.value = fromValue;\n                    }\n                }\n            } else if (from instanceof HTMLOptionElement) {\n                syncBooleanAttribute(from, to, 'selected', ctx);\n            } else if (from instanceof HTMLTextAreaElement && to instanceof HTMLTextAreaElement) {\n                let fromValue = from.value;\n                let toValue = to.value;\n                if (ignoreAttribute('value', to, 'update', ctx)) {\n                    return;\n                }\n                if (fromValue !== toValue) {\n                    to.value = fromValue;\n                }\n                if (to.firstChild && to.firstChild.nodeValue !== fromValue) {\n                    to.firstChild.nodeValue = fromValue;\n                }\n            }\n        }\n\n        //=============================================================================\n        // the HEAD tag can be handled specially, either w/ a 'merge' or 'append' style\n        //=============================================================================\n        function handleHeadElement(newHeadTag, currentHead, ctx) {\n\n            let added = [];\n            let removed = [];\n            let preserved = [];\n            let nodesToAppend = [];\n\n            let headMergeStyle = ctx.head.style;\n\n            // put all new head elements into a Map, by their outerHTML\n            let srcToNewHeadNodes = new Map();\n            for (const newHeadChild of newHeadTag.children) {\n                srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);\n            }\n\n            // for each elt in the current head\n            for (const currentHeadElt of currentHead.children) {\n\n                // If the current head element is in the map\n                let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);\n                let isReAppended = ctx.head.shouldReAppend(currentHeadElt);\n                let isPreserved = ctx.head.shouldPreserve(currentHeadElt);\n                if (inNewContent || isPreserved) {\n                    if (isReAppended) {\n                        // remove the current version and let the new version replace it and re-execute\n                        removed.push(currentHeadElt);\n                    } else {\n                        // this element already exists and should not be re-appended, so remove it from\n                        // the new content map, preserving it in the DOM\n                        srcToNewHeadNodes.delete(currentHeadElt.outerHTML);\n                        preserved.push(currentHeadElt);\n                    }\n                } else {\n                    if (headMergeStyle === \"append\") {\n                        // we are appending and this existing element is not new content\n                        // so if and only if it is marked for re-append do we do anything\n                        if (isReAppended) {\n                            removed.push(currentHeadElt);\n                            nodesToAppend.push(currentHeadElt);\n                        }\n                    } else {\n                        // if this is a merge, we remove this content since it is not in the new head\n                        if (ctx.head.shouldRemove(currentHeadElt) !== false) {\n                            removed.push(currentHeadElt);\n                        }\n                    }\n                }\n            }\n\n            // Push the remaining new head elements in the Map into the\n            // nodes to append to the head tag\n            nodesToAppend.push(...srcToNewHeadNodes.values());\n\n            let promises = [];\n            for (const newNode of nodesToAppend) {\n                let newElt = document.createRange().createContextualFragment(newNode.outerHTML).firstChild;\n                if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {\n                    if (newElt.href || newElt.src) {\n                        let resolve = null;\n                        let promise = new Promise(function (_resolve) {\n                            resolve = _resolve;\n                        });\n                        newElt.addEventListener('load', function () {\n                            resolve();\n                        });\n                        promises.push(promise);\n                    }\n                    currentHead.appendChild(newElt);\n                    ctx.callbacks.afterNodeAdded(newElt);\n                    added.push(newElt);\n                }\n            }\n\n            // remove all removed elements, after we have appended the new elements to avoid\n            // additional network requests for things like style sheets\n            for (const removedElement of removed) {\n                if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {\n                    currentHead.removeChild(removedElement);\n                    ctx.callbacks.afterNodeRemoved(removedElement);\n                }\n            }\n\n            ctx.head.afterHeadMorphed(currentHead, {added: added, kept: preserved, removed: removed});\n            return promises;\n        }\n\n        function noOp() {\n        }\n\n        /*\n          Deep merges the config object and the Idiomoroph.defaults object to\n          produce a final configuration object\n         */\n        function mergeDefaults(config) {\n            let finalConfig = {};\n            // copy top level stuff into final config\n            Object.assign(finalConfig, defaults);\n            Object.assign(finalConfig, config);\n\n            // copy callbacks into final config (do this to deep merge the callbacks)\n            finalConfig.callbacks = {};\n            Object.assign(finalConfig.callbacks, defaults.callbacks);\n            Object.assign(finalConfig.callbacks, config.callbacks);\n\n            // copy head config into final config  (do this to deep merge the head)\n            finalConfig.head = {};\n            Object.assign(finalConfig.head, defaults.head);\n            Object.assign(finalConfig.head, config.head);\n            return finalConfig;\n        }\n\n        function createMorphContext(oldNode, newContent, config) {\n            config = mergeDefaults(config);\n            return {\n                target: oldNode,\n                newContent: newContent,\n                config: config,\n                morphStyle: config.morphStyle,\n                ignoreActive: config.ignoreActive,\n                ignoreActiveValue: config.ignoreActiveValue,\n                idMap: createIdMap(oldNode, newContent),\n                deadIds: new Set(),\n                callbacks: config.callbacks,\n                head: config.head\n            }\n        }\n\n        function isIdSetMatch(node1, node2, ctx) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            if (node1.nodeType === node2.nodeType && node1.tagName === node2.tagName) {\n                if (node1.id !== \"\" && node1.id === node2.id) {\n                    return true;\n                } else {\n                    return getIdIntersectionCount(ctx, node1, node2) > 0;\n                }\n            }\n            return false;\n        }\n\n        function isSoftMatch(node1, node2) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            return node1.nodeType === node2.nodeType && node1.tagName === node2.tagName\n        }\n\n        function removeNodesBetween(startInclusive, endExclusive, ctx) {\n            while (startInclusive !== endExclusive) {\n                let tempNode = startInclusive;\n                startInclusive = startInclusive.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n            removeIdsFromConsideration(ctx, endExclusive);\n            return endExclusive.nextSibling;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential id match\n        // for the newChild.  We stop if we find a potential id match for the new child OR\n        // if the number of potential id matches we are discarding is greater than the\n        // potential id matches for the new child\n        //=============================================================================\n        function findIdSetMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            // max id matches we are willing to discard in our search\n            let newChildPotentialIdCount = getIdIntersectionCount(ctx, newChild, oldParent);\n\n            let potentialMatch = null;\n\n            // only search forward if there is a possibility of an id match\n            if (newChildPotentialIdCount > 0) {\n                let potentialMatch = insertionPoint;\n                // if there is a possibility of an id match, scan forward\n                // keep track of the potential id match count we are discarding (the\n                // newChildPotentialIdCount must be greater than this to make it likely\n                // worth it)\n                let otherMatchCount = 0;\n                while (potentialMatch != null) {\n\n                    // If we have an id match, return the current potential match\n                    if (isIdSetMatch(newChild, potentialMatch, ctx)) {\n                        return potentialMatch;\n                    }\n\n                    // computer the other potential matches of this new content\n                    otherMatchCount += getIdIntersectionCount(ctx, potentialMatch, newContent);\n                    if (otherMatchCount > newChildPotentialIdCount) {\n                        // if we have more potential id matches in _other_ content, we\n                        // do not have a good candidate for an id match, so return null\n                        return null;\n                    }\n\n                    // advanced to the next old content child\n                    potentialMatch = potentialMatch.nextSibling;\n                }\n            }\n            return potentialMatch;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential soft match\n        // for the newChild.  We stop if we find a potential soft match for the new child OR\n        // if we find a potential id match in the old parents children OR if we find two\n        // potential soft matches for the next two pieces of new content\n        //=============================================================================\n        function findSoftMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            let potentialSoftMatch = insertionPoint;\n            let nextSibling = newChild.nextSibling;\n            let siblingSoftMatchCount = 0;\n\n            while (potentialSoftMatch != null) {\n\n                if (getIdIntersectionCount(ctx, potentialSoftMatch, newContent) > 0) {\n                    // the current potential soft match has a potential id set match with the remaining new\n                    // content so bail out of looking\n                    return null;\n                }\n\n                // if we have a soft match with the current node, return it\n                if (isSoftMatch(newChild, potentialSoftMatch)) {\n                    return potentialSoftMatch;\n                }\n\n                if (isSoftMatch(nextSibling, potentialSoftMatch)) {\n                    // the next new node has a soft match with this node, so\n                    // increment the count of future soft matches\n                    siblingSoftMatchCount++;\n                    nextSibling = nextSibling.nextSibling;\n\n                    // If there are two future soft matches, bail to allow the siblings to soft match\n                    // so that we don't consume future soft matches for the sake of the current node\n                    if (siblingSoftMatchCount >= 2) {\n                        return null;\n                    }\n                }\n\n                // advanced to the next old content child\n                potentialSoftMatch = potentialSoftMatch.nextSibling;\n            }\n\n            return potentialSoftMatch;\n        }\n\n        function parseContent(newContent) {\n            let parser = new DOMParser();\n\n            // remove svgs to avoid false-positive matches on head, etc.\n            let contentWithSvgsRemoved = newContent.replace(/<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim, '');\n\n            // if the newContent contains a html, head or body tag, we can simply parse it w/o wrapping\n            if (contentWithSvgsRemoved.match(/<\\/html>/) || contentWithSvgsRemoved.match(/<\\/head>/) || contentWithSvgsRemoved.match(/<\\/body>/)) {\n                let content = parser.parseFromString(newContent, \"text/html\");\n                // if it is a full HTML document, return the document itself as the parent container\n                if (contentWithSvgsRemoved.match(/<\\/html>/)) {\n                    content.generatedByIdiomorph = true;\n                    return content;\n                } else {\n                    // otherwise return the html element as the parent container\n                    let htmlElement = content.firstChild;\n                    if (htmlElement) {\n                        htmlElement.generatedByIdiomorph = true;\n                        return htmlElement;\n                    } else {\n                        return null;\n                    }\n                }\n            } else {\n                // if it is partial HTML, wrap it in a template tag to provide a parent element and also to help\n                // deal with touchy tags like tr, tbody, etc.\n                let responseDoc = parser.parseFromString(\"<body><template>\" + newContent + \"</template></body>\", \"text/html\");\n                let content = responseDoc.body.querySelector('template').content;\n                content.generatedByIdiomorph = true;\n                return content\n            }\n        }\n\n        function normalizeContent(newContent) {\n            if (newContent == null) {\n                // noinspection UnnecessaryLocalVariableJS\n                const dummyParent = document.createElement('div');\n                return dummyParent;\n            } else if (newContent.generatedByIdiomorph) {\n                // the template tag created by idiomorph parsing can serve as a dummy parent\n                return newContent;\n            } else if (newContent instanceof Node) {\n                // a single node is added as a child to a dummy parent\n                const dummyParent = document.createElement('div');\n                dummyParent.append(newContent);\n                return dummyParent;\n            } else {\n                // all nodes in the array or HTMLElement collection are consolidated under\n                // a single dummy parent element\n                const dummyParent = document.createElement('div');\n                for (const elt of [...newContent]) {\n                    dummyParent.append(elt);\n                }\n                return dummyParent;\n            }\n        }\n\n        function insertSiblings(previousSibling, morphedNode, nextSibling) {\n            let stack = [];\n            let added = [];\n            while (previousSibling != null) {\n                stack.push(previousSibling);\n                previousSibling = previousSibling.previousSibling;\n            }\n            while (stack.length > 0) {\n                let node = stack.pop();\n                added.push(node); // push added preceding siblings on in order and insert\n                morphedNode.parentElement.insertBefore(node, morphedNode);\n            }\n            added.push(morphedNode);\n            while (nextSibling != null) {\n                stack.push(nextSibling);\n                added.push(nextSibling); // here we are going in order, so push on as we scan, rather than add\n                nextSibling = nextSibling.nextSibling;\n            }\n            while (stack.length > 0) {\n                morphedNode.parentElement.insertBefore(stack.pop(), morphedNode.nextSibling);\n            }\n            return added;\n        }\n\n        function findBestNodeMatch(newContent, oldNode, ctx) {\n            let currentElement;\n            currentElement = newContent.firstChild;\n            let bestElement = currentElement;\n            let score = 0;\n            while (currentElement) {\n                let newScore = scoreElement(currentElement, oldNode, ctx);\n                if (newScore > score) {\n                    bestElement = currentElement;\n                    score = newScore;\n                }\n                currentElement = currentElement.nextSibling;\n            }\n            return bestElement;\n        }\n\n        function scoreElement(node1, node2, ctx) {\n            if (isSoftMatch(node1, node2)) {\n                return .5 + getIdIntersectionCount(ctx, node1, node2);\n            }\n            return 0;\n        }\n\n        function removeNode(tempNode, ctx) {\n            removeIdsFromConsideration(ctx, tempNode);\n            if (ctx.callbacks.beforeNodeRemoved(tempNode) === false) return;\n\n            tempNode.remove();\n            ctx.callbacks.afterNodeRemoved(tempNode);\n        }\n\n        //=============================================================================\n        // ID Set Functions\n        //=============================================================================\n\n        function isIdInConsideration(ctx, id) {\n            return !ctx.deadIds.has(id);\n        }\n\n        function idIsWithinNode(ctx, id, targetNode) {\n            let idSet = ctx.idMap.get(targetNode) || EMPTY_SET;\n            return idSet.has(id);\n        }\n\n        function removeIdsFromConsideration(ctx, node) {\n            let idSet = ctx.idMap.get(node) || EMPTY_SET;\n            for (const id of idSet) {\n                ctx.deadIds.add(id);\n            }\n        }\n\n        function getIdIntersectionCount(ctx, node1, node2) {\n            let sourceSet = ctx.idMap.get(node1) || EMPTY_SET;\n            let matchCount = 0;\n            for (const id of sourceSet) {\n                // a potential match is an id in the source and potentialIdsSet, but\n                // that has not already been merged into the DOM\n                if (isIdInConsideration(ctx, id) && idIsWithinNode(ctx, id, node2)) {\n                    ++matchCount;\n                }\n            }\n            return matchCount;\n        }\n\n        /**\n         * A bottom up algorithm that finds all elements with ids inside of the node\n         * argument and populates id sets for those nodes and all their parents, generating\n         * a set of ids contained within all nodes for the entire hierarchy in the DOM\n         *\n         * @param node {Element}\n         * @param {Map<Node, Set<String>>} idMap\n         */\n        function populateIdMapForNode(node, idMap) {\n            let nodeParent = node.parentElement;\n            // find all elements with an id property\n            let idElements = node.querySelectorAll('[id]');\n            for (const elt of idElements) {\n                let current = elt;\n                // walk up the parent hierarchy of that element, adding the id\n                // of element to the parent's id set\n                while (current !== nodeParent && current != null) {\n                    let idSet = idMap.get(current);\n                    // if the id set doesn't exist, create it and insert it in the  map\n                    if (idSet == null) {\n                        idSet = new Set();\n                        idMap.set(current, idSet);\n                    }\n                    idSet.add(elt.id);\n                    current = current.parentElement;\n                }\n            }\n        }\n\n        /**\n         * This function computes a map of nodes to all ids contained within that node (inclusive of the\n         * node).  This map can be used to ask if two nodes have intersecting sets of ids, which allows\n         * for a looser definition of \"matching\" than tradition id matching, and allows child nodes\n         * to contribute to a parent nodes matching.\n         *\n         * @param {Element} oldContent  the old content that will be morphed\n         * @param {Element} newContent  the new content to morph to\n         * @returns {Map<Node, Set<String>>} a map of nodes to id sets for the\n         */\n        function createIdMap(oldContent, newContent) {\n            let idMap = new Map();\n            populateIdMapForNode(oldContent, idMap);\n            populateIdMapForNode(newContent, idMap);\n            return idMap;\n        }\n\n        //=============================================================================\n        // This is what ends up becoming the Idiomorph global object\n        //=============================================================================\n        return {\n            morph,\n            defaults\n        }\n    })();\n\nclass PageRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    if (document.body && newElement instanceof HTMLBodyElement) {\n      document.body.replaceWith(newElement);\n    } else {\n      document.documentElement.appendChild(newElement);\n    }\n  }\n\n  get shouldRender() {\n    return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical\n  }\n\n  get reloadReason() {\n    if (!this.newSnapshot.isVisitable) {\n      return {\n        reason: \"turbo_visit_control_is_reload\"\n      }\n    }\n\n    if (!this.trackedElementsAreIdentical) {\n      return {\n        reason: \"tracked_element_mismatch\"\n      }\n    }\n  }\n\n  async prepareToRender() {\n    this.#setLanguage();\n    await this.mergeHead();\n  }\n\n  async render() {\n    if (this.willRender) {\n      await this.replaceBody();\n    }\n  }\n\n  finishRendering() {\n    super.finishRendering();\n    if (!this.isPreview) {\n      this.focusFirstAutofocusableElement();\n    }\n  }\n\n  get currentHeadSnapshot() {\n    return this.currentSnapshot.headSnapshot\n  }\n\n  get newHeadSnapshot() {\n    return this.newSnapshot.headSnapshot\n  }\n\n  get newElement() {\n    return this.newSnapshot.element\n  }\n\n  #setLanguage() {\n    const { documentElement } = this.currentSnapshot;\n    const { lang } = this.newSnapshot;\n\n    if (lang) {\n      documentElement.setAttribute(\"lang\", lang);\n    } else {\n      documentElement.removeAttribute(\"lang\");\n    }\n  }\n\n  async mergeHead() {\n    const mergedHeadElements = this.mergeProvisionalElements();\n    const newStylesheetElements = this.copyNewHeadStylesheetElements();\n    this.copyNewHeadScriptElements();\n\n    await mergedHeadElements;\n    await newStylesheetElements;\n\n    if (this.willRender) {\n      this.removeUnusedDynamicStylesheetElements();\n    }\n  }\n\n  async replaceBody() {\n    await this.preservingPermanentElements(async () => {\n      this.activateNewBody();\n      await this.assignNewBody();\n    });\n  }\n\n  get trackedElementsAreIdentical() {\n    return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature\n  }\n\n  async copyNewHeadStylesheetElements() {\n    const loadingElements = [];\n\n    for (const element of this.newHeadStylesheetElements) {\n      loadingElements.push(waitForLoad(element));\n\n      document.head.appendChild(element);\n    }\n\n    await Promise.all(loadingElements);\n  }\n\n  copyNewHeadScriptElements() {\n    for (const element of this.newHeadScriptElements) {\n      document.head.appendChild(activateScriptElement(element));\n    }\n  }\n\n  removeUnusedDynamicStylesheetElements() {\n    for (const element of this.unusedDynamicStylesheetElements) {\n      document.head.removeChild(element);\n    }\n  }\n\n  async mergeProvisionalElements() {\n    const newHeadElements = [...this.newHeadProvisionalElements];\n\n    for (const element of this.currentHeadProvisionalElements) {\n      if (!this.isCurrentElementInElementList(element, newHeadElements)) {\n        document.head.removeChild(element);\n      }\n    }\n\n    for (const element of newHeadElements) {\n      document.head.appendChild(element);\n    }\n  }\n\n  isCurrentElementInElementList(element, elementList) {\n    for (const [index, newElement] of elementList.entries()) {\n      // if title element...\n      if (element.tagName == \"TITLE\") {\n        if (newElement.tagName != \"TITLE\") {\n          continue\n        }\n        if (element.innerHTML == newElement.innerHTML) {\n          elementList.splice(index, 1);\n          return true\n        }\n      }\n\n      // if any other element...\n      if (newElement.isEqualNode(element)) {\n        elementList.splice(index, 1);\n        return true\n      }\n    }\n\n    return false\n  }\n\n  removeCurrentHeadProvisionalElements() {\n    for (const element of this.currentHeadProvisionalElements) {\n      document.head.removeChild(element);\n    }\n  }\n\n  copyNewHeadProvisionalElements() {\n    for (const element of this.newHeadProvisionalElements) {\n      document.head.appendChild(element);\n    }\n  }\n\n  activateNewBody() {\n    document.adoptNode(this.newElement);\n    this.activateNewBodyScriptElements();\n  }\n\n  activateNewBodyScriptElements() {\n    for (const inertScriptElement of this.newBodyScriptElements) {\n      const activatedScriptElement = activateScriptElement(inertScriptElement);\n      inertScriptElement.replaceWith(activatedScriptElement);\n    }\n  }\n\n  async assignNewBody() {\n    await this.renderElement(this.currentElement, this.newElement);\n  }\n\n  get unusedDynamicStylesheetElements() {\n    return this.oldHeadStylesheetElements.filter((element) => {\n      return element.getAttribute(\"data-turbo-track\") === \"dynamic\"\n    })\n  }\n\n  get oldHeadStylesheetElements() {\n    return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)\n  }\n\n  get newHeadStylesheetElements() {\n    return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)\n  }\n\n  get newHeadScriptElements() {\n    return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)\n  }\n\n  get currentHeadProvisionalElements() {\n    return this.currentHeadSnapshot.provisionalElements\n  }\n\n  get newHeadProvisionalElements() {\n    return this.newHeadSnapshot.provisionalElements\n  }\n\n  get newBodyScriptElements() {\n    return this.newElement.querySelectorAll(\"script\")\n  }\n}\n\nclass MorphRenderer extends PageRenderer {\n  async render() {\n    if (this.willRender) await this.#morphBody();\n  }\n\n  get renderMethod() {\n    return \"morph\"\n  }\n\n  // Private\n\n  async #morphBody() {\n    this.#morphElements(this.currentElement, this.newElement);\n    this.#reloadRemoteFrames();\n\n    dispatch(\"turbo:morph\", {\n      detail: {\n        currentElement: this.currentElement,\n        newElement: this.newElement\n      }\n    });\n  }\n\n  #morphElements(currentElement, newElement, morphStyle = \"outerHTML\") {\n    this.isMorphingTurboFrame = this.#isFrameReloadedWithMorph(currentElement);\n\n    Idiomorph.morph(currentElement, newElement, {\n      morphStyle: morphStyle,\n      callbacks: {\n        beforeNodeAdded: this.#shouldAddElement,\n        beforeNodeMorphed: this.#shouldMorphElement,\n        beforeAttributeUpdated: this.#shouldUpdateAttribute,\n        beforeNodeRemoved: this.#shouldRemoveElement,\n        afterNodeMorphed: this.#didMorphElement\n      }\n    });\n  }\n\n  #shouldAddElement = (node) => {\n    return !(node.id && node.hasAttribute(\"data-turbo-permanent\") && document.getElementById(node.id))\n  }\n\n  #shouldMorphElement = (oldNode, newNode) => {\n    if (oldNode instanceof HTMLElement) {\n      if (!oldNode.hasAttribute(\"data-turbo-permanent\") && (this.isMorphingTurboFrame || !this.#isFrameReloadedWithMorph(oldNode))) {\n        const event = dispatch(\"turbo:before-morph-element\", {\n          cancelable: true,\n          target: oldNode,\n          detail: {\n            newElement: newNode\n          }\n        });\n\n        return !event.defaultPrevented\n      } else {\n        return false\n      }\n    }\n  }\n\n  #shouldUpdateAttribute = (attributeName, target, mutationType) => {\n    const event = dispatch(\"turbo:before-morph-attribute\", { cancelable: true, target, detail: { attributeName, mutationType } });\n\n    return !event.defaultPrevented\n  }\n\n  #didMorphElement = (oldNode, newNode) => {\n    if (newNode instanceof HTMLElement) {\n      dispatch(\"turbo:morph-element\", {\n        target: oldNode,\n        detail: {\n          newElement: newNode\n        }\n      });\n    }\n  }\n\n  #shouldRemoveElement = (node) => {\n    return this.#shouldMorphElement(node)\n  }\n\n  #reloadRemoteFrames() {\n    this.#remoteFrames().forEach((frame) => {\n      if (this.#isFrameReloadedWithMorph(frame)) {\n        this.#renderFrameWithMorph(frame);\n        frame.reload();\n      }\n    });\n  }\n\n  #renderFrameWithMorph(frame) {\n    frame.addEventListener(\"turbo:before-frame-render\", (event) => {\n      event.detail.render = this.#morphFrameUpdate;\n    }, { once: true });\n  }\n\n  #morphFrameUpdate = (currentElement, newElement) => {\n    dispatch(\"turbo:before-frame-morph\", {\n      target: currentElement,\n      detail: { currentElement, newElement }\n    });\n    this.#morphElements(currentElement, newElement.children, \"innerHTML\");\n  }\n\n  #isFrameReloadedWithMorph(element) {\n    return element.src && element.refresh === \"morph\"\n  }\n\n  #remoteFrames() {\n    return Array.from(document.querySelectorAll('turbo-frame[src]')).filter(frame => {\n      return !frame.closest('[data-turbo-permanent]')\n    })\n  }\n}\n\nclass SnapshotCache {\n  keys = []\n  snapshots = {}\n\n  constructor(size) {\n    this.size = size;\n  }\n\n  has(location) {\n    return toCacheKey(location) in this.snapshots\n  }\n\n  get(location) {\n    if (this.has(location)) {\n      const snapshot = this.read(location);\n      this.touch(location);\n      return snapshot\n    }\n  }\n\n  put(location, snapshot) {\n    this.write(location, snapshot);\n    this.touch(location);\n    return snapshot\n  }\n\n  clear() {\n    this.snapshots = {};\n  }\n\n  // Private\n\n  read(location) {\n    return this.snapshots[toCacheKey(location)]\n  }\n\n  write(location, snapshot) {\n    this.snapshots[toCacheKey(location)] = snapshot;\n  }\n\n  touch(location) {\n    const key = toCacheKey(location);\n    const index = this.keys.indexOf(key);\n    if (index > -1) this.keys.splice(index, 1);\n    this.keys.unshift(key);\n    this.trim();\n  }\n\n  trim() {\n    for (const key of this.keys.splice(this.size)) {\n      delete this.snapshots[key];\n    }\n  }\n}\n\nclass PageView extends View {\n  snapshotCache = new SnapshotCache(10)\n  lastRenderedLocation = new URL(location.href)\n  forceReloaded = false\n\n  shouldTransitionTo(newSnapshot) {\n    return this.snapshot.prefersViewTransitions && newSnapshot.prefersViewTransitions\n  }\n\n  renderPage(snapshot, isPreview = false, willRender = true, visit) {\n    const shouldMorphPage = this.isPageRefresh(visit) && this.snapshot.shouldMorphPage;\n    const rendererClass = shouldMorphPage ? MorphRenderer : PageRenderer;\n\n    const renderer = new rendererClass(this.snapshot, snapshot, PageRenderer.renderElement, isPreview, willRender);\n\n    if (!renderer.shouldRender) {\n      this.forceReloaded = true;\n    } else {\n      visit?.changeHistory();\n    }\n\n    return this.render(renderer)\n  }\n\n  renderError(snapshot, visit) {\n    visit?.changeHistory();\n    const renderer = new ErrorRenderer(this.snapshot, snapshot, ErrorRenderer.renderElement, false);\n    return this.render(renderer)\n  }\n\n  clearSnapshotCache() {\n    this.snapshotCache.clear();\n  }\n\n  async cacheSnapshot(snapshot = this.snapshot) {\n    if (snapshot.isCacheable) {\n      this.delegate.viewWillCacheSnapshot();\n      const { lastRenderedLocation: location } = this;\n      await nextEventLoopTick();\n      const cachedSnapshot = snapshot.clone();\n      this.snapshotCache.put(location, cachedSnapshot);\n      return cachedSnapshot\n    }\n  }\n\n  getCachedSnapshotForLocation(location) {\n    return this.snapshotCache.get(location)\n  }\n\n  isPageRefresh(visit) {\n    return !visit || (this.lastRenderedLocation.pathname === visit.location.pathname && visit.action === \"replace\")\n  }\n\n  shouldPreserveScrollPosition(visit) {\n    return this.isPageRefresh(visit) && this.snapshot.shouldPreserveScrollPosition\n  }\n\n  get snapshot() {\n    return PageSnapshot.fromElement(this.element)\n  }\n}\n\nclass Preloader {\n  selector = \"a[data-turbo-preload]\"\n\n  constructor(delegate, snapshotCache) {\n    this.delegate = delegate;\n    this.snapshotCache = snapshotCache;\n  }\n\n  start() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", this.#preloadAll);\n    } else {\n      this.preloadOnLoadLinksForView(document.body);\n    }\n  }\n\n  stop() {\n    document.removeEventListener(\"DOMContentLoaded\", this.#preloadAll);\n  }\n\n  preloadOnLoadLinksForView(element) {\n    for (const link of element.querySelectorAll(this.selector)) {\n      if (this.delegate.shouldPreloadLink(link)) {\n        this.preloadURL(link);\n      }\n    }\n  }\n\n  async preloadURL(link) {\n    const location = new URL(link.href);\n\n    if (this.snapshotCache.has(location)) {\n      return\n    }\n\n    const fetchRequest = new FetchRequest(this, FetchMethod.get, location, new URLSearchParams(), link);\n    await fetchRequest.perform();\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(fetchRequest) {\n    fetchRequest.headers[\"X-Sec-Purpose\"] = \"prefetch\";\n  }\n\n  async requestSucceededWithResponse(fetchRequest, fetchResponse) {\n    try {\n      const responseHTML = await fetchResponse.responseHTML;\n      const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n\n      this.snapshotCache.put(fetchRequest.url, snapshot);\n    } catch (_) {\n      // If we cannot preload that is ok!\n    }\n  }\n\n  requestStarted(fetchRequest) {}\n\n  requestErrored(fetchRequest) {}\n\n  requestFinished(fetchRequest) {}\n\n  requestPreventedHandlingResponse(fetchRequest, fetchResponse) {}\n\n  requestFailedWithResponse(fetchRequest, fetchResponse) {}\n\n  #preloadAll = () => {\n    this.preloadOnLoadLinksForView(document.body);\n  }\n}\n\nclass Cache {\n  constructor(session) {\n    this.session = session;\n  }\n\n  clear() {\n    this.session.clearCache();\n  }\n\n  resetCacheControl() {\n    this.#setCacheControl(\"\");\n  }\n\n  exemptPageFromCache() {\n    this.#setCacheControl(\"no-cache\");\n  }\n\n  exemptPageFromPreview() {\n    this.#setCacheControl(\"no-preview\");\n  }\n\n  #setCacheControl(value) {\n    setMetaContent(\"turbo-cache-control\", value);\n  }\n}\n\nclass Session {\n  navigator = new Navigator(this)\n  history = new History(this)\n  view = new PageView(this, document.documentElement)\n  adapter = new BrowserAdapter(this)\n\n  pageObserver = new PageObserver(this)\n  cacheObserver = new CacheObserver()\n  linkPrefetchObserver = new LinkPrefetchObserver(this, document)\n  linkClickObserver = new LinkClickObserver(this, window)\n  formSubmitObserver = new FormSubmitObserver(this, document)\n  scrollObserver = new ScrollObserver(this)\n  streamObserver = new StreamObserver(this)\n  formLinkClickObserver = new FormLinkClickObserver(this, document.documentElement)\n  frameRedirector = new FrameRedirector(this, document.documentElement)\n  streamMessageRenderer = new StreamMessageRenderer()\n  cache = new Cache(this)\n\n  drive = true\n  enabled = true\n  progressBarDelay = 500\n  started = false\n  formMode = \"on\"\n  #pageRefreshDebouncePeriod = 150\n\n  constructor(recentRequests) {\n    this.recentRequests = recentRequests;\n    this.preloader = new Preloader(this, this.view.snapshotCache);\n    this.debouncedRefresh = this.refresh;\n    this.pageRefreshDebouncePeriod = this.pageRefreshDebouncePeriod;\n  }\n\n  start() {\n    if (!this.started) {\n      this.pageObserver.start();\n      this.cacheObserver.start();\n      this.linkPrefetchObserver.start();\n      this.formLinkClickObserver.start();\n      this.linkClickObserver.start();\n      this.formSubmitObserver.start();\n      this.scrollObserver.start();\n      this.streamObserver.start();\n      this.frameRedirector.start();\n      this.history.start();\n      this.preloader.start();\n      this.started = true;\n      this.enabled = true;\n    }\n  }\n\n  disable() {\n    this.enabled = false;\n  }\n\n  stop() {\n    if (this.started) {\n      this.pageObserver.stop();\n      this.cacheObserver.stop();\n      this.linkPrefetchObserver.stop();\n      this.formLinkClickObserver.stop();\n      this.linkClickObserver.stop();\n      this.formSubmitObserver.stop();\n      this.scrollObserver.stop();\n      this.streamObserver.stop();\n      this.frameRedirector.stop();\n      this.history.stop();\n      this.preloader.stop();\n      this.started = false;\n    }\n  }\n\n  registerAdapter(adapter) {\n    this.adapter = adapter;\n  }\n\n  visit(location, options = {}) {\n    const frameElement = options.frame ? document.getElementById(options.frame) : null;\n\n    if (frameElement instanceof FrameElement) {\n      const action = options.action || getVisitAction(frameElement);\n\n      frameElement.delegate.proposeVisitIfNavigatedWithAction(frameElement, action);\n      frameElement.src = location.toString();\n    } else {\n      this.navigator.proposeVisit(expandURL(location), options);\n    }\n  }\n\n  refresh(url, requestId) {\n    const isRecentRequest = requestId && this.recentRequests.has(requestId);\n    if (!isRecentRequest) {\n      this.visit(url, { action: \"replace\", shouldCacheSnapshot: false });\n    }\n  }\n\n  connectStreamSource(source) {\n    this.streamObserver.connectStreamSource(source);\n  }\n\n  disconnectStreamSource(source) {\n    this.streamObserver.disconnectStreamSource(source);\n  }\n\n  renderStreamMessage(message) {\n    this.streamMessageRenderer.render(StreamMessage.wrap(message));\n  }\n\n  clearCache() {\n    this.view.clearSnapshotCache();\n  }\n\n  setProgressBarDelay(delay) {\n    this.progressBarDelay = delay;\n  }\n\n  setFormMode(mode) {\n    this.formMode = mode;\n  }\n\n  get location() {\n    return this.history.location\n  }\n\n  get restorationIdentifier() {\n    return this.history.restorationIdentifier\n  }\n\n  get pageRefreshDebouncePeriod() {\n    return this.#pageRefreshDebouncePeriod\n  }\n\n  set pageRefreshDebouncePeriod(value) {\n    this.refresh = debounce(this.debouncedRefresh.bind(this), value);\n    this.#pageRefreshDebouncePeriod = value;\n  }\n\n  // Preloader delegate\n\n  shouldPreloadLink(element) {\n    const isUnsafe = element.hasAttribute(\"data-turbo-method\");\n    const isStream = element.hasAttribute(\"data-turbo-stream\");\n    const frameTarget = element.getAttribute(\"data-turbo-frame\");\n    const frame = frameTarget == \"_top\" ?\n      null :\n      document.getElementById(frameTarget) || findClosestRecursively(element, \"turbo-frame:not([disabled])\");\n\n    if (isUnsafe || isStream || frame instanceof FrameElement) {\n      return false\n    } else {\n      const location = new URL(element.href);\n\n      return this.elementIsNavigatable(element) && locationIsVisitable(location, this.snapshot.rootLocation)\n    }\n  }\n\n  // History delegate\n\n  historyPoppedToLocationWithRestorationIdentifierAndDirection(location, restorationIdentifier, direction) {\n    if (this.enabled) {\n      this.navigator.startVisit(location, restorationIdentifier, {\n        action: \"restore\",\n        historyChanged: true,\n        direction\n      });\n    } else {\n      this.adapter.pageInvalidated({\n        reason: \"turbo_disabled\"\n      });\n    }\n  }\n\n  // Scroll observer delegate\n\n  scrollPositionChanged(position) {\n    this.history.updateRestorationData({ scrollPosition: position });\n  }\n\n  // Form click observer delegate\n\n  willSubmitFormLinkToLocation(link, location) {\n    return this.elementIsNavigatable(link) && locationIsVisitable(location, this.snapshot.rootLocation)\n  }\n\n  submittedFormLinkToLocation() {}\n\n  // Link hover observer delegate\n\n  canPrefetchRequestToLocation(link, location) {\n    return (\n      this.elementIsNavigatable(link) &&\n        locationIsVisitable(location, this.snapshot.rootLocation)\n    )\n  }\n\n  // Link click observer delegate\n\n  willFollowLinkToLocation(link, location, event) {\n    return (\n      this.elementIsNavigatable(link) &&\n      locationIsVisitable(location, this.snapshot.rootLocation) &&\n      this.applicationAllowsFollowingLinkToLocation(link, location, event)\n    )\n  }\n\n  followedLinkToLocation(link, location) {\n    const action = this.getActionForLink(link);\n    const acceptsStreamResponse = link.hasAttribute(\"data-turbo-stream\");\n\n    this.visit(location.href, { action, acceptsStreamResponse });\n  }\n\n  // Navigator delegate\n\n  allowsVisitingLocationWithAction(location, action) {\n    return this.locationWithActionIsSamePage(location, action) || this.applicationAllowsVisitingLocation(location)\n  }\n\n  visitProposedToLocation(location, options) {\n    extendURLWithDeprecatedProperties(location);\n    this.adapter.visitProposedToLocation(location, options);\n  }\n\n  // Visit delegate\n\n  visitStarted(visit) {\n    if (!visit.acceptsStreamResponse) {\n      markAsBusy(document.documentElement);\n      this.view.markVisitDirection(visit.direction);\n    }\n    extendURLWithDeprecatedProperties(visit.location);\n    if (!visit.silent) {\n      this.notifyApplicationAfterVisitingLocation(visit.location, visit.action);\n    }\n  }\n\n  visitCompleted(visit) {\n    this.view.unmarkVisitDirection();\n    clearBusyState(document.documentElement);\n    this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n  }\n\n  locationWithActionIsSamePage(location, action) {\n    return this.navigator.locationWithActionIsSamePage(location, action)\n  }\n\n  visitScrolledToSamePageLocation(oldURL, newURL) {\n    this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(form, submitter) {\n    const action = getAction$1(form, submitter);\n\n    return (\n      this.submissionIsNavigatable(form, submitter) &&\n      locationIsVisitable(expandURL(action), this.snapshot.rootLocation)\n    )\n  }\n\n  formSubmitted(form, submitter) {\n    this.navigator.submitForm(form, submitter);\n  }\n\n  // Page observer delegate\n\n  pageBecameInteractive() {\n    this.view.lastRenderedLocation = this.location;\n    this.notifyApplicationAfterPageLoad();\n  }\n\n  pageLoaded() {\n    this.history.assumeControlOfScrollRestoration();\n  }\n\n  pageWillUnload() {\n    this.history.relinquishControlOfScrollRestoration();\n  }\n\n  // Stream observer delegate\n\n  receivedMessageFromStream(message) {\n    this.renderStreamMessage(message);\n  }\n\n  // Page view delegate\n\n  viewWillCacheSnapshot() {\n    if (!this.navigator.currentVisit?.silent) {\n      this.notifyApplicationBeforeCachingSnapshot();\n    }\n  }\n\n  allowsImmediateRender({ element }, options) {\n    const event = this.notifyApplicationBeforeRender(element, options);\n    const {\n      defaultPrevented,\n      detail: { render }\n    } = event;\n\n    if (this.view.renderer && render) {\n      this.view.renderer.renderElement = render;\n    }\n\n    return !defaultPrevented\n  }\n\n  viewRenderedSnapshot(_snapshot, _isPreview, renderMethod) {\n    this.view.lastRenderedLocation = this.history.location;\n    this.notifyApplicationAfterRender(renderMethod);\n  }\n\n  preloadOnLoadLinksForView(element) {\n    this.preloader.preloadOnLoadLinksForView(element);\n  }\n\n  viewInvalidated(reason) {\n    this.adapter.pageInvalidated(reason);\n  }\n\n  // Frame element\n\n  frameLoaded(frame) {\n    this.notifyApplicationAfterFrameLoad(frame);\n  }\n\n  frameRendered(fetchResponse, frame) {\n    this.notifyApplicationAfterFrameRender(fetchResponse, frame);\n  }\n\n  // Application events\n\n  applicationAllowsFollowingLinkToLocation(link, location, ev) {\n    const event = this.notifyApplicationAfterClickingLinkToLocation(link, location, ev);\n    return !event.defaultPrevented\n  }\n\n  applicationAllowsVisitingLocation(location) {\n    const event = this.notifyApplicationBeforeVisitingLocation(location);\n    return !event.defaultPrevented\n  }\n\n  notifyApplicationAfterClickingLinkToLocation(link, location, event) {\n    return dispatch(\"turbo:click\", {\n      target: link,\n      detail: { url: location.href, originalEvent: event },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationBeforeVisitingLocation(location) {\n    return dispatch(\"turbo:before-visit\", {\n      detail: { url: location.href },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationAfterVisitingLocation(location, action) {\n    return dispatch(\"turbo:visit\", { detail: { url: location.href, action } })\n  }\n\n  notifyApplicationBeforeCachingSnapshot() {\n    return dispatch(\"turbo:before-cache\")\n  }\n\n  notifyApplicationBeforeRender(newBody, options) {\n    return dispatch(\"turbo:before-render\", {\n      detail: { newBody, ...options },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationAfterRender(renderMethod) {\n    return dispatch(\"turbo:render\", { detail: { renderMethod } })\n  }\n\n  notifyApplicationAfterPageLoad(timing = {}) {\n    return dispatch(\"turbo:load\", {\n      detail: { url: this.location.href, timing }\n    })\n  }\n\n  notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {\n    dispatchEvent(\n      new HashChangeEvent(\"hashchange\", {\n        oldURL: oldURL.toString(),\n        newURL: newURL.toString()\n      })\n    );\n  }\n\n  notifyApplicationAfterFrameLoad(frame) {\n    return dispatch(\"turbo:frame-load\", { target: frame })\n  }\n\n  notifyApplicationAfterFrameRender(fetchResponse, frame) {\n    return dispatch(\"turbo:frame-render\", {\n      detail: { fetchResponse },\n      target: frame,\n      cancelable: true\n    })\n  }\n\n  // Helpers\n\n  submissionIsNavigatable(form, submitter) {\n    if (this.formMode == \"off\") {\n      return false\n    } else {\n      const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;\n\n      if (this.formMode == \"optin\") {\n        return submitterIsNavigatable && form.closest('[data-turbo=\"true\"]') != null\n      } else {\n        return submitterIsNavigatable && this.elementIsNavigatable(form)\n      }\n    }\n  }\n\n  elementIsNavigatable(element) {\n    const container = findClosestRecursively(element, \"[data-turbo]\");\n    const withinFrame = findClosestRecursively(element, \"turbo-frame\");\n\n    // Check if Drive is enabled on the session or we're within a Frame.\n    if (this.drive || withinFrame) {\n      // Element is navigatable by default, unless `data-turbo=\"false\"`.\n      if (container) {\n        return container.getAttribute(\"data-turbo\") != \"false\"\n      } else {\n        return true\n      }\n    } else {\n      // Element isn't navigatable by default, unless `data-turbo=\"true\"`.\n      if (container) {\n        return container.getAttribute(\"data-turbo\") == \"true\"\n      } else {\n        return false\n      }\n    }\n  }\n\n  // Private\n\n  getActionForLink(link) {\n    return getVisitAction(link) || \"advance\"\n  }\n\n  get snapshot() {\n    return this.view.snapshot\n  }\n}\n\n// Older versions of the Turbo Native adapters referenced the\n// `Location#absoluteURL` property in their implementations of\n// the `Adapter#visitProposedToLocation()` and `#visitStarted()`\n// methods. The Location class has since been removed in favor\n// of the DOM URL API, and accordingly all Adapter methods now\n// receive URL objects.\n//\n// We alias #absoluteURL to #toString() here to avoid crashing\n// older adapters which do not expect URL objects. We should\n// consider removing this support at some point in the future.\n\nfunction extendURLWithDeprecatedProperties(url) {\n  Object.defineProperties(url, deprecatedLocationPropertyDescriptors);\n}\n\nconst deprecatedLocationPropertyDescriptors = {\n  absoluteURL: {\n    get() {\n      return this.toString()\n    }\n  }\n};\n\nconst session = new Session(recentRequests);\nconst { cache, navigator: navigator$1 } = session;\n\n/**\n * Starts the main session.\n * This initialises any necessary observers such as those to monitor\n * link interactions.\n */\nfunction start() {\n  session.start();\n}\n\n/**\n * Registers an adapter for the main session.\n *\n * @param adapter Adapter to register\n */\nfunction registerAdapter(adapter) {\n  session.registerAdapter(adapter);\n}\n\n/**\n * Performs an application visit to the given location.\n *\n * @param location Location to visit (a URL or path)\n * @param options Options to apply\n * @param options.action Type of history navigation to apply (\"restore\",\n * \"replace\" or \"advance\")\n * @param options.historyChanged Specifies whether the browser history has\n * already been changed for this visit or not\n * @param options.referrer Specifies the referrer of this visit such that\n * navigations to the same page will not result in a new history entry.\n * @param options.snapshotHTML Cached snapshot to render\n * @param options.response Response of the specified location\n */\nfunction visit(location, options) {\n  session.visit(location, options);\n}\n\n/**\n * Connects a stream source to the main session.\n *\n * @param source Stream source to connect\n */\nfunction connectStreamSource(source) {\n  session.connectStreamSource(source);\n}\n\n/**\n * Disconnects a stream source from the main session.\n *\n * @param source Stream source to disconnect\n */\nfunction disconnectStreamSource(source) {\n  session.disconnectStreamSource(source);\n}\n\n/**\n * Renders a stream message to the main session by appending it to the\n * current document.\n *\n * @param message Message to render\n */\nfunction renderStreamMessage(message) {\n  session.renderStreamMessage(message);\n}\n\n/**\n * Removes all entries from the Turbo Drive page cache.\n * Call this when state has changed on the server that may affect cached pages.\n *\n * @deprecated since version 7.2.0 in favor of `Turbo.cache.clear()`\n */\nfunction clearCache() {\n  console.warn(\n    \"Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  session.clearCache();\n}\n\n/**\n * Sets the delay after which the progress bar will appear during navigation.\n *\n * The progress bar appears after 500ms by default.\n *\n * Note that this method has no effect when used with the iOS or Android\n * adapters.\n *\n * @param delay Time to delay in milliseconds\n */\nfunction setProgressBarDelay(delay) {\n  session.setProgressBarDelay(delay);\n}\n\nfunction setConfirmMethod(confirmMethod) {\n  FormSubmission.confirmMethod = confirmMethod;\n}\n\nfunction setFormMode(mode) {\n  session.setFormMode(mode);\n}\n\nvar Turbo = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  navigator: navigator$1,\n  session: session,\n  cache: cache,\n  PageRenderer: PageRenderer,\n  PageSnapshot: PageSnapshot,\n  FrameRenderer: FrameRenderer,\n  fetch: fetchWithTurboHeaders,\n  start: start,\n  registerAdapter: registerAdapter,\n  visit: visit,\n  connectStreamSource: connectStreamSource,\n  disconnectStreamSource: disconnectStreamSource,\n  renderStreamMessage: renderStreamMessage,\n  clearCache: clearCache,\n  setProgressBarDelay: setProgressBarDelay,\n  setConfirmMethod: setConfirmMethod,\n  setFormMode: setFormMode\n});\n\nclass TurboFrameMissingError extends Error {}\n\nclass FrameController {\n  fetchResponseLoaded = (_fetchResponse) => Promise.resolve()\n  #currentFetchRequest = null\n  #resolveVisitPromise = () => {}\n  #connected = false\n  #hasBeenLoaded = false\n  #ignoredAttributes = new Set()\n  action = null\n\n  constructor(element) {\n    this.element = element;\n    this.view = new FrameView(this, this.element);\n    this.appearanceObserver = new AppearanceObserver(this, this.element);\n    this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);\n    this.linkInterceptor = new LinkInterceptor(this, this.element);\n    this.restorationIdentifier = uuid();\n    this.formSubmitObserver = new FormSubmitObserver(this, this.element);\n  }\n\n  // Frame delegate\n\n  connect() {\n    if (!this.#connected) {\n      this.#connected = true;\n      if (this.loadingStyle == FrameLoadingStyle.lazy) {\n        this.appearanceObserver.start();\n      } else {\n        this.#loadSourceURL();\n      }\n      this.formLinkClickObserver.start();\n      this.linkInterceptor.start();\n      this.formSubmitObserver.start();\n    }\n  }\n\n  disconnect() {\n    if (this.#connected) {\n      this.#connected = false;\n      this.appearanceObserver.stop();\n      this.formLinkClickObserver.stop();\n      this.linkInterceptor.stop();\n      this.formSubmitObserver.stop();\n    }\n  }\n\n  disabledChanged() {\n    if (this.loadingStyle == FrameLoadingStyle.eager) {\n      this.#loadSourceURL();\n    }\n  }\n\n  sourceURLChanged() {\n    if (this.#isIgnoringChangesTo(\"src\")) return\n\n    if (this.element.isConnected) {\n      this.complete = false;\n    }\n\n    if (this.loadingStyle == FrameLoadingStyle.eager || this.#hasBeenLoaded) {\n      this.#loadSourceURL();\n    }\n  }\n\n  sourceURLReloaded() {\n    const { src } = this.element;\n    this.#ignoringChangesToAttribute(\"complete\", () => {\n      this.element.removeAttribute(\"complete\");\n    });\n    this.element.src = null;\n    this.element.src = src;\n    return this.element.loaded\n  }\n\n  completeChanged() {\n    if (this.#isIgnoringChangesTo(\"complete\")) return\n\n    this.#loadSourceURL();\n  }\n\n  loadingStyleChanged() {\n    if (this.loadingStyle == FrameLoadingStyle.lazy) {\n      this.appearanceObserver.start();\n    } else {\n      this.appearanceObserver.stop();\n      this.#loadSourceURL();\n    }\n  }\n\n  async #loadSourceURL() {\n    if (this.enabled && this.isActive && !this.complete && this.sourceURL) {\n      this.element.loaded = this.#visit(expandURL(this.sourceURL));\n      this.appearanceObserver.stop();\n      await this.element.loaded;\n      this.#hasBeenLoaded = true;\n    }\n  }\n\n  async loadResponse(fetchResponse) {\n    if (fetchResponse.redirected || (fetchResponse.succeeded && fetchResponse.isHTML)) {\n      this.sourceURL = fetchResponse.response.url;\n    }\n\n    try {\n      const html = await fetchResponse.responseHTML;\n      if (html) {\n        const document = parseHTMLDocument(html);\n        const pageSnapshot = PageSnapshot.fromDocument(document);\n\n        if (pageSnapshot.isVisitable) {\n          await this.#loadFrameResponse(fetchResponse, document);\n        } else {\n          await this.#handleUnvisitableFrameResponse(fetchResponse);\n        }\n      }\n    } finally {\n      this.fetchResponseLoaded = () => Promise.resolve();\n    }\n  }\n\n  // Appearance observer delegate\n\n  elementAppearedInViewport(element) {\n    this.proposeVisitIfNavigatedWithAction(element, getVisitAction(element));\n    this.#loadSourceURL();\n  }\n\n  // Form link click observer delegate\n\n  willSubmitFormLinkToLocation(link) {\n    return this.#shouldInterceptNavigation(link)\n  }\n\n  submittedFormLinkToLocation(link, _location, form) {\n    const frame = this.#findFrameElement(link);\n    if (frame) form.setAttribute(\"data-turbo-frame\", frame.id);\n  }\n\n  // Link interceptor delegate\n\n  shouldInterceptLinkClick(element, _location, _event) {\n    return this.#shouldInterceptNavigation(element)\n  }\n\n  linkClickIntercepted(element, location) {\n    this.#navigateFrame(element, location);\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(element, submitter) {\n    return element.closest(\"turbo-frame\") == this.element && this.#shouldInterceptNavigation(element, submitter)\n  }\n\n  formSubmitted(element, submitter) {\n    if (this.formSubmission) {\n      this.formSubmission.stop();\n    }\n\n    this.formSubmission = new FormSubmission(this, element, submitter);\n    const { fetchRequest } = this.formSubmission;\n    this.prepareRequest(fetchRequest);\n    this.formSubmission.start();\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    request.headers[\"Turbo-Frame\"] = this.id;\n\n    if (this.currentNavigationElement?.hasAttribute(\"data-turbo-stream\")) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted(_request) {\n    markAsBusy(this.element);\n  }\n\n  requestPreventedHandlingResponse(_request, _response) {\n    this.#resolveVisitPromise();\n  }\n\n  async requestSucceededWithResponse(request, response) {\n    await this.loadResponse(response);\n    this.#resolveVisitPromise();\n  }\n\n  async requestFailedWithResponse(request, response) {\n    await this.loadResponse(response);\n    this.#resolveVisitPromise();\n  }\n\n  requestErrored(request, error) {\n    console.error(error);\n    this.#resolveVisitPromise();\n  }\n\n  requestFinished(_request) {\n    clearBusyState(this.element);\n  }\n\n  // Form submission delegate\n\n  formSubmissionStarted({ formElement }) {\n    markAsBusy(formElement, this.#findFrameElement(formElement));\n  }\n\n  formSubmissionSucceededWithResponse(formSubmission, response) {\n    const frame = this.#findFrameElement(formSubmission.formElement, formSubmission.submitter);\n\n    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(formSubmission.submitter, formSubmission.formElement, frame));\n    frame.delegate.loadResponse(response);\n\n    if (!formSubmission.isSafe) {\n      session.clearCache();\n    }\n  }\n\n  formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n    this.element.delegate.loadResponse(fetchResponse);\n    session.clearCache();\n  }\n\n  formSubmissionErrored(formSubmission, error) {\n    console.error(error);\n  }\n\n  formSubmissionFinished({ formElement }) {\n    clearBusyState(formElement, this.#findFrameElement(formElement));\n  }\n\n  // View delegate\n\n  allowsImmediateRender({ element: newFrame }, options) {\n    const event = dispatch(\"turbo:before-frame-render\", {\n      target: this.element,\n      detail: { newFrame, ...options },\n      cancelable: true\n    });\n    const {\n      defaultPrevented,\n      detail: { render }\n    } = event;\n\n    if (this.view.renderer && render) {\n      this.view.renderer.renderElement = render;\n    }\n\n    return !defaultPrevented\n  }\n\n  viewRenderedSnapshot(_snapshot, _isPreview, _renderMethod) {}\n\n  preloadOnLoadLinksForView(element) {\n    session.preloadOnLoadLinksForView(element);\n  }\n\n  viewInvalidated() {}\n\n  // Frame renderer delegate\n\n  willRenderFrame(currentElement, _newElement) {\n    this.previousFrameElement = currentElement.cloneNode(true);\n  }\n\n  visitCachedSnapshot = ({ element }) => {\n    const frame = element.querySelector(\"#\" + this.element.id);\n\n    if (frame && this.previousFrameElement) {\n      frame.replaceChildren(...this.previousFrameElement.children);\n    }\n\n    delete this.previousFrameElement;\n  }\n\n  // Private\n\n  async #loadFrameResponse(fetchResponse, document) {\n    const newFrameElement = await this.extractForeignFrameElement(document.body);\n\n    if (newFrameElement) {\n      const snapshot = new Snapshot(newFrameElement);\n      const renderer = new FrameRenderer(this, this.view.snapshot, snapshot, FrameRenderer.renderElement, false, false);\n      if (this.view.renderPromise) await this.view.renderPromise;\n      this.changeHistory();\n\n      await this.view.render(renderer);\n      this.complete = true;\n      session.frameRendered(fetchResponse, this.element);\n      session.frameLoaded(this.element);\n      await this.fetchResponseLoaded(fetchResponse);\n    } else if (this.#willHandleFrameMissingFromResponse(fetchResponse)) {\n      this.#handleFrameMissingFromResponse(fetchResponse);\n    }\n  }\n\n  async #visit(url) {\n    const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);\n\n    this.#currentFetchRequest?.cancel();\n    this.#currentFetchRequest = request;\n\n    return new Promise((resolve) => {\n      this.#resolveVisitPromise = () => {\n        this.#resolveVisitPromise = () => {};\n        this.#currentFetchRequest = null;\n        resolve();\n      };\n      request.perform();\n    })\n  }\n\n  #navigateFrame(element, url, submitter) {\n    const frame = this.#findFrameElement(element, submitter);\n\n    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(submitter, element, frame));\n\n    this.#withCurrentNavigationElement(element, () => {\n      frame.src = url;\n    });\n  }\n\n  proposeVisitIfNavigatedWithAction(frame, action = null) {\n    this.action = action;\n\n    if (this.action) {\n      const pageSnapshot = PageSnapshot.fromElement(frame).clone();\n      const { visitCachedSnapshot } = frame.delegate;\n\n      frame.delegate.fetchResponseLoaded = async (fetchResponse) => {\n        if (frame.src) {\n          const { statusCode, redirected } = fetchResponse;\n          const responseHTML = await fetchResponse.responseHTML;\n          const response = { statusCode, redirected, responseHTML };\n          const options = {\n            response,\n            visitCachedSnapshot,\n            willRender: false,\n            updateHistory: false,\n            restorationIdentifier: this.restorationIdentifier,\n            snapshot: pageSnapshot\n          };\n\n          if (this.action) options.action = this.action;\n\n          session.visit(frame.src, options);\n        }\n      };\n    }\n  }\n\n  changeHistory() {\n    if (this.action) {\n      const method = getHistoryMethodForAction(this.action);\n      session.history.update(method, expandURL(this.element.src || \"\"), this.restorationIdentifier);\n    }\n  }\n\n  async #handleUnvisitableFrameResponse(fetchResponse) {\n    console.warn(\n      `The response (${fetchResponse.statusCode}) from <turbo-frame id=\"${this.element.id}\"> is performing a full page visit due to turbo-visit-control.`\n    );\n\n    await this.#visitResponse(fetchResponse.response);\n  }\n\n  #willHandleFrameMissingFromResponse(fetchResponse) {\n    this.element.setAttribute(\"complete\", \"\");\n\n    const response = fetchResponse.response;\n    const visit = async (url, options) => {\n      if (url instanceof Response) {\n        this.#visitResponse(url);\n      } else {\n        session.visit(url, options);\n      }\n    };\n\n    const event = dispatch(\"turbo:frame-missing\", {\n      target: this.element,\n      detail: { response, visit },\n      cancelable: true\n    });\n\n    return !event.defaultPrevented\n  }\n\n  #handleFrameMissingFromResponse(fetchResponse) {\n    this.view.missing();\n    this.#throwFrameMissingError(fetchResponse);\n  }\n\n  #throwFrameMissingError(fetchResponse) {\n    const message = `The response (${fetchResponse.statusCode}) did not contain the expected <turbo-frame id=\"${this.element.id}\"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;\n    throw new TurboFrameMissingError(message)\n  }\n\n  async #visitResponse(response) {\n    const wrapped = new FetchResponse(response);\n    const responseHTML = await wrapped.responseHTML;\n    const { location, redirected, statusCode } = wrapped;\n\n    return session.visit(location, { response: { redirected, statusCode, responseHTML } })\n  }\n\n  #findFrameElement(element, submitter) {\n    const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n    return getFrameElementById(id) ?? this.element\n  }\n\n  async extractForeignFrameElement(container) {\n    let element;\n    const id = CSS.escape(this.id);\n\n    try {\n      element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);\n      if (element) {\n        return element\n      }\n\n      element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);\n      if (element) {\n        await element.loaded;\n        return await this.extractForeignFrameElement(element)\n      }\n    } catch (error) {\n      console.error(error);\n      return new FrameElement()\n    }\n\n    return null\n  }\n\n  #formActionIsVisitable(form, submitter) {\n    const action = getAction$1(form, submitter);\n\n    return locationIsVisitable(expandURL(action), this.rootLocation)\n  }\n\n  #shouldInterceptNavigation(element, submitter) {\n    const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n\n    if (element instanceof HTMLFormElement && !this.#formActionIsVisitable(element, submitter)) {\n      return false\n    }\n\n    if (!this.enabled || id == \"_top\") {\n      return false\n    }\n\n    if (id) {\n      const frameElement = getFrameElementById(id);\n      if (frameElement) {\n        return !frameElement.disabled\n      }\n    }\n\n    if (!session.elementIsNavigatable(element)) {\n      return false\n    }\n\n    if (submitter && !session.elementIsNavigatable(submitter)) {\n      return false\n    }\n\n    return true\n  }\n\n  // Computed properties\n\n  get id() {\n    return this.element.id\n  }\n\n  get enabled() {\n    return !this.element.disabled\n  }\n\n  get sourceURL() {\n    if (this.element.src) {\n      return this.element.src\n    }\n  }\n\n  set sourceURL(sourceURL) {\n    this.#ignoringChangesToAttribute(\"src\", () => {\n      this.element.src = sourceURL ?? null;\n    });\n  }\n\n  get loadingStyle() {\n    return this.element.loading\n  }\n\n  get isLoading() {\n    return this.formSubmission !== undefined || this.#resolveVisitPromise() !== undefined\n  }\n\n  get complete() {\n    return this.element.hasAttribute(\"complete\")\n  }\n\n  set complete(value) {\n    this.#ignoringChangesToAttribute(\"complete\", () => {\n      if (value) {\n        this.element.setAttribute(\"complete\", \"\");\n      } else {\n        this.element.removeAttribute(\"complete\");\n      }\n    });\n  }\n\n  get isActive() {\n    return this.element.isActive && this.#connected\n  }\n\n  get rootLocation() {\n    const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n    const root = meta?.content ?? \"/\";\n    return expandURL(root)\n  }\n\n  #isIgnoringChangesTo(attributeName) {\n    return this.#ignoredAttributes.has(attributeName)\n  }\n\n  #ignoringChangesToAttribute(attributeName, callback) {\n    this.#ignoredAttributes.add(attributeName);\n    callback();\n    this.#ignoredAttributes.delete(attributeName);\n  }\n\n  #withCurrentNavigationElement(element, callback) {\n    this.currentNavigationElement = element;\n    callback();\n    delete this.currentNavigationElement;\n  }\n}\n\nfunction getFrameElementById(id) {\n  if (id != null) {\n    const element = document.getElementById(id);\n    if (element instanceof FrameElement) {\n      return element\n    }\n  }\n}\n\nfunction activateElement(element, currentURL) {\n  if (element) {\n    const src = element.getAttribute(\"src\");\n    if (src != null && currentURL != null && urlsAreEqual(src, currentURL)) {\n      throw new Error(`Matching <turbo-frame id=\"${element.id}\"> element has a source URL which references itself`)\n    }\n    if (element.ownerDocument !== document) {\n      element = document.importNode(element, true);\n    }\n\n    if (element instanceof FrameElement) {\n      element.connectedCallback();\n      element.disconnectedCallback();\n      return element\n    }\n  }\n}\n\nconst StreamActions = {\n  after() {\n    this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e.nextSibling));\n  },\n\n  append() {\n    this.removeDuplicateTargetChildren();\n    this.targetElements.forEach((e) => e.append(this.templateContent));\n  },\n\n  before() {\n    this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e));\n  },\n\n  prepend() {\n    this.removeDuplicateTargetChildren();\n    this.targetElements.forEach((e) => e.prepend(this.templateContent));\n  },\n\n  remove() {\n    this.targetElements.forEach((e) => e.remove());\n  },\n\n  replace() {\n    this.targetElements.forEach((e) => e.replaceWith(this.templateContent));\n  },\n\n  update() {\n    this.targetElements.forEach((targetElement) => {\n      targetElement.innerHTML = \"\";\n      targetElement.append(this.templateContent);\n    });\n  },\n\n  refresh() {\n    session.refresh(this.baseURI, this.requestId);\n  }\n};\n\n// <turbo-stream action=replace target=id><template>...\n\n/**\n * Renders updates to the page from a stream of messages.\n *\n * Using the `action` attribute, this can be configured one of four ways:\n *\n * - `append` - appends the result to the container\n * - `prepend` - prepends the result to the container\n * - `replace` - replaces the contents of the container\n * - `remove` - removes the container\n * - `before` - inserts the result before the target\n * - `after` - inserts the result after the target\n *\n * @customElement turbo-stream\n * @example\n *   <turbo-stream action=\"append\" target=\"dom_id\">\n *     <template>\n *       Content to append to container designated with the dom_id.\n *     </template>\n *   </turbo-stream>\n */\nclass StreamElement extends HTMLElement {\n  static async renderElement(newElement) {\n    await newElement.performAction();\n  }\n\n  async connectedCallback() {\n    try {\n      await this.render();\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.disconnect();\n    }\n  }\n\n  async render() {\n    return (this.renderPromise ??= (async () => {\n      const event = this.beforeRenderEvent;\n\n      if (this.dispatchEvent(event)) {\n        await nextRepaint();\n        await event.detail.render(this);\n      }\n    })())\n  }\n\n  disconnect() {\n    try {\n      this.remove();\n      // eslint-disable-next-line no-empty\n    } catch {}\n  }\n\n  /**\n   * Removes duplicate children (by ID)\n   */\n  removeDuplicateTargetChildren() {\n    this.duplicateChildren.forEach((c) => c.remove());\n  }\n\n  /**\n   * Gets the list of duplicate children (i.e. those with the same ID)\n   */\n  get duplicateChildren() {\n    const existingChildren = this.targetElements.flatMap((e) => [...e.children]).filter((c) => !!c.id);\n    const newChildrenIds = [...(this.templateContent?.children || [])].filter((c) => !!c.id).map((c) => c.id);\n\n    return existingChildren.filter((c) => newChildrenIds.includes(c.id))\n  }\n\n  /**\n   * Gets the action function to be performed.\n   */\n  get performAction() {\n    if (this.action) {\n      const actionFunction = StreamActions[this.action];\n      if (actionFunction) {\n        return actionFunction\n      }\n      this.#raise(\"unknown action\");\n    }\n    this.#raise(\"action attribute is missing\");\n  }\n\n  /**\n   * Gets the target elements which the template will be rendered to.\n   */\n  get targetElements() {\n    if (this.target) {\n      return this.targetElementsById\n    } else if (this.targets) {\n      return this.targetElementsByQuery\n    } else {\n      this.#raise(\"target or targets attribute is missing\");\n    }\n  }\n\n  /**\n   * Gets the contents of the main `<template>`.\n   */\n  get templateContent() {\n    return this.templateElement.content.cloneNode(true)\n  }\n\n  /**\n   * Gets the main `<template>` used for rendering\n   */\n  get templateElement() {\n    if (this.firstElementChild === null) {\n      const template = this.ownerDocument.createElement(\"template\");\n      this.appendChild(template);\n      return template\n    } else if (this.firstElementChild instanceof HTMLTemplateElement) {\n      return this.firstElementChild\n    }\n    this.#raise(\"first child element must be a <template> element\");\n  }\n\n  /**\n   * Gets the current action.\n   */\n  get action() {\n    return this.getAttribute(\"action\")\n  }\n\n  /**\n   * Gets the current target (an element ID) to which the result will\n   * be rendered.\n   */\n  get target() {\n    return this.getAttribute(\"target\")\n  }\n\n  /**\n   * Gets the current \"targets\" selector (a CSS selector)\n   */\n  get targets() {\n    return this.getAttribute(\"targets\")\n  }\n\n  /**\n   * Reads the request-id attribute\n   */\n  get requestId() {\n    return this.getAttribute(\"request-id\")\n  }\n\n  #raise(message) {\n    throw new Error(`${this.description}: ${message}`)\n  }\n\n  get description() {\n    return (this.outerHTML.match(/<[^>]+>/) ?? [])[0] ?? \"<turbo-stream>\"\n  }\n\n  get beforeRenderEvent() {\n    return new CustomEvent(\"turbo:before-stream-render\", {\n      bubbles: true,\n      cancelable: true,\n      detail: { newStream: this, render: StreamElement.renderElement }\n    })\n  }\n\n  get targetElementsById() {\n    const element = this.ownerDocument?.getElementById(this.target);\n\n    if (element !== null) {\n      return [element]\n    } else {\n      return []\n    }\n  }\n\n  get targetElementsByQuery() {\n    const elements = this.ownerDocument?.querySelectorAll(this.targets);\n\n    if (elements.length !== 0) {\n      return Array.prototype.slice.call(elements)\n    } else {\n      return []\n    }\n  }\n}\n\nclass StreamSourceElement extends HTMLElement {\n  streamSource = null\n\n  connectedCallback() {\n    this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);\n\n    connectStreamSource(this.streamSource);\n  }\n\n  disconnectedCallback() {\n    if (this.streamSource) {\n      this.streamSource.close();\n\n      disconnectStreamSource(this.streamSource);\n    }\n  }\n\n  get src() {\n    return this.getAttribute(\"src\") || \"\"\n  }\n}\n\nFrameElement.delegateConstructor = FrameController;\n\nif (customElements.get(\"turbo-frame\") === undefined) {\n  customElements.define(\"turbo-frame\", FrameElement);\n}\n\nif (customElements.get(\"turbo-stream\") === undefined) {\n  customElements.define(\"turbo-stream\", StreamElement);\n}\n\nif (customElements.get(\"turbo-stream-source\") === undefined) {\n  customElements.define(\"turbo-stream-source\", StreamSourceElement);\n}\n\n(() => {\n  let element = document.currentScript;\n  if (!element) return\n  if (element.hasAttribute(\"data-turbo-suppress-warning\")) return\n\n  element = element.parentElement;\n  while (element) {\n    if (element == document.body) {\n      return console.warn(\n        unindent`\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        \u2014\u2014\n        Suppress this warning by adding a \"data-turbo-suppress-warning\" attribute to: %s\n      `,\n        element.outerHTML\n      )\n    }\n\n    element = element.parentElement;\n  }\n})();\n\nwindow.Turbo = { ...Turbo, StreamActions };\nstart();\n\nexport { FetchEnctype, FetchMethod, FetchRequest, FetchResponse, FrameElement, FrameLoadingStyle, FrameRenderer, PageRenderer, PageSnapshot, StreamActions, StreamElement, StreamSourceElement, cache, clearCache, connectStreamSource, disconnectStreamSource, fetchWithTurboHeaders as fetch, fetchEnctypeFromString, fetchMethodFromString, isSafe, navigator$1 as navigator, registerAdapter, renderStreamMessage, session, setConfirmMethod, setFormMode, setProgressBarDelay, start, visit };\n", "let consumer\n\nexport async function getConsumer() {\n  return consumer || setConsumer(createConsumer().then(setConsumer))\n}\n\nexport function setConsumer(newConsumer) {\n  return consumer = newConsumer\n}\n\nexport async function createConsumer() {\n  const { createConsumer } = await import(/* webpackChunkName: \"actioncable\" */ \"@rails/actioncable/src\")\n  return createConsumer()\n}\n\nexport async function subscribeTo(channel, mixin) {\n  const { subscriptions } = await getConsumer()\n  return subscriptions.create(channel, mixin)\n}\n", "// Based on https://github.com/nathan7/snakeize\n//\n// This software is released under the MIT license:\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nexport default function walk (obj) {\n    if (!obj || typeof obj !== 'object') return obj;\n    if (obj instanceof Date || obj instanceof RegExp) return obj;\n    if (Array.isArray(obj)) return obj.map(walk);\n    return Object.keys(obj).reduce(function (acc, key) {\n        var camel = key[0].toLowerCase() + key.slice(1).replace(/([A-Z]+)/g, function (m, x) {\n            return '_' + x.toLowerCase();\n        });\n        acc[camel] = walk(obj[key]);\n        return acc;\n    }, {});\n};", "import { connectStreamSource, disconnectStreamSource } from \"@hotwired/turbo\"\nimport { subscribeTo } from \"./cable\"\nimport snakeize from \"./snakeize\"\n\nclass TurboCableStreamSourceElement extends HTMLElement {\n  async connectedCallback() {\n    connectStreamSource(this)\n    this.subscription = await subscribeTo(this.channel, {\n      received: this.dispatchMessageEvent.bind(this),\n      connected: this.subscriptionConnected.bind(this),\n      disconnected: this.subscriptionDisconnected.bind(this)\n    })\n  }\n\n  disconnectedCallback() {\n    disconnectStreamSource(this)\n    if (this.subscription) this.subscription.unsubscribe()\n  }\n\n  dispatchMessageEvent(data) {\n    const event = new MessageEvent(\"message\", { data })\n    return this.dispatchEvent(event)\n  }\n\n  subscriptionConnected() {\n    this.setAttribute(\"connected\", \"\")\n  }\n\n  subscriptionDisconnected() {\n    this.removeAttribute(\"connected\")\n  }\n\n  get channel() {\n    const channel = this.getAttribute(\"channel\")\n    const signed_stream_name = this.getAttribute(\"signed-stream-name\")\n    return { channel, signed_stream_name, ...snakeize({ ...this.dataset }) }\n  }\n}\n\n\nif (customElements.get(\"turbo-cable-stream-source\") === undefined) {\n  customElements.define(\"turbo-cable-stream-source\", TurboCableStreamSourceElement)\n}\n", "export function encodeMethodIntoRequestBody(event) {\n  if (event.target instanceof HTMLFormElement) {\n    const { target: form, detail: { fetchOptions } } = event\n\n    form.addEventListener(\"turbo:submit-start\", ({ detail: { formSubmission: { submitter } } }) => {\n      const body = isBodyInit(fetchOptions.body) ? fetchOptions.body : new URLSearchParams()\n      const method = determineFetchMethod(submitter, body, form)\n\n      if (!/get/i.test(method)) {\n        if (/post/i.test(method)) {\n          body.delete(\"_method\")\n        } else {\n          body.set(\"_method\", method)\n        }\n\n        fetchOptions.method = \"post\"\n      }\n    }, { once: true })\n  }\n}\n\nfunction determineFetchMethod(submitter, body, form) {\n  const formMethod = determineFormMethod(submitter)\n  const overrideMethod = body.get(\"_method\")\n  const method = form.getAttribute(\"method\") || \"get\"\n\n  if (typeof formMethod == \"string\") {\n    return formMethod\n  } else if (typeof overrideMethod == \"string\") {\n    return overrideMethod\n  } else {\n    return method\n  }\n}\n\nfunction determineFormMethod(submitter) {\n  if (submitter instanceof HTMLButtonElement || submitter instanceof HTMLInputElement) {\n    // Rails 7 ActionView::Helpers::FormBuilder#button method has an override\n    // for formmethod if the button does not have name or value attributes\n    // set, which is the default. This means that if you use <%= f.button\n    // formmethod: :delete %>, it will generate a <button name=\"_method\"\n    // value=\"delete\" formmethod=\"post\">. Therefore, if the submitter's name\n    // is already _method, it's value attribute already contains the desired\n    // method.\n    if (submitter.name === '_method') {\n      return submitter.value\n    } else if (submitter.hasAttribute(\"formmethod\")) {\n      return submitter.formMethod\n    } else {\n      return null\n    }\n  } else {\n    return null\n  }\n}\n\nfunction isBodyInit(body) {\n  return body instanceof FormData || body instanceof URLSearchParams\n}\n", "import \"./cable_stream_source_element\"\n\nimport * as Turbo from \"@hotwired/turbo\"\nexport { Turbo }\n\nimport * as cable from \"./cable\"\nexport { cable }\n\nimport { encodeMethodIntoRequestBody } from \"./fetch_requests\"\n\nwindow.Turbo = Turbo\n\naddEventListener(\"turbo:before-fetch-request\", encodeMethodIntoRequestBody)\n", "/*\nStimulus 3.2.1\nCopyright \u00A9 2023 Basecamp, LLC\n */\nclass EventListener {\n    constructor(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    connect() {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    }\n    disconnect() {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    }\n    bindingConnected(binding) {\n        this.unorderedBindings.add(binding);\n    }\n    bindingDisconnected(binding) {\n        this.unorderedBindings.delete(binding);\n    }\n    handleEvent(event) {\n        const extendedEvent = extendEvent(event);\n        for (const binding of this.bindings) {\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    }\n    hasBindings() {\n        return this.unorderedBindings.size > 0;\n    }\n    get bindings() {\n        return Array.from(this.unorderedBindings).sort((left, right) => {\n            const leftIndex = left.index, rightIndex = right.index;\n            return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n        });\n    }\n}\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        const { stopImmediatePropagation } = event;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation() {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation.call(this);\n            },\n        });\n    }\n}\n\nclass Dispatcher {\n    constructor(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map();\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach((eventListener) => eventListener.connect());\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach((eventListener) => eventListener.disconnect());\n        }\n    }\n    get eventListeners() {\n        return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);\n    }\n    bindingConnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    }\n    bindingDisconnected(binding, clearEventListeners = false) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n        if (clearEventListeners)\n            this.clearEventListenersForBinding(binding);\n    }\n    handleError(error, message, detail = {}) {\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    clearEventListenersForBinding(binding) {\n        const eventListener = this.fetchEventListenerForBinding(binding);\n        if (!eventListener.hasBindings()) {\n            eventListener.disconnect();\n            this.removeMappedEventListenerFor(binding);\n        }\n    }\n    removeMappedEventListenerFor(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        eventListenerMap.delete(cacheKey);\n        if (eventListenerMap.size == 0)\n            this.eventListenerMaps.delete(eventTarget);\n    }\n    fetchEventListenerForBinding(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    }\n    fetchEventListener(eventTarget, eventName, eventOptions) {\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        let eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    }\n    createEventListener(eventTarget, eventName, eventOptions) {\n        const eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    }\n    fetchEventListenerMapForEventTarget(eventTarget) {\n        let eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map();\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    }\n    cacheKey(eventName, eventOptions) {\n        const parts = [eventName];\n        Object.keys(eventOptions)\n            .sort()\n            .forEach((key) => {\n            parts.push(`${eventOptions[key] ? \"\" : \"!\"}${key}`);\n        });\n        return parts.join(\":\");\n    }\n}\n\nconst defaultActionDescriptorFilters = {\n    stop({ event, value }) {\n        if (value)\n            event.stopPropagation();\n        return true;\n    },\n    prevent({ event, value }) {\n        if (value)\n            event.preventDefault();\n        return true;\n    },\n    self({ event, value, element }) {\n        if (value) {\n            return element === event.target;\n        }\n        else {\n            return true;\n        }\n    },\n};\nconst descriptorPattern = /^(?:(?:([^.]+?)\\+)?(.+?)(?:\\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;\nfunction parseActionDescriptorString(descriptorString) {\n    const source = descriptorString.trim();\n    const matches = source.match(descriptorPattern) || [];\n    let eventName = matches[2];\n    let keyFilter = matches[3];\n    if (keyFilter && ![\"keydown\", \"keyup\", \"keypress\"].includes(eventName)) {\n        eventName += `.${keyFilter}`;\n        keyFilter = \"\";\n    }\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName,\n        eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},\n        identifier: matches[5],\n        methodName: matches[6],\n        keyFilter: matches[1] || keyFilter,\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions\n        .split(\":\")\n        .reduce((options, token) => Object.assign(options, { [token.replace(/^!/, \"\")]: !/^!/.test(token) }), {});\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\nfunction namespaceCamelize(value) {\n    return camelize(value.replace(/--/g, \"-\").replace(/__/g, \"_\"));\n}\nfunction capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);\n}\nfunction tokenize(value) {\n    return value.match(/[^\\s]+/g) || [];\n}\n\nfunction isSomething(object) {\n    return object !== null && object !== undefined;\n}\nfunction hasProperty(object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nconst allModifiers = [\"meta\", \"ctrl\", \"alt\", \"shift\"];\nclass Action {\n    constructor(element, index, descriptor, schema) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n        this.keyFilter = descriptor.keyFilter || \"\";\n        this.schema = schema;\n    }\n    static forToken(token, schema) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);\n    }\n    toString() {\n        const eventFilter = this.keyFilter ? `.${this.keyFilter}` : \"\";\n        const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : \"\";\n        return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;\n    }\n    shouldIgnoreKeyboardEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = this.keyFilter.split(\"+\");\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];\n        if (!standardFilter) {\n            return false;\n        }\n        if (!hasProperty(this.keyMappings, standardFilter)) {\n            error(`contains unknown key filter: ${this.keyFilter}`);\n        }\n        return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();\n    }\n    shouldIgnoreMouseEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = [this.keyFilter];\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        return false;\n    }\n    get params() {\n        const params = {};\n        const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, \"i\");\n        for (const { name, value } of Array.from(this.element.attributes)) {\n            const match = name.match(pattern);\n            const key = match && match[1];\n            if (key) {\n                params[camelize(key)] = typecast(value);\n            }\n        }\n        return params;\n    }\n    get eventTargetName() {\n        return stringifyEventTarget(this.eventTarget);\n    }\n    get keyMappings() {\n        return this.schema.keyMappings;\n    }\n    keyFilterDissatisfied(event, filters) {\n        const [meta, ctrl, alt, shift] = allModifiers.map((modifier) => filters.includes(modifier));\n        return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift;\n    }\n}\nconst defaultEventNames = {\n    a: () => \"click\",\n    button: () => \"click\",\n    form: () => \"submit\",\n    details: () => \"toggle\",\n    input: (e) => (e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\"),\n    select: () => \"change\",\n    textarea: () => \"input\",\n};\nfunction getDefaultEventNameForElement(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\nfunction typecast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\n\nclass Binding {\n    constructor(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    get index() {\n        return this.action.index;\n    }\n    get eventTarget() {\n        return this.action.eventTarget;\n    }\n    get eventOptions() {\n        return this.action.eventOptions;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    handleEvent(event) {\n        const actionEvent = this.prepareActionEvent(event);\n        if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {\n            this.invokeWithEvent(actionEvent);\n        }\n    }\n    get eventName() {\n        return this.action.eventName;\n    }\n    get method() {\n        const method = this.controller[this.methodName];\n        if (typeof method == \"function\") {\n            return method;\n        }\n        throw new Error(`Action \"${this.action}\" references undefined method \"${this.methodName}\"`);\n    }\n    applyEventModifiers(event) {\n        const { element } = this.action;\n        const { actionDescriptorFilters } = this.context.application;\n        const { controller } = this.context;\n        let passes = true;\n        for (const [name, value] of Object.entries(this.eventOptions)) {\n            if (name in actionDescriptorFilters) {\n                const filter = actionDescriptorFilters[name];\n                passes = passes && filter({ name, value, event, element, controller });\n            }\n            else {\n                continue;\n            }\n        }\n        return passes;\n    }\n    prepareActionEvent(event) {\n        return Object.assign(event, { params: this.action.params });\n    }\n    invokeWithEvent(event) {\n        const { target, currentTarget } = event;\n        try {\n            this.method.call(this.controller, event);\n            this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });\n        }\n        catch (error) {\n            const { identifier, controller, element, index } = this;\n            const detail = { identifier, controller, element, index, event };\n            this.context.handleError(error, `invoking action \"${this.action}\"`, detail);\n        }\n    }\n    willBeInvokedByEvent(event) {\n        const eventTarget = event.target;\n        if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {\n            return false;\n        }\n        if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {\n            return false;\n        }\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    get methodName() {\n        return this.action.methodName;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass ElementObserver {\n    constructor(element, delegate) {\n        this.mutationObserverInit = { attributes: true, childList: true, subtree: true };\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.refresh();\n        }\n    }\n    pause(callback) {\n        if (this.started) {\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n        callback();\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            const matches = new Set(this.matchElementsInTree());\n            for (const element of Array.from(this.elements)) {\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (const element of Array.from(matches)) {\n                this.addElement(element);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    }\n    processAttributeChange(element, attributeName) {\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    }\n    processRemovedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    }\n    processAddedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    }\n    matchElement(element) {\n        return this.delegate.matchElement(element);\n    }\n    matchElementsInTree(tree = this.element) {\n        return this.delegate.matchElementsInTree(tree);\n    }\n    processTree(tree, processor) {\n        for (const element of this.matchElementsInTree(tree)) {\n            processor.call(this, element);\n        }\n    }\n    elementFromNode(node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    }\n    elementIsActive(element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    }\n    addElement(element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    }\n    removeElement(element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    }\n}\n\nclass AttributeObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    get selector() {\n        return `[${this.attributeName}]`;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    matchElement(element) {\n        return element.hasAttribute(this.attributeName);\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementUnmatched(element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementAttributeChanged(element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    }\n}\n\nfunction add(map, key, value) {\n    fetch(map, key).add(value);\n}\nfunction del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nfunction fetch(map, key) {\n    let values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nfunction prune(map, key) {\n    const values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n\nclass Multimap {\n    constructor() {\n        this.valuesByKey = new Map();\n    }\n    get keys() {\n        return Array.from(this.valuesByKey.keys());\n    }\n    get values() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((values, set) => values.concat(Array.from(set)), []);\n    }\n    get size() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((size, set) => size + set.size, 0);\n    }\n    add(key, value) {\n        add(this.valuesByKey, key, value);\n    }\n    delete(key, value) {\n        del(this.valuesByKey, key, value);\n    }\n    has(key, value) {\n        const values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    }\n    hasKey(key) {\n        return this.valuesByKey.has(key);\n    }\n    hasValue(value) {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.some((set) => set.has(value));\n    }\n    getValuesForKey(key) {\n        const values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    }\n    getKeysForValue(value) {\n        return Array.from(this.valuesByKey)\n            .filter(([_key, values]) => values.has(value))\n            .map(([key, _values]) => key);\n    }\n}\n\nclass IndexedMultimap extends Multimap {\n    constructor() {\n        super();\n        this.keysByValue = new Map();\n    }\n    get values() {\n        return Array.from(this.keysByValue.keys());\n    }\n    add(key, value) {\n        super.add(key, value);\n        add(this.keysByValue, value, key);\n    }\n    delete(key, value) {\n        super.delete(key, value);\n        del(this.keysByValue, value, key);\n    }\n    hasValue(value) {\n        return this.keysByValue.has(value);\n    }\n    getKeysForValue(value) {\n        const set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    }\n}\n\nclass SelectorObserver {\n    constructor(element, selector, delegate, details) {\n        this._selector = selector;\n        this.details = details;\n        this.elementObserver = new ElementObserver(element, this);\n        this.delegate = delegate;\n        this.matchesByElement = new Multimap();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    get selector() {\n        return this._selector;\n    }\n    set selector(selector) {\n        this._selector = selector;\n        this.refresh();\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    matchElement(element) {\n        const { selector } = this;\n        if (selector) {\n            const matches = element.matches(selector);\n            if (this.delegate.selectorMatchElement) {\n                return matches && this.delegate.selectorMatchElement(element, this.details);\n            }\n            return matches;\n        }\n        else {\n            return false;\n        }\n    }\n    matchElementsInTree(tree) {\n        const { selector } = this;\n        if (selector) {\n            const match = this.matchElement(tree) ? [tree] : [];\n            const matches = Array.from(tree.querySelectorAll(selector)).filter((match) => this.matchElement(match));\n            return match.concat(matches);\n        }\n        else {\n            return [];\n        }\n    }\n    elementMatched(element) {\n        const { selector } = this;\n        if (selector) {\n            this.selectorMatched(element, selector);\n        }\n    }\n    elementUnmatched(element) {\n        const selectors = this.matchesByElement.getKeysForValue(element);\n        for (const selector of selectors) {\n            this.selectorUnmatched(element, selector);\n        }\n    }\n    elementAttributeChanged(element, _attributeName) {\n        const { selector } = this;\n        if (selector) {\n            const matches = this.matchElement(element);\n            const matchedBefore = this.matchesByElement.has(selector, element);\n            if (matches && !matchedBefore) {\n                this.selectorMatched(element, selector);\n            }\n            else if (!matches && matchedBefore) {\n                this.selectorUnmatched(element, selector);\n            }\n        }\n    }\n    selectorMatched(element, selector) {\n        this.delegate.selectorMatched(element, selector, this.details);\n        this.matchesByElement.add(selector, element);\n    }\n    selectorUnmatched(element, selector) {\n        this.delegate.selectorUnmatched(element, selector, this.details);\n        this.matchesByElement.delete(selector, element);\n    }\n}\n\nclass StringMapObserver {\n    constructor(element, delegate) {\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });\n            this.refresh();\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            for (const attributeName of this.knownAttributeNames) {\n                this.refreshAttribute(attributeName, null);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        const attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName, mutation.oldValue);\n        }\n    }\n    refreshAttribute(attributeName, oldValue) {\n        const key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            const value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key, oldValue);\n            }\n            if (value == null) {\n                const oldValue = this.stringMap.get(attributeName);\n                this.stringMap.delete(attributeName);\n                if (oldValue)\n                    this.stringMapKeyRemoved(key, attributeName, oldValue);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    }\n    stringMapValueChanged(value, key, oldValue) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key, oldValue);\n        }\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);\n        }\n    }\n    get knownAttributeNames() {\n        return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n    }\n    get currentAttributeNames() {\n        return Array.from(this.element.attributes).map((attribute) => attribute.name);\n    }\n    get recordedAttributeNames() {\n        return Array.from(this.stringMap.keys());\n    }\n}\n\nclass TokenListObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap();\n    }\n    get started() {\n        return this.attributeObserver.started;\n    }\n    start() {\n        this.attributeObserver.start();\n    }\n    pause(callback) {\n        this.attributeObserver.pause(callback);\n    }\n    stop() {\n        this.attributeObserver.stop();\n    }\n    refresh() {\n        this.attributeObserver.refresh();\n    }\n    get element() {\n        return this.attributeObserver.element;\n    }\n    get attributeName() {\n        return this.attributeObserver.attributeName;\n    }\n    elementMatchedAttribute(element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    }\n    elementAttributeValueChanged(element) {\n        const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    }\n    elementUnmatchedAttribute(element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    }\n    tokensMatched(tokens) {\n        tokens.forEach((token) => this.tokenMatched(token));\n    }\n    tokensUnmatched(tokens) {\n        tokens.forEach((token) => this.tokenUnmatched(token));\n    }\n    tokenMatched(token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    }\n    tokenUnmatched(token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    }\n    refreshTokensForElement(element) {\n        const previousTokens = this.tokensByElement.getValuesForKey(element);\n        const currentTokens = this.readTokensForElement(element);\n        const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    }\n    readTokensForElement(element) {\n        const attributeName = this.attributeName;\n        const tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    }\n}\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString\n        .trim()\n        .split(/\\s+/)\n        .filter((content) => content.length)\n        .map((content, index) => ({ element, attributeName, content, index }));\n}\nfunction zip(left, right) {\n    const length = Math.max(left.length, right.length);\n    return Array.from({ length }, (_, index) => [left[index], right[index]]);\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n\nclass ValueListObserver {\n    constructor(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap();\n        this.valuesByTokenByElement = new WeakMap();\n    }\n    get started() {\n        return this.tokenListObserver.started;\n    }\n    start() {\n        this.tokenListObserver.start();\n    }\n    stop() {\n        this.tokenListObserver.stop();\n    }\n    refresh() {\n        this.tokenListObserver.refresh();\n    }\n    get element() {\n        return this.tokenListObserver.element;\n    }\n    get attributeName() {\n        return this.tokenListObserver.attributeName;\n    }\n    tokenMatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    }\n    tokenUnmatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    }\n    fetchParseResultForToken(token) {\n        let parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    }\n    fetchValuesByTokenForElement(element) {\n        let valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map();\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    }\n    parseToken(token) {\n        try {\n            const value = this.delegate.parseValueForToken(token);\n            return { value };\n        }\n        catch (error) {\n            return { error };\n        }\n    }\n}\n\nclass BindingObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map();\n    }\n    start() {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    }\n    stop() {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    }\n    get element() {\n        return this.context.element;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get actionAttribute() {\n        return this.schema.actionAttribute;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get bindings() {\n        return Array.from(this.bindingsByAction.values());\n    }\n    connectAction(action) {\n        const binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    }\n    disconnectAction(action) {\n        const binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    }\n    disconnectAllActions() {\n        this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));\n        this.bindingsByAction.clear();\n    }\n    parseValueForToken(token) {\n        const action = Action.forToken(token, this.schema);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    }\n    elementMatchedValue(element, action) {\n        this.connectAction(action);\n    }\n    elementUnmatchedValue(element, action) {\n        this.disconnectAction(action);\n    }\n}\n\nclass ValueObserver {\n    constructor(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n    }\n    start() {\n        this.stringMapObserver.start();\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    stop() {\n        this.stringMapObserver.stop();\n    }\n    get element() {\n        return this.context.element;\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    getStringMapKeyForAttribute(attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        const descriptor = this.valueDescriptorMap[attributeName];\n        if (!this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));\n        }\n    }\n    stringMapValueChanged(value, name, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[name];\n        if (value === null)\n            return;\n        if (oldValue === null) {\n            oldValue = descriptor.writer(descriptor.defaultValue);\n        }\n        this.invokeChangedCallback(name, value, oldValue);\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[key];\n        if (this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);\n        }\n        else {\n            this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);\n        }\n    }\n    invokeChangedCallbacksForDefaultValues() {\n        for (const { key, name, defaultValue, writer } of this.valueDescriptors) {\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallback(name, writer(defaultValue), undefined);\n            }\n        }\n    }\n    invokeChangedCallback(name, rawValue, rawOldValue) {\n        const changedMethodName = `${name}Changed`;\n        const changedMethod = this.receiver[changedMethodName];\n        if (typeof changedMethod == \"function\") {\n            const descriptor = this.valueDescriptorNameMap[name];\n            try {\n                const value = descriptor.reader(rawValue);\n                let oldValue = rawOldValue;\n                if (rawOldValue) {\n                    oldValue = descriptor.reader(rawOldValue);\n                }\n                changedMethod.call(this.receiver, value, oldValue);\n            }\n            catch (error) {\n                if (error instanceof TypeError) {\n                    error.message = `Stimulus Value \"${this.context.identifier}.${descriptor.name}\" - ${error.message}`;\n                }\n                throw error;\n            }\n        }\n    }\n    get valueDescriptors() {\n        const { valueDescriptorMap } = this;\n        return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);\n    }\n    get valueDescriptorNameMap() {\n        const descriptors = {};\n        Object.keys(this.valueDescriptorMap).forEach((key) => {\n            const descriptor = this.valueDescriptorMap[key];\n            descriptors[descriptor.name] = descriptor;\n        });\n        return descriptors;\n    }\n    hasValue(attributeName) {\n        const descriptor = this.valueDescriptorNameMap[attributeName];\n        const hasMethodName = `has${capitalize(descriptor.name)}`;\n        return this.receiver[hasMethodName];\n    }\n}\n\nclass TargetObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.targetsByName = new Multimap();\n    }\n    start() {\n        if (!this.tokenListObserver) {\n            this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n            this.tokenListObserver.start();\n        }\n    }\n    stop() {\n        if (this.tokenListObserver) {\n            this.disconnectAllTargets();\n            this.tokenListObserver.stop();\n            delete this.tokenListObserver;\n        }\n    }\n    tokenMatched({ element, content: name }) {\n        if (this.scope.containsElement(element)) {\n            this.connectTarget(element, name);\n        }\n    }\n    tokenUnmatched({ element, content: name }) {\n        this.disconnectTarget(element, name);\n    }\n    connectTarget(element, name) {\n        var _a;\n        if (!this.targetsByName.has(name, element)) {\n            this.targetsByName.add(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));\n        }\n    }\n    disconnectTarget(element, name) {\n        var _a;\n        if (this.targetsByName.has(name, element)) {\n            this.targetsByName.delete(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));\n        }\n    }\n    disconnectAllTargets() {\n        for (const name of this.targetsByName.keys) {\n            for (const element of this.targetsByName.getValuesForKey(name)) {\n                this.disconnectTarget(element, name);\n            }\n        }\n    }\n    get attributeName() {\n        return `data-${this.context.identifier}-target`;\n    }\n    get element() {\n        return this.context.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nfunction readInheritableStaticArrayValues(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce((values, constructor) => {\n        getOwnStaticArrayValues(constructor, propertyName).forEach((name) => values.add(name));\n        return values;\n    }, new Set()));\n}\nfunction readInheritableStaticObjectPairs(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce((pairs, constructor) => {\n        pairs.push(...getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    const ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];\n}\n\nclass OutletObserver {\n    constructor(context, delegate) {\n        this.started = false;\n        this.context = context;\n        this.delegate = delegate;\n        this.outletsByName = new Multimap();\n        this.outletElementsByName = new Multimap();\n        this.selectorObserverMap = new Map();\n        this.attributeObserverMap = new Map();\n    }\n    start() {\n        if (!this.started) {\n            this.outletDefinitions.forEach((outletName) => {\n                this.setupSelectorObserverForOutlet(outletName);\n                this.setupAttributeObserverForOutlet(outletName);\n            });\n            this.started = true;\n            this.dependentContexts.forEach((context) => context.refresh());\n        }\n    }\n    refresh() {\n        this.selectorObserverMap.forEach((observer) => observer.refresh());\n        this.attributeObserverMap.forEach((observer) => observer.refresh());\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.disconnectAllOutlets();\n            this.stopSelectorObservers();\n            this.stopAttributeObservers();\n        }\n    }\n    stopSelectorObservers() {\n        if (this.selectorObserverMap.size > 0) {\n            this.selectorObserverMap.forEach((observer) => observer.stop());\n            this.selectorObserverMap.clear();\n        }\n    }\n    stopAttributeObservers() {\n        if (this.attributeObserverMap.size > 0) {\n            this.attributeObserverMap.forEach((observer) => observer.stop());\n            this.attributeObserverMap.clear();\n        }\n    }\n    selectorMatched(element, _selector, { outletName }) {\n        const outlet = this.getOutlet(element, outletName);\n        if (outlet) {\n            this.connectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorUnmatched(element, _selector, { outletName }) {\n        const outlet = this.getOutletFromMap(element, outletName);\n        if (outlet) {\n            this.disconnectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorMatchElement(element, { outletName }) {\n        const selector = this.selector(outletName);\n        const hasOutlet = this.hasOutlet(element, outletName);\n        const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);\n        if (selector) {\n            return hasOutlet && hasOutletController && element.matches(selector);\n        }\n        else {\n            return false;\n        }\n    }\n    elementMatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementAttributeValueChanged(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementUnmatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    connectOutlet(outlet, element, outletName) {\n        var _a;\n        if (!this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.add(outletName, outlet);\n            this.outletElementsByName.add(outletName, element);\n            (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));\n        }\n    }\n    disconnectOutlet(outlet, element, outletName) {\n        var _a;\n        if (this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.delete(outletName, outlet);\n            this.outletElementsByName.delete(outletName, element);\n            (_a = this.selectorObserverMap\n                .get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));\n        }\n    }\n    disconnectAllOutlets() {\n        for (const outletName of this.outletElementsByName.keys) {\n            for (const element of this.outletElementsByName.getValuesForKey(outletName)) {\n                for (const outlet of this.outletsByName.getValuesForKey(outletName)) {\n                    this.disconnectOutlet(outlet, element, outletName);\n                }\n            }\n        }\n    }\n    updateSelectorObserverForOutlet(outletName) {\n        const observer = this.selectorObserverMap.get(outletName);\n        if (observer) {\n            observer.selector = this.selector(outletName);\n        }\n    }\n    setupSelectorObserverForOutlet(outletName) {\n        const selector = this.selector(outletName);\n        const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });\n        this.selectorObserverMap.set(outletName, selectorObserver);\n        selectorObserver.start();\n    }\n    setupAttributeObserverForOutlet(outletName) {\n        const attributeName = this.attributeNameForOutletName(outletName);\n        const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);\n        this.attributeObserverMap.set(outletName, attributeObserver);\n        attributeObserver.start();\n    }\n    selector(outletName) {\n        return this.scope.outlets.getSelectorForOutletName(outletName);\n    }\n    attributeNameForOutletName(outletName) {\n        return this.scope.schema.outletAttributeForScope(this.identifier, outletName);\n    }\n    getOutletNameFromOutletAttributeName(attributeName) {\n        return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);\n    }\n    get outletDependencies() {\n        const dependencies = new Multimap();\n        this.router.modules.forEach((module) => {\n            const constructor = module.definition.controllerConstructor;\n            const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n            outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));\n        });\n        return dependencies;\n    }\n    get outletDefinitions() {\n        return this.outletDependencies.getKeysForValue(this.identifier);\n    }\n    get dependentControllerIdentifiers() {\n        return this.outletDependencies.getValuesForKey(this.identifier);\n    }\n    get dependentContexts() {\n        const identifiers = this.dependentControllerIdentifiers;\n        return this.router.contexts.filter((context) => identifiers.includes(context.identifier));\n    }\n    hasOutlet(element, outletName) {\n        return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);\n    }\n    getOutlet(element, outletName) {\n        return this.application.getControllerForElementAndIdentifier(element, outletName);\n    }\n    getOutletFromMap(element, outletName) {\n        return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get router() {\n        return this.application.router;\n    }\n}\n\nclass Context {\n    constructor(module, scope) {\n        this.logDebugActivity = (functionName, detail = {}) => {\n            const { identifier, controller, element } = this;\n            detail = Object.assign({ identifier, controller, element }, detail);\n            this.application.logDebugActivity(this.identifier, functionName, detail);\n        };\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        this.targetObserver = new TargetObserver(this, this);\n        this.outletObserver = new OutletObserver(this, this);\n        try {\n            this.controller.initialize();\n            this.logDebugActivity(\"initialize\");\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    connect() {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        this.targetObserver.start();\n        this.outletObserver.start();\n        try {\n            this.controller.connect();\n            this.logDebugActivity(\"connect\");\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    }\n    refresh() {\n        this.outletObserver.refresh();\n    }\n    disconnect() {\n        try {\n            this.controller.disconnect();\n            this.logDebugActivity(\"disconnect\");\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.outletObserver.stop();\n        this.targetObserver.stop();\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    }\n    get application() {\n        return this.module.application;\n    }\n    get identifier() {\n        return this.module.identifier;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get dispatcher() {\n        return this.application.dispatcher;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get parentElement() {\n        return this.element.parentElement;\n    }\n    handleError(error, message, detail = {}) {\n        const { identifier, controller, element } = this;\n        detail = Object.assign({ identifier, controller, element }, detail);\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    targetConnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetConnected`, element);\n    }\n    targetDisconnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetDisconnected`, element);\n    }\n    outletConnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);\n    }\n    outletDisconnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);\n    }\n    invokeControllerMethod(methodName, ...args) {\n        const controller = this.controller;\n        if (typeof controller[methodName] == \"function\") {\n            controller[methodName](...args);\n        }\n    }\n}\n\nfunction bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    const shadowConstructor = extend(constructor);\n    const shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    const blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce((blessedProperties, blessing) => {\n        const properties = blessing(constructor);\n        for (const key in properties) {\n            const descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce((shadowProperties, key) => {\n        const descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, { [key]: descriptor });\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    const shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nconst getOwnKeys = (() => {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nconst extend = (() => {\n    function extendWithReflect(constructor) {\n        function extended() {\n            return Reflect.construct(constructor, arguments, new.target);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended },\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        const a = function () {\n            this.a.call(this);\n        };\n        const b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b();\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return (constructor) => class extended extends constructor {\n        };\n    }\n})();\n\nfunction blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor),\n    };\n}\n\nclass Module {\n    constructor(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap();\n        this.connectedContexts = new Set();\n    }\n    get identifier() {\n        return this.definition.identifier;\n    }\n    get controllerConstructor() {\n        return this.definition.controllerConstructor;\n    }\n    get contexts() {\n        return Array.from(this.connectedContexts);\n    }\n    connectContextForScope(scope) {\n        const context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    }\n    disconnectContextForScope(scope) {\n        const context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    }\n    fetchContextForScope(scope) {\n        let context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    }\n}\n\nclass ClassMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    has(name) {\n        return this.data.has(this.getDataKey(name));\n    }\n    get(name) {\n        return this.getAll(name)[0];\n    }\n    getAll(name) {\n        const tokenString = this.data.get(this.getDataKey(name)) || \"\";\n        return tokenize(tokenString);\n    }\n    getAttributeName(name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    }\n    getDataKey(name) {\n        return `${name}-class`;\n    }\n    get data() {\n        return this.scope.data;\n    }\n}\n\nclass DataMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    }\n    set(key, value) {\n        const name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    }\n    has(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    }\n    delete(key) {\n        if (this.has(key)) {\n            const name = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    getAttributeNameForKey(key) {\n        return `data-${this.identifier}-${dasherize(key)}`;\n    }\n}\n\nclass Guide {\n    constructor(logger) {\n        this.warnedKeysByObject = new WeakMap();\n        this.logger = logger;\n    }\n    warn(object, key, message) {\n        let warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set();\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    }\n}\n\nfunction attributeValueContainsToken(attributeName, token) {\n    return `[${attributeName}~=\"${token}\"]`;\n}\n\nclass TargetSet {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(targetName) {\n        return this.find(targetName) != null;\n    }\n    find(...targetNames) {\n        return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), undefined);\n    }\n    findAll(...targetNames) {\n        return targetNames.reduce((targets, targetName) => [\n            ...targets,\n            ...this.findAllTargets(targetName),\n            ...this.findAllLegacyTargets(targetName),\n        ], []);\n    }\n    findTarget(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    }\n    findAllTargets(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    }\n    getSelectorForTargetName(targetName) {\n        const attributeName = this.schema.targetAttributeForScope(this.identifier);\n        return attributeValueContainsToken(attributeName, targetName);\n    }\n    findLegacyTarget(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    }\n    findAllLegacyTargets(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));\n    }\n    getLegacySelectorForTargetName(targetName) {\n        const targetDescriptor = `${this.identifier}.${targetName}`;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    }\n    deprecate(element, targetName) {\n        if (element) {\n            const { identifier } = this;\n            const attributeName = this.schema.targetAttribute;\n            const revisedAttributeName = this.schema.targetAttributeForScope(identifier);\n            this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}=\"${identifier}.${targetName}\" with ${revisedAttributeName}=\"${targetName}\". ` +\n                `The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);\n        }\n        return element;\n    }\n    get guide() {\n        return this.scope.guide;\n    }\n}\n\nclass OutletSet {\n    constructor(scope, controllerElement) {\n        this.scope = scope;\n        this.controllerElement = controllerElement;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(outletName) {\n        return this.find(outletName) != null;\n    }\n    find(...outletNames) {\n        return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), undefined);\n    }\n    findAll(...outletNames) {\n        return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);\n    }\n    getSelectorForOutletName(outletName) {\n        const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);\n        return this.controllerElement.getAttribute(attributeName);\n    }\n    findOutlet(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        if (selector)\n            return this.findElement(selector, outletName);\n    }\n    findAllOutlets(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        return selector ? this.findAllElements(selector, outletName) : [];\n    }\n    findElement(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];\n    }\n    findAllElements(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName));\n    }\n    matchesElement(element, selector, outletName) {\n        const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || \"\";\n        return element.matches(selector) && controllerAttribute.split(\" \").includes(outletName);\n    }\n}\n\nclass Scope {\n    constructor(schema, element, identifier, logger) {\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = (element) => {\n            return element.closest(this.controllerSelector) === this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n        this.outlets = new OutletSet(this.documentScope, element);\n    }\n    findElement(selector) {\n        return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);\n    }\n    findAllElements(selector) {\n        return [\n            ...(this.element.matches(selector) ? [this.element] : []),\n            ...this.queryElements(selector).filter(this.containsElement),\n        ];\n    }\n    queryElements(selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    }\n    get controllerSelector() {\n        return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    }\n    get isDocumentScope() {\n        return this.element === document.documentElement;\n    }\n    get documentScope() {\n        return this.isDocumentScope\n            ? this\n            : new Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);\n    }\n}\n\nclass ScopeObserver {\n    constructor(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap();\n        this.scopeReferenceCounts = new WeakMap();\n    }\n    start() {\n        this.valueListObserver.start();\n    }\n    stop() {\n        this.valueListObserver.stop();\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    parseValueForToken(token) {\n        const { element, content: identifier } = token;\n        return this.parseValueForElementAndIdentifier(element, identifier);\n    }\n    parseValueForElementAndIdentifier(element, identifier) {\n        const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        let scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    }\n    elementMatchedValue(element, value) {\n        const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    }\n    elementUnmatchedValue(element, value) {\n        const referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    }\n    fetchScopesByIdentifierForElement(element) {\n        let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map();\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    }\n}\n\nclass Router {\n    constructor(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap();\n        this.modulesByIdentifier = new Map();\n    }\n    get element() {\n        return this.application.element;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get logger() {\n        return this.application.logger;\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    get modules() {\n        return Array.from(this.modulesByIdentifier.values());\n    }\n    get contexts() {\n        return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);\n    }\n    start() {\n        this.scopeObserver.start();\n    }\n    stop() {\n        this.scopeObserver.stop();\n    }\n    loadDefinition(definition) {\n        this.unloadIdentifier(definition.identifier);\n        const module = new Module(this.application, definition);\n        this.connectModule(module);\n        const afterLoad = definition.controllerConstructor.afterLoad;\n        if (afterLoad) {\n            afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);\n        }\n    }\n    unloadIdentifier(identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    }\n    getContextForElementAndIdentifier(element, identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find((context) => context.element == element);\n        }\n    }\n    proposeToConnectScopeForElementAndIdentifier(element, identifier) {\n        const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);\n        if (scope) {\n            this.scopeObserver.elementMatchedValue(scope.element, scope);\n        }\n        else {\n            console.error(`Couldn't find or create scope for identifier: \"${identifier}\" and element:`, element);\n        }\n    }\n    handleError(error, message, detail) {\n        this.application.handleError(error, message, detail);\n    }\n    createScopeForElementAndIdentifier(element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    }\n    scopeConnected(scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    }\n    scopeDisconnected(scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    }\n    connectModule(module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.connectContextForScope(scope));\n    }\n    disconnectModule(module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.disconnectContextForScope(scope));\n    }\n}\n\nconst defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\",\n    targetAttributeForScope: (identifier) => `data-${identifier}-target`,\n    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,\n    keyMappings: Object.assign(Object.assign({ enter: \"Enter\", tab: \"Tab\", esc: \"Escape\", space: \" \", up: \"ArrowUp\", down: \"ArrowDown\", left: \"ArrowLeft\", right: \"ArrowRight\", home: \"Home\", end: \"End\", page_up: \"PageUp\", page_down: \"PageDown\" }, objectFromEntries(\"abcdefghijklmnopqrstuvwxyz\".split(\"\").map((c) => [c, c]))), objectFromEntries(\"0123456789\".split(\"\").map((n) => [n, n]))),\n};\nfunction objectFromEntries(array) {\n    return array.reduce((memo, [k, v]) => (Object.assign(Object.assign({}, memo), { [k]: v })), {});\n}\n\nclass Application {\n    constructor(element = document.documentElement, schema = defaultSchema) {\n        this.logger = console;\n        this.debug = false;\n        this.logDebugActivity = (identifier, functionName, detail = {}) => {\n            if (this.debug) {\n                this.logFormattedMessage(identifier, functionName, detail);\n            }\n        };\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n        this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);\n    }\n    static start(element, schema) {\n        const application = new this(element, schema);\n        application.start();\n        return application;\n    }\n    async start() {\n        await domReady();\n        this.logDebugActivity(\"application\", \"starting\");\n        this.dispatcher.start();\n        this.router.start();\n        this.logDebugActivity(\"application\", \"start\");\n    }\n    stop() {\n        this.logDebugActivity(\"application\", \"stopping\");\n        this.dispatcher.stop();\n        this.router.stop();\n        this.logDebugActivity(\"application\", \"stop\");\n    }\n    register(identifier, controllerConstructor) {\n        this.load({ identifier, controllerConstructor });\n    }\n    registerActionOption(name, filter) {\n        this.actionDescriptorFilters[name] = filter;\n    }\n    load(head, ...rest) {\n        const definitions = Array.isArray(head) ? head : [head, ...rest];\n        definitions.forEach((definition) => {\n            if (definition.controllerConstructor.shouldLoad) {\n                this.router.loadDefinition(definition);\n            }\n        });\n    }\n    unload(head, ...rest) {\n        const identifiers = Array.isArray(head) ? head : [head, ...rest];\n        identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));\n    }\n    get controllers() {\n        return this.router.contexts.map((context) => context.controller);\n    }\n    getControllerForElementAndIdentifier(element, identifier) {\n        const context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    }\n    handleError(error, message, detail) {\n        var _a;\n        this.logger.error(`%s\\n\\n%o\\n\\n%o`, message, error, detail);\n        (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message, \"\", 0, 0, error);\n    }\n    logFormattedMessage(identifier, functionName, detail = {}) {\n        detail = Object.assign({ application: this }, detail);\n        this.logger.groupCollapsed(`${identifier} #${functionName}`);\n        this.logger.log(\"details:\", Object.assign({}, detail));\n        this.logger.groupEnd();\n    }\n}\nfunction domReady() {\n    return new Promise((resolve) => {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => resolve());\n        }\n        else {\n            resolve();\n        }\n    });\n}\n\nfunction ClassPropertiesBlessing(constructor) {\n    const classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce((properties, classDefinition) => {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    return {\n        [`${key}Class`]: {\n            get() {\n                const { classes } = this;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    const attribute = classes.getAttributeName(key);\n                    throw new Error(`Missing attribute \"${attribute}\"`);\n                }\n            },\n        },\n        [`${key}Classes`]: {\n            get() {\n                return this.classes.getAll(key);\n            },\n        },\n        [`has${capitalize(key)}Class`]: {\n            get() {\n                return this.classes.has(key);\n            },\n        },\n    };\n}\n\nfunction OutletPropertiesBlessing(constructor) {\n    const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n    return outlets.reduce((properties, outletDefinition) => {\n        return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));\n    }, {});\n}\nfunction getOutletController(controller, element, identifier) {\n    return controller.application.getControllerForElementAndIdentifier(element, identifier);\n}\nfunction getControllerAndEnsureConnectedScope(controller, element, outletName) {\n    let outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);\n    outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n}\nfunction propertiesForOutletDefinition(name) {\n    const camelizedName = namespaceCamelize(name);\n    return {\n        [`${camelizedName}Outlet`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                    if (outletController)\n                        return outletController;\n                    throw new Error(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`);\n                }\n                throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n            },\n        },\n        [`${camelizedName}Outlets`]: {\n            get() {\n                const outlets = this.outlets.findAll(name);\n                if (outlets.length > 0) {\n                    return outlets\n                        .map((outletElement) => {\n                        const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                        if (outletController)\n                            return outletController;\n                        console.warn(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`, outletElement);\n                    })\n                        .filter((controller) => controller);\n                }\n                return [];\n            },\n        },\n        [`${camelizedName}OutletElement`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    return outletElement;\n                }\n                else {\n                    throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n                }\n            },\n        },\n        [`${camelizedName}OutletElements`]: {\n            get() {\n                return this.outlets.findAll(name);\n            },\n        },\n        [`has${capitalize(camelizedName)}Outlet`]: {\n            get() {\n                return this.outlets.has(name);\n            },\n        },\n    };\n}\n\nfunction TargetPropertiesBlessing(constructor) {\n    const targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce((properties, targetDefinition) => {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    return {\n        [`${name}Target`]: {\n            get() {\n                const target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(`Missing target element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${name}Targets`]: {\n            get() {\n                return this.targets.findAll(name);\n            },\n        },\n        [`has${capitalize(name)}Target`]: {\n            get() {\n                return this.targets.has(name);\n            },\n        },\n    };\n}\n\nfunction ValuePropertiesBlessing(constructor) {\n    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    const propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get() {\n                return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {\n                    const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);\n                    const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, { [attributeName]: valueDescriptor });\n                }, {});\n            },\n        },\n    };\n    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\nfunction propertiesForValueDefinitionPair(valueDefinitionPair, controller) {\n    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);\n    const { key, name, reader: read, writer: write } = definition;\n    return {\n        [name]: {\n            get() {\n                const value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set(value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            },\n        },\n        [`has${capitalize(name)}`]: {\n            get() {\n                return this.data.has(key) || definition.hasCustomDefaultValue;\n            },\n        },\n    };\n}\nfunction parseValueDefinitionPair([token, typeDefinition], controller) {\n    return valueDescriptorForTokenAndTypeDefinition({\n        controller,\n        token,\n        typeDefinition,\n    });\n}\nfunction parseValueTypeConstant(constant) {\n    switch (constant) {\n        case Array:\n            return \"array\";\n        case Boolean:\n            return \"boolean\";\n        case Number:\n            return \"number\";\n        case Object:\n            return \"object\";\n        case String:\n            return \"string\";\n    }\n}\nfunction parseValueTypeDefault(defaultValue) {\n    switch (typeof defaultValue) {\n        case \"boolean\":\n            return \"boolean\";\n        case \"number\":\n            return \"number\";\n        case \"string\":\n            return \"string\";\n    }\n    if (Array.isArray(defaultValue))\n        return \"array\";\n    if (Object.prototype.toString.call(defaultValue) === \"[object Object]\")\n        return \"object\";\n}\nfunction parseValueTypeObject(payload) {\n    const { controller, token, typeObject } = payload;\n    const hasType = isSomething(typeObject.type);\n    const hasDefault = isSomething(typeObject.default);\n    const fullObject = hasType && hasDefault;\n    const onlyType = hasType && !hasDefault;\n    const onlyDefault = !hasType && hasDefault;\n    const typeFromObject = parseValueTypeConstant(typeObject.type);\n    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);\n    if (onlyType)\n        return typeFromObject;\n    if (onlyDefault)\n        return typeFromDefaultValue;\n    if (typeFromObject !== typeFromDefaultValue) {\n        const propertyPath = controller ? `${controller}.${token}` : token;\n        throw new Error(`The specified default value for the Stimulus Value \"${propertyPath}\" must match the defined type \"${typeFromObject}\". The provided default value of \"${typeObject.default}\" is of type \"${typeFromDefaultValue}\".`);\n    }\n    if (fullObject)\n        return typeFromObject;\n}\nfunction parseValueTypeDefinition(payload) {\n    const { controller, token, typeDefinition } = payload;\n    const typeObject = { controller, token, typeObject: typeDefinition };\n    const typeFromObject = parseValueTypeObject(typeObject);\n    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);\n    const typeFromConstant = parseValueTypeConstant(typeDefinition);\n    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;\n    if (type)\n        return type;\n    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;\n    throw new Error(`Unknown value type \"${propertyPath}\" for \"${token}\" value`);\n}\nfunction defaultValueForDefinition(typeDefinition) {\n    const constant = parseValueTypeConstant(typeDefinition);\n    if (constant)\n        return defaultValuesByType[constant];\n    const hasDefault = hasProperty(typeDefinition, \"default\");\n    const hasType = hasProperty(typeDefinition, \"type\");\n    const typeObject = typeDefinition;\n    if (hasDefault)\n        return typeObject.default;\n    if (hasType) {\n        const { type } = typeObject;\n        const constantFromType = parseValueTypeConstant(type);\n        if (constantFromType)\n            return defaultValuesByType[constantFromType];\n    }\n    return typeDefinition;\n}\nfunction valueDescriptorForTokenAndTypeDefinition(payload) {\n    const { token, typeDefinition } = payload;\n    const key = `${dasherize(token)}-value`;\n    const type = parseValueTypeDefinition(payload);\n    return {\n        type,\n        key,\n        name: camelize(key),\n        get defaultValue() {\n            return defaultValueForDefinition(typeDefinition);\n        },\n        get hasCustomDefaultValue() {\n            return parseValueTypeDefault(typeDefinition) !== undefined;\n        },\n        reader: readers[type],\n        writer: writers[type] || writers.default,\n    };\n}\nconst defaultValuesByType = {\n    get array() {\n        return [];\n    },\n    boolean: false,\n    number: 0,\n    get object() {\n        return {};\n    },\n    string: \"\",\n};\nconst readers = {\n    array(value) {\n        const array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(`expected value of type \"array\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(array)}\"`);\n        }\n        return array;\n    },\n    boolean(value) {\n        return !(value == \"0\" || String(value).toLowerCase() == \"false\");\n    },\n    number(value) {\n        return Number(value.replace(/_/g, \"\"));\n    },\n    object(value) {\n        const object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(`expected value of type \"object\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(object)}\"`);\n        }\n        return object;\n    },\n    string(value) {\n        return value;\n    },\n};\nconst writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON,\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return `${value}`;\n}\n\nclass Controller {\n    constructor(context) {\n        this.context = context;\n    }\n    static get shouldLoad() {\n        return true;\n    }\n    static afterLoad(_identifier, _application) {\n        return;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get targets() {\n        return this.scope.targets;\n    }\n    get outlets() {\n        return this.scope.outlets;\n    }\n    get classes() {\n        return this.scope.classes;\n    }\n    get data() {\n        return this.scope.data;\n    }\n    initialize() {\n    }\n    connect() {\n    }\n    disconnect() {\n    }\n    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true, } = {}) {\n        const type = prefix ? `${prefix}:${eventName}` : eventName;\n        const event = new CustomEvent(type, { detail, bubbles, cancelable });\n        target.dispatchEvent(event);\n        return event;\n    }\n}\nController.blessings = [\n    ClassPropertiesBlessing,\n    TargetPropertiesBlessing,\n    ValuePropertiesBlessing,\n    OutletPropertiesBlessing,\n];\nController.targets = [];\nController.outlets = [];\nController.values = {};\n\nexport { Application, AttributeObserver, Context, Controller, ElementObserver, IndexedMultimap, Multimap, SelectorObserver, StringMapObserver, TokenListObserver, ValueListObserver, add, defaultSchema, del, fetch, prune };\n", "import { Application } from \"@hotwired/stimulus\"\n\nconst application = Application.start()\n\n// Configure Stimulus development experience\napplication.debug = false\nwindow.Stimulus   = application\n\nexport { application }\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    call(e) {\n        let message = this.element.getAttribute(\"data-confirm\");\n        if (!confirm(message)) {\n            e.preventDefault();\n        }\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    call(e) {\n        this.element.insertAdjacentHTML('afterbegin', '<div id=\"loader\" class=\"loader\"></div>');\n\n        setTimeout(() => {\n            this.element.querySelector('#loader').remove();\n        }, 1000);\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    connect() {\n        this.startTimer();\n    }\n\n    startTimer() {\n        this.timer = setInterval(() => {\n            this.removeAlert();\n        }, 5000)\n    }\n\n    removeAlert() {\n        const alerts = this.element;\n        alerts.remove();\n    }\n}", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    clearForm() {\n        document.addEventListener(\"turbo:submit-end\", (event) => {\n            if (event.detail.success) {\n                this.element.reset();\n            }\n        });\n    }\n}\n", "const t=(t,e=1e4)=>(t=parseFloat(t+\"\")||0,Math.round((t+Number.EPSILON)*e)/e),e=function(t){if(!(t&&t instanceof Element&&t.offsetParent))return!1;const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY,n=-1!==i.indexOf(\"hidden\"),s=-1!==i.indexOf(\"visible\");return e&&!n&&!s},i=function(t,n=void 0){return!(!t||t===document.body||n&&t===n)&&(e(t)?t:i(t.parentElement,n))},n=function(t){var e=(new DOMParser).parseFromString(t,\"text/html\").body;if(e.childElementCount>1){for(var i=document.createElement(\"div\");e.firstChild;)i.appendChild(e.firstChild);return i}return e.firstChild},s=t=>`${t||\"\"}`.split(\" \").filter((t=>!!t)),o=(t,e,i)=>{t&&s(e).forEach((e=>{t.classList.toggle(e,i||!1)}))};class a{constructor(t){Object.defineProperty(this,\"pageX\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"pageY\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"clientX\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"clientY\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"id\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"time\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"nativePointer\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,this.id=self.Touch&&t instanceof Touch?t.identifier:-1,this.time=Date.now()}}const r={passive:!1};class l{constructor(t,{start:e=(()=>!0),move:i=(()=>{}),end:n=(()=>{})}){Object.defineProperty(this,\"element\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"startCallback\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"moveCallback\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"endCallback\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"currentPointers\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,\"startPointers\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=t,this.startCallback=e,this.moveCallback=i,this.endCallback=n;for(const t of[\"onPointerStart\",\"onTouchStart\",\"onMove\",\"onTouchEnd\",\"onPointerEnd\",\"onWindowBlur\"])this[t]=this[t].bind(this);this.element.addEventListener(\"mousedown\",this.onPointerStart,r),this.element.addEventListener(\"touchstart\",this.onTouchStart,r),this.element.addEventListener(\"touchmove\",this.onMove,r),this.element.addEventListener(\"touchend\",this.onTouchEnd),this.element.addEventListener(\"touchcancel\",this.onTouchEnd)}onPointerStart(t){if(!t.buttons||0!==t.button)return;const e=new a(t);this.currentPointers.some((t=>t.id===e.id))||this.triggerPointerStart(e,t)&&(window.addEventListener(\"mousemove\",this.onMove),window.addEventListener(\"mouseup\",this.onPointerEnd),window.addEventListener(\"blur\",this.onWindowBlur))}onTouchStart(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerStart(new a(e),t);window.addEventListener(\"blur\",this.onWindowBlur)}onMove(t){const e=this.currentPointers.slice(),i=\"changedTouches\"in t?Array.from(t.changedTouches||[]).map((t=>new a(t))):[new a(t)],n=[];for(const t of i){const e=this.currentPointers.findIndex((e=>e.id===t.id));e<0||(n.push(t),this.currentPointers[e]=t)}n.length&&this.moveCallback(t,this.currentPointers.slice(),e)}onPointerEnd(t){t.buttons>0&&0!==t.button||(this.triggerPointerEnd(t,new a(t)),window.removeEventListener(\"mousemove\",this.onMove),window.removeEventListener(\"mouseup\",this.onPointerEnd),window.removeEventListener(\"blur\",this.onWindowBlur))}onTouchEnd(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerEnd(t,new a(e))}triggerPointerStart(t,e){return!!this.startCallback(e,t,this.currentPointers.slice())&&(this.currentPointers.push(t),this.startPointers.push(t),!0)}triggerPointerEnd(t,e){const i=this.currentPointers.findIndex((t=>t.id===e.id));i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(t,e,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const t=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event(\"touchend\",{bubbles:!0,cancelable:!0,clientX:t.clientX,clientY:t.clientY}),t,this.currentPointers.slice())}}stop(){this.element.removeEventListener(\"mousedown\",this.onPointerStart,r),this.element.removeEventListener(\"touchstart\",this.onTouchStart,r),this.element.removeEventListener(\"touchmove\",this.onMove,r),this.element.removeEventListener(\"touchend\",this.onTouchEnd),this.element.removeEventListener(\"touchcancel\",this.onTouchEnd),window.removeEventListener(\"mousemove\",this.onMove),window.removeEventListener(\"mouseup\",this.onPointerEnd),window.removeEventListener(\"blur\",this.onWindowBlur)}}function c(t,e){return e?Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2)):0}function h(t,e){return e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t}const d=t=>\"object\"==typeof t&&null!==t&&t.constructor===Object&&\"[object Object]\"===Object.prototype.toString.call(t),u=(t,...e)=>{const i=e.length;for(let n=0;n<i;n++){const i=e[n]||{};Object.entries(i).forEach((([e,i])=>{const n=Array.isArray(i)?[]:{};t[e]||Object.assign(t,{[e]:n}),d(i)?Object.assign(t[e],u(n,i)):Array.isArray(i)?Object.assign(t,{[e]:[...i]}):Object.assign(t,{[e]:i})}))}return t},p=function(t,e){return t.split(\".\").reduce(((t,e)=>\"object\"==typeof t?t[e]:void 0),e)};class f{constructor(t={}){Object.defineProperty(this,\"options\",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,\"events\",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t);for(const t of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))t.startsWith(\"on\")&&\"function\"==typeof this[t]&&(this[t]=this[t].bind(this))}setOptions(t){this.options=t?u({},this.constructor.defaults,t):{};for(const[t,e]of Object.entries(this.option(\"on\")||{}))this.on(t,e)}option(t,...e){let i=p(t,this.options);return i&&\"function\"==typeof i&&(i=i.call(this,this,...e)),i}optionFor(t,e,i,...n){let s=p(e,t);var o;\"string\"!=typeof(o=s)||isNaN(o)||isNaN(parseFloat(o))||(s=parseFloat(s)),\"true\"===s&&(s=!0),\"false\"===s&&(s=!1),s&&\"function\"==typeof s&&(s=s.call(this,this,t,...n));let a=p(e,this.options);return a&&\"function\"==typeof a?s=a.call(this,this,t,...n,s):void 0===s&&(s=a),void 0===s?i:s}cn(t){const e=this.options.classes;return e&&e[t]||\"\"}localize(t,e=[]){t=String(t).replace(/\\{\\{(\\w+).?(\\w+)?\\}\\}/g,((t,e,i)=>{let n=\"\";return i?n=this.option(`${e[0]+e.toLowerCase().substring(1)}.l10n.${i}`):e&&(n=this.option(`l10n.${e}`)),n||(n=t),n}));for(let i=0;i<e.length;i++)t=t.split(e[i][0]).join(e[i][1]);return t=t.replace(/\\{\\{(.*?)\\}\\}/g,((t,e)=>e))}on(t,e){let i=[];\"string\"==typeof t?i=t.split(\" \"):Array.isArray(t)&&(i=t),this.events||(this.events=new Map),i.forEach((t=>{let i=this.events.get(t);i||(this.events.set(t,[]),i=[]),i.includes(e)||i.push(e),this.events.set(t,i)}))}off(t,e){let i=[];\"string\"==typeof t?i=t.split(\" \"):Array.isArray(t)&&(i=t),i.forEach((t=>{const i=this.events.get(t);if(Array.isArray(i)){const t=i.indexOf(e);t>-1&&i.splice(t,1)}}))}emit(t,...e){[...this.events.get(t)||[]].forEach((t=>t(this,...e))),\"*\"!==t&&this.emit(\"*\",t,...e)}}Object.defineProperty(f,\"version\",{enumerable:!0,configurable:!0,writable:!0,value:\"5.0.33\"}),Object.defineProperty(f,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{}});class g extends f{constructor(t={}){super(t),Object.defineProperty(this,\"plugins\",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(t={}){const e=new Map;for(const[i,n]of Object.entries(t)){const t=this.option(i),s=this.plugins[i];s||!1===t?s&&!1===t&&(s.detach(),delete this.plugins[i]):e.set(i,new n(this,t||{}))}for(const[t,i]of e)this.plugins[t]=i,i.attach()}detachPlugins(t){t=t||Object.keys(this.plugins);for(const e of t){const t=this.plugins[e];t&&t.detach(),delete this.plugins[e]}return this.emit(\"detachPlugins\"),this}}var m;!function(t){t[t.Init=0]=\"Init\",t[t.Error=1]=\"Error\",t[t.Ready=2]=\"Ready\",t[t.Panning=3]=\"Panning\",t[t.Mousemove=4]=\"Mousemove\",t[t.Destroy=5]=\"Destroy\"}(m||(m={}));const v=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"],b={PANUP:\"Move up\",PANDOWN:\"Move down\",PANLEFT:\"Move left\",PANRIGHT:\"Move right\",ZOOMIN:\"Zoom in\",ZOOMOUT:\"Zoom out\",TOGGLEZOOM:\"Toggle zoom level\",TOGGLE1TO1:\"Toggle zoom level\",ITERATEZOOM:\"Toggle zoom level\",ROTATECCW:\"Rotate counterclockwise\",ROTATECW:\"Rotate clockwise\",FLIPX:\"Flip horizontally\",FLIPY:\"Flip vertically\",FITX:\"Fit horizontally\",FITY:\"Fit vertically\",RESET:\"Reset\",TOGGLEFS:\"Toggle fullscreen\"},y={content:null,width:\"auto\",height:\"auto\",panMode:\"drag\",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:\"auto\",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:\"toggleZoom\",dblClick:!1,wheel:\"zoom\",wheelLimit:7,spinner:!0,bounds:\"auto\",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:\"f-panzoom__content\",isLoading:\"is-loading\",canZoomIn:\"can-zoom_in\",canZoomOut:\"can-zoom_out\",isDraggable:\"is-draggable\",isDragging:\"is-dragging\",inFullscreen:\"in-fullscreen\",htmlHasFullscreen:\"with-panzoom-in-fullscreen\"},l10n:b},w='<circle cx=\"25\" cy=\"25\" r=\"20\"></circle>',x='<div class=\"f-spinner\"><svg viewBox=\"0 0 50 50\">'+w+w+\"</svg></div>\",E=t=>t&&null!==t&&t instanceof Element&&\"nodeType\"in t,S=(t,e)=>{t&&s(e).forEach((e=>{t.classList.remove(e)}))},P=(t,e)=>{t&&s(e).forEach((e=>{t.classList.add(e)}))},C={a:1,b:0,c:0,d:1,e:0,f:0},T=1e5,M=1e4,O=\"mousemove\",A=\"drag\",L=\"content\";let z=null,R=null;class k extends g{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return null===R&&(R=window.matchMedia(\"(hover: none)\").matches),R}get isMobile(){return null===z&&(z=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),z}get panMode(){return this.options.panMode!==O||this.isTouchDevice?A:O}get panOnlyZoomed(){const t=this.options.panOnlyZoomed;return\"auto\"===t?this.isTouchDevice:t}get isInfinite(){return this.option(\"infinite\")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:t,b:e}=this.current;return Math.sqrt(t*t+e*e)||1}get targetScale(){const{a:t,b:e}=this.target;return Math.sqrt(t*t+e*e)||1}get minScale(){return this.option(\"minScale\")||1}get fullScale(){const{contentRect:t}=this;return t.fullWidth/t.fitWidth||1}get maxScale(){return this.fullScale*(this.option(\"maxScale\")||1)||1}get coverScale(){const{containerRect:t,contentRect:e}=this,i=Math.max(t.height/e.fitHeight,t.width/e.fitWidth)||1;return Math.min(this.fullScale,i)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const t=this.content;return!!(t&&t instanceof HTMLImageElement)&&!t.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const t of v){const e=\"e\"==t||\"f\"===t?1e-4:1e-5;if(Math.abs(this.target[t]-this.current[t])>e)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(t,e={},i={}){var s;if(super(e),Object.defineProperty(this,\"pointerTracker\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"resizeObserver\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"updateTimer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"clickTimer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"rAF\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"isTicking\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"ignoreBounds\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"isBouncingX\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"isBouncingY\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"clicks\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"trackingPoints\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,\"pwt\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"cwd\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"pmme\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"friction\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:m.Init}),Object.defineProperty(this,\"isDragging\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"content\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"spinner\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"containerRect\",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,\"contentRect\",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,\"dragStart\",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,\"dragOffset\",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,\"current\",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},C)}),Object.defineProperty(this,\"target\",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},C)}),Object.defineProperty(this,\"velocity\",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,\"lockedAxis\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!t)throw new Error(\"Container Element Not Found\");this.container=t,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},k.Plugins),i)),this.emit(\"attachPlugins\"),this.emit(\"init\");const o=this.content;if(o.addEventListener(\"load\",this.onLoad),o.addEventListener(\"error\",this.onError),this.isContentLoading){if(this.option(\"spinner\")){t.classList.add(this.cn(\"isLoading\"));const e=n(x);!t.contains(o)||o.parentElement instanceof HTMLPictureElement?this.spinner=t.appendChild(e):this.spinner=(null===(s=o.parentElement)||void 0===s?void 0:s.insertBefore(e,o))||null}this.emit(\"beforeLoad\")}else queueMicrotask((()=>{this.enable()}))}initContent(){const{container:t}=this,e=this.cn(L);let i=this.option(L)||t.querySelector(`.${e}`);if(i||(i=t.querySelector(\"img,picture\")||t.firstElementChild,i&&P(i,e)),i instanceof HTMLPictureElement&&(i=i.querySelector(\"img\")),!i)throw new Error(\"No content found\");this.content=i}onLoad(){const{spinner:t,container:e,state:i}=this;t&&(t.remove(),this.spinner=null),this.option(\"spinner\")&&e.classList.remove(this.cn(\"isLoading\")),this.emit(\"afterLoad\"),i===m.Init?this.enable():this.updateMetrics()}onError(){this.state!==m.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=m.Error,this.emit(\"error\"))}getNextScale(t){const{fullScale:e,targetScale:i,coverScale:n,maxScale:s,minScale:o}=this;let a=o;switch(t){case\"toggleMax\":a=i-o<.5*(s-o)?s:o;break;case\"toggleCover\":a=i-o<.5*(n-o)?n:o;break;case\"toggleZoom\":a=i-o<.5*(e-o)?e:o;break;case\"iterateZoom\":let t=[1,e,s].sort(((t,e)=>t-e)),r=t.findIndex((t=>t>i+1e-5));a=t[r]||1}return a}attachObserver(){var t;const e=()=>{const{container:t,containerRect:e}=this;return Math.abs(e.width-t.getBoundingClientRect().width)>.1||Math.abs(e.height-t.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((()=>{this.updateTimer||(e()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout((()=>{e()&&this.onResize(),this.updateTimer=null}),500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))}))),null===(t=this.resizeObserver)||void 0===t||t.observe(this.container)}detachObserver(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect()}attachEvents(){const{container:t}=this;t.addEventListener(\"click\",this.onClick,{passive:!1,capture:!1}),t.addEventListener(\"wheel\",this.onWheel,{passive:!1}),this.pointerTracker=new l(t,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(O,this.onMouseMove)}detachEvents(){var t;const{container:e}=this;e.removeEventListener(\"click\",this.onClick,{passive:!1,capture:!1}),e.removeEventListener(\"wheel\",this.onWheel,{passive:!1}),null===(t=this.pointerTracker)||void 0===t||t.stop(),this.pointerTracker=null,document.removeEventListener(O,this.onMouseMove),document.removeEventListener(\"keydown\",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const t=this.friction,e=this.option(\"maxVelocity\");for(const i of v)t?(this.velocity[i]*=1-t,e&&!this.isScaling&&(this.velocity[i]=Math.max(Math.min(this.velocity[i],e),-1*e)),this.current[i]+=this.velocity[i]):this.current[i]=this.target[i];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((()=>this.animate())):this.stop(\"current\")}setTargetForce(){for(const t of v)\"e\"===t&&this.isBouncingX||\"f\"===t&&this.isBouncingY||(this.velocity[t]=(1/(1-this.friction)-1)*(this.target[t]-this.current[t]))}checkBounds(t=0,e=0){const{current:i}=this,n=i.e+t,s=i.f+e,o=this.getBounds(),{x:a,y:r}=o,l=a.min,c=a.max,h=r.min,d=r.max;let u=0,p=0;return l!==1/0&&n<l?u=l-n:c!==1/0&&n>c&&(u=c-n),h!==1/0&&s<h?p=h-s:d!==1/0&&s>d&&(p=d-s),Math.abs(u)<1e-4&&(u=0),Math.abs(p)<1e-4&&(p=0),Object.assign(Object.assign({},o),{xDiff:u,yDiff:p,inBounds:!u&&!p})}clampTargetBounds(){const{target:t}=this,{x:e,y:i}=this.getBounds();e.min!==1/0&&(t.e=Math.max(t.e,e.min)),e.max!==1/0&&(t.e=Math.min(t.e,e.max)),i.min!==1/0&&(t.f=Math.max(t.f,i.min)),i.max!==1/0&&(t.f=Math.min(t.f,i.max))}calculateContentDim(t=this.current){const{content:e,contentRect:i}=this,{fitWidth:n,fitHeight:s,fullWidth:o,fullHeight:a}=i;let r=o,l=a;if(this.option(\"zoom\")||0!==this.angle){const i=!(e instanceof HTMLImageElement)&&(\"none\"===window.getComputedStyle(e).maxWidth||\"none\"===window.getComputedStyle(e).maxHeight),c=i?o:n,h=i?a:s,d=this.getMatrix(t),u=new DOMPoint(0,0).matrixTransform(d),p=new DOMPoint(0+c,0).matrixTransform(d),f=new DOMPoint(0+c,0+h).matrixTransform(d),g=new DOMPoint(0,0+h).matrixTransform(d),m=Math.abs(f.x-u.x),v=Math.abs(f.y-u.y),b=Math.abs(g.x-p.x),y=Math.abs(g.y-p.y);r=Math.max(m,b),l=Math.max(v,y)}return{contentWidth:r,contentHeight:l}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===O||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:t}=this,{x:e,y:i,xDiff:n,yDiff:s}=this.checkBounds();const o=this.option(\"maxVelocity\");let a=this.velocity.e,r=this.velocity.f;0!==n?(this.isBouncingX=!0,n*a<=0?a+=.14*n:(a=.14*n,e.min!==1/0&&(this.target.e=Math.max(t.e,e.min)),e.max!==1/0&&(this.target.e=Math.min(t.e,e.max))),o&&(a=Math.max(Math.min(a,o),-1*o))):this.isBouncingX=!1,0!==s?(this.isBouncingY=!0,s*r<=0?r+=.14*s:(r=.14*s,i.min!==1/0&&(this.target.f=Math.max(t.f,i.min)),i.max!==1/0&&(this.target.f=Math.min(t.f,i.max))),o&&(r=Math.max(Math.min(r,o),-1*o))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=a),this.isBouncingY&&(this.velocity.f=r)}enable(){const{content:t}=this,e=new DOMMatrixReadOnly(window.getComputedStyle(t).transform);for(const t of v)this.current[t]=this.target[t]=e[t];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=m.Ready,this.emit(\"ready\")}onClick(t){var e;\"click\"===t.type&&0===t.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(e=this.pointerTracker)||void 0===e||e.clear(),this.trackingPoints=[],this.startDecelAnim());const i=t.target;if(!i||t.defaultPrevented)return;if(i.hasAttribute(\"disabled\"))return t.preventDefault(),void t.stopPropagation();if((()=>{const t=window.getSelection();return t&&\"Range\"===t.type})()&&!i.closest(\"button\"))return;const n=i.closest(\"[data-panzoom-action]\"),s=i.closest(\"[data-panzoom-change]\"),o=n||s,a=o&&E(o)?o.dataset:null;if(a){const e=a.panzoomChange,i=a.panzoomAction;if((e||i)&&t.preventDefault(),e){let t={};try{t=JSON.parse(e)}catch(t){console&&console.warn(\"The given data was not valid JSON\")}return void this.applyChange(t)}if(i)return void(this[i]&&this[i]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return t.preventDefault(),void t.stopPropagation();if(i.closest(\"[data-fancybox]\"))return;const r=this.content.getBoundingClientRect(),l=this.dragStart;if(l.time&&!this.canZoomOut()&&(Math.abs(r.x-l.x)>2||Math.abs(r.y-l.y)>2))return;this.dragStart.time=0;const c=e=>{this.option(\"zoom\",t)&&e&&\"string\"==typeof e&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(e)&&\"function\"==typeof this[e]&&(t.preventDefault(),this[e]({event:t}))},h=this.option(\"click\",t),d=this.option(\"dblClick\",t);d?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((()=>{1===this.clicks?(this.emit(\"click\",t),!t.defaultPrevented&&h&&c(h)):(this.emit(\"dblClick\",t),t.defaultPrevented||c(d)),this.clicks=0,this.clickTimer=null}),350))):(this.emit(\"click\",t),!t.defaultPrevented&&h&&c(h))}addTrackingPoint(t){const e=this.trackingPoints.filter((t=>t.time>Date.now()-100));e.push(t),this.trackingPoints=e}onPointerDown(t,e,i){var n;if(!1===this.option(\"touch\",t))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const s=this.content.getBoundingClientRect();if(this.dragStart={x:s.x,y:s.y,top:s.top,left:s.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===O&&this.targetScale>1)return t.preventDefault(),t.stopPropagation(),!1;const o=t.composedPath()[0];if(!i.length){if([\"TEXTAREA\",\"OPTION\",\"INPUT\",\"SELECT\",\"VIDEO\",\"IFRAME\"].includes(o.nodeName)||o.closest(\"[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]\"))return!1;null===(n=window.getSelection())||void 0===n||n.removeAllRanges()}if(\"mousedown\"===t.type)[\"A\",\"BUTTON\"].includes(o.nodeName)||t.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(e),this.emit(\"touchStart\",t)),!0}onPointerMove(e,n,s){if(!1===this.option(\"touch\",e))return;if(!this.isDragging)return;if(n.length<2&&this.panOnlyZoomed&&t(this.targetScale)<=t(this.minScale))return;if(this.emit(\"touchMove\",e),e.defaultPrevented)return;this.addTrackingPoint(n[0]);const{content:o}=this,a=h(s[0],s[1]),r=h(n[0],n[1]);let l=0,d=0;if(n.length>1){const t=o.getBoundingClientRect();l=a.clientX-t.left-.5*t.width,d=a.clientY-t.top-.5*t.height}const u=c(s[0],s[1]),p=c(n[0],n[1]);let f=u?p/u:1,g=r.clientX-a.clientX,m=r.clientY-a.clientY;this.dragOffset.x+=g,this.dragOffset.y+=m,this.dragOffset.time=Date.now()-this.dragStart.time;let v=t(this.targetScale)===t(this.minScale)&&this.option(\"lockAxis\");if(v&&!this.lockedAxis)if(\"xy\"===v||\"y\"===v||\"touchmove\"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();const t=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=t>45&&t<135?\"y\":\"x\",this.dragOffset.x=0,this.dragOffset.y=0,g=0,m=0}else this.lockedAxis=v;if(i(e.target,this.content)&&(v=\"x\",this.dragOffset.y=0),v&&\"xy\"!==v&&this.lockedAxis!==v&&t(this.targetScale)===t(this.minScale))return;e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn(\"isDragging\"));const b=this.checkBounds(g,m);this.option(\"rubberband\")?(\"x\"!==this.isInfinite&&(b.xDiff>0&&g<0||b.xDiff<0&&g>0)&&(g*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*b.xDiff))),\"y\"!==this.isInfinite&&(b.yDiff>0&&m<0||b.yDiff<0&&m>0)&&(m*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*b.yDiff)))):(b.xDiff&&(g=0),b.yDiff&&(m=0));const y=this.targetScale,w=this.minScale,x=this.maxScale;y<.5*w&&(f=Math.max(f,w)),y>1.5*x&&(f=Math.min(f,x)),\"y\"===this.lockedAxis&&t(y)===t(w)&&(g=0),\"x\"===this.lockedAxis&&t(y)===t(w)&&(m=0),this.applyChange({originX:l,originY:d,panX:g,panY:m,scale:f,friction:this.option(\"dragFriction\"),ignoreBounds:!0})}onPointerUp(t,e,n){if(n.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn(\"isDragging\")),this.isDragging&&(this.addTrackingPoint(e),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),i(t.target,this.content)&&\"y\"===this.lockedAxis&&(this.trackingPoints=[]),this.emit(\"touchEnd\",t),this.isDragging=!1,this.lockedAxis=!1,this.state!==m.Destroy&&(t.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var e;const i=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const t of v)this.velocity[t]=0;this.target.e=this.current.e,this.target.f=this.current.f,S(this.container,\"is-scaling\"),S(this.container,\"is-animating\"),this.isTicking=!1;const{trackingPoints:n}=this,s=n[0],o=n[n.length-1];let a=0,r=0,l=0;o&&s&&(a=o.clientX-s.clientX,r=o.clientY-s.clientY,l=o.time-s.time);const c=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==c&&(a*=c,r*=c);let h=0,d=0,u=0,p=0,f=this.option(\"decelFriction\");const g=this.targetScale;if(l>0){u=Math.abs(a)>3?a/(l/30):0,p=Math.abs(r)>3?r/(l/30):0;const t=this.option(\"maxVelocity\");t&&(u=Math.max(Math.min(u,t),-1*t),p=Math.max(Math.min(p,t),-1*t))}u&&(h=u/(1/(1-f)-1)),p&&(d=p/(1/(1-f)-1)),(\"y\"===this.option(\"lockAxis\")||\"xy\"===this.option(\"lockAxis\")&&\"y\"===this.lockedAxis&&t(g)===this.minScale)&&(h=u=0),(\"x\"===this.option(\"lockAxis\")||\"xy\"===this.option(\"lockAxis\")&&\"x\"===this.lockedAxis&&t(g)===this.minScale)&&(d=p=0);const m=this.dragOffset.x,b=this.dragOffset.y,y=this.option(\"dragMinThreshold\")||0;Math.abs(m)<y&&Math.abs(b)<y&&(h=d=0,u=p=0),(this.option(\"zoom\")&&(g<this.minScale-1e-5||g>this.maxScale+1e-5)||i&&!h&&!d)&&(f=.35),this.applyChange({panX:h,panY:d,friction:f}),this.emit(\"decel\",u,p,m,b)}onWheel(t){var e=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t}));const i=Math.max(-1,Math.min(1,e));if(this.emit(\"wheel\",t,i),this.panMode===O)return;if(t.defaultPrevented)return;const n=this.option(\"wheel\");\"pan\"===n?(t.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-t.deltaX,panY:2*-t.deltaY,bounce:!1})):\"zoom\"===n&&!1!==this.option(\"zoom\")&&this.zoomWithWheel(t)}onMouseMove(t){this.panWithMouse(t)}onKeydown(t){\"Escape\"===t.key&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit(\"beforeTransform\");const{current:e,target:i,content:n,contentRect:s}=this,o=Object.assign({},C);for(const n of v){const s=\"e\"==n||\"f\"===n?M:T;o[n]=t(e[n],s),Math.abs(i[n]-e[n])<(\"e\"==n||\"f\"===n?.51:.001)&&(e[n]=i[n])}let{a:a,b:r,c:l,d:c,e:h,f:d}=o,u=`matrix(${a}, ${r}, ${l}, ${c}, ${h}, ${d})`,p=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;if(this.option(\"transformParent\")&&(p=p.parentElement||p),p.style.transform===u)return;p.style.transform=u;const{contentWidth:f,contentHeight:g}=this.calculateContentDim();s.width=f,s.height=g,this.emit(\"afterTransform\")}updateMetrics(e=!1){var i;if(!this||this.state===m.Destroy)return;if(this.isContentLoading)return;const n=Math.max(1,(null===(i=window.visualViewport)||void 0===i?void 0:i.scale)||1),{container:s,content:o}=this,a=o instanceof HTMLImageElement,r=s.getBoundingClientRect(),l=getComputedStyle(this.container);let c=r.width*n,h=r.height*n;const d=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),u=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),p=h-d;this.containerRect={width:c,height:h,innerWidth:u,innerHeight:p};let f=this.option(\"width\")||\"auto\",g=this.option(\"height\")||\"auto\";\"auto\"===f&&(f=parseFloat(o.dataset.width||\"\")||(t=>{let e=0;return e=t instanceof HTMLImageElement?t.naturalWidth:t instanceof SVGElement?t.width.baseVal.value:Math.max(t.offsetWidth,t.scrollWidth),e||0})(o)),\"auto\"===g&&(g=parseFloat(o.dataset.height||\"\")||(t=>{let e=0;return e=t instanceof HTMLImageElement?t.naturalHeight:t instanceof SVGElement?t.height.baseVal.value:Math.max(t.offsetHeight,t.scrollHeight),e||0})(o));let v=o.parentElement instanceof HTMLPictureElement?o.parentElement:o;this.option(\"transformParent\")&&(v=v.parentElement||v);const b=v.getAttribute(\"style\")||\"\";v.style.setProperty(\"transform\",\"none\",\"important\"),a&&(v.style.width=\"\",v.style.height=\"\"),v.offsetHeight;const y=o.getBoundingClientRect();let w=y.width*n,x=y.height*n,E=0,S=0;a&&(Math.abs(f-w)>1||Math.abs(g-x)>1)&&({width:w,height:x,top:E,left:S}=((t,e,i,n)=>{const s=i/n;return s>t/e?(i=t,n=t/s):(i=e*s,n=e),{width:i,height:n,top:.5*(e-n),left:.5*(t-i)}})(w,x,f,g)),this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:y.top-r.top+E,bottom:r.bottom-y.bottom+E,left:y.left-r.left+S,right:r.right-y.right+S,fitWidth:w,fitHeight:x,width:w,height:x,fullWidth:f,fullHeight:g}),v.style.cssText=b,a&&(v.style.width=`${w}px`,v.style.height=`${x}px`),this.setTransform(),!0!==e&&this.emit(\"refresh\"),this.ignoreBounds||(t(this.targetScale)<t(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===m.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:e,contentHeight:i}=this.calculateContentDim(this.target),{targetScale:n,lockedAxis:s}=this,{fitWidth:o,fitHeight:a}=this.contentRect;let r=0,l=0,c=0,h=0;const d=this.option(\"infinite\");if(!0===d||s&&d===s)r=-1/0,c=1/0,l=-1/0,h=1/0;else{let{containerRect:s,contentRect:d}=this,u=t(o*n,M),p=t(a*n,M),{innerWidth:f,innerHeight:g}=s;if(s.width===u&&(f=s.width),s.width===p&&(g=s.height),e>f){c=.5*(e-f),r=-1*c;let t=.5*(d.right-d.left);r+=t,c+=t}if(o>f&&e<f&&(r-=.5*(o-f),c-=.5*(o-f)),i>g){h=.5*(i-g),l=-1*h;let t=.5*(d.bottom-d.top);l+=t,h+=t}a>g&&i<g&&(r-=.5*(a-g),c-=.5*(a-g))}return{x:{min:r,max:c},y:{min:l,max:h}}}getBounds(){const t=this.option(\"bounds\");return\"auto\"!==t?t:this.calculateBounds()}updateControls(){const e=this,i=e.container,{panMode:n,contentRect:s,targetScale:a,minScale:r}=e;let l=r,c=e.option(\"click\")||!1;c&&(l=e.getNextScale(c));let h=e.canZoomIn(),d=e.canZoomOut(),u=n===A&&!!this.option(\"touch\"),p=d&&u;if(u&&(t(a)<t(r)&&!this.panOnlyZoomed&&(p=!0),(t(s.width,1)>t(s.fitWidth,1)||t(s.height,1)>t(s.fitHeight,1))&&(p=!0)),t(s.width*a,1)<t(s.fitWidth,1)&&(p=!1),n===O&&(p=!1),o(i,this.cn(\"isDraggable\"),p),!this.option(\"zoom\"))return;let f=h&&t(l)>t(a),g=!f&&!p&&d&&t(l)<t(a);o(i,this.cn(\"canZoomIn\"),f),o(i,this.cn(\"canZoomOut\"),g);for(const t of i.querySelectorAll(\"[data-panzoom-action]\")){let e=!1,i=!1;switch(t.dataset.panzoomAction){case\"zoomIn\":h?e=!0:i=!0;break;case\"zoomOut\":d?e=!0:i=!0;break;case\"toggleZoom\":case\"iterateZoom\":h||d?e=!0:i=!0;const n=t.querySelector(\"g\");n&&(n.style.display=h?\"\":\"none\")}e?(t.removeAttribute(\"disabled\"),t.removeAttribute(\"tabindex\")):i&&(t.setAttribute(\"disabled\",\"\"),t.setAttribute(\"tabindex\",\"-1\"))}}panTo({x:t=this.target.e,y:e=this.target.f,scale:i=this.targetScale,friction:n=this.option(\"friction\"),angle:s=0,originX:o=0,originY:a=0,flipX:r=!1,flipY:l=!1,ignoreBounds:c=!1}){this.state!==m.Destroy&&this.applyChange({panX:t-this.target.e,panY:e-this.target.f,scale:i/this.targetScale,angle:s,originX:o,originY:a,friction:n,flipX:r,flipY:l,ignoreBounds:c})}applyChange({panX:e=0,panY:i=0,scale:n=1,angle:s=0,originX:o=-this.current.e,originY:a=-this.current.f,friction:r=this.option(\"friction\"),flipX:l=!1,flipY:c=!1,ignoreBounds:h=!1,bounce:d=this.option(\"bounce\")}){const u=this.state;if(u===m.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=r||0,this.ignoreBounds=h;const{current:p}=this,f=p.e,g=p.f,b=this.getMatrix(this.target);let y=(new DOMMatrix).translate(f,g).translate(o,a).translate(e,i);if(this.option(\"zoom\")){if(!h){const t=this.targetScale,e=this.minScale,i=this.maxScale;t*n<e&&(n=e/t),t*n>i&&(n=i/t)}y=y.scale(n)}y=y.translate(-o,-a).translate(-f,-g).multiply(b),s&&(y=y.rotate(s)),l&&(y=y.scale(-1,1)),c&&(y=y.scale(1,-1));for(const e of v)\"e\"!==e&&\"f\"!==e&&(y[e]>this.minScale+1e-5||y[e]<this.minScale-1e-5)?this.target[e]=y[e]:this.target[e]=t(y[e],M);(this.targetScale<this.scale||Math.abs(n-1)>.1||this.panMode===O||!1===d)&&!h&&this.clampTargetBounds(),u===m.Init?this.animate():this.isResting||(this.state=m.Panning,this.requestTick())}stop(t=!1){if(this.state===m.Init||this.state===m.Destroy)return;const e=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const e of v)this.velocity[e]=0,\"current\"===t?this.current[e]=this.target[e]:\"target\"===t&&(this.target[e]=this.current[e]);this.setTransform(),S(this.container,\"is-scaling\"),S(this.container,\"is-animating\"),this.isTicking=!1,this.state=m.Ready,e&&(this.emit(\"endAnimation\"),this.updateControls())}requestTick(){this.isTicking||(this.emit(\"startAnimation\"),this.updateControls(),P(this.container,\"is-animating\"),this.isScaling&&P(this.container,\"is-scaling\")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((()=>this.animate())))}panWithMouse(e,i=this.option(\"mouseMoveFriction\")){if(this.pmme=e,this.panMode!==O||!e)return;if(t(this.targetScale)<=t(this.minScale))return;this.emit(\"mouseMove\",e);const{container:n,containerRect:s,contentRect:o}=this,a=s.width,r=s.height,l=n.getBoundingClientRect(),c=(e.clientX||0)-l.left,h=(e.clientY||0)-l.top;let{contentWidth:d,contentHeight:u}=this.calculateContentDim(this.target);const p=this.option(\"mouseMoveFactor\");p>1&&(d!==a&&(d*=p),u!==r&&(u*=p));let f=.5*(d-a)-c/a*100/100*(d-a);f+=.5*(o.right-o.left);let g=.5*(u-r)-h/r*100/100*(u-r);g+=.5*(o.bottom-o.top),this.applyChange({panX:f-this.target.e,panY:g-this.target.f,friction:i})}zoomWithWheel(e){if(this.state===m.Destroy||this.state===m.Init)return;const i=Date.now();if(i-this.pwt<45)return void e.preventDefault();this.pwt=i;var n=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t}));const s=Math.max(-1,Math.min(1,n)),{targetScale:o,maxScale:a,minScale:r}=this;let l=o*(100+45*s)/100;t(l)<t(r)&&t(o)<=t(r)?(this.cwd+=Math.abs(s),l=r):t(l)>t(a)&&t(o)>=t(a)?(this.cwd+=Math.abs(s),l=a):(this.cwd=0,l=Math.max(Math.min(l,a),r)),this.cwd>this.option(\"wheelLimit\")||(e.preventDefault(),t(l)!==t(o)&&this.zoomTo(l,{event:e}))}canZoomIn(){return this.option(\"zoom\")&&(t(this.contentRect.width,1)<t(this.contentRect.fitWidth,1)||t(this.targetScale)<t(this.maxScale))}canZoomOut(){return this.option(\"zoom\")&&t(this.targetScale)>t(this.minScale)}zoomIn(t=1.25,e){this.zoomTo(this.targetScale*t,e)}zoomOut(t=.8,e){this.zoomTo(this.targetScale*t,e)}zoomToFit(t){this.zoomTo(\"fit\",t)}zoomToCover(t){this.zoomTo(\"cover\",t)}zoomToFull(t){this.zoomTo(\"full\",t)}zoomToMax(t){this.zoomTo(\"max\",t)}toggleZoom(t){this.zoomTo(this.getNextScale(\"toggleZoom\"),t)}toggleMax(t){this.zoomTo(this.getNextScale(\"toggleMax\"),t)}toggleCover(t){this.zoomTo(this.getNextScale(\"toggleCover\"),t)}iterateZoom(t){this.zoomTo(\"next\",t)}zoomTo(t=1,{friction:e=\"auto\",originX:i=\"auto\",originY:n=\"auto\",event:s}={}){if(this.isContentLoading||this.state===m.Destroy)return;const{targetScale:o,fullScale:a,maxScale:r,coverScale:l}=this;if(this.stop(),this.panMode===O&&(s=this.pmme||s),s||\"auto\"===i||\"auto\"===n){const t=this.content.getBoundingClientRect(),e=this.container.getBoundingClientRect(),o=s?s.clientX:e.left+.5*e.width,a=s?s.clientY:e.top+.5*e.height;i=o-t.left-.5*t.width,n=a-t.top-.5*t.height}let c=1;\"number\"==typeof t?c=t:\"full\"===t?c=a:\"cover\"===t?c=l:\"max\"===t?c=r:\"fit\"===t?c=1:\"next\"===t&&(c=this.getNextScale(\"iterateZoom\")),c=c/o||1,e=\"auto\"===e?c>1?.15:.25:e,this.applyChange({scale:c,originX:i,originY:n,friction:e}),s&&this.panMode===O&&this.panWithMouse(s,e)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop(\"target\");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.height-(e.top+.5*e.fitHeight)-i.f,scale:t.width/e.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop(\"target\");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.innerHeight-(e.top+.5*e.fitHeight)-i.f,scale:t.height/e.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:t}=this,e=this.cn(\"inFullscreen\"),i=this.cn(\"htmlHasFullscreen\");t.classList.toggle(e);const n=t.classList.contains(e);n?(document.documentElement.classList.add(i),document.addEventListener(\"keydown\",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener(\"keydown\",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?\"enterFS\":\"exitFS\")}getMatrix(t=this.current){const{a:e,b:i,c:n,d:s,e:o,f:a}=t;return new DOMMatrix([e,i,n,s,o,a])}reset(t){if(this.state!==m.Init&&this.state!==m.Destroy){this.stop(\"current\");for(const t of v)this.target[t]=C[t];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===t?this.option(\"friction\"):t,this.state=m.Panning,this.requestTick())}}destroy(){this.stop(),this.state=m.Destroy,this.detachEvents(),this.detachObserver();const{container:t,content:e}=this,i=this.option(\"classes\")||{};for(const e of Object.values(i))t.classList.remove(e+\"\");e&&(e.removeEventListener(\"load\",this.onLoad),e.removeEventListener(\"error\",this.onError)),this.detachPlugins()}}Object.defineProperty(k,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:y}),Object.defineProperty(k,\"Plugins\",{enumerable:!0,configurable:!0,writable:!0,value:{}});const I=function(t,e){let i=!0;return(...n)=>{i&&(i=!1,t(...n),setTimeout((()=>{i=!0}),e))}},D=(t,e)=>{let i=[];return t.childNodes.forEach((t=>{t.nodeType!==Node.ELEMENT_NODE||e&&!t.matches(e)||i.push(t)})),i},F={viewport:null,track:null,enabled:!0,slides:[],axis:\"x\",transition:\"fade\",preload:1,slidesPerPage:\"auto\",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:\"ltr\",classes:{container:\"f-carousel\",viewport:\"f-carousel__viewport\",track:\"f-carousel__track\",slide:\"f-carousel__slide\",isLTR:\"is-ltr\",isRTL:\"is-rtl\",isHorizontal:\"is-horizontal\",isVertical:\"is-vertical\",inTransition:\"in-transition\",isSelected:\"is-selected\"},l10n:{NEXT:\"Next slide\",PREV:\"Previous slide\",GOTO:\"Go to slide #%d\"}};var j;!function(t){t[t.Init=0]=\"Init\",t[t.Ready=1]=\"Ready\",t[t.Destroy=2]=\"Destroy\"}(j||(j={}));const B=t=>{if(\"string\"==typeof t||t instanceof HTMLElement)t={html:t};else{const e=t.thumb;void 0!==e&&(\"string\"==typeof e&&(t.thumbSrc=e),e instanceof HTMLImageElement&&(t.thumbEl=e,t.thumbElSrc=e.src,t.thumbSrc=e.src),delete t.thumb)}return Object.assign({html:\"\",el:null,isDom:!1,class:\"\",customClass:\"\",index:-1,dim:0,gap:0,pos:0,transition:!1},t)},H=(t={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},t);class N extends f{constructor(t,e){super(e),Object.defineProperty(this,\"instance\",{enumerable:!0,configurable:!0,writable:!0,value:t})}attach(){}detach(){}}const _={classes:{list:\"f-carousel__dots\",isDynamic:\"is-dynamic\",hasDots:\"has-dots\",dot:\"f-carousel__dot\",isBeforePrev:\"is-before-prev\",isPrev:\"is-prev\",isCurrent:\"is-current\",isNext:\"is-next\",isAfterNext:\"is-after-next\"},dotTpl:'<button type=\"button\" data-carousel-page=\"%i\" aria-label=\"{{GOTO}}\"><span class=\"f-carousel__dot\" aria-hidden=\"true\"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2};class $ extends N{constructor(){super(...arguments),Object.defineProperty(this,\"isDynamic\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"list\",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let t=this.list;if(!t){t=document.createElement(\"ul\"),P(t,this.cn(\"list\")),t.setAttribute(\"role\",\"tablist\");const e=this.instance.container;e.appendChild(t),P(e,this.cn(\"hasDots\")),this.list=t}return t}refresh(){var t;const e=this.instance.pages.length,i=Math.min(2,this.option(\"minCount\")),n=Math.max(2e3,this.option(\"maxCount\")),s=this.option(\"dynamicFrom\");if(e<i||e>n)return void this.cleanup();const a=\"number\"==typeof s&&e>5&&e>=s,r=!this.list||this.isDynamic!==a||this.list.children.length!==e;r&&this.cleanup();const l=this.build();if(o(l,this.cn(\"isDynamic\"),!!a),r)for(let t=0;t<e;t++)l.append(this.createItem(t));let c,h=0;for(const e of[...l.children]){const i=h===this.instance.page;i&&(c=e),o(e,this.cn(\"isCurrent\"),i),null===(t=e.children[0])||void 0===t||t.setAttribute(\"aria-selected\",i?\"true\":\"false\");for(const t of[\"isBeforePrev\",\"isPrev\",\"isNext\",\"isAfterNext\"])S(e,this.cn(t));h++}if(c=c||l.firstChild,a&&c){const t=c.previousElementSibling,e=t&&t.previousElementSibling;P(t,this.cn(\"isPrev\")),P(e,this.cn(\"isBeforePrev\"));const i=c.nextElementSibling,n=i&&i.nextElementSibling;P(i,this.cn(\"isNext\")),P(n,this.cn(\"isAfterNext\"))}this.isDynamic=a}createItem(t=0){var e;const i=document.createElement(\"li\");i.setAttribute(\"role\",\"presentation\");const s=n(this.instance.localize(this.option(\"dotTpl\"),[[\"%d\",t+1]]).replace(/\\%i/g,t+\"\"));return i.appendChild(s),null===(e=i.children[0])||void 0===e||e.setAttribute(\"role\",\"tab\"),i}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,S(this.instance.container,this.cn(\"hasDots\"))}attach(){this.instance.on([\"refresh\",\"change\"],this.onRefresh)}detach(){this.instance.off([\"refresh\",\"change\"],this.onRefresh),this.cleanup()}}Object.defineProperty($,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:_});const W=\"disabled\",X=\"next\",q=\"prev\";class Y extends N{constructor(){super(...arguments),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"prev\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"next\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"isDom\",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const t=this.instance,e=t.pages.length,i=t.page;if(e<2)return void this.cleanup();this.build();let n=this.prev,s=this.next;n&&s&&(n.removeAttribute(W),s.removeAttribute(W),t.isInfinite||(i<=0&&n.setAttribute(W,\"\"),i>=e-1&&s.setAttribute(W,\"\")))}addBtn(t){var e;const i=this.instance,n=document.createElement(\"button\");n.setAttribute(\"tabindex\",\"0\"),n.setAttribute(\"title\",i.localize(`{{${t.toUpperCase()}}}`)),P(n,this.cn(\"button\")+\" \"+this.cn(t===X?\"isNext\":\"isPrev\"));const s=i.isRTL?t===X?q:X:t;var o;return n.innerHTML=i.localize(this.option(`${s}Tpl`)),n.dataset[`carousel${o=t,o?o.match(\"^[a-z]\")?o.charAt(0).toUpperCase()+o.substring(1):o:\"\"}`]=\"true\",null===(e=this.container)||void 0===e||e.appendChild(n),n}build(){const t=this.instance.container,e=this.cn(\"container\");let{container:i,prev:n,next:s}=this;i||(i=t.querySelector(\".\"+e),this.isDom=!!i),i||(i=document.createElement(\"div\"),P(i,e),t.appendChild(i)),this.container=i,s||(s=i.querySelector(\"[data-carousel-next]\")),s||(s=this.addBtn(X)),this.next=s,n||(n=i.querySelector(\"[data-carousel-prev]\")),n||(n=this.addBtn(q)),this.prev=n}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on([\"refresh\",\"change\"],this.onRefresh)}detach(){this.instance.off([\"refresh\",\"change\"],this.onRefresh),this.cleanup()}}Object.defineProperty(Y,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:\"f-carousel__nav\",button:\"f-button\",isNext:\"is-next\",isPrev:\"is-prev\"},nextTpl:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M9 3l9 9-9 9\"/></svg>',prevTpl:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M15 3l-9 9 9 9\"/></svg>'}});class V extends N{constructor(){super(...arguments),Object.defineProperty(this,\"selectedIndex\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"target\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"nav\",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(t){this.target=this.instance,this.nav=t,this.attachEvents()}addAsNavFor(t){this.nav=this.instance,this.target=t,this.attachEvents()}attachEvents(){const{nav:t,target:e}=this;t&&e&&(t.options.initialSlide=e.options.initialPage,t.state===j.Ready?this.onNavReady(t):t.on(\"ready\",this.onNavReady),e.state===j.Ready?this.onTargetReady(e):e.on(\"ready\",this.onTargetReady))}onNavReady(t){t.on(\"createSlide\",this.onNavCreateSlide),t.on(\"Panzoom.click\",this.onNavClick),t.on(\"Panzoom.touchEnd\",this.onNavTouch),this.onTargetChange()}onTargetReady(t){t.on(\"change\",this.onTargetChange),t.on(\"Panzoom.refresh\",this.onTargetChange),this.onTargetChange()}onNavClick(t,e,i){this.onNavTouch(t,t.panzoom,i)}onNavTouch(t,e,i){var n,s;if(Math.abs(e.dragOffset.x)>3||Math.abs(e.dragOffset.y)>3)return;const o=i.target,{nav:a,target:r}=this;if(!a||!r||!o)return;const l=o.closest(\"[data-index]\");if(i.stopPropagation(),i.preventDefault(),!l)return;const c=parseInt(l.dataset.index||\"\",10)||0,h=r.getPageForSlide(c),d=a.getPageForSlide(c);a.slideTo(d),r.slideTo(h,{friction:(null===(s=null===(n=this.nav)||void 0===n?void 0:n.plugins)||void 0===s?void 0:s.Sync.option(\"friction\"))||0}),this.markSelectedSlide(c)}onNavCreateSlide(t,e){e.index===this.selectedIndex&&this.markSelectedSlide(e.index)}onTargetChange(){var t,e;const{target:i,nav:n}=this;if(!i||!n)return;if(n.state!==j.Ready||i.state!==j.Ready)return;const s=null===(e=null===(t=i.pages[i.page])||void 0===t?void 0:t.slides[0])||void 0===e?void 0:e.index,o=n.getPageForSlide(s);this.markSelectedSlide(s),n.slideTo(o,null===n.prevPage&&null===i.prevPage?{friction:0}:void 0)}markSelectedSlide(t){const e=this.nav;e&&e.state===j.Ready&&(this.selectedIndex=t,[...e.slides].map((e=>{e.el&&e.el.classList[e.index===t?\"add\":\"remove\"](\"is-nav-selected\")})))}attach(){const t=this;let e=t.options.target,i=t.options.nav;e?t.addAsNavFor(e):i&&t.addAsTargetFor(i)}detach(){const t=this,e=t.nav,i=t.target;e&&(e.off(\"ready\",t.onNavReady),e.off(\"createSlide\",t.onNavCreateSlide),e.off(\"Panzoom.click\",t.onNavClick),e.off(\"Panzoom.touchEnd\",t.onNavTouch)),t.nav=null,i&&(i.off(\"ready\",t.onTargetReady),i.off(\"refresh\",t.onTargetChange),i.off(\"change\",t.onTargetChange)),t.target=null}}Object.defineProperty(V,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const Z={Navigation:Y,Dots:$,Sync:V},U=\"animationend\",G=\"isSelected\",K=\"slide\";class J extends g{get axis(){return this.isHorizontal?\"e\":\"f\"}get isEnabled(){return this.state===j.Ready}get isInfinite(){let t=!1;const{contentDim:e,viewportDim:i,pages:n,slides:s}=this,o=s[0];return n.length>=2&&o&&e+o.dim>=i&&(t=this.option(\"infinite\")),t}get isRTL(){return\"rtl\"===this.option(\"direction\")}get isHorizontal(){return\"x\"===this.option(\"axis\")}constructor(t,e={},i={}){if(super(),Object.defineProperty(this,\"bp\",{enumerable:!0,configurable:!0,writable:!0,value:\"\"}),Object.defineProperty(this,\"lp\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"userOptions\",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,\"userPlugins\",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:j.Init}),Object.defineProperty(this,\"page\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"prevPage\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"viewport\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"track\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"slides\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,\"pages\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,\"panzoom\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"inTransition\",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,\"contentDim\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"viewportDim\",{enumerable:!0,configurable:!0,writable:!0,value:0}),\"string\"==typeof t&&(t=document.querySelector(t)),!t||!E(t))throw new Error(\"No Element found\");this.container=t,this.slideNext=I(this.slideNext.bind(this),150),this.slidePrev=I(this.slidePrev.bind(this),150),this.userOptions=e,this.userPlugins=i,queueMicrotask((()=>{this.processOptions()}))}processOptions(){var t,e;const i=u({},J.defaults,this.userOptions);let n=\"\";const s=i.breakpoints;if(s&&d(s))for(const[t,e]of Object.entries(s))window.matchMedia(t).matches&&d(e)&&(n+=t,u(i,e));n===this.bp&&this.state!==j.Init||(this.bp=n,this.state===j.Ready&&(i.initialSlide=(null===(e=null===(t=this.pages[this.page])||void 0===t?void 0:t.slides[0])||void 0===e?void 0:e.index)||0),this.state!==j.Init&&this.destroy(),super.setOptions(i),!1===this.option(\"enabled\")?this.attachEvents():setTimeout((()=>{this.init()}),0))}init(){this.state=j.Init,this.emit(\"init\"),this.attachPlugins(Object.assign(Object.assign({},J.Plugins),this.userPlugins)),this.emit(\"attachPlugins\"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=j.Ready,this.emit(\"ready\")}initLayout(){const{container:t}=this,e=this.option(\"classes\");P(t,this.cn(\"container\")),o(t,e.isLTR,!this.isRTL),o(t,e.isRTL,this.isRTL),o(t,e.isVertical,!this.isHorizontal),o(t,e.isHorizontal,this.isHorizontal);let i=this.option(\"viewport\")||t.querySelector(`.${e.viewport}`);i||(i=document.createElement(\"div\"),P(i,e.viewport),i.append(...D(t,`.${e.slide}`)),t.prepend(i)),i.addEventListener(\"scroll\",this.onScroll);let n=this.option(\"track\")||t.querySelector(`.${e.track}`);n||(n=document.createElement(\"div\"),P(n,e.track),n.append(...Array.from(i.childNodes))),n.setAttribute(\"aria-live\",\"polite\"),i.contains(n)||i.prepend(n),this.viewport=i,this.track=n,this.emit(\"initLayout\")}initSlides(){const{track:t}=this;if(!t)return;const e=[...this.slides],i=[];[...D(t,`.${this.cn(K)}`)].forEach((t=>{if(E(t)){const e=B({el:t,isDom:!0,index:this.slides.length});i.push(e)}}));for(let t of[...this.option(\"slides\",[])||[],...e])i.push(B(t));this.slides=i;for(let t=0;t<this.slides.length;t++)this.slides[t].index=t;for(const t of i)this.emit(\"beforeInitSlide\",t,t.index),this.emit(\"initSlide\",t,t.index);this.emit(\"initSlides\")}setInitialPage(){const t=this.option(\"initialSlide\");this.page=\"number\"==typeof t?this.getPageForSlide(t):parseInt(this.option(\"initialPage\",0)+\"\",10)||0}setInitialPosition(){const{track:t,pages:e,isHorizontal:i}=this;if(!t||!e.length)return;let n=this.page;e[n]||(this.page=n=0);const s=(e[n].pos||0)*(this.isRTL&&i?1:-1),o=i?`${s}px`:\"0\",a=i?\"0\":`${s}px`;t.style.transform=`translate3d(${o}, ${a}, 0) scale(1)`,this.option(\"adaptiveHeight\")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const t=this.option(\"Panzoom\")||{};this.panzoom=new k(this.viewport,u({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?\"x\":\"y\",infinite:this.isInfinite,click:!1,dblClick:!1,touch:t=>!(this.pages.length<2&&!t.options.infinite),bounds:()=>this.getBounds(),maxVelocity:t=>Math.abs(t.target[this.axis]-t.current[this.axis])<2*this.viewportDim?100:0},t)),this.panzoom.on(\"*\",((t,e,...i)=>{this.emit(`Panzoom.${e}`,t,...i)})),this.panzoom.on(\"decel\",this.onDecel),this.panzoom.on(\"refresh\",this.onRefresh),this.panzoom.on(\"beforeTransform\",this.onBeforeTransform),this.panzoom.on(\"endAnimation\",this.onEndAnimation)}attachEvents(){const t=this.container;t&&(t.addEventListener(\"click\",this.onClick,{passive:!1,capture:!1}),t.addEventListener(\"slideTo\",this.onSlideTo)),window.addEventListener(\"resize\",this.onResize)}createPages(){let t=[];const{contentDim:e,viewportDim:i}=this;let n=this.option(\"slidesPerPage\");n=(\"auto\"===n||e<=i)&&!1!==this.option(\"fill\")?1/0:parseFloat(n+\"\");let s=0,o=0,a=0;for(const e of this.slides)(!t.length||o+e.dim-i>.05||a>=n)&&(t.push(H()),s=t.length-1,o=0,a=0),t[s].slides.push(e),o+=e.dim+e.gap,a++;return t}processPages(){const e=this.pages,{contentDim:i,viewportDim:n,isInfinite:s}=this,o=this.option(\"center\"),a=this.option(\"fill\"),r=a&&o&&i>n&&!s;if(e.forEach(((t,e)=>{var s;t.index=e,t.pos=(null===(s=t.slides[0])||void 0===s?void 0:s.pos)||0,t.dim=0;for(const[e,i]of t.slides.entries())t.dim+=i.dim,e<t.slides.length-1&&(t.dim+=i.gap);r&&t.pos+.5*t.dim<.5*n?t.pos=0:r&&t.pos+.5*t.dim>=i-.5*n?t.pos=i-n:o&&(t.pos+=-.5*(n-t.dim))})),e.forEach((e=>{a&&!s&&i>n&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,i-n)),e.pos=t(e.pos,1e3),e.dim=t(e.dim,1e3),Math.abs(e.pos)<=.1&&(e.pos=0)})),s)return e;const l=[];let c;return e.forEach((t=>{const e=Object.assign({},t);c&&e.pos===c.pos?(c.dim+=e.dim,c.slides=[...c.slides,...e.slides]):(e.index=l.length,c=e,l.push(e))})),l}getPageFromIndex(t=0){const e=this.pages.length;let i;return t=parseInt((t||0).toString())||0,i=this.isInfinite?(t%e+e)%e:Math.max(Math.min(t,e-1),0),i}getSlideMetrics(e){var i,n;const s=this.isHorizontal?\"width\":\"height\";let o=0,a=0,r=e.el;const l=!(!r||r.parentNode);if(r?o=parseFloat(r.dataset[s]||\"\")||0:(r=document.createElement(\"div\"),r.style.visibility=\"hidden\",(this.track||document.body).prepend(r)),P(r,this.cn(K)+\" \"+e.class+\" \"+e.customClass),o)r.style[s]=`${o}px`,r.style[\"width\"===s?\"height\":\"width\"]=\"\";else{l&&(this.track||document.body).prepend(r),o=r.getBoundingClientRect()[s]*Math.max(1,(null===(i=window.visualViewport)||void 0===i?void 0:i.scale)||1);let t=r[this.isHorizontal?\"offsetWidth\":\"offsetHeight\"];t-1>o&&(o=t)}const c=getComputedStyle(r);return\"content-box\"===c.boxSizing&&(this.isHorizontal?(o+=parseFloat(c.paddingLeft)||0,o+=parseFloat(c.paddingRight)||0):(o+=parseFloat(c.paddingTop)||0,o+=parseFloat(c.paddingBottom)||0)),a=parseFloat(c[this.isHorizontal?\"marginRight\":\"marginBottom\"])||0,l?null===(n=r.parentElement)||void 0===n||n.removeChild(r):e.el||r.remove(),{dim:t(o,1e3),gap:t(a,1e3)}}getBounds(){const{isInfinite:t,isRTL:e,isHorizontal:i,pages:n}=this;let s={min:0,max:0};if(t)s={min:-1/0,max:1/0};else if(n.length){const t=n[0].pos,o=n[n.length-1].pos;s=e&&i?{min:t,max:o}:{min:-1*o,max:-1*t}}return{x:i?s:{min:0,max:0},y:i?{min:0,max:0}:s}}repositionSlides(){let e,{isHorizontal:i,isRTL:n,isInfinite:s,viewport:o,viewportDim:a,contentDim:r,page:l,pages:c,slides:h,panzoom:d}=this,u=0,p=0,f=0,g=0;d?g=-1*d.current[this.axis]:c[l]&&(g=c[l].pos||0),e=i?n?\"right\":\"left\":\"top\",n&&i&&(g*=-1);for(const i of h){const n=i.el;n?(\"top\"===e?(n.style.right=\"\",n.style.left=\"\"):n.style.top=\"\",i.index!==u?n.style[e]=0===p?\"\":`${t(p,1e3)}px`:n.style[e]=\"\",f+=i.dim+i.gap,u++):p+=i.dim+i.gap}if(s&&f&&o){let n=getComputedStyle(o),s=\"padding\",l=i?\"Right\":\"Bottom\",c=parseFloat(n[s+(i?\"Left\":\"Top\")]);g-=c,a+=c,a+=parseFloat(n[s+l]);for(const i of h)i.el&&(t(i.pos)<t(a)&&t(i.pos+i.dim+i.gap)<t(g)&&t(g)>t(r-a)&&(i.el.style[e]=`${t(p+f,1e3)}px`),t(i.pos+i.gap)>=t(r-a)&&t(i.pos)>t(g+a)&&t(g)<t(a)&&(i.el.style[e]=`-${t(f,1e3)}px`))}let m,v,b=[...this.inTransition];if(b.length>1&&(m=c[b[0]],v=c[b[1]]),m&&v){let i=0;for(const n of h)n.el?this.inTransition.has(n.index)&&m.slides.indexOf(n)<0&&(n.el.style[e]=`${t(i+(m.pos-v.pos),1e3)}px`):i+=n.dim+n.gap}}createSlideEl(t){const{track:e,slides:i}=this;if(!e||!t)return;if(t.el&&t.el.parentNode)return;const n=t.el||document.createElement(\"div\");P(n,this.cn(K)),P(n,t.class),P(n,t.customClass);const s=t.html;s&&(s instanceof HTMLElement?n.appendChild(s):n.innerHTML=t.html+\"\");const o=[];i.forEach(((t,e)=>{t.el&&o.push(e)}));const a=t.index;let r=null;if(o.length){r=i[o.reduce(((t,e)=>Math.abs(e-a)<Math.abs(t-a)?e:t))]}const l=r&&r.el&&r.el.parentNode?r.index<t.index?r.el.nextSibling:r.el:null;e.insertBefore(n,e.contains(l)?l:null),t.el=n,this.emit(\"createSlide\",t)}removeSlideEl(t,e=!1){const i=null==t?void 0:t.el;if(!i||!i.parentNode)return;const n=this.cn(G);if(i.classList.contains(n)&&(S(i,n),this.emit(\"unselectSlide\",t)),t.isDom&&!e)return i.removeAttribute(\"aria-hidden\"),i.removeAttribute(\"data-index\"),void(i.style.left=\"\");this.emit(\"removeSlide\",t);const s=new CustomEvent(U);i.dispatchEvent(s),t.el&&(t.el.remove(),t.el=null)}transitionTo(t=0,e=this.option(\"transition\")){var i,n,s,o;if(!e)return!1;const a=this.page,{pages:r,panzoom:l}=this;t=parseInt((t||0).toString())||0;const c=this.getPageFromIndex(t);if(!l||!r[c]||r.length<2||Math.abs(((null===(n=null===(i=r[a])||void 0===i?void 0:i.slides[0])||void 0===n?void 0:n.dim)||0)-this.viewportDim)>1)return!1;const h=t>a?1:-1,d=r[c].pos*(this.isRTL?1:-1);if(a===c&&Math.abs(d-l.target[this.axis])<1)return!1;this.clearTransitions();const u=l.isResting;P(this.container,this.cn(\"inTransition\"));const p=(null===(s=r[a])||void 0===s?void 0:s.slides[0])||null,f=(null===(o=r[c])||void 0===o?void 0:o.slides[0])||null;this.inTransition.add(f.index),this.createSlideEl(f);let g=p.el,m=f.el;u||e===K||(e=\"fadeFast\",g=null);const v=this.isRTL?\"next\":\"prev\",b=this.isRTL?\"prev\":\"next\";return g&&(this.inTransition.add(p.index),p.transition=e,g.addEventListener(U,this.onAnimationEnd),g.classList.add(`f-${e}Out`,`to-${h>0?b:v}`)),m&&(f.transition=e,m.addEventListener(U,this.onAnimationEnd),m.classList.add(`f-${e}In`,`from-${h>0?v:b}`)),l.current[this.axis]=d,l.target[this.axis]=d,l.requestTick(),this.onChange(c),!0}manageSlideVisiblity(){const t=new Set,e=new Set,i=this.getVisibleSlides(parseFloat(this.option(\"preload\",0)+\"\")||0);for(const n of this.slides)i.has(n)?t.add(n):e.add(n);for(const e of this.inTransition)t.add(this.slides[e]);for(const e of t)this.createSlideEl(e),this.lazyLoadSlide(e);for(const i of e)t.has(i)||this.removeSlideEl(i);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const t=\"aria-hidden\";let e=this.cn(G);if(e)for(const i of this.slides){const n=i.el;n&&(n.dataset.index=`${i.index}`,n.classList.contains(\"f-thumbs__slide\")?this.getVisibleSlides(0).has(i)?n.removeAttribute(t):n.setAttribute(t,\"true\"):this.pages[this.page].slides.includes(i)?(n.classList.contains(e)||(P(n,e),this.emit(\"selectSlide\",i)),n.removeAttribute(t)):(n.classList.contains(e)&&(S(n,e),this.emit(\"unselectSlide\",i)),n.setAttribute(t,\"true\")))}}flipInfiniteTrack(){const{axis:t,isHorizontal:e,isInfinite:i,isRTL:n,viewportDim:s,contentDim:o}=this,a=this.panzoom;if(!a||!i)return;let r=a.current[t],l=a.target[t]-r,c=0,h=.5*s;n&&e?(r<-h&&(c=-1,r+=o),r>o-h&&(c=1,r-=o)):(r>h&&(c=1,r-=o),r<-o+h&&(c=-1,r+=o)),c&&(a.current[t]=r,a.target[t]=r+l)}lazyLoadImg(t,e){const i=this,s=\"f-fadeIn\",o=\"is-preloading\";let a=!1,r=null;const l=()=>{a||(a=!0,r&&(r.remove(),r=null),S(e,o),e.complete&&(P(e,s),setTimeout((()=>{S(e,s)}),350)),this.option(\"adaptiveHeight\")&&t.el&&this.pages[this.page].slides.indexOf(t)>-1&&(i.updateMetrics(),i.setViewportHeight()),this.emit(\"load\",t))};P(e,o),e.src=e.dataset.lazySrcset||e.dataset.lazySrc||\"\",delete e.dataset.lazySrc,delete e.dataset.lazySrcset,e.addEventListener(\"error\",(()=>{l()})),e.addEventListener(\"load\",(()=>{l()})),setTimeout((()=>{const i=e.parentNode;i&&t.el&&(e.complete?l():a||(r=n(x),i.insertBefore(r,e)))}),300)}lazyLoadSlide(t){const e=t&&t.el;if(!e)return;const i=new Set;let n=Array.from(e.querySelectorAll(\"[data-lazy-src],[data-lazy-srcset]\"));e.dataset.lazySrc&&n.push(e),n.map((t=>{t instanceof HTMLImageElement?i.add(t):t instanceof HTMLElement&&t.dataset.lazySrc&&(t.style.backgroundImage=`url('${t.dataset.lazySrc}')`,delete t.dataset.lazySrc)}));for(const e of i)this.lazyLoadImg(t,e)}onAnimationEnd(t){var e;const i=t.target,n=i?parseInt(i.dataset.index||\"\",10)||0:-1,s=this.slides[n],o=t.animationName;if(!i||!s||!o)return;const a=!!this.inTransition.has(n)&&s.transition;a&&o.substring(0,a.length+2)===`f-${a}`&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(null===(e=this.panzoom)||void 0===e?void 0:e.isResting)&&this.emit(\"settle\")}onDecel(t,e=0,i=0,n=0,s=0){if(this.option(\"dragFree\"))return void this.setPageFromPosition();const{isRTL:o,isHorizontal:a,axis:r,pages:l}=this,c=l.length,h=Math.abs(Math.atan2(i,e)/(Math.PI/180));let d=0;if(d=h>45&&h<135?a?0:i:a?e:0,!c)return;let u=this.page,p=o&&a?1:-1;const f=t.current[r]*p;let{pageIndex:g}=this.getPageFromPosition(f);Math.abs(d)>5?(l[u].dim<document.documentElement[\"client\"+(this.isHorizontal?\"Width\":\"Height\")]-1&&(u=g),u=o&&a?d<0?u-1:u+1:d<0?u+1:u-1):u=0===n&&0===s?u:g,this.slideTo(u,{transition:!1,friction:t.option(\"decelFriction\")})}onClick(t){const e=t.target,i=e&&E(e)?e.dataset:null;let n,s;i&&(void 0!==i.carouselPage?(s=\"slideTo\",n=i.carouselPage):void 0!==i.carouselNext?s=\"slideNext\":void 0!==i.carouselPrev&&(s=\"slidePrev\")),s?(t.preventDefault(),t.stopPropagation(),e&&!e.hasAttribute(\"disabled\")&&this[s](n)):this.emit(\"click\",t)}onSlideTo(t){const e=t.detail||0;this.slideTo(this.getPageForSlide(e),{friction:0})}onChange(t,e=0){const i=this.page;this.prevPage=i,this.page=t,this.option(\"adaptiveHeight\")&&this.setViewportHeight(),t!==i&&(this.markSelectedSlides(),this.emit(\"change\",t,i,e))}onRefresh(){let t=this.contentDim,e=this.viewportDim;this.updateMetrics(),this.contentDim===t&&this.viewportDim===e||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var t;null===(t=this.viewport)||void 0===t||t.scroll(0,0)}onResize(){this.option(\"breakpoints\")&&this.processOptions()}onBeforeTransform(t){this.lp!==t.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=t.current.e}onEndAnimation(){this.inTransition.size||this.emit(\"settle\")}reInit(t=null,e=null){this.destroy(),this.state=j.Init,this.prevPage=null,this.userOptions=t||this.userOptions,this.userPlugins=e||this.userPlugins,this.processOptions()}slideTo(t=0,{friction:e=this.option(\"friction\"),transition:i=this.option(\"transition\")}={}){if(this.state===j.Destroy)return;t=parseInt((t||0).toString())||0;const n=this.getPageFromIndex(t),{axis:s,isHorizontal:o,isRTL:a,pages:r,panzoom:l}=this,c=r.length,h=a&&o?1:-1;if(!l||!c)return;if(this.page!==n){const e=new Event(\"beforeChange\",{bubbles:!0,cancelable:!0});if(this.emit(\"beforeChange\",e,t),e.defaultPrevented)return}if(this.transitionTo(t,i))return;let d=r[n].pos;if(this.isInfinite){const e=this.contentDim,i=l.target[s]*h;if(2===c)d+=e*Math.floor(parseFloat(t+\"\")/2);else{d=[d,d-e,d+e].reduce((function(t,e){return Math.abs(e-i)<Math.abs(t-i)?e:t}))}}d*=h,Math.abs(l.target[s]-d)<1||(l.panTo({x:o?d:0,y:o?0:d,friction:e}),this.onChange(n))}slideToClosest(t){if(this.panzoom){const{pageIndex:e}=this.getPageFromPosition();this.slideTo(e,t)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),S(this.container,this.cn(\"inTransition\"));const t=[\"to-prev\",\"to-next\",\"from-prev\",\"from-next\"];for(const e of this.slides){const i=e.el;if(i){i.removeEventListener(U,this.onAnimationEnd),i.classList.remove(...t);const n=e.transition;n&&i.classList.remove(`f-${n}Out`,`f-${n}In`)}}this.manageSlideVisiblity()}addSlide(t,e){var i,n,s,o;const a=this.panzoom,r=(null===(i=this.pages[this.page])||void 0===i?void 0:i.pos)||0,l=(null===(n=this.pages[this.page])||void 0===n?void 0:n.dim)||0,c=this.contentDim<this.viewportDim;let h=Array.isArray(e)?e:[e];const d=[];for(const t of h)d.push(B(t));this.slides.splice(t,0,...d);for(let t=0;t<this.slides.length;t++)this.slides[t].index=t;for(const t of d)this.emit(\"beforeInitSlide\",t,t.index);if(this.page>=t&&(this.page+=d.length),this.updateMetrics(),a){const e=(null===(s=this.pages[this.page])||void 0===s?void 0:s.pos)||0,i=(null===(o=this.pages[this.page])||void 0===o?void 0:o.dim)||0,n=this.pages.length||1,h=this.isRTL?l-i:i-l,d=this.isRTL?r-e:e-r;c&&1===n?(t<=this.page&&(a.current[this.axis]-=h,a.target[this.axis]-=h),a.panTo({[this.isHorizontal?\"x\":\"y\"]:-1*e})):d&&t<=this.page&&(a.target[this.axis]-=d,a.current[this.axis]-=d,a.requestTick())}for(const t of d)this.emit(\"initSlide\",t,t.index)}prependSlide(t){this.addSlide(0,t)}appendSlide(t){this.addSlide(this.slides.length,t)}removeSlide(t){const e=this.slides.length;t=(t%e+e)%e;const i=this.slides[t];if(i){this.removeSlideEl(i,!0),this.slides.splice(t,1);for(let t=0;t<this.slides.length;t++)this.slides[t].index=t;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit(\"destroySlide\",i)}}updateMetrics(){const{panzoom:e,viewport:i,track:n,slides:s,isHorizontal:o,isInfinite:a}=this;if(!n)return;const r=o?\"width\":\"height\",l=o?\"offsetWidth\":\"offsetHeight\";if(i){let e=Math.max(i[l],t(i.getBoundingClientRect()[r],1e3)),n=getComputedStyle(i),s=\"padding\",a=o?\"Right\":\"Bottom\";e-=parseFloat(n[s+(o?\"Left\":\"Top\")])+parseFloat(n[s+a]),this.viewportDim=e}let c,h=0;for(const[e,i]of s.entries()){let n=0,o=0;!i.el&&c?(n=c.dim,o=c.gap):(({dim:n,gap:o}=this.getSlideMetrics(i)),c=i),n=t(n,1e3),o=t(o,1e3),i.dim=n,i.gap=o,i.pos=h,h+=n,(a||e<s.length-1)&&(h+=o)}h=t(h,1e3),this.contentDim=h,e&&(e.contentRect[r]=h,e.contentRect[o?\"fullWidth\":\"fullHeight\"]=h),this.pages=this.createPages(),this.pages=this.processPages(),this.state===j.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit(\"refresh\")}getProgress(e,i=!1,n=!1){void 0===e&&(e=this.page);const s=this,o=s.panzoom,a=s.contentDim,r=s.pages[e]||0;if(!r||!o)return e>this.page?-1:1;let l=-1*o.current.e,c=t((l-r.pos)/(1*r.dim),1e3),h=c,d=c;this.isInfinite&&!0!==n&&(h=t((l-r.pos+a)/(1*r.dim),1e3),d=t((l-r.pos-a)/(1*r.dim),1e3));let u=[c,h,d].reduce((function(t,e){return Math.abs(e)<Math.abs(t)?e:t}));return i?u:u>1?1:u<-1?-1:u}setViewportHeight(){const{page:t,pages:e,viewport:i,isHorizontal:n}=this;if(!i||!e[t])return;let s=0;n&&this.track&&(this.track.style.height=\"auto\",e[t].slides.forEach((t=>{t.el&&(s=Math.max(s,t.el.offsetHeight))}))),i.style.height=s?`${s}px`:\"\"}getPageForSlide(t){for(const e of this.pages)for(const i of e.slides)if(i.index===t)return e.index;return-1}getVisibleSlides(t=0){var e;const i=new Set;let{panzoom:n,contentDim:s,viewportDim:o,pages:a,page:r}=this;if(o){s=s+(null===(e=this.slides[this.slides.length-1])||void 0===e?void 0:e.gap)||0;let l=0;l=n&&n.state!==m.Init&&n.state!==m.Destroy?-1*n.current[this.axis]:a[r]&&a[r].pos||0,this.isInfinite&&(l-=Math.floor(l/s)*s),this.isRTL&&this.isHorizontal&&(l*=-1);const c=l-o*t,h=l+o*(t+1),d=this.isInfinite?[-1,0,1]:[0];for(const t of this.slides)for(const e of d){const n=t.pos+e*s,o=n+t.dim+t.gap;n<h&&o>c&&i.add(t)}}return i}getPageFromPosition(t){const{viewportDim:e,contentDim:i,slides:n,pages:s,panzoom:o}=this,a=s.length,r=n.length,l=n[0],c=n[r-1],h=this.option(\"center\");let d=0,u=0,p=0,f=void 0===t?-1*((null==o?void 0:o.target[this.axis])||0):t;h&&(f+=.5*e),this.isInfinite?(f<l.pos-.5*c.gap&&(f-=i,p=-1),f>c.pos+c.dim+.5*c.gap&&(f-=i,p=1)):f=Math.max(l.pos||0,Math.min(f,c.pos));let g=c,m=n.find((t=>{const e=t.pos-.5*g.gap,i=t.pos+t.dim+.5*t.gap;return g=t,f>=e&&f<i}));return m||(m=c),u=this.getPageForSlide(m.index),d=u+p*a,{page:d,pageIndex:u}}setPageFromPosition(){const{pageIndex:t}=this.getPageFromPosition();this.onChange(t)}destroy(){if([j.Destroy].includes(this.state))return;this.state=j.Destroy;const{container:t,viewport:e,track:i,slides:n,panzoom:s}=this,o=this.option(\"classes\");t.removeEventListener(\"click\",this.onClick,{passive:!1,capture:!1}),t.removeEventListener(\"slideTo\",this.onSlideTo),window.removeEventListener(\"resize\",this.onResize),s&&(s.destroy(),this.panzoom=null),n&&n.forEach((t=>{this.removeSlideEl(t)})),this.detachPlugins(),e&&(e.removeEventListener(\"scroll\",this.onScroll),e.offsetParent&&i&&i.offsetParent&&e.replaceWith(...i.childNodes));for(const[e,i]of Object.entries(o))\"container\"!==e&&i&&t.classList.remove(i);this.track=null,this.viewport=null,this.page=0,this.slides=[];const a=this.events.get(\"ready\");this.events=new Map,a&&this.events.set(\"ready\",a)}}Object.defineProperty(J,\"Panzoom\",{enumerable:!0,configurable:!0,writable:!0,value:k}),Object.defineProperty(J,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:F}),Object.defineProperty(J,\"Plugins\",{enumerable:!0,configurable:!0,writable:!0,value:Z});const Q=function(t){if(!E(t))return 0;const e=window.scrollY,i=window.innerHeight,n=e+i,s=t.getBoundingClientRect(),o=s.y+e,a=s.height,r=o+a;if(e>r||n<o)return 0;if(e<o&&n>r)return 100;if(o<e&&r>n)return 100;let l=a;o<e&&(l-=e-o),r>n&&(l-=r-n);const c=l/i*100;return Math.round(c)},tt=!(\"undefined\"==typeof window||!window.document||!window.document.createElement);let et;const it=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)\",\"iframe\",\"object\",\"embed\",\"video\",\"audio\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"]):not([disabled]):not([aria-hidden])'].join(\",\"),nt=t=>{if(t&&tt){void 0===et&&document.createElement(\"div\").focus({get preventScroll(){return et=!0,!1}});try{if(et)t.focus({preventScroll:!0});else{const e=window.scrollY||document.body.scrollTop,i=window.scrollX||document.body.scrollLeft;t.focus(),document.body.scrollTo({top:e,left:i,behavior:\"auto\"})}}catch(t){}}},st=()=>{const t=document;let e,i=\"\",n=\"\",s=\"\";return t.fullscreenEnabled?(i=\"requestFullscreen\",n=\"exitFullscreen\",s=\"fullscreenElement\"):t.webkitFullscreenEnabled&&(i=\"webkitRequestFullscreen\",n=\"webkitExitFullscreen\",s=\"webkitFullscreenElement\"),i&&(e={request:function(e=t.documentElement){return\"webkitRequestFullscreen\"===i?e[i](Element.ALLOW_KEYBOARD_INPUT):e[i]()},exit:function(){return t[s]&&t[n]()},isFullscreen:function(){return t[s]}}),e},ot={dragToClose:!0,hideScrollbar:!0,Carousel:{classes:{container:\"fancybox__carousel\",viewport:\"fancybox__viewport\",track:\"fancybox__track\",slide:\"fancybox__slide\"}},contentClick:\"toggleZoom\",contentDblClick:!1,backdropClick:\"close\",animated:!0,idle:3500,showClass:\"f-zoomInUp\",hideClass:\"f-fadeOut\",commonCaption:!1,parentEl:null,startIndex:0,l10n:Object.assign(Object.assign({},b),{CLOSE:\"Close\",NEXT:\"Next\",PREV:\"Previous\",MODAL:\"You can close this modal content with the ESC key\",ERROR:\"Something Went Wrong, Please Try Again Later\",IMAGE_ERROR:\"Image Not Found\",ELEMENT_NOT_FOUND:\"HTML Element Not Found\",AJAX_NOT_FOUND:\"Error Loading AJAX : Not Found\",AJAX_FORBIDDEN:\"Error Loading AJAX : Forbidden\",IFRAME_ERROR:\"Error Loading Page\",TOGGLE_ZOOM:\"Toggle zoom level\",TOGGLE_THUMBS:\"Toggle thumbnails\",TOGGLE_SLIDESHOW:\"Toggle slideshow\",TOGGLE_FULLSCREEN:\"Toggle full-screen mode\",DOWNLOAD:\"Download\"}),tpl:{closeButton:'<button data-fancybox-close class=\"f-button is-close-btn\" title=\"{{CLOSE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M20 20L4 4m16 0L4 20\"/></svg></button>',main:'<div class=\"fancybox__container\" role=\"dialog\" aria-modal=\"true\" aria-label=\"{{MODAL}}\" tabindex=\"-1\">\\n    <div class=\"fancybox__backdrop\"></div>\\n    <div class=\"fancybox__carousel\"></div>\\n    <div class=\"fancybox__footer\"></div>\\n  </div>'},groupAll:!1,groupAttr:\"data-fancybox\",defaultType:\"image\",defaultDisplay:\"block\",autoFocus:!0,trapFocus:!0,placeFocusBack:!0,closeButton:\"auto\",keyboard:{Escape:\"close\",Delete:\"close\",Backspace:\"close\",PageUp:\"next\",PageDown:\"prev\",ArrowUp:\"prev\",ArrowDown:\"next\",ArrowRight:\"next\",ArrowLeft:\"prev\"},Fullscreen:{autoStart:!1},compact:()=>window.matchMedia(\"(max-width: 578px), (max-height: 578px)\").matches,wheel:\"zoom\"};var at,rt;!function(t){t[t.Init=0]=\"Init\",t[t.Ready=1]=\"Ready\",t[t.Closing=2]=\"Closing\",t[t.CustomClosing=3]=\"CustomClosing\",t[t.Destroy=4]=\"Destroy\"}(at||(at={})),function(t){t[t.Loading=0]=\"Loading\",t[t.Opening=1]=\"Opening\",t[t.Ready=2]=\"Ready\",t[t.Closing=3]=\"Closing\"}(rt||(rt={}));let lt=\"\",ct=!1,ht=!1,dt=null;const ut=()=>{let t=\"\",e=\"\";const i=Ce.getInstance();if(i){const n=i.carousel,s=i.getSlide();if(n&&s){let o=s.slug||void 0,a=s.triggerEl||void 0;e=o||(i.option(\"slug\")||\"\"),!e&&a&&a.dataset&&(e=a.dataset.fancybox||\"\"),e&&\"true\"!==e&&(t=\"#\"+e+(!o&&n.slides.length>1?\"-\"+(s.index+1):\"\"))}}return{hash:t,slug:e,index:1}},pt=()=>{const t=new URL(document.URL).hash,e=t.slice(1).split(\"-\"),i=e[e.length-1],n=i&&/^\\+?\\d+$/.test(i)&&parseInt(e.pop()||\"1\",10)||1;return{hash:t,slug:e.join(\"-\"),index:n}},ft=()=>{const{slug:t,index:e}=pt();if(!t)return;let i=document.querySelector(`[data-slug=\"${t}\"]`);if(i&&i.dispatchEvent(new CustomEvent(\"click\",{bubbles:!0,cancelable:!0})),Ce.getInstance())return;const n=document.querySelectorAll(`[data-fancybox=\"${t}\"]`);n.length&&(i=n[e-1],i&&i.dispatchEvent(new CustomEvent(\"click\",{bubbles:!0,cancelable:!0})))},gt=()=>{if(!1===Ce.defaults.Hash)return;const t=Ce.getInstance();if(!1===(null==t?void 0:t.options.Hash))return;const{slug:e,index:i}=pt(),{slug:n}=ut();t&&(e===n?t.jumpTo(i-1):(ct=!0,t.close())),ft()},mt=()=>{dt&&clearTimeout(dt),queueMicrotask((()=>{gt()}))},vt=()=>{window.addEventListener(\"hashchange\",mt,!1),setTimeout((()=>{gt()}),500)};tt&&(/complete|interactive|loaded/.test(document.readyState)?vt():document.addEventListener(\"DOMContentLoaded\",vt));const bt=\"is-zooming-in\";class yt extends N{onCreateSlide(t,e,i){const n=this.instance.optionFor(i,\"src\")||\"\";i.el&&\"image\"===i.type&&\"string\"==typeof n&&this.setImage(i,n)}onRemoveSlide(t,e,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0}onChange(t,e,i,n){S(this.instance.container,bt);for(const t of e.slides){const e=t.panzoom;e&&t.index!==i&&e.reset(.35)}}onClose(){var t;const e=this.instance,i=e.container,n=e.getSlide();if(!i||!i.parentElement||!n)return;const{el:s,contentEl:o,panzoom:a,thumbElSrc:r}=n;if(!s||!r||!o||!a||a.isContentLoading||a.state===m.Init||a.state===m.Destroy)return;a.updateMetrics();let l=this.getZoomInfo(n);if(!l)return;this.instance.state=at.CustomClosing,i.classList.remove(bt),i.classList.add(\"is-zooming-out\"),o.style.backgroundImage=`url('${r}')`;const c=i.getBoundingClientRect();1===((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)&&Object.assign(i.style,{position:\"absolute\",top:`${i.offsetTop+window.scrollY}px`,left:`${i.offsetLeft+window.scrollX}px`,bottom:\"auto\",right:\"auto\",width:`${c.width}px`,height:`${c.height}px`,overflow:\"hidden\"});const{x:h,y:d,scale:u,opacity:p}=l;if(p){const t=((t,e,i,n)=>{const s=e-t,o=n-i;return e=>i+((e-t)/s*o||0)})(a.scale,u,1,0);a.on(\"afterTransform\",(()=>{o.style.opacity=t(a.scale)+\"\"}))}a.on(\"endAnimation\",(()=>{e.destroy()})),a.target.a=u,a.target.b=0,a.target.c=0,a.target.d=u,a.panTo({x:h,y:d,scale:u,friction:p?.2:.33,ignoreBounds:!0}),a.isResting&&e.destroy()}setImage(t,e){const i=this.instance;t.src=e,this.process(t,e).then((e=>{const{contentEl:n,imageEl:s,thumbElSrc:o,el:a}=t;if(i.isClosing()||!n||!s)return;n.offsetHeight;const r=!!i.isOpeningSlide(t)&&this.getZoomInfo(t);if(this.option(\"protected\")&&a){a.addEventListener(\"contextmenu\",(t=>{t.preventDefault()}));const t=document.createElement(\"div\");P(t,\"fancybox-protected\"),n.appendChild(t)}if(o&&r){const s=e.contentRect,a=Math.max(s.fullWidth,s.fullHeight);let c=null;!r.opacity&&a>1200&&(c=document.createElement(\"img\"),P(c,\"fancybox-ghost\"),c.src=o,n.appendChild(c));const h=()=>{c&&(P(c,\"f-fadeFastOut\"),setTimeout((()=>{c&&(c.remove(),c=null)}),200))};(l=o,new Promise(((t,e)=>{const i=new Image;i.onload=t,i.onerror=e,i.src=l}))).then((()=>{i.hideLoading(t),t.state=rt.Opening,this.instance.emit(\"reveal\",t),this.zoomIn(t).then((()=>{h(),this.instance.done(t)}),(()=>{})),c&&setTimeout((()=>{h()}),a>2500?800:200)}),(()=>{i.hideLoading(t),i.revealContent(t)}))}else{const n=this.optionFor(t,\"initialSize\"),s=this.optionFor(t,\"zoom\"),o={event:i.prevMouseMoveEvent||i.options.event,friction:s?.12:0};let a=i.optionFor(t,\"showClass\")||void 0,r=!0;i.isOpeningSlide(t)&&(\"full\"===n?e.zoomToFull(o):\"cover\"===n?e.zoomToCover(o):\"max\"===n?e.zoomToMax(o):r=!1,e.stop(\"current\")),r&&a&&(a=e.isDragging?\"f-fadeIn\":\"\"),i.hideLoading(t),i.revealContent(t,a)}var l}),(()=>{i.setError(t,\"{{IMAGE_ERROR}}\")}))}process(t,e){return new Promise(((i,s)=>{var o;const a=this.instance,r=t.el;a.clearContent(t),a.showLoading(t);let l=this.optionFor(t,\"content\");if(\"string\"==typeof l&&(l=n(l)),!l||!E(l)){if(l=document.createElement(\"img\"),l instanceof HTMLImageElement){let i=\"\",n=t.caption;i=\"string\"==typeof n&&n?n.replace(/<[^>]+>/gi,\"\").substring(0,1e3):`Image ${t.index+1} of ${(null===(o=a.carousel)||void 0===o?void 0:o.pages.length)||1}`,l.src=e||\"\",l.alt=i,l.draggable=!1,t.srcset&&l.setAttribute(\"srcset\",t.srcset),this.instance.isOpeningSlide(t)&&(l.fetchPriority=\"high\")}t.sizes&&l.setAttribute(\"sizes\",t.sizes)}P(l,\"fancybox-image\"),t.imageEl=l,a.setContent(t,l,!1);t.panzoom=new k(r,u({transformParent:!0},this.option(\"Panzoom\")||{},{content:l,width:a.optionFor(t,\"width\",\"auto\"),height:a.optionFor(t,\"height\",\"auto\"),wheel:()=>{const t=a.option(\"wheel\");return(\"zoom\"===t||\"pan\"==t)&&t},click:(e,i)=>{var n,s;if(a.isCompact||a.isClosing())return!1;if(t.index!==(null===(n=a.getSlide())||void 0===n?void 0:n.index))return!1;if(i){const t=i.composedPath()[0];if([\"A\",\"BUTTON\",\"TEXTAREA\",\"OPTION\",\"INPUT\",\"SELECT\",\"VIDEO\"].includes(t.nodeName))return!1}let o=!i||i.target&&(null===(s=t.contentEl)||void 0===s?void 0:s.contains(i.target));return a.option(o?\"contentClick\":\"backdropClick\")||!1},dblClick:()=>a.isCompact?\"toggleZoom\":a.option(\"contentDblClick\")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:t=>{i(t)},error:()=>{s()},destroy:()=>{s()}}}))}))}zoomIn(t){return new Promise(((e,i)=>{const n=this.instance,s=n.container,{panzoom:o,contentEl:a,el:r}=t;o&&o.updateMetrics();const l=this.getZoomInfo(t);if(!(l&&r&&a&&o&&s))return void i();const{x:c,y:h,scale:d,opacity:u}=l,p=()=>{t.state!==rt.Closing&&(u&&(a.style.opacity=Math.max(Math.min(1,1-(1-o.scale)/(1-d)),0)+\"\"),o.scale>=1&&o.scale>o.targetScale-.1&&e(o))},f=t=>{(t.scale<.99||t.scale>1.01)&&!t.isDragging||(S(s,bt),a.style.opacity=\"\",t.off(\"endAnimation\",f),t.off(\"touchStart\",f),t.off(\"afterTransform\",p),e(t))};o.on(\"endAnimation\",f),o.on(\"touchStart\",f),o.on(\"afterTransform\",p),o.on([\"error\",\"destroy\"],(()=>{i()})),o.panTo({x:c,y:h,scale:d,friction:0,ignoreBounds:!0}),o.stop(\"current\");const g={event:\"mousemove\"===o.panMode?n.prevMouseMoveEvent||n.options.event:void 0},m=this.optionFor(t,\"initialSize\");P(s,bt),n.hideLoading(t),\"full\"===m?o.zoomToFull(g):\"cover\"===m?o.zoomToCover(g):\"max\"===m?o.zoomToMax(g):o.reset(.172)}))}getZoomInfo(t){const{el:e,imageEl:i,thumbEl:n,panzoom:s}=t,o=this.instance,a=o.container;if(!e||!i||!n||!s||Q(n)<3||!this.optionFor(t,\"zoom\")||!a||o.state===at.Destroy)return!1;if(\"0\"===getComputedStyle(a).getPropertyValue(\"--f-images-zoom\"))return!1;const r=window.visualViewport||null;if(1!==(r?r.scale:1))return!1;let{top:l,left:c,width:h,height:d}=n.getBoundingClientRect(),{top:u,left:p,fitWidth:f,fitHeight:g}=s.contentRect;if(!(h&&d&&f&&g))return!1;const m=s.container.getBoundingClientRect();p+=m.left,u+=m.top;const v=-1*(p+.5*f-(c+.5*h)),b=-1*(u+.5*g-(l+.5*d)),y=h/f;let w=this.option(\"zoomOpacity\")||!1;return\"auto\"===w&&(w=Math.abs(h/d-f/g)>.1),{x:v,y:b,scale:y,opacity:w}}attach(){const t=this,e=t.instance;e.on(\"Carousel.change\",t.onChange),e.on(\"Carousel.createSlide\",t.onCreateSlide),e.on(\"Carousel.removeSlide\",t.onRemoveSlide),e.on(\"close\",t.onClose)}detach(){const t=this,e=t.instance;e.off(\"Carousel.change\",t.onChange),e.off(\"Carousel.createSlide\",t.onCreateSlide),e.off(\"Carousel.removeSlide\",t.onRemoveSlide),e.off(\"close\",t.onClose)}}Object.defineProperty(yt,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:\"fit\",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:\"auto\"}}),\"function\"==typeof SuppressedError&&SuppressedError;const wt=\"html\",xt=\"image\",Et=\"map\",St=\"youtube\",Pt=\"vimeo\",Ct=\"html5video\",Tt=(t,e={})=>{const i=new URL(t),n=new URLSearchParams(i.search),s=new URLSearchParams;for(const[t,i]of[...n,...Object.entries(e)]){let e=i+\"\";if(\"t\"===t){let t=e.match(/((\\d*)m)?(\\d*)s?/);t&&s.set(\"start\",60*parseInt(t[2]||\"0\")+parseInt(t[3]||\"0\")+\"\")}else s.set(t,e)}let o=s+\"\",a=t.match(/#t=((.*)?\\d+s)/);return a&&(o+=`#t=${a[1]}`),o},Mt={ajax:null,autoSize:!0,iframeAttr:{allow:\"autoplay; fullscreen\",scrolling:\"auto\"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class=\"fancybox__html5video\" playsinline controls controlsList=\"nodownload\" poster=\"{{poster}}\">\\n  <source src=\"{{src}}\" type=\"{{format}}\" />Sorry, your browser doesn\\'t support embedded videos.</video>',videoFormat:\"\",vimeo:{byline:1,color:\"00adef\",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},Ot=[\"image\",\"html\",\"ajax\",\"inline\",\"clone\",\"iframe\",\"map\",\"pdf\",\"html5video\",\"youtube\",\"vimeo\"];class At extends N{onBeforeInitSlide(t,e,i){this.processType(i)}onCreateSlide(t,e,i){this.setContent(i)}onClearContent(t,e){e.xhr&&(e.xhr.abort(),e.xhr=null);const i=e.iframeEl;i&&(i.onload=i.onerror=null,i.src=\"//about:blank\",e.iframeEl=null);const n=e.contentEl,s=e.placeholderEl;if(\"inline\"===e.type&&n&&s)n.classList.remove(\"fancybox__content\"),\"none\"!==n.style.display&&(n.style.display=\"none\"),s.parentNode&&s.parentNode.insertBefore(n,s),s.remove(),e.contentEl=void 0,e.placeholderEl=void 0;else for(;e.el&&e.el.firstChild;)e.el.removeChild(e.el.firstChild)}onSelectSlide(t,e,i){i.state===rt.Ready&&this.playVideo()}onUnselectSlide(t,e,i){var n,s;if(i.type===Ct){try{null===(s=null===(n=i.el)||void 0===n?void 0:n.querySelector(\"video\"))||void 0===s||s.pause()}catch(t){}return}let o;i.type===Pt?o={method:\"pause\",value:\"true\"}:i.type===St&&(o={event:\"command\",func:\"pauseVideo\"}),o&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(o),\"*\"),i.poller&&clearTimeout(i.poller)}onDone(t,e){t.isCurrentSlide(e)&&!t.isClosing()&&this.playVideo()}onRefresh(t,e){e.slides.forEach((t=>{t.el&&(this.resizeIframe(t),this.setAspectRatio(t))}))}onMessage(t){try{let e=JSON.parse(t.data);if(\"https://player.vimeo.com\"===t.origin){if(\"ready\"===e.event)for(let e of Array.from(document.getElementsByClassName(\"fancybox__iframe\")))e instanceof HTMLIFrameElement&&e.contentWindow===t.source&&(e.dataset.ready=\"true\")}else if(t.origin.match(/^https:\\/\\/(www.)?youtube(-nocookie)?.com$/)&&\"onReady\"===e.event){const t=document.getElementById(e.id);t&&(t.dataset.ready=\"true\")}}catch(t){}}loadAjaxContent(t){const e=this.instance.optionFor(t,\"src\")||\"\";this.instance.showLoading(t);const i=this.instance,n=new XMLHttpRequest;i.showLoading(t),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&i.state===at.Ready&&(i.hideLoading(t),200===n.status?i.setContent(t,n.responseText):i.setError(t,404===n.status?\"{{AJAX_NOT_FOUND}}\":\"{{AJAX_FORBIDDEN}}\"))};const s=t.ajax||null;n.open(s?\"POST\":\"GET\",e+\"\"),n.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),n.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),n.send(s),t.xhr=n}setInlineContent(t){let e=null;if(E(t.src))e=t.src;else if(\"string\"==typeof t.src){const i=t.src.split(\"#\",2).pop();e=i?document.getElementById(i):null}if(e){if(\"clone\"===t.type||e.closest(\".fancybox__slide\")){e=e.cloneNode(!0);const i=e.dataset.animationName;i&&(e.classList.remove(i),delete e.dataset.animationName);let n=e.getAttribute(\"id\");n=n?`${n}--clone`:`clone-${this.instance.id}-${t.index}`,e.setAttribute(\"id\",n)}else if(e.parentNode){const i=document.createElement(\"div\");i.classList.add(\"fancybox-placeholder\"),e.parentNode.insertBefore(i,e),t.placeholderEl=i}this.instance.setContent(t,e)}else this.instance.setError(t,\"{{ELEMENT_NOT_FOUND}}\")}setIframeContent(t){const{src:e,el:i}=t;if(!e||\"string\"!=typeof e||!i)return;i.classList.add(\"is-loading\");const n=this.instance,s=document.createElement(\"iframe\");s.className=\"fancybox__iframe\",s.setAttribute(\"id\",`fancybox__iframe_${n.id}_${t.index}`);for(const[e,i]of Object.entries(this.optionFor(t,\"iframeAttr\")||{}))s.setAttribute(e,i);s.onerror=()=>{n.setError(t,\"{{IFRAME_ERROR}}\")},t.iframeEl=s;const o=this.optionFor(t,\"preload\");if(\"iframe\"!==t.type||!1===o)return s.setAttribute(\"src\",t.src+\"\"),n.setContent(t,s,!1),this.resizeIframe(t),void n.revealContent(t);n.showLoading(t),s.onload=()=>{if(!s.src.length)return;const e=\"true\"!==s.dataset.ready;s.dataset.ready=\"true\",this.resizeIframe(t),e?n.revealContent(t):n.hideLoading(t)},s.setAttribute(\"src\",e),n.setContent(t,s,!1)}resizeIframe(t){const{type:e,iframeEl:i}=t;if(e===St||e===Pt)return;const n=null==i?void 0:i.parentElement;if(!i||!n)return;let s=t.autoSize;void 0===s&&(s=this.optionFor(t,\"autoSize\"));let o=t.width||0,a=t.height||0;o&&a&&(s=!1);const r=n&&n.style;if(!1!==t.preload&&!1!==s&&r)try{const t=window.getComputedStyle(n),e=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),s=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),l=i.contentWindow;if(l){const t=l.document,i=t.getElementsByTagName(wt)[0],n=t.body;r.width=\"\",n.style.overflow=\"hidden\",o=o||i.scrollWidth+e,r.width=`${o}px`,n.style.overflow=\"\",r.flex=\"0 0 auto\",r.height=`${n.scrollHeight}px`,a=i.scrollHeight+s}}catch(t){}if(o||a){const t={flex:\"0 1 auto\",width:\"\",height:\"\"};o&&\"auto\"!==o&&(t.width=`${o}px`),a&&\"auto\"!==a&&(t.height=`${a}px`),Object.assign(r,t)}}playVideo(){const t=this.instance.getSlide();if(!t)return;const{el:e}=t;if(!e||!e.offsetParent)return;if(!this.optionFor(t,\"videoAutoplay\"))return;if(t.type===Ct)try{const t=e.querySelector(\"video\");if(t){const e=t.play();void 0!==e&&e.then((()=>{})).catch((e=>{t.muted=!0,t.play()}))}}catch(t){}if(t.type!==St&&t.type!==Pt)return;const i=()=>{if(t.iframeEl&&t.iframeEl.contentWindow){let e;if(\"true\"===t.iframeEl.dataset.ready)return e=t.type===St?{event:\"command\",func:\"playVideo\"}:{method:\"play\",value:\"true\"},e&&t.iframeEl.contentWindow.postMessage(JSON.stringify(e),\"*\"),void(t.poller=void 0);t.type===St&&(e={event:\"listening\",id:t.iframeEl.getAttribute(\"id\")},t.iframeEl.contentWindow.postMessage(JSON.stringify(e),\"*\"))}t.poller=setTimeout(i,250)};i()}processType(t){if(t.html)return t.type=wt,t.src=t.html,void(t.html=\"\");const e=this.instance.optionFor(t,\"src\",\"\");if(!e||\"string\"!=typeof e)return;let i=t.type,n=null;if(n=e.match(/(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(?:watch\\?(?:.*&)?v=|v\\/|u\\/|shorts\\/|embed\\/?)?(videoseries\\?list=(?:.*)|[\\w-]{11}|\\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const s=this.optionFor(t,St),{nocookie:o}=s,a=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]])}return i}(s,[\"nocookie\"]),r=`www.youtube${o?\"-nocookie\":\"\"}.com`,l=Tt(e,a),c=encodeURIComponent(n[2]);t.videoId=c,t.src=`https://${r}/embed/${c}?${l}`,t.thumbSrc=t.thumbSrc||`https://i.ytimg.com/vi/${c}/mqdefault.jpg`,i=St}else if(n=e.match(/^.+vimeo.com\\/(?:\\/)?([\\d]+)((\\/|\\?h=)([a-z0-9]+))?(.*)?/)){const s=Tt(e,this.optionFor(t,Pt)),o=encodeURIComponent(n[1]),a=n[4]||\"\";t.videoId=o,t.src=`https://player.vimeo.com/video/${o}?${a?`h=${a}${s?\"&\":\"\"}`:\"\"}${s}`,i=Pt}if(!i&&t.triggerEl){const e=t.triggerEl.dataset.type;Ot.includes(e)&&(i=e)}i||\"string\"==typeof e&&(\"#\"===e.charAt(0)?i=\"inline\":(n=e.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))?(i=Ct,t.videoFormat=t.videoFormat||\"video/\"+(\"ogv\"===n[1]?\"ogg\":n[1])):e.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)?i=xt:e.match(/\\.(pdf)((\\?|#).*)?$/i)&&(i=\"pdf\")),(n=e.match(/(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:(?:(?:maps\\/(?:place\\/(?:.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(?:\\?ll=))(.*)?/i))?(t.src=`https://maps.google.${n[1]}/?ll=${(n[2]?n[2]+\"&z=\"+Math.floor(parseFloat(n[3]))+(n[4]?n[4].replace(/^\\//,\"&\"):\"\"):n[4]+\"\").replace(/\\?/,\"&\")}&output=${n[4]&&n[4].indexOf(\"layer=c\")>0?\"svembed\":\"embed\"}`,i=Et):(n=e.match(/(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:maps\\/search\\/)(.*)/i))&&(t.src=`https://maps.google.${n[1]}/maps?q=${n[2].replace(\"query=\",\"q=\").replace(\"api=1\",\"\")}&output=embed`,i=Et),i=i||this.instance.option(\"defaultType\"),t.type=i,i===xt&&(t.thumbSrc=t.thumbSrc||t.src)}setContent(t){const e=this.instance.optionFor(t,\"src\")||\"\";if(t&&t.type&&e){switch(t.type){case wt:this.instance.setContent(t,e);break;case Ct:const i=this.option(\"videoTpl\");i&&this.instance.setContent(t,i.replace(/\\{\\{src\\}\\}/gi,e+\"\").replace(/\\{\\{format\\}\\}/gi,this.optionFor(t,\"videoFormat\")||\"\").replace(/\\{\\{poster\\}\\}/gi,t.poster||t.thumbSrc||\"\"));break;case\"inline\":case\"clone\":this.setInlineContent(t);break;case\"ajax\":this.loadAjaxContent(t);break;case\"pdf\":case Et:case St:case Pt:t.preload=!1;case\"iframe\":this.setIframeContent(t)}this.setAspectRatio(t)}}setAspectRatio(t){const e=t.contentEl;if(!(t.el&&e&&t.type&&[St,Pt,Ct].includes(t.type)))return;let i,n=t.width||\"auto\",s=t.height||\"auto\";if(\"auto\"===n||\"auto\"===s){i=this.optionFor(t,\"videoRatio\");const e=(i+\"\").match(/(\\d+)\\s*\\/\\s?(\\d+)/);i=e&&e.length>2?parseFloat(e[1])/parseFloat(e[2]):parseFloat(i+\"\")}else n&&s&&(i=n/s);if(!i)return;e.style.aspectRatio=\"\",e.style.width=\"\",e.style.height=\"\",e.offsetHeight;const o=e.getBoundingClientRect(),a=o.width||1,r=o.height||1;e.style.aspectRatio=i+\"\",i<a/r?(s=\"auto\"===s?r:Math.min(r,s),e.style.width=\"auto\",e.style.height=`${s}px`):(n=\"auto\"===n?a:Math.min(a,n),e.style.width=`${n}px`,e.style.height=\"auto\")}attach(){const t=this,e=t.instance;e.on(\"Carousel.beforeInitSlide\",t.onBeforeInitSlide),e.on(\"Carousel.createSlide\",t.onCreateSlide),e.on(\"Carousel.selectSlide\",t.onSelectSlide),e.on(\"Carousel.unselectSlide\",t.onUnselectSlide),e.on(\"Carousel.Panzoom.refresh\",t.onRefresh),e.on(\"done\",t.onDone),e.on(\"clearContent\",t.onClearContent),window.addEventListener(\"message\",t.onMessage)}detach(){const t=this,e=t.instance;e.off(\"Carousel.beforeInitSlide\",t.onBeforeInitSlide),e.off(\"Carousel.createSlide\",t.onCreateSlide),e.off(\"Carousel.selectSlide\",t.onSelectSlide),e.off(\"Carousel.unselectSlide\",t.onUnselectSlide),e.off(\"Carousel.Panzoom.refresh\",t.onRefresh),e.off(\"done\",t.onDone),e.off(\"clearContent\",t.onClearContent),window.removeEventListener(\"message\",t.onMessage)}}Object.defineProperty(At,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:Mt});const Lt=\"play\",zt=\"pause\",Rt=\"ready\";class kt extends N{constructor(){super(...arguments),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:Rt}),Object.defineProperty(this,\"inHover\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"timer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"progressBar\",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==Rt}onReady(t){this.option(\"autoStart\")&&(t.isInfinite||t.page<t.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){\"visible\"===document.visibilityState?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var t;this.inHover=!1,(null===(t=this.instance.panzoom)||void 0===t?void 0:t.isResting)&&this.resume()}onTimerEnd(){const t=this.instance;\"play\"===this.state&&(t.isInfinite||t.page!==t.pages.length-1?t.slideNext():t.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var t;if(!this.option(\"showProgress\"))return null;this.removeProgressBar();const e=this.instance,i=(null===(t=e.pages[e.page])||void 0===t?void 0:t.slides)||[];let n=this.option(\"progressParentEl\");if(n||(n=(1===i.length?i[0].el:null)||e.viewport),!n)return null;const s=document.createElement(\"div\");return P(s,\"f-progress\"),n.prepend(s),this.progressBar=s,s.offsetHeight,s}set(){const t=this,e=t.instance;if(e.pages.length<2)return;if(t.timer)return;const i=t.option(\"timeout\");t.state=Lt,P(e.container,\"has-autoplay\");let n=t.createProgressBar();n&&(n.style.transitionDuration=`${i}ms`,n.style.transform=\"scaleX(1)\"),t.timer=setTimeout((()=>{t.timer=null,t.inHover||t.onTimerEnd()}),i),t.emit(\"set\")}clear(){const t=this;t.timer&&(clearTimeout(t.timer),t.timer=null),t.removeProgressBar()}start(){const t=this;if(t.set(),t.state!==Rt){if(t.option(\"pauseOnHover\")){const e=t.instance.container;e.addEventListener(\"mouseenter\",t.onMouseEnter,!1),e.addEventListener(\"mouseleave\",t.onMouseLeave,!1)}document.addEventListener(\"visibilitychange\",t.onVisibilityChange,!1),t.emit(\"start\")}}stop(){const t=this,e=t.state,i=t.instance.container;t.clear(),t.state=Rt,i.removeEventListener(\"mouseenter\",t.onMouseEnter,!1),i.removeEventListener(\"mouseleave\",t.onMouseLeave,!1),document.removeEventListener(\"visibilitychange\",t.onVisibilityChange,!1),S(i,\"has-autoplay\"),e!==Rt&&t.emit(\"stop\")}pause(){const t=this;t.state===Lt&&(t.state=zt,t.clear(),t.emit(zt))}resume(){const t=this,e=t.instance;if(e.isInfinite||e.page!==e.pages.length-1)if(t.state!==Lt){if(t.state===zt&&!t.inHover){const e=new Event(\"resume\",{bubbles:!0,cancelable:!0});t.emit(\"resume\",e),e.defaultPrevented||t.set()}}else t.set();else t.stop()}toggle(){this.state===Lt||this.state===zt?this.stop():this.start()}attach(){const t=this,e=t.instance;e.on(\"ready\",t.onReady),e.on(\"Panzoom.startAnimation\",t.onChange),e.on(\"Panzoom.endAnimation\",t.onSettle),e.on(\"Panzoom.touchMove\",t.onChange)}detach(){const t=this,e=t.instance;e.off(\"ready\",t.onReady),e.off(\"Panzoom.startAnimation\",t.onChange),e.off(\"Panzoom.endAnimation\",t.onSettle),e.off(\"Panzoom.touchMove\",t.onChange),t.stop()}}Object.defineProperty(kt,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class It extends N{constructor(){super(...arguments),Object.defineProperty(this,\"ref\",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(t){const e=t.carousel;if(!e)return;const i=t.container;i&&(e.options.Autoplay=u({autoStart:!1},this.option(\"Autoplay\")||{},{pauseOnHover:!1,timeout:this.option(\"timeout\"),progressParentEl:()=>this.option(\"progressParentEl\")||null,on:{start:()=>{t.emit(\"startSlideshow\")},set:e=>{var n;i.classList.add(\"has-slideshow\"),(null===(n=t.getSlide())||void 0===n?void 0:n.state)!==rt.Ready&&e.pause()},stop:()=>{i.classList.remove(\"has-slideshow\"),t.isCompact||t.endIdle(),t.emit(\"endSlideshow\")},resume:(e,i)=>{var n,s,o;!i||!i.cancelable||(null===(n=t.getSlide())||void 0===n?void 0:n.state)===rt.Ready&&(null===(o=null===(s=t.carousel)||void 0===s?void 0:s.panzoom)||void 0===o?void 0:o.isResting)||i.preventDefault()}}}),e.attachPlugins({Autoplay:kt}),this.ref=e.plugins.Autoplay)}onReady(t){const e=t.carousel,i=this.ref;i&&e&&this.option(\"playOnStart\")&&(e.isInfinite||e.page<e.pages.length-1)&&i.start()}onDone(t,e){const i=this.ref,n=t.carousel;if(!i||!n)return;const s=e.panzoom;s&&s.on(\"startAnimation\",(()=>{t.isCurrentSlide(e)&&i.stop()})),t.isCurrentSlide(e)&&i.resume()}onKeydown(t,e){var i;const n=this.ref;n&&e===this.option(\"key\")&&\"BUTTON\"!==(null===(i=document.activeElement)||void 0===i?void 0:i.nodeName)&&n.toggle()}attach(){const t=this,e=t.instance;e.on(\"Carousel.init\",t.onPrepare),e.on(\"Carousel.ready\",t.onReady),e.on(\"done\",t.onDone),e.on(\"keydown\",t.onKeydown)}detach(){const t=this,e=t.instance;e.off(\"Carousel.init\",t.onPrepare),e.off(\"Carousel.ready\",t.onReady),e.off(\"done\",t.onDone),e.off(\"keydown\",t.onKeydown)}}Object.defineProperty(It,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{key:\" \",playOnStart:!1,progressParentEl:t=>{var e;return(null===(e=t.instance.container)||void 0===e?void 0:e.querySelector(\".fancybox__toolbar [data-fancybox-toggle-slideshow]\"))||t.instance.container},timeout:3e3}});const Dt={classes:{container:\"f-thumbs f-carousel__thumbs\",viewport:\"f-thumbs__viewport\",track:\"f-thumbs__track\",slide:\"f-thumbs__slide\",isResting:\"is-resting\",isSelected:\"is-selected\",isLoading:\"is-loading\",hasThumbs:\"has-thumbs\"},minCount:2,parentEl:null,thumbTpl:'<button class=\"f-thumbs__slide__button\" tabindex=\"0\" type=\"button\" aria-label=\"{{GOTO}}\" data-carousel-index=\"%i\"><img class=\"f-thumbs__slide__img\" data-lazy-src=\"{{%s}}\" alt=\"\" /></button>',type:\"modern\"};var Ft;!function(t){t[t.Init=0]=\"Init\",t[t.Ready=1]=\"Ready\",t[t.Hidden=2]=\"Hidden\"}(Ft||(Ft={}));const jt=\"isResting\",Bt=\"thumbWidth\",Ht=\"thumbHeight\",Nt=\"thumbClipWidth\";let _t=class extends N{constructor(){super(...arguments),Object.defineProperty(this,\"type\",{enumerable:!0,configurable:!0,writable:!0,value:\"modern\"}),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"track\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"carousel\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"thumbWidth\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"thumbClipWidth\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"thumbHeight\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"thumbGap\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"thumbExtraGap\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:Ft.Init})}get isModern(){return\"modern\"===this.type}onInitSlide(t,e){const i=e.el?e.el.dataset:void 0;i&&(e.thumbSrc=i.thumbSrc||e.thumbSrc||\"\",e[Nt]=parseFloat(i[Nt]||\"\")||e[Nt]||0,e[Ht]=parseFloat(i.thumbHeight||\"\")||e[Ht]||0),this.addSlide(e)}onInitSlides(){this.build()}onChange(){var t;if(!this.isModern)return;const e=this.container,i=this.instance,n=i.panzoom,s=this.carousel,a=s?s.panzoom:null,r=i.page;if(n&&s&&a){if(n.isDragging){S(e,this.cn(jt));let n=(null===(t=s.pages[r])||void 0===t?void 0:t.pos)||0;n+=i.getProgress(r)*(this[Nt]+this.thumbGap);let o=a.getBounds();-1*n>o.x.min&&-1*n<o.x.max&&a.panTo({x:-1*n,friction:.12})}else o(e,this.cn(jt),n.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const t of this.instance.slides||[])this.resizeModernSlide(t);this.shiftModern()}isDisabled(){const t=this.option(\"minCount\")||0;if(t){const e=this.instance;let i=0;for(const t of e.slides||[])t.thumbSrc&&i++;if(i<t)return!0}const e=this.option(\"type\");return[\"modern\",\"classic\"].indexOf(e)<0}getThumb(t){const e=this.option(\"thumbTpl\")||\"\";return{html:this.instance.localize(e,[[\"%i\",t.index],[\"%d\",t.index+1],[\"%s\",t.thumbSrc||\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"]])}}addSlide(t){const e=this.carousel;e&&e.addSlide(t.index,this.getThumb(t))}getSlides(){const t=[];for(const e of this.instance.slides||[])t.push(this.getThumb(e));return t}resizeModernSlide(t){this.isModern&&(t[Bt]=t[Nt]&&t[Ht]?Math.round(this[Ht]*(t[Nt]/t[Ht])):this[Bt])}updateProps(){const t=this.container;if(!t)return;const e=e=>parseFloat(getComputedStyle(t).getPropertyValue(\"--f-thumb-\"+e))||0;this.thumbGap=e(\"gap\"),this.thumbExtraGap=e(\"extra-gap\"),this[Bt]=e(\"width\")||40,this[Nt]=e(\"clip-width\")||40,this[Ht]=e(\"height\")||40}build(){const t=this;if(t.state!==Ft.Init)return;if(t.isDisabled())return void t.emit(\"disabled\");const e=t.instance,i=e.container,n=t.getSlides(),s=t.option(\"type\");t.type=s;const o=t.option(\"parentEl\"),a=t.cn(\"container\"),r=t.cn(\"track\");let l=null==o?void 0:o.querySelector(\".\"+a);l||(l=document.createElement(\"div\"),P(l,a),o?o.appendChild(l):i.after(l)),P(l,`is-${s}`),P(i,t.cn(\"hasThumbs\")),t.container=l,t.updateProps();let c=l.querySelector(\".\"+r);c||(c=document.createElement(\"div\"),P(c,t.cn(\"track\")),l.appendChild(c)),t.track=c;const h=u({},{track:c,infinite:!1,center:!0,fill:\"classic\"===s,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:\"f-thumbs\",viewport:\"f-thumbs__viewport\",track:\"f-thumbs__track\",slide:\"f-thumbs__slide\"}},t.option(\"Carousel\")||{},{Sync:{target:e},slides:n}),d=new e.constructor(l,h);d.on(\"createSlide\",((e,i)=>{t.setProps(i.index),t.emit(\"createSlide\",i,i.el)})),d.on(\"ready\",(()=>{t.shiftModern(),t.emit(\"ready\")})),d.on(\"refresh\",(()=>{t.shiftModern()})),d.on(\"Panzoom.click\",((e,i,n)=>{t.onClick(n)})),t.carousel=d,t.state=Ft.Ready}onClick(t){t.preventDefault(),t.stopPropagation();const e=this.instance,{pages:i,page:n}=e,s=t=>{if(t){const e=t.closest(\"[data-carousel-index]\");if(e)return[parseInt(e.dataset.carouselIndex||\"\",10)||0,e]}return[-1,void 0]},o=(t,e)=>{const i=document.elementFromPoint(t,e);return i?s(i):[-1,void 0]};let[a,r]=s(t.target);if(a>-1)return;const l=this[Nt],c=t.clientX,h=t.clientY;let[d,u]=o(c-l,h),[p,f]=o(c+l,h);u&&f?(a=Math.abs(c-u.getBoundingClientRect().right)<Math.abs(c-f.getBoundingClientRect().left)?d:p,a===n&&(a=a===d?p:d)):u?a=d:f&&(a=p),a>-1&&i[a]&&e.slideTo(a)}getShift(t){var e;const i=this,{instance:n}=i,s=i.carousel;if(!n||!s)return 0;const o=i[Bt],a=i[Nt],r=i.thumbGap,l=i.thumbExtraGap;if(!(null===(e=s.slides[t])||void 0===e?void 0:e.el))return 0;const c=.5*(o-a),h=n.pages.length-1;let d=n.getProgress(0),u=n.getProgress(h),p=n.getProgress(t,!1,!0),f=0,g=c+l+r;const m=d<0&&d>-1,v=u>0&&u<1;return 0===t?(f=g*Math.abs(d),v&&1===d&&(f-=g*Math.abs(u))):t===h?(f=g*Math.abs(u)*-1,m&&-1===u&&(f+=g*Math.abs(d))):m||v?(f=-1*g,f+=g*Math.abs(d),f+=g*(1-Math.abs(u))):f=g*p,f}setProps(e){var i;const n=this;if(!n.isModern)return;const{instance:s}=n,o=n.carousel;if(s&&o){const a=null===(i=o.slides[e])||void 0===i?void 0:i.el;if(a&&a.childNodes.length){let i=t(1-Math.abs(s.getProgress(e))),o=t(n.getShift(e));a.style.setProperty(\"--progress\",i?i+\"\":\"\"),a.style.setProperty(\"--shift\",o+\"\")}}}shiftModern(){const t=this;if(!t.isModern)return;const{instance:e,track:i}=t,n=e.panzoom,s=t.carousel;if(!(e&&i&&n&&s))return;if(n.state===m.Init||n.state===m.Destroy)return;for(const i of e.slides)t.setProps(i.index);let o=(t[Nt]+t.thumbGap)*(s.slides.length||0);i.style.setProperty(\"--width\",o+\"\")}cleanup(){const t=this;t.carousel&&t.carousel.destroy(),t.carousel=null,t.container&&t.container.remove(),t.container=null,t.track&&t.track.remove(),t.track=null,t.state=Ft.Init,S(t.instance.container,t.cn(\"hasThumbs\"))}attach(){const t=this,e=t.instance;e.on(\"initSlide\",t.onInitSlide),e.state===j.Init?e.on(\"initSlides\",t.onInitSlides):t.onInitSlides(),e.on([\"change\",\"Panzoom.afterTransform\"],t.onChange),e.on(\"Panzoom.refresh\",t.onRefresh)}detach(){const t=this,e=t.instance;e.off(\"initSlide\",t.onInitSlide),e.off(\"initSlides\",t.onInitSlides),e.off([\"change\",\"Panzoom.afterTransform\"],t.onChange),e.off(\"Panzoom.refresh\",t.onRefresh),t.cleanup()}};Object.defineProperty(_t,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:Dt});const $t=Object.assign(Object.assign({},Dt),{key:\"t\",showOnStart:!0,parentEl:null}),Wt=\"is-masked\",Xt=\"aria-hidden\";class qt extends N{constructor(){super(...arguments),Object.defineProperty(this,\"ref\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"hidden\",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const t=this.ref;return t&&!t.isDisabled()}get isHidden(){return this.hidden}onClick(t,e){e.stopPropagation()}onCreateSlide(t,e){var i,n,s;const o=(null===(s=null===(n=null===(i=this.instance)||void 0===i?void 0:i.carousel)||void 0===n?void 0:n.slides[e.index])||void 0===s?void 0:s.type)||\"\",a=e.el;if(a&&o){let t=`for-${o}`;[\"video\",\"youtube\",\"vimeo\",\"html5video\"].includes(o)&&(t+=\" for-video\"),P(a,t)}}onInit(){var t;const e=this,i=e.instance,n=i.carousel;if(e.ref||!n)return;const s=e.option(\"parentEl\")||i.footer||i.container;if(!s)return;const o=u({},e.options,{parentEl:s,classes:{container:\"f-thumbs fancybox__thumbs\"},Carousel:{Sync:{friction:i.option(\"Carousel.friction\")||0}},on:{ready:t=>{const i=t.container;i&&this.hidden&&(e.refresh(),i.style.transition=\"none\",e.hide(),i.offsetHeight,queueMicrotask((()=>{i.style.transition=\"\",e.show()})))}}});o.Carousel=o.Carousel||{},o.Carousel.on=u((null===(t=e.options.Carousel)||void 0===t?void 0:t.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),n.options.Thumbs=o,n.attachPlugins({Thumbs:_t}),e.ref=n.plugins.Thumbs,e.option(\"showOnStart\")||(e.ref.state=Ft.Hidden,e.hidden=!0)}onResize(){var t;const e=null===(t=this.ref)||void 0===t?void 0:t.container;e&&(e.style.maxHeight=\"\")}onKeydown(t,e){const i=this.option(\"key\");i&&i===e&&this.toggle()}toggle(){const t=this.ref;if(t&&!t.isDisabled())return t.state===Ft.Hidden?(t.state=Ft.Init,void t.build()):void(this.hidden?this.show():this.hide())}show(){const t=this.ref;if(!t||t.isDisabled())return;const e=t.container;e&&(this.refresh(),e.offsetHeight,e.removeAttribute(Xt),e.classList.remove(Wt),this.hidden=!1)}hide(){const t=this.ref,e=t&&t.container;e&&(this.refresh(),e.offsetHeight,e.classList.add(Wt),e.setAttribute(Xt,\"true\")),this.hidden=!0}refresh(){const t=this.ref;if(!t||!t.state)return;const e=t.container,i=(null==e?void 0:e.firstChild)||null;e&&i&&i.childNodes.length&&(e.style.maxHeight=`${i.getBoundingClientRect().height}px`)}attach(){const t=this,e=t.instance;e.state===at.Init?e.on(\"Carousel.init\",t.onInit):t.onInit(),e.on(\"resize\",t.onResize),e.on(\"keydown\",t.onKeydown)}detach(){var t;const e=this,i=e.instance;i.off(\"Carousel.init\",e.onInit),i.off(\"resize\",e.onResize),i.off(\"keydown\",e.onKeydown),null===(t=i.carousel)||void 0===t||t.detachPlugins([\"Thumbs\"]),e.ref=null}}Object.defineProperty(qt,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:$t});const Yt={panLeft:{icon:'<svg><path d=\"M5 12h14M5 12l6 6M5 12l6-6\"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d=\"M5 12h14M13 18l6-6M13 6l6 6\"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d=\"M12 5v14M18 11l-6-6M6 11l6-6\"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d=\"M12 5v14M18 13l-6 6M6 13l6 6\"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx=\"11\" cy=\"11\" r=\"7.5\"/><path d=\"m21 21-4.35-4.35M11 8v6M8 11h6\"/></svg>',action:\"zoomIn\"},zoomOut:{icon:'<svg><circle cx=\"11\" cy=\"11\" r=\"7.5\"/><path d=\"m21 21-4.35-4.35M8 11h6\"/></svg>',action:\"zoomOut\"},toggle1to1:{icon:'<svg><path d=\"M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z\"/><path d=\"M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0\"/></svg>',action:\"toggleZoom\"},toggleZoom:{icon:'<svg><g><line x1=\"11\" y1=\"8\" x2=\"11\" y2=\"14\"></line></g><circle cx=\"11\" cy=\"11\" r=\"7.5\"/><path d=\"m21 21-4.35-4.35M8 11h6\"/></svg>',action:\"toggleZoom\"},iterateZoom:{icon:'<svg><g><line x1=\"11\" y1=\"8\" x2=\"11\" y2=\"14\"></line></g><circle cx=\"11\" cy=\"11\" r=\"7.5\"/><path d=\"m21 21-4.35-4.35M8 11h6\"/></svg>',action:\"iterateZoom\"},rotateCCW:{icon:'<svg><path d=\"M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01\"/></svg>',action:\"rotateCCW\"},rotateCW:{icon:'<svg><path d=\"M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01\"/></svg>',action:\"rotateCW\"},flipX:{icon:'<svg style=\"stroke-width: 1.3\"><path d=\"M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7\"/></svg>',action:\"flipX\"},flipY:{icon:'<svg style=\"stroke-width: 1.3\"><path d=\"M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5\"/></svg>',action:\"flipY\"},fitX:{icon:'<svg><path d=\"M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3\"/></svg>',action:\"fitX\"},fitY:{icon:'<svg><path d=\"M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3\"/></svg>',action:\"fitY\"},reset:{icon:'<svg><path d=\"M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4\"/></svg>',action:\"reset\"},toggleFS:{icon:'<svg><g><path d=\"M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6\"/></g><g><path d=\"m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4\"/></g></svg>',action:\"toggleFS\"}};var Vt;!function(t){t[t.Init=0]=\"Init\",t[t.Ready=1]=\"Ready\",t[t.Disabled=2]=\"Disabled\"}(Vt||(Vt={}));const Zt={absolute:\"auto\",display:{left:[\"infobar\"],middle:[],right:[\"iterateZoom\",\"slideshow\",\"fullscreen\",\"thumbs\",\"close\"]},enabled:\"auto\",items:{infobar:{tpl:'<div class=\"fancybox__infobar\" tabindex=\"-1\"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class=\"f-button\" title=\"{{DOWNLOAD}}\" data-fancybox-download href=\"javasript:;\"><svg><path d=\"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12\"/></svg></a>'},prev:{tpl:'<button class=\"f-button\" title=\"{{PREV}}\" data-fancybox-prev><svg><path d=\"m15 6-6 6 6 6\"/></svg></button>'},next:{tpl:'<button class=\"f-button\" title=\"{{NEXT}}\" data-fancybox-next><svg><path d=\"m9 6 6 6-6 6\"/></svg></button>'},slideshow:{tpl:'<button class=\"f-button\" title=\"{{TOGGLE_SLIDESHOW}}\" data-fancybox-toggle-slideshow><svg><g><path d=\"M8 4v16l13 -8z\"></path></g><g><path d=\"M8 4v15M17 4v15\"/></g></svg></button>'},fullscreen:{tpl:'<button class=\"f-button\" title=\"{{TOGGLE_FULLSCREEN}}\" data-fancybox-toggle-fullscreen><svg><g><path d=\"M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2\"/></g><g><path d=\"M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5\"/></g></svg></button>'},thumbs:{tpl:'<button class=\"f-button\" title=\"{{TOGGLE_THUMBS}}\" data-fancybox-toggle-thumbs><svg><circle cx=\"5.5\" cy=\"5.5\" r=\"1\"/><circle cx=\"12\" cy=\"5.5\" r=\"1\"/><circle cx=\"18.5\" cy=\"5.5\" r=\"1\"/><circle cx=\"5.5\" cy=\"12\" r=\"1\"/><circle cx=\"12\" cy=\"12\" r=\"1\"/><circle cx=\"18.5\" cy=\"12\" r=\"1\"/><circle cx=\"5.5\" cy=\"18.5\" r=\"1\"/><circle cx=\"12\" cy=\"18.5\" r=\"1\"/><circle cx=\"18.5\" cy=\"18.5\" r=\"1\"/></svg></button>'},close:{tpl:'<button class=\"f-button\" title=\"{{CLOSE}}\" data-fancybox-close><svg><path d=\"m19.5 4.5-15 15M4.5 4.5l15 15\"/></svg></button>'}},parentEl:null},Ut={tabindex:\"-1\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},Gt=\"has-toolbar\",Kt=\"fancybox__toolbar\";class Jt extends N{constructor(){super(...arguments),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:Vt.Init}),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(t){var e;if(!t.carousel)return;let i=this.option(\"display\"),n=this.option(\"absolute\"),s=this.option(\"enabled\");if(\"auto\"===s){const t=this.instance.carousel;let e=0;if(t)for(const i of t.slides)(i.panzoom||\"image\"===i.type)&&e++;e||(s=!1)}s||(i=void 0);let o=0;const a={left:[],middle:[],right:[]};if(i)for(const t of[\"left\",\"middle\",\"right\"])for(const n of i[t]){const i=this.createEl(n);i&&(null===(e=a[t])||void 0===e||e.push(i),o++)}let r=null;if(o&&(r=this.createContainer()),r){for(const[t,e]of Object.entries(a)){const i=document.createElement(\"div\");P(i,Kt+\"__column is-\"+t);for(const t of e)i.appendChild(t);\"auto\"!==n||\"middle\"!==t||e.length||(n=!0),r.appendChild(i)}!0===n&&P(r,\"is-absolute\"),this.state=Vt.Ready,this.onRefresh()}else this.state=Vt.Disabled}onClick(t){var e,i;const n=this.instance,s=n.getSlide(),o=null==s?void 0:s.panzoom,a=t.target,r=a&&E(a)?a.dataset:null;if(!r)return;if(void 0!==r.fancyboxToggleThumbs)return t.preventDefault(),t.stopPropagation(),void(null===(e=n.plugins.Thumbs)||void 0===e||e.toggle());if(void 0!==r.fancyboxToggleFullscreen)return t.preventDefault(),t.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==r.fancyboxToggleSlideshow){t.preventDefault(),t.stopPropagation();const e=null===(i=n.carousel)||void 0===i?void 0:i.plugins.Autoplay;let s=e.isActive;return o&&\"mousemove\"===o.panMode&&!s&&o.reset(),void(s?e.stop():e.start())}const l=r.panzoomAction,c=r.panzoomChange;if((c||l)&&(t.preventDefault(),t.stopPropagation()),c){let t={};try{t=JSON.parse(c)}catch(t){}o&&o.applyChange(t)}else l&&o&&o[l]&&o[l]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const t=this.container;if(!t)return;const e=this.instance.getSlide();if(!e||e.state!==rt.Ready)return;const i=e&&!e.error&&e.panzoom;for(const e of t.querySelectorAll(\"[data-panzoom-action]\"))i?(e.removeAttribute(\"disabled\"),e.removeAttribute(\"tabindex\")):(e.setAttribute(\"disabled\",\"\"),e.setAttribute(\"tabindex\",\"-1\"));let n=i&&i.canZoomIn(),s=i&&i.canZoomOut();for(const e of t.querySelectorAll('[data-panzoom-action=\"zoomIn\"]'))n?(e.removeAttribute(\"disabled\"),e.removeAttribute(\"tabindex\")):(e.setAttribute(\"disabled\",\"\"),e.setAttribute(\"tabindex\",\"-1\"));for(const e of t.querySelectorAll('[data-panzoom-action=\"zoomOut\"]'))s?(e.removeAttribute(\"disabled\"),e.removeAttribute(\"tabindex\")):(e.setAttribute(\"disabled\",\"\"),e.setAttribute(\"tabindex\",\"-1\"));for(const e of t.querySelectorAll('[data-panzoom-action=\"toggleZoom\"],[data-panzoom-action=\"iterateZoom\"]')){s||n?(e.removeAttribute(\"disabled\"),e.removeAttribute(\"tabindex\")):(e.setAttribute(\"disabled\",\"\"),e.setAttribute(\"tabindex\",\"-1\"));const t=e.querySelector(\"g\");t&&(t.style.display=n?\"\":\"none\")}}onDone(t,e){var i;null===(i=e.panzoom)||void 0===i||i.on(\"afterTransform\",(()=>{this.instance.isCurrentSlide(e)&&this.onRefresh()})),this.instance.isCurrentSlide(e)&&this.onRefresh()}createContainer(){const t=this.instance.container;if(!t)return null;const e=this.option(\"parentEl\")||t;let i=e.querySelector(\".\"+Kt);return i||(i=document.createElement(\"div\"),P(i,Kt),e.prepend(i)),i.addEventListener(\"click\",this.onClick,{passive:!1,capture:!0}),t&&P(t,Gt),this.container=i,i}createEl(t){const e=this.instance,i=e.carousel;if(!i)return null;if(\"toggleFS\"===t)return null;if(\"fullscreen\"===t&&!st())return null;let s=null;const o=i.slides.length||0;let a=0,r=0;for(const t of i.slides)(t.panzoom||\"image\"===t.type)&&a++,(\"image\"===t.type||t.downloadSrc)&&r++;if(o<2&&[\"infobar\",\"prev\",\"next\"].includes(t))return s;if(void 0!==Yt[t]&&!a)return null;if(\"download\"===t&&!r)return null;if(\"thumbs\"===t){const t=e.plugins.Thumbs;if(!t||!t.isEnabled)return null}if(\"slideshow\"===t){if(!i.plugins.Autoplay||o<2)return null}if(void 0!==Yt[t]){const e=Yt[t];s=document.createElement(\"button\"),s.setAttribute(\"title\",this.instance.localize(`{{${t.toUpperCase()}}}`)),P(s,\"f-button\"),e.action&&(s.dataset.panzoomAction=e.action),e.change&&(s.dataset.panzoomChange=JSON.stringify(e.change)),s.appendChild(n(this.instance.localize(e.icon)))}else{const e=(this.option(\"items\")||[])[t];e&&(s=n(this.instance.localize(e.tpl)),\"function\"==typeof e.click&&s.addEventListener(\"click\",(t=>{t.preventDefault(),t.stopPropagation(),\"function\"==typeof e.click&&e.click.call(this,this,t)})))}const l=null==s?void 0:s.querySelector(\"svg\");if(l)for(const[t,e]of Object.entries(Ut))l.getAttribute(t)||l.setAttribute(t,String(e));return s}removeContainer(){const t=this.container;t&&t.remove(),this.container=null,this.state=Vt.Disabled;const e=this.instance.container;e&&S(e,Gt)}attach(){const t=this,e=t.instance;e.on(\"Carousel.initSlides\",t.onReady),e.on(\"done\",t.onDone),e.on([\"reveal\",\"Carousel.change\"],t.onChange),t.onReady(t.instance)}detach(){const t=this,e=t.instance;e.off(\"Carousel.initSlides\",t.onReady),e.off(\"done\",t.onDone),e.off([\"reveal\",\"Carousel.change\"],t.onChange),t.removeContainer()}}Object.defineProperty(Jt,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:Zt});const Qt={Hash:class extends N{onReady(){ct=!1}onChange(t){dt&&clearTimeout(dt);const{hash:e}=ut(),{hash:i}=pt(),n=t.isOpeningSlide(t.getSlide());n&&(lt=i===e?\"\":i),e&&e!==i&&(dt=setTimeout((()=>{try{if(t.state===at.Ready){let t=\"replaceState\";n&&!ht&&(t=\"pushState\",ht=!0),window.history[t]({},document.title,window.location.pathname+window.location.search+e)}}catch(t){}}),300))}onClose(t){if(dt&&clearTimeout(dt),!ct&&ht)return ht=!1,ct=!1,void window.history.back();if(!ct)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(lt||\"\"))}catch(t){}}attach(){const t=this.instance;t.on(\"ready\",this.onReady),t.on([\"Carousel.ready\",\"Carousel.change\"],this.onChange),t.on(\"close\",this.onClose)}detach(){const t=this.instance;t.off(\"ready\",this.onReady),t.off([\"Carousel.ready\",\"Carousel.change\"],this.onChange),t.off(\"close\",this.onClose)}static parseURL(){return pt()}static startFromUrl(){ft()}static destroy(){window.removeEventListener(\"hashchange\",mt,!1)}},Html:At,Images:yt,Slideshow:It,Thumbs:qt,Toolbar:Jt},te=\"with-fancybox\",ee=\"hide-scrollbar\",ie=\"--fancybox-scrollbar-compensate\",ne=\"--fancybox-body-margin\",se=\"aria-hidden\",oe=\"is-using-tab\",ae=\"is-animated\",re=\"is-compact\",le=\"is-loading\",ce=\"is-opening\",he=\"has-caption\",de=\"disabled\",ue=\"tabindex\",pe=\"download\",fe=\"href\",ge=\"src\",me=t=>\"string\"==typeof t,ve=function(){var t=window.getSelection();return!!t&&\"Range\"===t.type};let be,ye=null,we=null,xe=0,Ee=0;const Se=new Map;let Pe=0;class Ce extends g{get isIdle(){return this.idle}get isCompact(){return this.option(\"compact\")}constructor(t=[],e={},i={}){super(e),Object.defineProperty(this,\"userSlides\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,\"userPlugins\",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,\"idle\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"idleTimer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"clickTimer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"pwt\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"ignoreFocusChange\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"startedFs\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:at.Init}),Object.defineProperty(this,\"id\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"caption\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"footer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"carousel\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"lastFocus\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"prevMouseMoveEvent\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),be||(be=st()),this.id=e.id||++Pe,Se.set(this.id,this),this.userSlides=t,this.userPlugins=i,queueMicrotask((()=>{this.init()}))}init(){if(this.state===at.Destroy)return;this.state=at.Init,this.attachPlugins(Object.assign(Object.assign({},Ce.Plugins),this.userPlugins)),this.emit(\"init\"),this.emit(\"attachPlugins\"),!0===this.option(\"hideScrollbar\")&&(()=>{if(!tt)return;const t=document,e=t.body,i=t.documentElement;if(e.classList.contains(ee))return;let n=window.innerWidth-i.getBoundingClientRect().width;const s=parseFloat(window.getComputedStyle(e).marginRight);n<0&&(n=0),i.style.setProperty(ie,`${n}px`),s&&e.style.setProperty(ne,`${s}px`),e.classList.add(ee)})(),this.initLayout(),this.scale();const t=()=>{this.initCarousel(this.userSlides),this.state=at.Ready,this.attachEvents(),this.emit(\"ready\"),setTimeout((()=>{this.container&&this.container.setAttribute(se,\"false\")}),16)};this.option(\"Fullscreen.autoStart\")&&be&&!be.isFullscreen()?be.request().then((()=>{this.startedFs=!0,t()})).catch((()=>t())):t()}initLayout(){var t,e;const i=this.option(\"parentEl\")||document.body,s=n(this.localize(this.option(\"tpl.main\")||\"\"));s&&(s.setAttribute(\"id\",`fancybox-${this.id}`),s.setAttribute(\"aria-label\",this.localize(\"{{MODAL}}\")),s.classList.toggle(re,this.isCompact),P(s,this.option(\"mainClass\")||\"\"),P(s,ce),this.container=s,this.footer=s.querySelector(\".fancybox__footer\"),i.appendChild(s),P(document.documentElement,te),ye&&we||(ye=document.createElement(\"span\"),P(ye,\"fancybox-focus-guard\"),ye.setAttribute(ue,\"0\"),ye.setAttribute(se,\"true\"),ye.setAttribute(\"aria-label\",\"Focus guard\"),we=ye.cloneNode(),null===(t=s.parentElement)||void 0===t||t.insertBefore(ye,s),null===(e=s.parentElement)||void 0===e||e.append(we)),s.addEventListener(\"mousedown\",(t=>{xe=t.pageX,Ee=t.pageY,S(s,oe)})),this.option(\"animated\")&&(P(s,ae),setTimeout((()=>{this.isClosing()||S(s,ae)}),350)),this.emit(\"initLayout\"))}initCarousel(t){const i=this.container;if(!i)return;const n=i.querySelector(\".fancybox__carousel\");if(!n)return;const s=this.carousel=new J(n,u({},{slides:t,transition:\"fade\",Panzoom:{lockAxis:this.option(\"dragToClose\")?\"xy\":\"x\",infinite:!!this.option(\"dragToClose\")&&\"y\"},Dots:!1,Navigation:{classes:{container:\"fancybox__nav\",button:\"f-button\",isNext:\"is-next\",isPrev:\"is-prev\"}},initialPage:this.option(\"startIndex\"),l10n:this.option(\"l10n\")},this.option(\"Carousel\")||{}));s.on(\"*\",((t,e,...i)=>{this.emit(`Carousel.${e}`,t,...i)})),s.on([\"ready\",\"change\"],(()=>{this.manageCaption()})),this.on(\"Carousel.removeSlide\",((t,e,i)=>{this.clearContent(i),i.state=void 0})),s.on(\"Panzoom.touchStart\",(()=>{var t,e;this.isCompact||this.endIdle(),(null===(t=document.activeElement)||void 0===t?void 0:t.closest(\".f-thumbs\"))&&(null===(e=this.container)||void 0===e||e.focus())})),s.on(\"settle\",(()=>{this.idleTimer||this.isCompact||!this.option(\"idle\")||this.setIdle(),this.option(\"autoFocus\")&&!this.isClosing&&this.checkFocus()})),this.option(\"dragToClose\")&&(s.on(\"Panzoom.afterTransform\",((t,i)=>{const n=this.getSlide();if(n&&e(n.el))return;const s=this.container;if(s){const t=Math.abs(i.current.f),e=t<1?\"\":Math.max(.5,Math.min(1,1-t/i.contentRect.fitHeight*1.5));s.style.setProperty(\"--fancybox-ts\",e?\"0s\":\"\"),s.style.setProperty(\"--fancybox-opacity\",e+\"\")}})),s.on(\"Panzoom.touchEnd\",((t,i,n)=>{var s;const o=this.getSlide();if(o&&e(o.el))return;if(i.isMobile&&document.activeElement&&-1!==[\"TEXTAREA\",\"INPUT\"].indexOf(null===(s=document.activeElement)||void 0===s?void 0:s.nodeName))return;const a=Math.abs(i.dragOffset.y);\"y\"===i.lockedAxis&&(a>=200||a>=50&&i.dragOffset.time<300)&&(n&&n.cancelable&&n.preventDefault(),this.close(n,\"f-throwOut\"+(i.current.f<0?\"Up\":\"Down\")))}))),s.on(\"change\",(t=>{var e;let i=null===(e=this.getSlide())||void 0===e?void 0:e.triggerEl;if(i){const e=new CustomEvent(\"slideTo\",{bubbles:!0,cancelable:!0,detail:t.page});i.dispatchEvent(e)}})),s.on([\"refresh\",\"change\"],(t=>{const e=this.container;if(!e)return;for(const i of e.querySelectorAll(\"[data-fancybox-current-index]\"))i.innerHTML=t.page+1;for(const i of e.querySelectorAll(\"[data-fancybox-count]\"))i.innerHTML=t.pages.length;if(!t.isInfinite){for(const i of e.querySelectorAll(\"[data-fancybox-next]\"))t.page<t.pages.length-1?(i.removeAttribute(de),i.removeAttribute(ue)):(i.setAttribute(de,\"\"),i.setAttribute(ue,\"-1\"));for(const i of e.querySelectorAll(\"[data-fancybox-prev]\"))t.page>0?(i.removeAttribute(de),i.removeAttribute(ue)):(i.setAttribute(de,\"\"),i.setAttribute(ue,\"-1\"))}const i=this.getSlide();if(!i)return;let n=i.downloadSrc||\"\";n||\"image\"!==i.type||i.error||!me(i[ge])||(n=i[ge]);for(const t of e.querySelectorAll(\"[data-fancybox-download]\")){const e=i.downloadFilename;n?(t.removeAttribute(de),t.removeAttribute(ue),t.setAttribute(fe,n),t.setAttribute(pe,e||n),t.setAttribute(\"target\",\"_blank\")):(t.setAttribute(de,\"\"),t.setAttribute(ue,\"-1\"),t.removeAttribute(fe),t.removeAttribute(pe))}})),this.emit(\"initCarousel\")}attachEvents(){const t=this,e=t.container;if(!e)return;e.addEventListener(\"click\",t.onClick,{passive:!1,capture:!1}),e.addEventListener(\"wheel\",t.onWheel,{passive:!1,capture:!1}),document.addEventListener(\"keydown\",t.onKeydown,{passive:!1,capture:!0}),document.addEventListener(\"visibilitychange\",t.onVisibilityChange,!1),document.addEventListener(\"mousemove\",t.onMousemove),t.option(\"trapFocus\")&&document.addEventListener(\"focus\",t.onFocus,!0),window.addEventListener(\"resize\",t.onResize);const i=window.visualViewport;i&&(i.addEventListener(\"scroll\",t.onResize),i.addEventListener(\"resize\",t.onResize))}detachEvents(){const t=this,e=t.container;if(!e)return;document.removeEventListener(\"keydown\",t.onKeydown,{passive:!1,capture:!0}),e.removeEventListener(\"wheel\",t.onWheel,{passive:!1,capture:!1}),e.removeEventListener(\"click\",t.onClick,{passive:!1,capture:!1}),document.removeEventListener(\"mousemove\",t.onMousemove),window.removeEventListener(\"resize\",t.onResize);const i=window.visualViewport;i&&(i.removeEventListener(\"resize\",t.onResize),i.removeEventListener(\"scroll\",t.onResize)),document.removeEventListener(\"visibilitychange\",t.onVisibilityChange,!1),document.removeEventListener(\"focus\",t.onFocus,!0)}scale(){const t=this.container;if(!t)return;const e=window.visualViewport,i=Math.max(1,(null==e?void 0:e.scale)||1);let n=\"\",s=\"\",o=\"\";if(e&&i>1){let t=`${e.offsetLeft}px`,a=`${e.offsetTop}px`;n=e.width*i+\"px\",s=e.height*i+\"px\",o=`translate3d(${t}, ${a}, 0) scale(${1/i})`}t.style.transform=o,t.style.width=n,t.style.height=s}onClick(t){var e;const{container:i,isCompact:n}=this;if(!i||this.isClosing())return;!n&&this.option(\"idle\")&&this.resetIdle();const s=t.composedPath()[0];if(s.closest(\".fancybox-spinner\")||s.closest(\"[data-fancybox-close]\"))return t.preventDefault(),void this.close(t);if(s.closest(\"[data-fancybox-prev]\"))return t.preventDefault(),void this.prev();if(s.closest(\"[data-fancybox-next]\"))return t.preventDefault(),void this.next();if(\"click\"===t.type&&0===t.detail)return;if(Math.abs(t.pageX-xe)>30||Math.abs(t.pageY-Ee)>30)return;const o=document.activeElement;if(ve()&&o&&i.contains(o))return;if(n&&\"image\"===(null===(e=this.getSlide())||void 0===e?void 0:e.type))return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((()=>{this.toggleIdle(),this.clickTimer=null}),350));if(this.emit(\"click\",t),t.defaultPrevented)return;let a=!1;if(s.closest(\".fancybox__content\")){if(o){if(o.closest(\"[contenteditable]\"))return;s.matches(it)||o.blur()}if(ve())return;a=this.option(\"contentClick\")}else s.closest(\".fancybox__carousel\")&&!s.matches(it)&&(a=this.option(\"backdropClick\"));\"close\"===a?(t.preventDefault(),this.close(t)):\"next\"===a?(t.preventDefault(),this.next()):\"prev\"===a&&(t.preventDefault(),this.prev())}onWheel(t){const e=t.target;let n=this.option(\"wheel\",t);e.closest(\".fancybox__thumbs\")&&(n=\"slide\");const s=\"slide\"===n,o=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t})),a=Math.max(-1,Math.min(1,o)),r=Date.now();this.pwt&&r-this.pwt<300?s&&t.preventDefault():(this.pwt=r,this.emit(\"wheel\",t,a),t.defaultPrevented||(\"close\"===n?(t.preventDefault(),this.close(t)):\"slide\"===n&&(i(e)||(t.preventDefault(),this[a>0?\"prev\":\"next\"]()))))}onKeydown(t){if(!this.isTopmost())return;this.isCompact||!this.option(\"idle\")||this.isClosing()||this.resetIdle();const e=t.key,i=this.option(\"keyboard\");if(!i)return;const n=t.composedPath()[0],s=document.activeElement&&document.activeElement.classList,o=s&&s.contains(\"f-button\")||n.dataset.carouselPage||n.dataset.carouselIndex;if(\"Escape\"!==e&&!o&&E(n)){if(n.isContentEditable||-1!==[\"TEXTAREA\",\"OPTION\",\"INPUT\",\"SELECT\",\"VIDEO\"].indexOf(n.nodeName))return}if(\"Tab\"===t.key?P(this.container,oe):S(this.container,oe),t.ctrlKey||t.altKey||t.shiftKey)return;this.emit(\"keydown\",e,t);const a=i[e];a&&\"function\"==typeof this[a]&&(t.preventDefault(),this[a]())}onResize(){const t=this.container;if(!t)return;const e=this.isCompact;t.classList.toggle(re,e),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit(\"resize\")}onFocus(t){this.isTopmost()&&this.checkFocus(t)}onMousemove(t){this.prevMouseMoveEvent=t,!this.isCompact&&this.option(\"idle\")&&this.resetIdle()}onVisibilityChange(){\"visible\"===document.visibilityState?this.checkFocus():this.endIdle()}manageCloseBtn(t){const e=this.optionFor(t,\"closeButton\")||!1;if(\"auto\"===e){const t=this.plugins.Toolbar;if(t&&t.state===Vt.Ready)return}if(!e)return;if(!t.contentEl||t.closeBtnEl)return;const i=this.option(\"tpl.closeButton\");if(i){const e=n(this.localize(i));t.closeBtnEl=t.contentEl.appendChild(e),t.el&&P(t.el,\"has-close-btn\")}}manageCaption(t=void 0){var e,i;const n=\"fancybox__caption\",s=this.container;if(!s)return;S(s,he);const o=this.isCompact||this.option(\"commonCaption\"),a=!o;if(this.caption&&this.stop(this.caption),a&&this.caption&&(this.caption.remove(),this.caption=null),o&&!this.caption)for(const t of(null===(e=this.carousel)||void 0===e?void 0:e.slides)||[])t.captionEl&&(t.captionEl.remove(),t.captionEl=void 0,S(t.el,he),null===(i=t.el)||void 0===i||i.removeAttribute(\"aria-labelledby\"));if(t||(t=this.getSlide()),!t||o&&!this.isCurrentSlide(t))return;const r=t.el;let l=this.optionFor(t,\"caption\",\"\");if(!l)return void(o&&this.caption&&this.animate(this.caption,\"f-fadeOut\",(()=>{this.caption&&(this.caption.innerHTML=\"\")})));let c=null;if(a){if(c=t.captionEl||null,r&&!c){const e=n+`_${this.id}_${t.index}`;c=document.createElement(\"div\"),P(c,n),c.setAttribute(\"id\",e),t.captionEl=r.appendChild(c),P(r,he),r.setAttribute(\"aria-labelledby\",e)}}else{if(c=this.caption,c||(c=s.querySelector(\".\"+n)),!c){c=document.createElement(\"div\"),c.dataset.fancyboxCaption=\"\",P(c,n);(this.footer||s).prepend(c)}P(s,he),this.caption=c}c&&(c.innerHTML=\"\",me(l)||\"number\"==typeof l?c.innerHTML=l+\"\":l instanceof HTMLElement&&c.appendChild(l))}checkFocus(t){this.focus(t)}focus(t){var e;if(this.ignoreFocusChange)return;const i=document.activeElement||null,n=(null==t?void 0:t.target)||null,s=this.container,o=null===(e=this.carousel)||void 0===e?void 0:e.viewport;if(!s||!o)return;if(!t&&i&&s.contains(i))return;const a=this.getSlide(),r=a&&a.state===rt.Ready?a.el:null;if(!r||r.contains(i)||s===i)return;t&&t.cancelable&&t.preventDefault(),this.ignoreFocusChange=!0;const l=Array.from(s.querySelectorAll(it));let c=[],h=null;for(let t of l){const e=!t.offsetParent||!!t.closest('[aria-hidden=\"true\"]'),i=r&&r.contains(t),n=!o.contains(t);if(t===s||(i||n)&&!e){c.push(t);const e=t.dataset.origTabindex;void 0!==e&&e&&(t.tabIndex=parseFloat(e)),t.removeAttribute(\"data-orig-tabindex\"),!t.hasAttribute(\"autoFocus\")&&h||(h=t)}else{const e=void 0===t.dataset.origTabindex?t.getAttribute(\"tabindex\")||\"\":t.dataset.origTabindex;e&&(t.dataset.origTabindex=e),t.tabIndex=-1}}let d=null;t?(!n||c.indexOf(n)<0)&&(d=h||s,c.length&&(i===we?d=c[0]:this.lastFocus!==s&&i!==ye||(d=c[c.length-1]))):d=a&&\"image\"===a.type?s:h||s,d&&nt(d),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const t=this.carousel;t&&t.pages.length>1&&t.slideNext()}prev(){const t=this.carousel;t&&t.pages.length>1&&t.slidePrev()}jumpTo(...t){this.carousel&&this.carousel.slideTo(...t)}isTopmost(){var t;return(null===(t=Ce.getInstance())||void 0===t?void 0:t.id)==this.id}animate(t=null,e=\"\",i){if(!t||!e)return void(i&&i());this.stop(t);const n=s=>{s.target===t&&t.dataset.animationName&&(t.removeEventListener(\"animationend\",n),delete t.dataset.animationName,i&&i(),S(t,e))};t.dataset.animationName=e,t.addEventListener(\"animationend\",n),P(t,e)}stop(t){t&&t.dispatchEvent(new CustomEvent(\"animationend\",{bubbles:!1,cancelable:!0,currentTarget:t}))}setContent(t,e=\"\",i=!0){if(this.isClosing())return;const s=t.el;if(!s)return;let o=null;if(E(e)?o=e:(o=n(e+\"\"),E(o)||(o=document.createElement(\"div\"),o.innerHTML=e+\"\")),[\"img\",\"picture\",\"iframe\",\"video\",\"audio\"].includes(o.nodeName.toLowerCase())){const t=document.createElement(\"div\");t.appendChild(o),o=t}E(o)&&t.filter&&!t.error&&(o=o.querySelector(t.filter)),o&&E(o)?(P(o,\"fancybox__content\"),t.id&&o.setAttribute(\"id\",t.id),\"none\"!==o.style.display&&\"none\"!==getComputedStyle(o).getPropertyValue(\"display\")||(o.style.display=t.display||this.option(\"defaultDisplay\")||\"flex\"),s.classList.add(`has-${t.error?\"error\":t.type||\"unknown\"}`),s.prepend(o),t.contentEl=o,i&&this.revealContent(t),this.manageCloseBtn(t),this.manageCaption(t)):this.setError(t,\"{{ELEMENT_NOT_FOUND}}\")}revealContent(t,e){const i=t.el,n=t.contentEl;i&&n&&(this.emit(\"reveal\",t),this.hideLoading(t),t.state=rt.Opening,(e=this.isOpeningSlide(t)?void 0===e?this.optionFor(t,\"showClass\"):e:\"f-fadeIn\")?this.animate(n,e,(()=>{this.done(t)})):this.done(t))}done(t){this.isClosing()||(t.state=rt.Ready,this.emit(\"done\",t),P(t.el,\"is-done\"),this.isCurrentSlide(t)&&this.option(\"autoFocus\")&&queueMicrotask((()=>{var e;null===(e=t.panzoom)||void 0===e||e.updateControls(),this.option(\"autoFocus\")&&this.focus()})),this.isOpeningSlide(t)&&(S(this.container,ce),!this.isCompact&&this.option(\"idle\")&&this.setIdle()))}isCurrentSlide(t){const e=this.getSlide();return!(!t||!e)&&e.index===t.index}isOpeningSlide(t){var e,i;return null===(null===(e=this.carousel)||void 0===e?void 0:e.prevPage)&&t&&t.index===(null===(i=this.getSlide())||void 0===i?void 0:i.index)}showLoading(t){t.state=rt.Loading;const e=t.el;if(!e)return;P(e,le),this.emit(\"loading\",t),t.spinnerEl||setTimeout((()=>{if(!this.isClosing()&&!t.spinnerEl&&t.state===rt.Loading){let i=n(x);P(i,\"fancybox-spinner\"),t.spinnerEl=i,e.prepend(i),this.animate(i,\"f-fadeIn\")}}),250)}hideLoading(t){const e=t.el;if(!e)return;const i=t.spinnerEl;this.isClosing()?null==i||i.remove():(S(e,le),i&&this.animate(i,\"f-fadeOut\",(()=>{i.remove()})),t.state===rt.Loading&&(this.emit(\"loaded\",t),t.state=rt.Ready))}setError(t,e){if(this.isClosing())return;const i=new Event(\"error\",{bubbles:!0,cancelable:!0});if(this.emit(\"error\",i,t),i.defaultPrevented)return;t.error=e,this.hideLoading(t),this.clearContent(t);const n=document.createElement(\"div\");n.classList.add(\"fancybox-error\"),n.innerHTML=this.localize(e||\"<p>{{ERROR}}</p>\"),this.setContent(t,n)}clearContent(t){if(void 0===t.state)return;this.emit(\"clearContent\",t),t.contentEl&&(t.contentEl.remove(),t.contentEl=void 0);const e=t.el;e&&(S(e,\"has-error\"),S(e,\"has-unknown\"),S(e,`has-${t.type||\"unknown\"}`)),t.closeBtnEl&&t.closeBtnEl.remove(),t.closeBtnEl=void 0,t.captionEl&&t.captionEl.remove(),t.captionEl=void 0,t.spinnerEl&&t.spinnerEl.remove(),t.spinnerEl=void 0}getSlide(){var t;const e=this.carousel;return(null===(t=null==e?void 0:e.pages[null==e?void 0:e.page])||void 0===t?void 0:t.slides[0])||void 0}close(t,e){if(this.isClosing())return;const i=new Event(\"shouldClose\",{bubbles:!0,cancelable:!0});if(this.emit(\"shouldClose\",i,t),i.defaultPrevented)return;t&&t.cancelable&&(t.preventDefault(),t.stopPropagation());const n=()=>{this.proceedClose(t,e)};this.startedFs&&be&&be.isFullscreen()?Promise.resolve(be.exit()).then((()=>n())):n()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(t=!1){const e=()=>{this.clearIdle(),this.idle=!0,P(this.container,\"is-idle\"),this.emit(\"setIdle\")};if(this.clearIdle(),!this.isClosing())if(t)e();else{const t=this.option(\"idle\");t&&(this.idleTimer=setTimeout(e,t))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,S(this.container,\"is-idle\"),this.emit(\"endIdle\"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){be&&(be.isFullscreen()?be.exit():be.request().then((()=>{this.startedFs=!0})))}isClosing(){return[at.Closing,at.CustomClosing,at.Destroy].includes(this.state)}proceedClose(t,e){var i,n;this.state=at.Closing,this.clearIdle(),this.detachEvents();const s=this.container,o=this.carousel,a=this.getSlide(),r=a&&this.option(\"placeFocusBack\")?a.triggerEl||this.option(\"triggerEl\"):null;if(r&&(Q(r)?nt(r):r.focus()),s&&(S(s,ce),P(s,\"is-closing\"),s.setAttribute(se,\"true\"),this.option(\"animated\")&&P(s,ae),s.style.pointerEvents=\"none\"),o){o.clearTransitions(),null===(i=o.panzoom)||void 0===i||i.destroy(),null===(n=o.plugins.Navigation)||void 0===n||n.detach();for(const t of o.slides){t.state=rt.Closing,this.hideLoading(t);const e=t.contentEl;e&&this.stop(e);const i=null==t?void 0:t.panzoom;i&&(i.stop(),i.detachEvents(),i.detachObserver()),this.isCurrentSlide(t)||o.emit(\"removeSlide\",t)}}this.emit(\"close\",t),this.state!==at.CustomClosing?(void 0===e&&a&&(e=this.optionFor(a,\"hideClass\")),e&&a?(this.animate(a.contentEl,e,(()=>{o&&o.emit(\"removeSlide\",a)})),setTimeout((()=>{this.destroy()}),500)):this.destroy()):setTimeout((()=>{this.destroy()}),500)}destroy(){var t;if(this.state===at.Destroy)return;this.state=at.Destroy,null===(t=this.carousel)||void 0===t||t.destroy();const e=this.container;e&&e.remove(),Se.delete(this.id);const i=Ce.getInstance();i?i.focus():(ye&&(ye.remove(),ye=null),we&&(we.remove(),we=null),S(document.documentElement,te),(()=>{if(!tt)return;const t=document,e=t.body;e.classList.remove(ee),e.style.setProperty(ne,\"\"),t.documentElement.style.setProperty(ie,\"\")})(),this.emit(\"destroy\"))}static bind(t,e,i){if(!tt)return;let n,s=\"\",o={};if(void 0===t?n=document.body:me(t)?(n=document.body,s=t,\"object\"==typeof e&&(o=e||{})):(n=t,me(e)&&(s=e),\"object\"==typeof i&&(o=i||{})),!n||!E(n))return;s=s||\"[data-fancybox]\";const a=Ce.openers.get(n)||new Map;a.set(s,o),Ce.openers.set(n,a),1===a.size&&n.addEventListener(\"click\",Ce.fromEvent)}static unbind(t,e){let i,n=\"\";if(me(t)?(i=document.body,n=t):(i=t,me(e)&&(n=e)),!i)return;const s=Ce.openers.get(i);s&&n&&s.delete(n),n&&s||(Ce.openers.delete(i),i.removeEventListener(\"click\",Ce.fromEvent))}static destroy(){let t;for(;t=Ce.getInstance();)t.destroy();for(const t of Ce.openers.keys())t.removeEventListener(\"click\",Ce.fromEvent);Ce.openers=new Map}static fromEvent(t){if(t.defaultPrevented)return;if(t.button&&0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey)return;let e=t.composedPath()[0];const i=e.closest(\"[data-fancybox-trigger]\");if(i){const t=i.dataset.fancyboxTrigger||\"\",n=document.querySelectorAll(`[data-fancybox=\"${t}\"]`),s=parseInt(i.dataset.fancyboxIndex||\"\",10)||0;e=n[s]||e}if(!(e&&e instanceof Element))return;let n,s,o,a;if([...Ce.openers].reverse().find((([t,i])=>!(!t.contains(e)||![...i].reverse().find((([i,r])=>{let l=e.closest(i);return!!l&&(n=t,s=i,o=l,a=r,!0)}))))),!n||!s||!o)return;a=a||{},t.preventDefault(),e=o;let r=[],l=u({},ot,a);l.event=t,l.triggerEl=e,l.delegate=i;const c=l.groupAll,h=l.groupAttr,d=h&&e?e.getAttribute(`${h}`):\"\";if((!e||d||c)&&(r=[].slice.call(n.querySelectorAll(s))),e&&!c&&(r=d?r.filter((t=>t.getAttribute(`${h}`)===d)):[e]),!r.length)return;const p=Ce.getInstance();return p&&p.options.triggerEl&&r.indexOf(p.options.triggerEl)>-1?void 0:(e&&(l.startIndex=r.indexOf(e)),Ce.fromNodes(r,l))}static fromSelector(t,e,i){let n=null,s=\"\",o={};if(me(t)?(n=document.body,s=t,\"object\"==typeof e&&(o=e||{})):t instanceof HTMLElement&&me(e)&&(n=t,s=e,\"object\"==typeof i&&(o=i||{})),!n||!s)return!1;const a=Ce.openers.get(n);return!!a&&(o=u({},a.get(s)||{},o),!!o&&Ce.fromNodes(Array.from(n.querySelectorAll(s)),o))}static fromNodes(t,e){e=u({},ot,e||{});const i=[];for(const n of t){const t=n.dataset||{},s=t[ge]||n.getAttribute(fe)||n.getAttribute(\"currentSrc\")||n.getAttribute(ge)||void 0;let o;const a=e.delegate;let r;a&&i.length===e.startIndex&&(o=a instanceof HTMLImageElement?a:a.querySelector(\"img:not([aria-hidden])\")),o||(o=n instanceof HTMLImageElement?n:n.querySelector(\"img:not([aria-hidden])\")),o&&(r=o.currentSrc||o[ge]||void 0,!r&&o.dataset&&(r=o.dataset.lazySrc||o.dataset[ge]||void 0));const l={src:s,triggerEl:n,thumbEl:o,thumbElSrc:r,thumbSrc:r};for(const e in t){let i=t[e]+\"\";i=\"false\"!==i&&(\"true\"===i||i),l[e]=i}i.push(l)}return new Ce(i,e)}static getInstance(t){if(t)return Se.get(t);return Array.from(Se.values()).reverse().find((t=>!t.isClosing()&&t))||null}static getSlide(){var t;return(null===(t=Ce.getInstance())||void 0===t?void 0:t.getSlide())||null}static show(t=[],e={}){return new Ce(t,e)}static next(){const t=Ce.getInstance();t&&t.next()}static prev(){const t=Ce.getInstance();t&&t.prev()}static close(t=!0,...e){if(t)for(const t of Se.values())t.close(...e);else{const t=Ce.getInstance();t&&t.close(...e)}}}Object.defineProperty(Ce,\"version\",{enumerable:!0,configurable:!0,writable:!0,value:\"5.0.33\"}),Object.defineProperty(Ce,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:ot}),Object.defineProperty(Ce,\"Plugins\",{enumerable:!0,configurable:!0,writable:!0,value:Qt}),Object.defineProperty(Ce,\"openers\",{enumerable:!0,configurable:!0,writable:!0,value:new Map});export{J as Carousel,Ce as Fancybox,k as Panzoom};\n", "import { Controller } from \"@hotwired/stimulus\"\nimport {Fancybox} from \"@fancyapps/ui\";\n\nexport default class extends Controller {\n    connect() {\n        Fancybox.bind(\"[data-fancybox]\");\n    }\n}\n", "const Pagy = (() => {\n  const rjsObserver = new ResizeObserver((entries) => entries.forEach((e) => e.target.querySelectorAll(\".pagy-rjs\").forEach((el) => el.pagyRender())));\n  const initNav = (el, [tokens, sequels, labelSequels, trimParam]) => {\n    const container = el.parentElement ?? el;\n    const widths = Object.keys(sequels).map((w) => parseInt(w)).sort((a, b) => b - a);\n    let lastWidth = -1;\n    const fillIn = (a, page, label) => a.replace(/__pagy_page__/g, page).replace(/__pagy_label__/g, label);\n    (el.pagyRender = function() {\n      const width = widths.find((w) => w < container.clientWidth) || 0;\n      if (width === lastWidth) {\n        return;\n      }\n      let html = tokens.before;\n      const series = sequels[width.toString()];\n      const labels = labelSequels?.[width.toString()] ?? series.map((l) => l.toString());\n      series.forEach((item, i) => {\n        const label = labels[i];\n        let filled;\n        if (typeof item === \"number\") {\n          filled = fillIn(tokens.a, item.toString(), label);\n        } else if (item === \"gap\") {\n          filled = tokens.gap;\n        } else {\n          filled = fillIn(tokens.current, item, label);\n        }\n        html += typeof trimParam === \"string\" && item == 1 ? trim(filled, trimParam) : filled;\n      });\n      html += tokens.after;\n      el.innerHTML = \"\";\n      el.insertAdjacentHTML(\"afterbegin\", html);\n      lastWidth = width;\n    })();\n    if (el.classList.contains(\"pagy-rjs\")) {\n      rjsObserver.observe(container);\n    }\n  };\n  const initCombo = (el, [url_token, trimParam]) => initInput(el, (inputValue) => [inputValue, url_token.replace(/__pagy_page__/, inputValue)], trimParam);\n  const initSelector = (el, [from, url_token, trimParam]) => {\n    initInput(el, (inputValue) => {\n      const page = Math.max(Math.ceil(from / parseInt(inputValue)), 1).toString();\n      const url = url_token.replace(/__pagy_page__/, page).replace(/__pagy_items__/, inputValue);\n      return [page, url];\n    }, trimParam);\n  };\n  const initInput = (el, getVars, trimParam) => {\n    const input = el.querySelector(\"input\");\n    const link = el.querySelector(\"a\");\n    const initial = input.value;\n    const action = function() {\n      if (input.value === initial) {\n        return;\n      }\n      const [min, val, max] = [input.min, input.value, input.max].map((n) => parseInt(n) || 0);\n      if (val < min || val > max) {\n        input.value = initial;\n        input.select();\n        return;\n      }\n      let [page, url] = getVars(input.value);\n      if (typeof trimParam === \"string\" && page === \"1\") {\n        url = trim(url, trimParam);\n      }\n      link.href = url;\n      link.click();\n    };\n    [\"change\", \"focus\"].forEach((e) => input.addEventListener(e, () => input.select()));\n    input.addEventListener(\"focusout\", action);\n    input.addEventListener(\"keypress\", (e) => {\n      if (e.key === \"Enter\") {\n        action();\n      }\n    });\n  };\n  const trim = (a, param) => a.replace(new RegExp(`[?&]${param}=1\\\\b(?!&)|\\\\b${param}=1&`), \"\");\n  return {\n    version: \"8.6.3\",\n    init(arg) {\n      const target = arg instanceof Element ? arg : document;\n      const elements = target.querySelectorAll(\"[data-pagy]\");\n      for (const el of elements) {\n        try {\n          const uint8array = Uint8Array.from(atob(el.getAttribute(\"data-pagy\")), (c) => c.charCodeAt(0));\n          const [keyword, ...args] = JSON.parse(new TextDecoder().decode(uint8array));\n          if (keyword === \"nav\") {\n            initNav(el, args);\n          } else if (keyword === \"combo\") {\n            initCombo(el, args);\n          } else if (keyword === \"selector\") {\n            initSelector(el, args);\n          } else {\n            console.warn(\"Skipped Pagy.init() for: %o\\nUnknown keyword '%s'\", el, keyword);\n          }\n        } catch (err) {\n          console.warn(\"Skipped Pagy.init() for: %o\\n%s\", el, err);\n        }\n      }\n    }\n  };\n})();\nexport default Pagy;\n", "import { Controller } from \"@hotwired/stimulus\";\nimport Pagy from \"../others/pagy.mjs\";\n\nexport default class extends Controller {\n    connect() {\n        Pagy.init(this.element);\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\";\n\nexport default class extends Controller {\n    static targets = [\"map\", \"addresses\"];\n\n    connect() {\n        ymaps.ready(() => {\n            this.initMap();\n            this.processAddresses();\n        });\n    }\n\n    initMap() {\n        this.myMap = new ymaps.Map(this.mapTarget, {\n            center: [55.753994, 37.622093],\n            zoom: 10,\n            controls: ['zoomControl', 'fullscreenControl']\n        });\n    }\n\n    processAddresses() {\n        const addresses = this.addressesTarget.querySelectorAll('span');\n        addresses.forEach((address) => {\n            const cityName = address.textContent.trim();\n            this.addCityToMap(cityName);\n        });\n    }\n\n    addCityToMap(cityName) {\n        if (!this.myMap) return console.error('\u041A\u0430\u0440\u0442\u0430 \u0435\u0449\u0435 \u043D\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u0430');\n\n        ymaps.geocode(cityName, {\n            results: 1\n        }).then((res) => {\n            let firstGeoObject = res.geoObjects.get(0),\n                coords = firstGeoObject.geometry.getCoordinates(),\n                bounds = firstGeoObject.properties.get('boundedBy');\n            firstGeoObject.options.set('preset', 'islands#darkBlueDotIconWithCaption');\n            firstGeoObject.properties.set('iconCaption', firstGeoObject.getAddressLine());\n\n            this.myMap.geoObjects.add(firstGeoObject);\n            this.myMap.setBounds(this.myMap.geoObjects.getBounds(), {\n                checkZoomRange: true\n            });\n        });\n    }\n}\n", "/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n  return obj !== null && typeof obj === 'object' && 'constructor' in obj && obj.constructor === Object;\n}\nfunction extend(target, src) {\n  if (target === void 0) {\n    target = {};\n  }\n  if (src === void 0) {\n    src = {};\n  }\n  Object.keys(src).forEach(key => {\n    if (typeof target[key] === 'undefined') target[key] = src[key];else if (isObject(src[key]) && isObject(target[key]) && Object.keys(src[key]).length > 0) {\n      extend(target[key], src[key]);\n    }\n  });\n}\nconst ssrDocument = {\n  body: {},\n  addEventListener() {},\n  removeEventListener() {},\n  activeElement: {\n    blur() {},\n    nodeName: ''\n  },\n  querySelector() {\n    return null;\n  },\n  querySelectorAll() {\n    return [];\n  },\n  getElementById() {\n    return null;\n  },\n  createEvent() {\n    return {\n      initEvent() {}\n    };\n  },\n  createElement() {\n    return {\n      children: [],\n      childNodes: [],\n      style: {},\n      setAttribute() {},\n      getElementsByTagName() {\n        return [];\n      }\n    };\n  },\n  createElementNS() {\n    return {};\n  },\n  importNode() {\n    return null;\n  },\n  location: {\n    hash: '',\n    host: '',\n    hostname: '',\n    href: '',\n    origin: '',\n    pathname: '',\n    protocol: '',\n    search: ''\n  }\n};\nfunction getDocument() {\n  const doc = typeof document !== 'undefined' ? document : {};\n  extend(doc, ssrDocument);\n  return doc;\n}\nconst ssrWindow = {\n  document: ssrDocument,\n  navigator: {\n    userAgent: ''\n  },\n  location: {\n    hash: '',\n    host: '',\n    hostname: '',\n    href: '',\n    origin: '',\n    pathname: '',\n    protocol: '',\n    search: ''\n  },\n  history: {\n    replaceState() {},\n    pushState() {},\n    go() {},\n    back() {}\n  },\n  CustomEvent: function CustomEvent() {\n    return this;\n  },\n  addEventListener() {},\n  removeEventListener() {},\n  getComputedStyle() {\n    return {\n      getPropertyValue() {\n        return '';\n      }\n    };\n  },\n  Image() {},\n  Date() {},\n  screen: {},\n  setTimeout() {},\n  clearTimeout() {},\n  matchMedia() {\n    return {};\n  },\n  requestAnimationFrame(callback) {\n    if (typeof setTimeout === 'undefined') {\n      callback();\n      return null;\n    }\n    return setTimeout(callback, 0);\n  },\n  cancelAnimationFrame(id) {\n    if (typeof setTimeout === 'undefined') {\n      return;\n    }\n    clearTimeout(id);\n  }\n};\nfunction getWindow() {\n  const win = typeof window !== 'undefined' ? window : {};\n  extend(win, ssrWindow);\n  return win;\n}\n\nexport { getWindow as a, getDocument as g };\n", "import { a as getWindow, g as getDocument } from './ssr-window.esm.mjs';\n\nfunction classesToTokens(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n  return classes.trim().split(' ').filter(c => !!c.trim());\n}\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {\n      // no getter for object\n    }\n    try {\n      delete object[key];\n    } catch (e) {\n      // something got wrong\n    }\n  });\n}\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n  return setTimeout(callback, delay);\n}\nfunction now() {\n  return Date.now();\n}\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n  if (!style) {\n    style = el.style;\n  }\n  return style;\n}\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el);\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    }\n    // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41;\n    // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]);\n    // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42;\n    // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]);\n    // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n  return curTransform || 0;\n}\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\nfunction extend() {\n  const to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n  for (let i = 1; i < arguments.length; i += 1) {\n    const nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n  return to;\n}\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\nfunction animateCSSModeScroll(_ref) {\n  let {\n    swiper,\n    targetPosition,\n    side\n  } = _ref;\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n  const animate = () => {\n    time = new Date().getTime();\n    if (startTime === null) {\n      startTime = time;\n    }\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n  animate();\n}\nfunction getSlideTransformEl(slideEl) {\n  return slideEl.querySelector('.swiper-slide-transform') || slideEl.shadowRoot && slideEl.shadowRoot.querySelector('.swiper-slide-transform') || slideEl;\n}\nfunction elementChildren(element, selector) {\n  if (selector === void 0) {\n    selector = '';\n  }\n  return [...element.children].filter(el => el.matches(selector));\n}\nfunction showWarning(text) {\n  try {\n    console.warn(text);\n    return;\n  } catch (err) {\n    // err\n  }\n}\nfunction createElement(tag, classes) {\n  if (classes === void 0) {\n    classes = [];\n  }\n  const el = document.createElement(tag);\n  el.classList.add(...(Array.isArray(classes) ? classes : classesToTokens(classes)));\n  return el;\n}\nfunction elementOffset(el) {\n  const window = getWindow();\n  const document = getDocument();\n  const box = el.getBoundingClientRect();\n  const body = document.body;\n  const clientTop = el.clientTop || body.clientTop || 0;\n  const clientLeft = el.clientLeft || body.clientLeft || 0;\n  const scrollTop = el === window ? window.scrollY : el.scrollTop;\n  const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n  return {\n    top: box.top + scrollTop - clientTop,\n    left: box.left + scrollLeft - clientLeft\n  };\n}\nfunction elementPrevAll(el, selector) {\n  const prevEls = [];\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n    if (selector) {\n      if (prev.matches(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n    el = prev;\n  }\n  return prevEls;\n}\nfunction elementNextAll(el, selector) {\n  const nextEls = [];\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n    if (selector) {\n      if (next.matches(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n    el = next;\n  }\n  return nextEls;\n}\nfunction elementStyle(el, prop) {\n  const window = getWindow();\n  return window.getComputedStyle(el, null).getPropertyValue(prop);\n}\nfunction elementIndex(el) {\n  let child = el;\n  let i;\n  if (child) {\n    i = 0;\n    // eslint-disable-next-line\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n    return i;\n  }\n  return undefined;\n}\nfunction elementParents(el, selector) {\n  const parents = []; // eslint-disable-line\n  let parent = el.parentElement; // eslint-disable-line\n  while (parent) {\n    if (selector) {\n      if (parent.matches(selector)) parents.push(parent);\n    } else {\n      parents.push(parent);\n    }\n    parent = parent.parentElement;\n  }\n  return parents;\n}\nfunction elementTransitionEnd(el, callback) {\n  function fireCallBack(e) {\n    if (e.target !== el) return;\n    callback.call(el, e);\n    el.removeEventListener('transitionend', fireCallBack);\n  }\n  if (callback) {\n    el.addEventListener('transitionend', fireCallBack);\n  }\n}\nfunction elementOuterSize(el, size, includeMargins) {\n  const window = getWindow();\n  if (includeMargins) {\n    return el[size === 'width' ? 'offsetWidth' : 'offsetHeight'] + parseFloat(window.getComputedStyle(el, null).getPropertyValue(size === 'width' ? 'margin-right' : 'margin-top')) + parseFloat(window.getComputedStyle(el, null).getPropertyValue(size === 'width' ? 'margin-left' : 'margin-bottom'));\n  }\n  return el.offsetWidth;\n}\nfunction makeElementsArray(el) {\n  return (Array.isArray(el) ? el : [el]).filter(e => !!e);\n}\n\nexport { elementParents as a, elementOffset as b, createElement as c, now as d, elementChildren as e, elementOuterSize as f, getSlideTransformEl as g, elementIndex as h, classesToTokens as i, getTranslate as j, elementTransitionEnd as k, isObject as l, makeElementsArray as m, nextTick as n, elementStyle as o, elementNextAll as p, elementPrevAll as q, animateCSSModeScroll as r, setCSSProperty as s, showWarning as t, extend as u, deleteProps as v };\n", "import { a as getWindow, g as getDocument } from './ssr-window.esm.mjs';\nimport { a as elementParents, o as elementStyle, e as elementChildren, s as setCSSProperty, f as elementOuterSize, p as elementNextAll, q as elementPrevAll, j as getTranslate, r as animateCSSModeScroll, n as nextTick, t as showWarning, c as createElement, d as now, u as extend, h as elementIndex, v as deleteProps } from './utils.mjs';\n\nlet support;\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && document.documentElement.style && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch)\n  };\n}\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n  return support;\n}\n\nlet deviceCached;\nfunction calcDevice(_temp) {\n  let {\n    userAgent\n  } = _temp === void 0 ? {} : _temp;\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel';\n\n  // iPadOs 13 fix\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  }\n\n  // Android\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  }\n\n  // Export object\n  return device;\n}\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n  return deviceCached;\n}\n\nlet browser;\nfunction calcBrowser() {\n  const window = getWindow();\n  const device = getDevice();\n  let needPerspectiveFix = false;\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n  if (isSafari()) {\n    const ua = String(window.navigator.userAgent);\n    if (ua.includes('Version/')) {\n      const [major, minor] = ua.split('Version/')[1].split(' ')[0].split('.').map(num => Number(num));\n      needPerspectiveFix = major < 16 || major === 16 && minor < 2;\n    }\n  }\n  const isWebView = /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent);\n  const isSafariBrowser = isSafari();\n  const need3dFix = isSafariBrowser || isWebView && device.ios;\n  return {\n    isSafari: needPerspectiveFix || isSafariBrowser,\n    needPerspectiveFix,\n    need3dFix,\n    isWebView\n  };\n}\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n  return browser;\n}\n\nfunction Resize(_ref) {\n  let {\n    swiper,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(_ref2 => {\n          let {\n            contentBoxSize,\n            contentRect,\n            target\n          } = _ref2;\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}\n\nfunction Observer(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const observers = [];\n  const window = getWindow();\n  const attach = function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (swiper.__preventObserver__) return;\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n  const init = () => {\n    if (!swiper.params.observer) return;\n    if (swiper.params.observeParents) {\n      const containerParents = elementParents(swiper.hostEl);\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    }\n    // Observe container\n    attach(swiper.hostEl, {\n      childList: swiper.params.observeSlideChildren\n    });\n\n    // Observe wrapper\n    attach(swiper.wrapperEl, {\n      attributes: false\n    });\n  };\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}\n\n/* eslint-disable no-underscore-dangle */\n\nvar eventsEmitter = {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    function onceHandler() {\n      self.off(events, onceHandler);\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      handler.apply(self, args);\n    }\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n    return self;\n  },\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n    return self;\n  },\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n  emit() {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n};\n\nfunction updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const el = swiper.el;\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = el.clientWidth;\n  }\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = el.clientHeight;\n  }\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  }\n\n  // Subtract paddings\n  width = width - parseInt(elementStyle(el, 'padding-left') || 0, 10) - parseInt(elementStyle(el, 'padding-right') || 0, 10);\n  height = height - parseInt(elementStyle(el, 'padding-top') || 0, 10) - parseInt(elementStyle(el, 'padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}\n\nfunction updateSlides() {\n  const swiper = this;\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(swiper.getDirectionLabel(label)) || 0);\n  }\n  const params = swiper.params;\n  const {\n    wrapperEl,\n    slidesEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = elementChildren(slidesEl, `.${swiper.params.slideClass}, swiper-slide`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n  let offsetAfter = params.slidesOffsetAfter;\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  } else if (typeof spaceBetween === 'string') {\n    spaceBetween = parseFloat(spaceBetween);\n  }\n  swiper.virtualSize = -spaceBetween;\n\n  // reset margins\n  slides.forEach(slideEl => {\n    if (rtl) {\n      slideEl.style.marginLeft = '';\n    } else {\n      slideEl.style.marginRight = '';\n    }\n    slideEl.style.marginBottom = '';\n    slideEl.style.marginTop = '';\n  });\n\n  // reset cssMode offsets\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-after', '');\n  }\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n  if (gridEnabled) {\n    swiper.grid.initSlides(slides);\n  } else if (swiper.grid) {\n    swiper.grid.unsetSlides();\n  }\n\n  // Calc slides\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    let slide;\n    if (slides[i]) slide = slides[i];\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slides);\n    }\n    if (slides[i] && elementStyle(slide, 'display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[swiper.getDirectionLabel('width')] = ``;\n      }\n      const slideStyles = getComputedStyle(slide);\n      const currentTransform = slide.style.transform;\n      const currentWebKitTransform = slide.style.webkitTransform;\n      if (currentTransform) {\n        slide.style.transform = 'none';\n      }\n      if (currentWebKitTransform) {\n        slide.style.webkitTransform = 'none';\n      }\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? elementOuterSize(slide, 'width', true) : elementOuterSize(slide, 'height', true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide;\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n      if (currentTransform) {\n        slide.style.transform = currentTransform;\n      }\n      if (currentWebKitTransform) {\n        slide.style.webkitTransform = currentWebKitTransform;\n      }\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n      if (slides[i]) {\n        slides[i].style[swiper.getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n    slidesSizesGrid.push(slideSize);\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    wrapperEl.style.width = `${swiper.virtualSize + spaceBetween}px`;\n  }\n  if (params.setWrapperSize) {\n    wrapperEl.style[swiper.getDirectionLabel('width')] = `${swiper.virtualSize + spaceBetween}px`;\n  }\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid);\n  }\n\n  // Remove last grid elements depending on width\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n    snapGrid = newSlidesGrid;\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n  if (isVirtual && params.loop) {\n    const size = slidesSizesGrid[0] + spaceBetween;\n    if (params.slidesPerGroup > 1) {\n      const groups = Math.ceil((swiper.virtual.slidesBefore + swiper.virtual.slidesAfter) / params.slidesPerGroup);\n      const groupSize = size * params.slidesPerGroup;\n      for (let i = 0; i < groups; i += 1) {\n        snapGrid.push(snapGrid[snapGrid.length - 1] + groupSize);\n      }\n    }\n    for (let i = 0; i < swiper.virtual.slidesBefore + swiper.virtual.slidesAfter; i += 1) {\n      if (params.slidesPerGroup === 1) {\n        snapGrid.push(snapGrid[snapGrid.length - 1] + size);\n      }\n      slidesGrid.push(slidesGrid[slidesGrid.length - 1] + size);\n      swiper.virtualSize += size;\n    }\n  }\n  if (snapGrid.length === 0) snapGrid = [0];\n  if (spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : swiper.getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode || params.loop) return true;\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n      return true;\n    }).forEach(slideEl => {\n      slideEl.style[key] = `${spaceBetween}px`;\n    });\n  }\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (spaceBetween || 0);\n    });\n    allSlidesSize -= spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap <= 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (spaceBetween || 0);\n    });\n    allSlidesSize -= spaceBetween;\n    const offsetSize = (params.slidesOffsetBefore || 0) + (params.slidesOffsetAfter || 0);\n    if (allSlidesSize + offsetSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize - offsetSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n  swiper.emit('slidesUpdated');\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.el.classList.contains(backFaceHiddenClass);\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.el.classList.add(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.el.classList.remove(backFaceHiddenClass);\n    }\n  }\n}\n\nfunction updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides[swiper.getSlideIndexByData(index)];\n    }\n    return swiper.slides[index];\n  };\n  // Find slides currently in view\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || []).forEach(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  }\n\n  // Find new height from highest slide in view\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  }\n\n  // Update Height\n  if (newHeight || newHeight === 0) swiper.wrapperEl.style.height = `${newHeight}px`;\n}\n\nfunction updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n  // eslint-disable-next-line\n  const minusOffset = swiper.isElement ? swiper.isHorizontal() ? swiper.wrapperEl.offsetLeft : swiper.wrapperEl.offsetTop : 0;\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = (swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop) - minusOffset - swiper.cssOverflowAdjustment();\n  }\n}\n\nconst toggleSlideClasses$1 = (slideEl, condition, className) => {\n  if (condition && !slideEl.classList.contains(className)) {\n    slideEl.classList.add(className);\n  } else if (!condition && slideEl.classList.contains(className)) {\n    slideEl.classList.remove(className);\n  }\n};\nfunction updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate;\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n  let spaceBetween = params.spaceBetween;\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiper.size;\n  } else if (typeof spaceBetween === 'string') {\n    spaceBetween = parseFloat(spaceBetween);\n  }\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isFullyVisible = slideBefore >= 0 && slideBefore <= swiper.size - swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n    }\n    toggleSlideClasses$1(slide, isVisible, params.slideVisibleClass);\n    toggleSlideClasses$1(slide, isFullyVisible, params.slideFullyVisibleClass);\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n}\n\nfunction updateProgress(translate) {\n  const swiper = this;\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1;\n    // eslint-disable-next-line\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd,\n    progressLoop\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    const isBeginningRounded = Math.abs(translate - swiper.minTranslate()) < 1;\n    const isEndRounded = Math.abs(translate - swiper.maxTranslate()) < 1;\n    isBeginning = isBeginningRounded || progress <= 0;\n    isEnd = isEndRounded || progress >= 1;\n    if (isBeginningRounded) progress = 0;\n    if (isEndRounded) progress = 1;\n  }\n  if (params.loop) {\n    const firstSlideIndex = swiper.getSlideIndexByData(0);\n    const lastSlideIndex = swiper.getSlideIndexByData(swiper.slides.length - 1);\n    const firstSlideTranslate = swiper.slidesGrid[firstSlideIndex];\n    const lastSlideTranslate = swiper.slidesGrid[lastSlideIndex];\n    const translateMax = swiper.slidesGrid[swiper.slidesGrid.length - 1];\n    const translateAbs = Math.abs(translate);\n    if (translateAbs >= firstSlideTranslate) {\n      progressLoop = (translateAbs - firstSlideTranslate) / translateMax;\n    } else {\n      progressLoop = (translateAbs + translateMax - lastSlideTranslate) / translateMax;\n    }\n    if (progressLoop > 1) progressLoop -= 1;\n  }\n  Object.assign(swiper, {\n    progress,\n    progressLoop,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n  swiper.emit('progress', progress);\n}\n\nconst toggleSlideClasses = (slideEl, condition, className) => {\n  if (condition && !slideEl.classList.contains(className)) {\n    slideEl.classList.add(className);\n  } else if (!condition && slideEl.classList.contains(className)) {\n    slideEl.classList.remove(className);\n  }\n};\nfunction updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    slidesEl,\n    activeIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n  const getFilteredSlide = selector => {\n    return elementChildren(slidesEl, `.${params.slideClass}${selector}, swiper-slide${selector}`)[0];\n  };\n  let activeSlide;\n  let prevSlide;\n  let nextSlide;\n  if (isVirtual) {\n    if (params.loop) {\n      let slideIndex = activeIndex - swiper.virtual.slidesBefore;\n      if (slideIndex < 0) slideIndex = swiper.virtual.slides.length + slideIndex;\n      if (slideIndex >= swiper.virtual.slides.length) slideIndex -= swiper.virtual.slides.length;\n      activeSlide = getFilteredSlide(`[data-swiper-slide-index=\"${slideIndex}\"]`);\n    } else {\n      activeSlide = getFilteredSlide(`[data-swiper-slide-index=\"${activeIndex}\"]`);\n    }\n  } else {\n    if (gridEnabled) {\n      activeSlide = slides.filter(slideEl => slideEl.column === activeIndex)[0];\n      nextSlide = slides.filter(slideEl => slideEl.column === activeIndex + 1)[0];\n      prevSlide = slides.filter(slideEl => slideEl.column === activeIndex - 1)[0];\n    } else {\n      activeSlide = slides[activeIndex];\n    }\n  }\n  if (activeSlide) {\n    if (!gridEnabled) {\n      // Next Slide\n      nextSlide = elementNextAll(activeSlide, `.${params.slideClass}, swiper-slide`)[0];\n      if (params.loop && !nextSlide) {\n        nextSlide = slides[0];\n      }\n\n      // Prev Slide\n      prevSlide = elementPrevAll(activeSlide, `.${params.slideClass}, swiper-slide`)[0];\n      if (params.loop && !prevSlide === 0) {\n        prevSlide = slides[slides.length - 1];\n      }\n    }\n  }\n  slides.forEach(slideEl => {\n    toggleSlideClasses(slideEl, slideEl === activeSlide, params.slideActiveClass);\n    toggleSlideClasses(slideEl, slideEl === nextSlide, params.slideNextClass);\n    toggleSlideClasses(slideEl, slideEl === prevSlide, params.slidePrevClass);\n  });\n  swiper.emitSlidesClasses();\n}\n\nconst processLazyPreloader = (swiper, imageEl) => {\n  if (!swiper || swiper.destroyed || !swiper.params) return;\n  const slideSelector = () => swiper.isElement ? `swiper-slide` : `.${swiper.params.slideClass}`;\n  const slideEl = imageEl.closest(slideSelector());\n  if (slideEl) {\n    let lazyEl = slideEl.querySelector(`.${swiper.params.lazyPreloaderClass}`);\n    if (!lazyEl && swiper.isElement) {\n      if (slideEl.shadowRoot) {\n        lazyEl = slideEl.shadowRoot.querySelector(`.${swiper.params.lazyPreloaderClass}`);\n      } else {\n        // init later\n        requestAnimationFrame(() => {\n          if (slideEl.shadowRoot) {\n            lazyEl = slideEl.shadowRoot.querySelector(`.${swiper.params.lazyPreloaderClass}`);\n            if (lazyEl) lazyEl.remove();\n          }\n        });\n      }\n    }\n    if (lazyEl) lazyEl.remove();\n  }\n};\nconst unlazy = (swiper, index) => {\n  if (!swiper.slides[index]) return;\n  const imageEl = swiper.slides[index].querySelector('[loading=\"lazy\"]');\n  if (imageEl) imageEl.removeAttribute('loading');\n};\nconst preload = swiper => {\n  if (!swiper || swiper.destroyed || !swiper.params) return;\n  let amount = swiper.params.lazyPreloadPrevNext;\n  const len = swiper.slides.length;\n  if (!len || !amount || amount < 0) return;\n  amount = Math.min(amount, len);\n  const slidesPerView = swiper.params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(swiper.params.slidesPerView);\n  const activeIndex = swiper.activeIndex;\n  if (swiper.params.grid && swiper.params.grid.rows > 1) {\n    const activeColumn = activeIndex;\n    const preloadColumns = [activeColumn - amount];\n    preloadColumns.push(...Array.from({\n      length: amount\n    }).map((_, i) => {\n      return activeColumn + slidesPerView + i;\n    }));\n    swiper.slides.forEach((slideEl, i) => {\n      if (preloadColumns.includes(slideEl.column)) unlazy(swiper, i);\n    });\n    return;\n  }\n  const slideIndexLastInView = activeIndex + slidesPerView - 1;\n  if (swiper.params.rewind || swiper.params.loop) {\n    for (let i = activeIndex - amount; i <= slideIndexLastInView + amount; i += 1) {\n      const realIndex = (i % len + len) % len;\n      if (realIndex < activeIndex || realIndex > slideIndexLastInView) unlazy(swiper, realIndex);\n    }\n  } else {\n    for (let i = Math.max(activeIndex - amount, 0); i <= Math.min(slideIndexLastInView + amount, len - 1); i += 1) {\n      if (i !== activeIndex && (i > slideIndexLastInView || i < activeIndex)) {\n        unlazy(swiper, i);\n      }\n    }\n  }\n};\n\nfunction getActiveIndexByTranslate(swiper) {\n  const {\n    slidesGrid,\n    params\n  } = swiper;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  let activeIndex;\n  for (let i = 0; i < slidesGrid.length; i += 1) {\n    if (typeof slidesGrid[i + 1] !== 'undefined') {\n      if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n        activeIndex = i;\n      } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n        activeIndex = i + 1;\n      }\n    } else if (translate >= slidesGrid[i]) {\n      activeIndex = i;\n    }\n  }\n  // Normalize slideIndex\n  if (params.normalizeSlideIndex) {\n    if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n  }\n  return activeIndex;\n}\nfunction updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n  const getVirtualRealIndex = aIndex => {\n    let realIndex = aIndex - swiper.virtual.slidesBefore;\n    if (realIndex < 0) {\n      realIndex = swiper.virtual.slides.length + realIndex;\n    }\n    if (realIndex >= swiper.virtual.slides.length) {\n      realIndex -= swiper.virtual.slides.length;\n    }\n    return realIndex;\n  };\n  if (typeof activeIndex === 'undefined') {\n    activeIndex = getActiveIndexByTranslate(swiper);\n  }\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  if (activeIndex === previousIndex && !swiper.params.loop) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n    return;\n  }\n  if (activeIndex === previousIndex && swiper.params.loop && swiper.virtual && swiper.params.virtual.enabled) {\n    swiper.realIndex = getVirtualRealIndex(activeIndex);\n    return;\n  }\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n\n  // Get real index\n  let realIndex;\n  if (swiper.virtual && params.virtual.enabled && params.loop) {\n    realIndex = getVirtualRealIndex(activeIndex);\n  } else if (gridEnabled) {\n    const firstSlideInColumn = swiper.slides.filter(slideEl => slideEl.column === activeIndex)[0];\n    let activeSlideIndex = parseInt(firstSlideInColumn.getAttribute('data-swiper-slide-index'), 10);\n    if (Number.isNaN(activeSlideIndex)) {\n      activeSlideIndex = Math.max(swiper.slides.indexOf(firstSlideInColumn), 0);\n    }\n    realIndex = Math.floor(activeSlideIndex / params.grid.rows);\n  } else if (swiper.slides[activeIndex]) {\n    const slideIndex = swiper.slides[activeIndex].getAttribute('data-swiper-slide-index');\n    if (slideIndex) {\n      realIndex = parseInt(slideIndex, 10);\n    } else {\n      realIndex = activeIndex;\n    }\n  } else {\n    realIndex = activeIndex;\n  }\n  Object.assign(swiper, {\n    previousSnapIndex,\n    snapIndex,\n    previousRealIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  if (swiper.initialized) {\n    preload(swiper);\n  }\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    if (previousRealIndex !== realIndex) {\n      swiper.emit('realIndexChange');\n    }\n    swiper.emit('slideChange');\n  }\n}\n\nfunction updateClickedSlide(el, path) {\n  const swiper = this;\n  const params = swiper.params;\n  let slide = el.closest(`.${params.slideClass}, swiper-slide`);\n  if (!slide && swiper.isElement && path && path.length > 1 && path.includes(el)) {\n    [...path.slice(path.indexOf(el) + 1, path.length)].forEach(pathEl => {\n      if (!slide && pathEl.matches && pathEl.matches(`.${params.slideClass}, swiper-slide`)) {\n        slide = pathEl;\n      }\n    });\n  }\n  let slideFound = false;\n  let slideIndex;\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt(slide.getAttribute('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}\n\nvar update = {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};\n\nfunction getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    wrapperEl\n  } = swiper;\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n  if (params.cssMode) {\n    return translate;\n  }\n  let currentTranslate = getTranslate(wrapperEl, axis);\n  currentTranslate += swiper.cssOverflowAdjustment();\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}\n\nfunction setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y;\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    if (swiper.isHorizontal()) {\n      x -= swiper.cssOverflowAdjustment();\n    } else {\n      y -= swiper.cssOverflowAdjustment();\n    }\n    wrapperEl.style.transform = `translate3d(${x}px, ${y}px, ${z}px)`;\n  }\n\n  // Check if we need to update progress\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n  swiper.emit('setTranslate', swiper.translate, byController);\n}\n\nfunction minTranslate() {\n  return -this.snapGrid[0];\n}\n\nfunction maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}\n\nfunction translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate;\n\n  // Update progress\n  swiper.updateProgress(newTranslate);\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n    return true;\n  }\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n    if (!swiper.animating) {\n      swiper.animating = true;\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.wrapperEl.removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n          swiper.animating = false;\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n      swiper.wrapperEl.addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n  return true;\n}\n\nvar translate = {\n  getTranslate: getSwiperTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};\n\nfunction setTransition(duration, byController) {\n  const swiper = this;\n  if (!swiper.params.cssMode) {\n    swiper.wrapperEl.style.transitionDuration = `${duration}ms`;\n    swiper.wrapperEl.style.transitionDelay = duration === 0 ? `0ms` : '';\n  }\n  swiper.emit('setTransition', duration, byController);\n}\n\nfunction transitionEmit(_ref) {\n  let {\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  } = _ref;\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n  swiper.emit(`transition${step}`);\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n    swiper.emit(`slideChangeTransition${step}`);\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}\n\nfunction transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}\n\nfunction transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}\n\nvar transition = {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};\n\nfunction slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (typeof index === 'string') {\n    index = parseInt(index, 10);\n  }\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n  if (!enabled && !internal && !initial || swiper.destroyed || swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  const translate = -snapGrid[snapIndex];\n  // Normalize slideIndex\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  }\n  // Directions locks\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && (rtl ? translate > swiper.translate && translate > swiper.minTranslate() : translate < swiper.translate && translate < swiper.minTranslate())) {\n      return false;\n    }\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) {\n        return false;\n      }\n    }\n  }\n  if (slideIndex !== (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  // Update progress\n  swiper.updateProgress(translate);\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset';\n\n  // Update Index\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex);\n    // Update Height\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n    swiper.updateSlidesClasses();\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n    return false;\n  }\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n      if (isVirtual && !swiper._cssModeVirtualInitialSet && swiper.params.initialSlide > 0) {\n        swiper._cssModeVirtualInitialSet = true;\n        requestAnimationFrame(() => {\n          wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n        });\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n      }\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._immediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n    return true;\n  }\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.wrapperEl.removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n    swiper.wrapperEl.addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n  }\n  return true;\n}\n\nfunction slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (typeof index === 'string') {\n    const indexAsNumber = parseInt(index, 10);\n    index = indexAsNumber;\n  }\n  const swiper = this;\n  if (swiper.destroyed) return;\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  const gridEnabled = swiper.grid && swiper.params.grid && swiper.params.grid.rows > 1;\n  let newIndex = index;\n  if (swiper.params.loop) {\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      // eslint-disable-next-line\n      newIndex = newIndex + swiper.virtual.slidesBefore;\n    } else {\n      let targetSlideIndex;\n      if (gridEnabled) {\n        const slideIndex = newIndex * swiper.params.grid.rows;\n        targetSlideIndex = swiper.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') * 1 === slideIndex)[0].column;\n      } else {\n        targetSlideIndex = swiper.getSlideIndexByData(newIndex);\n      }\n      const cols = gridEnabled ? Math.ceil(swiper.slides.length / swiper.params.grid.rows) : swiper.slides.length;\n      const {\n        centeredSlides\n      } = swiper.params;\n      let slidesPerView = swiper.params.slidesPerView;\n      if (slidesPerView === 'auto') {\n        slidesPerView = swiper.slidesPerViewDynamic();\n      } else {\n        slidesPerView = Math.ceil(parseFloat(swiper.params.slidesPerView, 10));\n        if (centeredSlides && slidesPerView % 2 === 0) {\n          slidesPerView = slidesPerView + 1;\n        }\n      }\n      let needLoopFix = cols - targetSlideIndex < slidesPerView;\n      if (centeredSlides) {\n        needLoopFix = needLoopFix || targetSlideIndex < Math.ceil(slidesPerView / 2);\n      }\n      if (internal && centeredSlides && swiper.params.slidesPerView !== 'auto' && !gridEnabled) {\n        needLoopFix = false;\n      }\n      if (needLoopFix) {\n        const direction = centeredSlides ? targetSlideIndex < swiper.activeIndex ? 'prev' : 'next' : targetSlideIndex - swiper.activeIndex - 1 < swiper.params.slidesPerView ? 'next' : 'prev';\n        swiper.loopFix({\n          direction,\n          slideTo: true,\n          activeSlideIndex: direction === 'next' ? targetSlideIndex + 1 : targetSlideIndex - cols + 1,\n          slideRealIndex: direction === 'next' ? swiper.realIndex : undefined\n        });\n      }\n      if (gridEnabled) {\n        const slideIndex = newIndex * swiper.params.grid.rows;\n        newIndex = swiper.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') * 1 === slideIndex)[0].column;\n      } else {\n        newIndex = swiper.getSlideIndexByData(newIndex);\n      }\n    }\n  }\n  requestAnimationFrame(() => {\n    swiper.slideTo(newIndex, speed, runCallbacks, internal);\n  });\n  return swiper;\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slideNext(speed, runCallbacks, internal) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    enabled,\n    params,\n    animating\n  } = swiper;\n  if (!enabled || swiper.destroyed) return swiper;\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  let perGroup = params.slidesPerGroup;\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  if (params.loop) {\n    if (animating && !isVirtual && params.loopPreventsSliding) return false;\n    swiper.loopFix({\n      direction: 'next'\n    });\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.wrapperEl.clientLeft;\n    if (swiper.activeIndex === swiper.slides.length - 1 && params.cssMode) {\n      requestAnimationFrame(() => {\n        swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n      });\n      return true;\n    }\n  }\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slidePrev(speed, runCallbacks, internal) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled,\n    animating\n  } = swiper;\n  if (!enabled || swiper.destroyed) return swiper;\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  if (params.loop) {\n    if (animating && !isVirtual && params.loopPreventsSliding) return false;\n    swiper.loopFix({\n      direction: 'prev'\n    });\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.wrapperEl.clientLeft;\n  }\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n  let prevIndex = 0;\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  } else if (params.loop && swiper.activeIndex === 0 && params.cssMode) {\n    requestAnimationFrame(() => {\n      swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n    });\n    return true;\n  }\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slideReset(speed, runCallbacks, internal) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  if (swiper.destroyed) return;\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n  const swiper = this;\n  if (swiper.destroyed) return;\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}\n\nfunction slideToClickedSlide() {\n  const swiper = this;\n  if (swiper.destroyed) return;\n  const {\n    params,\n    slidesEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n  const slideSelector = swiper.isElement ? `swiper-slide` : `.${params.slideClass}`;\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt(swiper.clickedSlide.getAttribute('data-swiper-slide-index'), 10);\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = swiper.getSlideIndex(elementChildren(slidesEl, `${slideSelector}[data-swiper-slide-index=\"${realIndex}\"]`)[0]);\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = swiper.getSlideIndex(elementChildren(slidesEl, `${slideSelector}[data-swiper-slide-index=\"${realIndex}\"]`)[0]);\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}\n\nvar slide = {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};\n\nfunction loopCreate(slideRealIndex) {\n  const swiper = this;\n  const {\n    params,\n    slidesEl\n  } = swiper;\n  if (!params.loop || swiper.virtual && swiper.params.virtual.enabled) return;\n  const initSlides = () => {\n    const slides = elementChildren(slidesEl, `.${params.slideClass}, swiper-slide`);\n    slides.forEach((el, index) => {\n      el.setAttribute('data-swiper-slide-index', index);\n    });\n  };\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n  const slidesPerGroup = params.slidesPerGroup * (gridEnabled ? params.grid.rows : 1);\n  const shouldFillGroup = swiper.slides.length % slidesPerGroup !== 0;\n  const shouldFillGrid = gridEnabled && swiper.slides.length % params.grid.rows !== 0;\n  const addBlankSlides = amountOfSlides => {\n    for (let i = 0; i < amountOfSlides; i += 1) {\n      const slideEl = swiper.isElement ? createElement('swiper-slide', [params.slideBlankClass]) : createElement('div', [params.slideClass, params.slideBlankClass]);\n      swiper.slidesEl.append(slideEl);\n    }\n  };\n  if (shouldFillGroup) {\n    if (params.loopAddBlankSlides) {\n      const slidesToAdd = slidesPerGroup - swiper.slides.length % slidesPerGroup;\n      addBlankSlides(slidesToAdd);\n      swiper.recalcSlides();\n      swiper.updateSlides();\n    } else {\n      showWarning('Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)');\n    }\n    initSlides();\n  } else if (shouldFillGrid) {\n    if (params.loopAddBlankSlides) {\n      const slidesToAdd = params.grid.rows - swiper.slides.length % params.grid.rows;\n      addBlankSlides(slidesToAdd);\n      swiper.recalcSlides();\n      swiper.updateSlides();\n    } else {\n      showWarning('Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)');\n    }\n    initSlides();\n  } else {\n    initSlides();\n  }\n  swiper.loopFix({\n    slideRealIndex,\n    direction: params.centeredSlides ? undefined : 'next'\n  });\n}\n\nfunction loopFix(_temp) {\n  let {\n    slideRealIndex,\n    slideTo = true,\n    direction,\n    setTranslate,\n    activeSlideIndex,\n    byController,\n    byMousewheel\n  } = _temp === void 0 ? {} : _temp;\n  const swiper = this;\n  if (!swiper.params.loop) return;\n  swiper.emit('beforeLoopFix');\n  const {\n    slides,\n    allowSlidePrev,\n    allowSlideNext,\n    slidesEl,\n    params\n  } = swiper;\n  const {\n    centeredSlides\n  } = params;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  if (swiper.virtual && params.virtual.enabled) {\n    if (slideTo) {\n      if (!params.centeredSlides && swiper.snapIndex === 0) {\n        swiper.slideTo(swiper.virtual.slides.length, 0, false, true);\n      } else if (params.centeredSlides && swiper.snapIndex < params.slidesPerView) {\n        swiper.slideTo(swiper.virtual.slides.length + swiper.snapIndex, 0, false, true);\n      } else if (swiper.snapIndex === swiper.snapGrid.length - 1) {\n        swiper.slideTo(swiper.virtual.slidesBefore, 0, false, true);\n      }\n    }\n    swiper.allowSlidePrev = allowSlidePrev;\n    swiper.allowSlideNext = allowSlideNext;\n    swiper.emit('loopFix');\n    return;\n  }\n  let slidesPerView = params.slidesPerView;\n  if (slidesPerView === 'auto') {\n    slidesPerView = swiper.slidesPerViewDynamic();\n  } else {\n    slidesPerView = Math.ceil(parseFloat(params.slidesPerView, 10));\n    if (centeredSlides && slidesPerView % 2 === 0) {\n      slidesPerView = slidesPerView + 1;\n    }\n  }\n  const slidesPerGroup = params.slidesPerGroupAuto ? slidesPerView : params.slidesPerGroup;\n  let loopedSlides = slidesPerGroup;\n  if (loopedSlides % slidesPerGroup !== 0) {\n    loopedSlides += slidesPerGroup - loopedSlides % slidesPerGroup;\n  }\n  loopedSlides += params.loopAdditionalSlides;\n  swiper.loopedSlides = loopedSlides;\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n  if (slides.length < slidesPerView + loopedSlides) {\n    showWarning('Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters');\n  } else if (gridEnabled && params.grid.fill === 'row') {\n    showWarning('Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`');\n  }\n  const prependSlidesIndexes = [];\n  const appendSlidesIndexes = [];\n  let activeIndex = swiper.activeIndex;\n  if (typeof activeSlideIndex === 'undefined') {\n    activeSlideIndex = swiper.getSlideIndex(slides.filter(el => el.classList.contains(params.slideActiveClass))[0]);\n  } else {\n    activeIndex = activeSlideIndex;\n  }\n  const isNext = direction === 'next' || !direction;\n  const isPrev = direction === 'prev' || !direction;\n  let slidesPrepended = 0;\n  let slidesAppended = 0;\n  const cols = gridEnabled ? Math.ceil(slides.length / params.grid.rows) : slides.length;\n  const activeColIndex = gridEnabled ? slides[activeSlideIndex].column : activeSlideIndex;\n  const activeColIndexWithShift = activeColIndex + (centeredSlides && typeof setTranslate === 'undefined' ? -slidesPerView / 2 + 0.5 : 0);\n  // prepend last slides before start\n  if (activeColIndexWithShift < loopedSlides) {\n    slidesPrepended = Math.max(loopedSlides - activeColIndexWithShift, slidesPerGroup);\n    for (let i = 0; i < loopedSlides - activeColIndexWithShift; i += 1) {\n      const index = i - Math.floor(i / cols) * cols;\n      if (gridEnabled) {\n        const colIndexToPrepend = cols - index - 1;\n        for (let i = slides.length - 1; i >= 0; i -= 1) {\n          if (slides[i].column === colIndexToPrepend) prependSlidesIndexes.push(i);\n        }\n        // slides.forEach((slide, slideIndex) => {\n        //   if (slide.column === colIndexToPrepend) prependSlidesIndexes.push(slideIndex);\n        // });\n      } else {\n        prependSlidesIndexes.push(cols - index - 1);\n      }\n    }\n  } else if (activeColIndexWithShift + slidesPerView > cols - loopedSlides) {\n    slidesAppended = Math.max(activeColIndexWithShift - (cols - loopedSlides * 2), slidesPerGroup);\n    for (let i = 0; i < slidesAppended; i += 1) {\n      const index = i - Math.floor(i / cols) * cols;\n      if (gridEnabled) {\n        slides.forEach((slide, slideIndex) => {\n          if (slide.column === index) appendSlidesIndexes.push(slideIndex);\n        });\n      } else {\n        appendSlidesIndexes.push(index);\n      }\n    }\n  }\n  swiper.__preventObserver__ = true;\n  requestAnimationFrame(() => {\n    swiper.__preventObserver__ = false;\n  });\n  if (isPrev) {\n    prependSlidesIndexes.forEach(index => {\n      slides[index].swiperLoopMoveDOM = true;\n      slidesEl.prepend(slides[index]);\n      slides[index].swiperLoopMoveDOM = false;\n    });\n  }\n  if (isNext) {\n    appendSlidesIndexes.forEach(index => {\n      slides[index].swiperLoopMoveDOM = true;\n      slidesEl.append(slides[index]);\n      slides[index].swiperLoopMoveDOM = false;\n    });\n  }\n  swiper.recalcSlides();\n  if (params.slidesPerView === 'auto') {\n    swiper.updateSlides();\n  } else if (gridEnabled && (prependSlidesIndexes.length > 0 && isPrev || appendSlidesIndexes.length > 0 && isNext)) {\n    swiper.slides.forEach((slide, slideIndex) => {\n      swiper.grid.updateSlide(slideIndex, slide, swiper.slides);\n    });\n  }\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n  if (slideTo) {\n    if (prependSlidesIndexes.length > 0 && isPrev) {\n      if (typeof slideRealIndex === 'undefined') {\n        const currentSlideTranslate = swiper.slidesGrid[activeIndex];\n        const newSlideTranslate = swiper.slidesGrid[activeIndex + slidesPrepended];\n        const diff = newSlideTranslate - currentSlideTranslate;\n        if (byMousewheel) {\n          swiper.setTranslate(swiper.translate - diff);\n        } else {\n          swiper.slideTo(activeIndex + Math.ceil(slidesPrepended), 0, false, true);\n          if (setTranslate) {\n            swiper.touchEventsData.startTranslate = swiper.touchEventsData.startTranslate - diff;\n            swiper.touchEventsData.currentTranslate = swiper.touchEventsData.currentTranslate - diff;\n          }\n        }\n      } else {\n        if (setTranslate) {\n          const shift = gridEnabled ? prependSlidesIndexes.length / params.grid.rows : prependSlidesIndexes.length;\n          swiper.slideTo(swiper.activeIndex + shift, 0, false, true);\n          swiper.touchEventsData.currentTranslate = swiper.translate;\n        }\n      }\n    } else if (appendSlidesIndexes.length > 0 && isNext) {\n      if (typeof slideRealIndex === 'undefined') {\n        const currentSlideTranslate = swiper.slidesGrid[activeIndex];\n        const newSlideTranslate = swiper.slidesGrid[activeIndex - slidesAppended];\n        const diff = newSlideTranslate - currentSlideTranslate;\n        if (byMousewheel) {\n          swiper.setTranslate(swiper.translate - diff);\n        } else {\n          swiper.slideTo(activeIndex - slidesAppended, 0, false, true);\n          if (setTranslate) {\n            swiper.touchEventsData.startTranslate = swiper.touchEventsData.startTranslate - diff;\n            swiper.touchEventsData.currentTranslate = swiper.touchEventsData.currentTranslate - diff;\n          }\n        }\n      } else {\n        const shift = gridEnabled ? appendSlidesIndexes.length / params.grid.rows : appendSlidesIndexes.length;\n        swiper.slideTo(swiper.activeIndex - shift, 0, false, true);\n      }\n    }\n  }\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  if (swiper.controller && swiper.controller.control && !byController) {\n    const loopParams = {\n      slideRealIndex,\n      direction,\n      setTranslate,\n      activeSlideIndex,\n      byController: true\n    };\n    if (Array.isArray(swiper.controller.control)) {\n      swiper.controller.control.forEach(c => {\n        if (!c.destroyed && c.params.loop) c.loopFix({\n          ...loopParams,\n          slideTo: c.params.slidesPerView === params.slidesPerView ? slideTo : false\n        });\n      });\n    } else if (swiper.controller.control instanceof swiper.constructor && swiper.controller.control.params.loop) {\n      swiper.controller.control.loopFix({\n        ...loopParams,\n        slideTo: swiper.controller.control.params.slidesPerView === params.slidesPerView ? slideTo : false\n      });\n    }\n  }\n  swiper.emit('loopFix');\n}\n\nfunction loopDestroy() {\n  const swiper = this;\n  const {\n    params,\n    slidesEl\n  } = swiper;\n  if (!params.loop || swiper.virtual && swiper.params.virtual.enabled) return;\n  swiper.recalcSlides();\n  const newSlidesOrder = [];\n  swiper.slides.forEach(slideEl => {\n    const index = typeof slideEl.swiperSlideIndex === 'undefined' ? slideEl.getAttribute('data-swiper-slide-index') * 1 : slideEl.swiperSlideIndex;\n    newSlidesOrder[index] = slideEl;\n  });\n  swiper.slides.forEach(slideEl => {\n    slideEl.removeAttribute('data-swiper-slide-index');\n  });\n  newSlidesOrder.forEach(slideEl => {\n    slidesEl.append(slideEl);\n  });\n  swiper.recalcSlides();\n  swiper.slideTo(swiper.realIndex, 0);\n}\n\nvar loop = {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};\n\nfunction setGrabCursor(moving) {\n  const swiper = this;\n  if (!swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  if (swiper.isElement) {\n    swiper.__preventObserver__ = true;\n  }\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n  if (swiper.isElement) {\n    requestAnimationFrame(() => {\n      swiper.__preventObserver__ = false;\n    });\n  }\n}\n\nfunction unsetGrabCursor() {\n  const swiper = this;\n  if (swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n  if (swiper.isElement) {\n    swiper.__preventObserver__ = true;\n  }\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n  if (swiper.isElement) {\n    requestAnimationFrame(() => {\n      swiper.__preventObserver__ = false;\n    });\n  }\n}\n\nvar grabCursor = {\n  setGrabCursor,\n  unsetGrabCursor\n};\n\n// Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n    return found || __closestFrom(el.getRootNode().host);\n  }\n  return __closestFrom(base);\n}\nfunction preventEdgeSwipe(swiper, event, startX) {\n  const window = getWindow();\n  const {\n    params\n  } = swiper;\n  const edgeSwipeDetection = params.edgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold;\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n      return true;\n    }\n    return false;\n  }\n  return true;\n}\nfunction onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  const data = swiper.touchEventsData;\n  if (e.type === 'pointerdown') {\n    if (data.pointerId !== null && data.pointerId !== e.pointerId) {\n      return;\n    }\n    data.pointerId = e.pointerId;\n  } else if (e.type === 'touchstart' && e.targetTouches.length === 1) {\n    data.touchId = e.targetTouches[0].identifier;\n  }\n  if (e.type === 'touchstart') {\n    // don't proceed touch event\n    preventEdgeSwipe(swiper, e, e.targetTouches[0].pageX);\n    return;\n  }\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && e.pointerType === 'mouse') return;\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n  let targetEl = e.target;\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!swiper.wrapperEl.contains(targetEl)) return;\n  }\n  if ('which' in e && e.which === 3) return;\n  if ('button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return;\n\n  // change target el for shadow root component\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n  // eslint-disable-next-line\n  const eventPath = e.composedPath ? e.composedPath() : e.path;\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && eventPath) {\n    targetEl = eventPath[0];\n  }\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot);\n\n  // use closestElement for shadow root element to get the actual closest for nested shadow root element\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, targetEl) : targetEl.closest(noSwipingSelector))) {\n    swiper.allowClick = true;\n    return;\n  }\n  if (params.swipeHandler) {\n    if (!targetEl.closest(params.swipeHandler)) return;\n  }\n  touches.currentX = e.pageX;\n  touches.currentY = e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY;\n\n  // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  if (!preventEdgeSwipe(swiper, e, startX)) {\n    return;\n  }\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n  let preventDefault = true;\n  if (targetEl.matches(data.focusableElements)) {\n    preventDefault = false;\n    if (targetEl.nodeName === 'SELECT') {\n      data.isTouched = false;\n    }\n  }\n  if (document.activeElement && document.activeElement.matches(data.focusableElements) && document.activeElement !== targetEl) {\n    document.activeElement.blur();\n  }\n  const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n  if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !targetEl.isContentEditable) {\n    e.preventDefault();\n  }\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n  swiper.emit('touchStart', e);\n}\n\nfunction onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && event.pointerType === 'mouse') return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  if (e.type === 'pointermove') {\n    if (data.touchId !== null) return; // return from pointer if we use touch\n    const id = e.pointerId;\n    if (id !== data.pointerId) return;\n  }\n  let targetTouch;\n  if (e.type === 'touchmove') {\n    targetTouch = [...e.changedTouches].filter(t => t.identifier === data.touchId)[0];\n    if (!targetTouch || targetTouch.identifier !== data.touchId) return;\n  } else {\n    targetTouch = e;\n  }\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n    return;\n  }\n  const pageX = targetTouch.pageX;\n  const pageY = targetTouch.pageY;\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n  if (!swiper.allowTouchMove) {\n    if (!e.target.matches(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n    return;\n  }\n  if (params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n  if (document.activeElement) {\n    if (e.target === document.activeElement && e.target.matches(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n  touches.previousX = touches.currentX;\n  touches.previousY = touches.currentY;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n  if (data.isScrolling || e.type === 'touchmove' && data.preventTouchMoveFromPointerMove) {\n    data.isTouched = false;\n    return;\n  }\n  if (!data.startMoving) {\n    return;\n  }\n  swiper.allowClick = false;\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  let touchesDiff = swiper.isHorizontal() ? touches.currentX - touches.previousX : touches.currentY - touches.previousY;\n  if (params.oneWayMovement) {\n    diff = Math.abs(diff) * (rtl ? 1 : -1);\n    touchesDiff = Math.abs(touchesDiff) * (rtl ? 1 : -1);\n  }\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) {\n    diff = -diff;\n    touchesDiff = -touchesDiff;\n  }\n  const prevTouchesDirection = swiper.touchesDirection;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  swiper.touchesDirection = touchesDiff > 0 ? 'prev' : 'next';\n  const isLoop = swiper.params.loop && !params.cssMode;\n  const allowLoopFix = swiper.touchesDirection === 'next' && swiper.allowSlideNext || swiper.touchesDirection === 'prev' && swiper.allowSlidePrev;\n  if (!data.isMoved) {\n    if (isLoop && allowLoopFix) {\n      swiper.loopFix({\n        direction: swiper.swipeDirection\n      });\n    }\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n    if (swiper.animating) {\n      const evt = new window.CustomEvent('transitionend', {\n        bubbles: true,\n        cancelable: true,\n        detail: {\n          bySwiperTouchMove: true\n        }\n      });\n      swiper.wrapperEl.dispatchEvent(evt);\n    }\n    data.allowMomentumBounce = false;\n    // Grab Cursor\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n    swiper.emit('sliderFirstMove', e);\n  }\n  let loopFixed;\n  new Date().getTime();\n  if (data.isMoved && data.allowThresholdMove && prevTouchesDirection !== swiper.touchesDirection && isLoop && allowLoopFix && Math.abs(diff) >= 1) {\n    Object.assign(touches, {\n      startX: pageX,\n      startY: pageY,\n      currentX: pageX,\n      currentY: pageY,\n      startTranslate: data.currentTranslate\n    });\n    data.loopSwapReset = true;\n    data.startTranslate = data.currentTranslate;\n    return;\n  }\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n  if (diff > 0) {\n    if (isLoop && allowLoopFix && !loopFixed && data.allowThresholdMove && data.currentTranslate > (params.centeredSlides ? swiper.minTranslate() - swiper.slidesSizesGrid[swiper.activeIndex + 1] : swiper.minTranslate())) {\n      swiper.loopFix({\n        direction: 'prev',\n        setTranslate: true,\n        activeSlideIndex: 0\n      });\n    }\n    if (data.currentTranslate > swiper.minTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) {\n        data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n      }\n    }\n  } else if (diff < 0) {\n    if (isLoop && allowLoopFix && !loopFixed && data.allowThresholdMove && data.currentTranslate < (params.centeredSlides ? swiper.maxTranslate() + swiper.slidesSizesGrid[swiper.slidesSizesGrid.length - 1] : swiper.maxTranslate())) {\n      swiper.loopFix({\n        direction: 'next',\n        setTranslate: true,\n        activeSlideIndex: swiper.slides.length - (params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(parseFloat(params.slidesPerView, 10)))\n      });\n    }\n    if (data.currentTranslate < swiper.maxTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) {\n        data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n      }\n    }\n  }\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  }\n\n  // Directions locks\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  // Threshold\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n  if (!params.followFinger || params.cssMode) return;\n\n  // Update active index in free mode\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  }\n  // Update progress\n  swiper.updateProgress(data.currentTranslate);\n  // Update translate\n  swiper.setTranslate(data.currentTranslate);\n}\n\nfunction onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let targetTouch;\n  const isTouchEvent = e.type === 'touchend' || e.type === 'touchcancel';\n  if (!isTouchEvent) {\n    if (data.touchId !== null) return; // return from pointer if we use touch\n    if (e.pointerId !== data.pointerId) return;\n    targetTouch = e;\n  } else {\n    targetTouch = [...e.changedTouches].filter(t => t.identifier === data.touchId)[0];\n    if (!targetTouch || targetTouch.identifier !== data.touchId) return;\n  }\n  if (['pointercancel', 'pointerout', 'pointerleave', 'contextmenu'].includes(e.type)) {\n    const proceed = ['pointercancel', 'contextmenu'].includes(e.type) && (swiper.browser.isSafari || swiper.browser.isWebView);\n    if (!proceed) {\n      return;\n    }\n  }\n  data.pointerId = null;\n  data.touchId = null;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && e.pointerType === 'mouse') return;\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n  data.allowTouchCallbacks = false;\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  // Return Grab Cursor\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  }\n\n  // Time diff\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime;\n\n  // Tap, doubleTap, Click\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target, pathTree);\n    swiper.emit('tap click', e);\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 && !data.loopSwapReset || data.currentTranslate === data.startTranslate && !data.loopSwapReset) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n  if (params.cssMode) {\n    return;\n  }\n  if (params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  }\n\n  // Find current slide\n  const swipeToLast = currentPos >= -swiper.maxTranslate() && !swiper.params.loop;\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (swipeToLast || currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (swipeToLast || currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = params.virtual && params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  }\n  // Find current slide size\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}\n\nfunction onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return;\n\n  // Breakpoints\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  }\n\n  // Save locks\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper;\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n  // Disable locks on resize\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n  const isVirtualLoop = isVirtual && params.loop;\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides && !isVirtualLoop) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    if (swiper.params.loop && !isVirtual) {\n      swiper.slideToLoop(swiper.realIndex, 0, false, true);\n    } else {\n      swiper.slideTo(swiper.activeIndex, 0, false, true);\n    }\n  }\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    clearTimeout(swiper.autoplay.resizeTimeout);\n    swiper.autoplay.resizeTimeout = setTimeout(() => {\n      if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n        swiper.autoplay.resume();\n      }\n    }, 500);\n  }\n  // Return locks after resize\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}\n\nfunction onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}\n\nfunction onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  }\n  // eslint-disable-next-line\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n  swiper.emit('setTranslate', swiper.translate, false);\n}\n\nfunction onLoad(e) {\n  const swiper = this;\n  processLazyPreloader(swiper, e.target);\n  if (swiper.params.cssMode || swiper.params.slidesPerView !== 'auto' && !swiper.params.autoHeight) {\n    return;\n  }\n  swiper.update();\n}\n\nfunction onDocumentTouchStart() {\n  const swiper = this;\n  if (swiper.documentTouchHandlerProceeded) return;\n  swiper.documentTouchHandlerProceeded = true;\n  if (swiper.params.touchReleaseOnEdges) {\n    swiper.el.style.touchAction = 'auto';\n  }\n}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    el,\n    wrapperEl,\n    device\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method;\n  if (!el || typeof el === 'string') return;\n\n  // Touch Events\n  document[domMethod]('touchstart', swiper.onDocumentTouchStart, {\n    passive: false,\n    capture\n  });\n  el[domMethod]('touchstart', swiper.onTouchStart, {\n    passive: false\n  });\n  el[domMethod]('pointerdown', swiper.onTouchStart, {\n    passive: false\n  });\n  document[domMethod]('touchmove', swiper.onTouchMove, {\n    passive: false,\n    capture\n  });\n  document[domMethod]('pointermove', swiper.onTouchMove, {\n    passive: false,\n    capture\n  });\n  document[domMethod]('touchend', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointerup', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointercancel', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('touchcancel', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointerout', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointerleave', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('contextmenu', swiper.onTouchEnd, {\n    passive: true\n  });\n\n  // Prevent Links Clicks\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  }\n\n  // Resize handler\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n\n  // Images loader\n  el[domMethod]('load', swiper.onLoad, {\n    capture: true\n  });\n};\nfunction attachEvents() {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n  swiper.onDocumentTouchStart = onDocumentTouchStart.bind(swiper);\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n  swiper.onClick = onClick.bind(swiper);\n  swiper.onLoad = onLoad.bind(swiper);\n  events(swiper, 'on');\n}\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\nvar events$1 = {\n  attachEvents,\n  detachEvents\n};\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\nfunction setBreakpoint() {\n  const swiper = this;\n  const {\n    realIndex,\n    initialized,\n    params,\n    el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return;\n\n  // Get breakpoint for window width and update parameters\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasGrabCursor = swiper.params.grabCursor;\n  const isGrabCursor = breakpointParams.grabCursor;\n  const wasEnabled = params.enabled;\n  if (wasMultiRow && !isMultiRow) {\n    el.classList.remove(`${params.containerModifierClass}grid`, `${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    el.classList.add(`${params.containerModifierClass}grid`);\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      el.classList.add(`${params.containerModifierClass}grid-column`);\n    }\n    swiper.emitContainerClasses();\n  }\n  if (wasGrabCursor && !isGrabCursor) {\n    swiper.unsetGrabCursor();\n  } else if (!wasGrabCursor && isGrabCursor) {\n    swiper.setGrabCursor();\n  }\n\n  // Toggle navigation, pagination, scrollbar\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    if (typeof breakpointParams[prop] === 'undefined') return;\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n  const wasLoop = params.loop;\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  const hasLoop = swiper.params.loop;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n  if (initialized) {\n    if (needsReLoop) {\n      swiper.loopDestroy();\n      swiper.loopCreate(realIndex);\n      swiper.updateSlides();\n    } else if (!wasLoop && hasLoop) {\n      swiper.loopCreate(realIndex);\n      swiper.updateSlides();\n    } else if (wasLoop && !hasLoop) {\n      swiper.loopDestroy();\n    }\n  }\n  swiper.emit('breakpoint', breakpointParams);\n}\n\nfunction getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n  return breakpoint || 'max';\n}\n\nvar breakpoints = {\n  setBreakpoint,\n  getBreakpoint\n};\n\nfunction prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\nfunction addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    el,\n    device\n  } = swiper;\n  // prettier-ignore\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  el.classList.add(...classNames);\n  swiper.emitContainerClasses();\n}\n\nfunction removeClasses() {\n  const swiper = this;\n  const {\n    el,\n    classNames\n  } = swiper;\n  if (!el || typeof el === 'string') return;\n  el.classList.remove(...classNames);\n  swiper.emitContainerClasses();\n}\n\nvar classes = {\n  addClasses,\n  removeClasses\n};\n\nfunction checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\nvar checkOverflow$1 = {\n  checkOverflow\n};\n\nvar defaults = {\n  init: true,\n  direction: 'horizontal',\n  oneWayMovement: false,\n  swiperElementNodeName: 'SWIPER-CONTAINER',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  eventsPrefix: 'swiper',\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 5,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // loop\n  loop: false,\n  loopAddBlankSlides: true,\n  loopAdditionalSlides: 0,\n  loopPreventsSliding: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideFullyVisibleClass: 'swiper-slide-fully-visible',\n  slideNextClass: 'swiper-slide-next',\n  slidePrevClass: 'swiper-slide-prev',\n  wrapperClass: 'swiper-wrapper',\n  lazyPreloaderClass: 'swiper-lazy-preloader',\n  lazyPreloadPrevNext: 0,\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};\n\nfunction moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n    if (moduleParamName === 'navigation' && params[moduleParamName] && params[moduleParamName].enabled && !params[moduleParamName].prevEl && !params[moduleParamName].nextEl) {\n      params[moduleParamName].auto = true;\n    }\n    if (['pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] && params[moduleParamName].enabled && !params[moduleParamName].el) {\n      params[moduleParamName].auto = true;\n    }\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}\n\n/* eslint no-param-reassign: \"off\" */\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events: events$1,\n  breakpoints,\n  checkOverflow: checkOverflow$1,\n  classes\n};\nconst extendedDefaults = {};\nclass Swiper {\n  constructor() {\n    let el;\n    let params;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n    const document = getDocument();\n    if (params.el && typeof params.el === 'string' && document.querySelectorAll(params.el).length > 1) {\n      const swipers = [];\n      document.querySelectorAll(params.el).forEach(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      // eslint-disable-next-line no-constructor-return\n      return swipers;\n    }\n\n    // Swiper Instance\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        params,\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    });\n\n    // Extend defaults with modules params\n    const swiperParams = extend({}, defaults, allModulesParams);\n\n    // Extend defaults with passed params\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params);\n\n    // add event listeners\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    }\n\n    // Extend Swiper\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: [],\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      cssOverflowAdjustment() {\n        // Returns 0 unless `translate` is > 2**23\n        // Should be subtracted from css values to prevent overflow\n        return Math.trunc(this.translate / 2 ** 23) * 2 ** 23;\n      },\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: 0,\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        startMoving: undefined,\n        pointerId: null,\n        touchId: null\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper');\n\n    // Init\n    if (swiper.params.init) {\n      swiper.init();\n    }\n\n    // Return app instance\n    // eslint-disable-next-line no-constructor-return\n    return swiper;\n  }\n  getDirectionLabel(property) {\n    if (this.isHorizontal()) {\n      return property;\n    }\n    // prettier-ignore\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n  getSlideIndex(slideEl) {\n    const {\n      slidesEl,\n      params\n    } = this;\n    const slides = elementChildren(slidesEl, `.${params.slideClass}, swiper-slide`);\n    const firstSlideIndex = elementIndex(slides[0]);\n    return elementIndex(slideEl) - firstSlideIndex;\n  }\n  getSlideIndexByData(index) {\n    return this.getSlideIndex(this.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') * 1 === index)[0]);\n  }\n  recalcSlides() {\n    const swiper = this;\n    const {\n      slidesEl,\n      params\n    } = swiper;\n    swiper.slides = elementChildren(slidesEl, `.${params.slideClass}, swiper-slide`);\n  }\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n    swiper.emit('enable');\n  }\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n    swiper.emit('disable');\n  }\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.forEach(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n  slidesPerViewDynamic(view, exact) {\n    if (view === void 0) {\n      view = 'current';\n    }\n    if (exact === void 0) {\n      exact = false;\n    }\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n    if (typeof params.slidesPerView === 'number') return params.slidesPerView;\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex] ? Math.ceil(slides[activeIndex].swiperSlideSize) : 0;\n      let breakLoop;\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += Math.ceil(slides[i].swiperSlideSize);\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n    return spv;\n  }\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper;\n    // Breakpoints\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n    [...swiper.el.querySelectorAll('[loading=\"lazy\"]')].forEach(imageEl => {\n      if (imageEl.complete) {\n        processLazyPreloader(swiper, imageEl);\n      }\n    });\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    let translated;\n    if (params.freeMode && params.freeMode.enabled && !params.cssMode) {\n      setTranslate();\n      if (params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !params.centeredSlides) {\n        const slides = swiper.virtual && params.virtual.enabled ? swiper.virtual.slides : swiper.slides;\n        translated = swiper.slideTo(slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n      if (!translated) {\n        setTranslate();\n      }\n    }\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n    swiper.emit('update');\n  }\n  changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n    swiper.el.classList.remove(`${swiper.params.containerModifierClass}${currentDirection}`);\n    swiper.el.classList.add(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.forEach(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n    if (swiper.rtl) {\n      swiper.el.classList.add(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.el.classList.remove(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n    swiper.update();\n  }\n  mount(element) {\n    const swiper = this;\n    if (swiper.mounted) return true;\n\n    // Find el\n    let el = element || swiper.params.el;\n    if (typeof el === 'string') {\n      el = document.querySelector(el);\n    }\n    if (!el) {\n      return false;\n    }\n    el.swiper = swiper;\n    if (el.parentNode && el.parentNode.host && el.parentNode.host.nodeName === swiper.params.swiperElementNodeName.toUpperCase()) {\n      swiper.isElement = true;\n    }\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = el.shadowRoot.querySelector(getWrapperSelector());\n        // Children needs to return slot items\n        return res;\n      }\n      return elementChildren(el, getWrapperSelector())[0];\n    };\n    // Find Wrapper\n    let wrapperEl = getWrapper();\n    if (!wrapperEl && swiper.params.createElements) {\n      wrapperEl = createElement('div', swiper.params.wrapperClass);\n      el.append(wrapperEl);\n      elementChildren(el, `.${swiper.params.slideClass}`).forEach(slideEl => {\n        wrapperEl.append(slideEl);\n      });\n    }\n    Object.assign(swiper, {\n      el,\n      wrapperEl,\n      slidesEl: swiper.isElement && !el.parentNode.host.slideSlots ? el.parentNode.host : wrapperEl,\n      hostEl: swiper.isElement ? el.parentNode.host : el,\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || elementStyle(el, 'direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || elementStyle(el, 'direction') === 'rtl'),\n      wrongRTL: elementStyle(wrapperEl, 'display') === '-webkit-box'\n    });\n    return true;\n  }\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit');\n\n    // Set breakpoint\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    // Add Classes\n    swiper.addClasses();\n\n    // Update size\n    swiper.updateSize();\n\n    // Update slides\n    swiper.updateSlides();\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    }\n\n    // Set Grab Cursor\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    // Slide To Initial Slide\n    if (swiper.params.loop && swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.virtual.slidesBefore, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    }\n\n    // Create loop\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    }\n\n    // Attach events\n    swiper.attachEvents();\n    const lazyElements = [...swiper.el.querySelectorAll('[loading=\"lazy\"]')];\n    if (swiper.isElement) {\n      lazyElements.push(...swiper.hostEl.querySelectorAll('[loading=\"lazy\"]'));\n    }\n    lazyElements.forEach(imageEl => {\n      if (imageEl.complete) {\n        processLazyPreloader(swiper, imageEl);\n      } else {\n        imageEl.addEventListener('load', e => {\n          processLazyPreloader(swiper, e.target);\n        });\n      }\n    });\n    preload(swiper);\n\n    // Init Flag\n    swiper.initialized = true;\n    preload(swiper);\n\n    // Emit\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n  destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n    const swiper = this;\n    const {\n      params,\n      el,\n      wrapperEl,\n      slides\n    } = swiper;\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n    swiper.emit('beforeDestroy');\n\n    // Init Flag\n    swiper.initialized = false;\n\n    // Detach events\n    swiper.detachEvents();\n\n    // Destroy loop\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    // Cleanup styles\n    if (cleanStyles) {\n      swiper.removeClasses();\n      if (el && typeof el !== 'string') {\n        el.removeAttribute('style');\n      }\n      if (wrapperEl) {\n        wrapperEl.removeAttribute('style');\n      }\n      if (slides && slides.length) {\n        slides.forEach(slideEl => {\n          slideEl.classList.remove(params.slideVisibleClass, params.slideFullyVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass);\n          slideEl.removeAttribute('style');\n          slideEl.removeAttribute('data-swiper-slide-index');\n        });\n      }\n    }\n    swiper.emit('destroy');\n\n    // Detach emitter events\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n    if (deleteInstance !== false) {\n      if (swiper.el && typeof swiper.el !== 'string') {\n        swiper.el.swiper = null;\n      }\n      deleteProps(swiper);\n    }\n    swiper.destroyed = true;\n    return null;\n  }\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n  static get defaults() {\n    return defaults;\n  }\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n    Swiper.installModule(module);\n    return Swiper;\n  }\n}\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\n\nexport { Swiper as S, defaults as d };\n", "import { e as elementChildren, c as createElement } from './utils.mjs';\n\nfunction createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = elementChildren(swiper.el, `.${checkProps[key]}`)[0];\n        if (!element) {\n          element = createElement('div', checkProps[key]);\n          element.className = checkProps[key];\n          swiper.el.append(element);\n        }\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n  return params;\n}\n\nexport { createElementIfNotDefined as c };\n", "import { c as createElementIfNotDefined } from '../shared/create-element-if-not-defined.mjs';\nimport { m as makeElementsArray } from '../shared/utils.mjs';\n\nfunction Navigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    prevEl: null\n  };\n  function getEl(el) {\n    let res;\n    if (el && typeof el === 'string' && swiper.isElement) {\n      res = swiper.el.querySelector(el);\n      if (res) return res;\n    }\n    if (el) {\n      if (typeof el === 'string') res = [...document.querySelectorAll(el)];\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && res && res.length > 1 && swiper.el.querySelectorAll(el).length === 1) {\n        res = swiper.el.querySelector(el);\n      } else if (res && res.length === 1) {\n        res = res[0];\n      }\n    }\n    if (el && !res) return el;\n    // if (Array.isArray(res) && res.length === 1) res = res[0];\n    return res;\n  }\n  function toggleEl(el, disabled) {\n    const params = swiper.params.navigation;\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      if (subEl) {\n        subEl.classList[disabled ? 'add' : 'remove'](...params.disabledClass.split(' '));\n        if (subEl.tagName === 'BUTTON') subEl.disabled = disabled;\n        if (swiper.params.watchOverflow && swiper.enabled) {\n          subEl.classList[swiper.isLocked ? 'add' : 'remove'](params.lockClass);\n        }\n      }\n    });\n  }\n  function update() {\n    // Update Navigation Buttons\n    const {\n      nextEl,\n      prevEl\n    } = swiper.navigation;\n    if (swiper.params.loop) {\n      toggleEl(prevEl, false);\n      toggleEl(nextEl, false);\n      return;\n    }\n    toggleEl(prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl(nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    let nextEl = getEl(params.nextEl);\n    let prevEl = getEl(params.prevEl);\n    Object.assign(swiper.navigation, {\n      nextEl,\n      prevEl\n    });\n    nextEl = makeElementsArray(nextEl);\n    prevEl = makeElementsArray(prevEl);\n    const initButton = (el, dir) => {\n      if (el) {\n        el.addEventListener('click', dir === 'next' ? onNextClick : onPrevClick);\n      }\n      if (!swiper.enabled && el) {\n        el.classList.add(...params.lockClass.split(' '));\n      }\n    };\n    nextEl.forEach(el => initButton(el, 'next'));\n    prevEl.forEach(el => initButton(el, 'prev'));\n  }\n  function destroy() {\n    let {\n      nextEl,\n      prevEl\n    } = swiper.navigation;\n    nextEl = makeElementsArray(nextEl);\n    prevEl = makeElementsArray(prevEl);\n    const destroyButton = (el, dir) => {\n      el.removeEventListener('click', dir === 'next' ? onNextClick : onPrevClick);\n      el.classList.remove(...swiper.params.navigation.disabledClass.split(' '));\n    };\n    nextEl.forEach(el => destroyButton(el, 'next'));\n    prevEl.forEach(el => destroyButton(el, 'prev'));\n  }\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    let {\n      nextEl,\n      prevEl\n    } = swiper.navigation;\n    nextEl = makeElementsArray(nextEl);\n    prevEl = makeElementsArray(prevEl);\n    if (swiper.enabled) {\n      update();\n      return;\n    }\n    [...nextEl, ...prevEl].filter(el => !!el).forEach(el => el.classList.add(swiper.params.navigation.lockClass));\n  });\n  on('click', (_s, e) => {\n    let {\n      nextEl,\n      prevEl\n    } = swiper.navigation;\n    nextEl = makeElementsArray(nextEl);\n    prevEl = makeElementsArray(prevEl);\n    const targetEl = e.target;\n    let targetIsButton = prevEl.includes(targetEl) || nextEl.includes(targetEl);\n    if (swiper.isElement && !targetIsButton) {\n      const path = e.path || e.composedPath && e.composedPath();\n      if (path) {\n        targetIsButton = path.find(pathEl => nextEl.includes(pathEl) || prevEl.includes(pathEl));\n      }\n    }\n    if (swiper.params.navigation.hideOnClick && !targetIsButton) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n      if (nextEl.length) {\n        isHidden = nextEl[0].classList.contains(swiper.params.navigation.hiddenClass);\n      } else if (prevEl.length) {\n        isHidden = prevEl[0].classList.contains(swiper.params.navigation.hiddenClass);\n      }\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n      [...nextEl, ...prevEl].filter(el => !!el).forEach(el => el.classList.toggle(swiper.params.navigation.hiddenClass));\n    }\n  });\n  const enable = () => {\n    swiper.el.classList.remove(...swiper.params.navigation.navigationDisabledClass.split(' '));\n    init();\n    update();\n  };\n  const disable = () => {\n    swiper.el.classList.add(...swiper.params.navigation.navigationDisabledClass.split(' '));\n    destroy();\n  };\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}\n\nexport { Navigation as default };\n", "import { g as getDocument } from '../shared/ssr-window.esm.mjs';\n\n/* eslint no-underscore-dangle: \"off\" */\n/* eslint no-use-before-define: \"off\" */\nfunction Autoplay(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit,\n    params\n  } = _ref;\n  swiper.autoplay = {\n    running: false,\n    paused: false,\n    timeLeft: 0\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: false,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n  let timeout;\n  let raf;\n  let autoplayDelayTotal = params && params.autoplay ? params.autoplay.delay : 3000;\n  let autoplayDelayCurrent = params && params.autoplay ? params.autoplay.delay : 3000;\n  let autoplayTimeLeft;\n  let autoplayStartTime = new Date().getTime();\n  let wasPaused;\n  let isTouched;\n  let pausedByTouch;\n  let touchStartTimeout;\n  let slideChanged;\n  let pausedByInteraction;\n  let pausedByPointerEnter;\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.wrapperEl) return;\n    if (e.target !== swiper.wrapperEl) return;\n    swiper.wrapperEl.removeEventListener('transitionend', onTransitionEnd);\n    if (pausedByPointerEnter || e.detail && e.detail.bySwiperTouchMove) {\n      return;\n    }\n    resume();\n  }\n  const calcTimeLeft = () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) {\n      wasPaused = true;\n    } else if (wasPaused) {\n      autoplayDelayCurrent = autoplayTimeLeft;\n      wasPaused = false;\n    }\n    const timeLeft = swiper.autoplay.paused ? autoplayTimeLeft : autoplayStartTime + autoplayDelayCurrent - new Date().getTime();\n    swiper.autoplay.timeLeft = timeLeft;\n    emit('autoplayTimeLeft', timeLeft, timeLeft / autoplayDelayTotal);\n    raf = requestAnimationFrame(() => {\n      calcTimeLeft();\n    });\n  };\n  const getSlideDelay = () => {\n    let activeSlideEl;\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      activeSlideEl = swiper.slides.filter(slideEl => slideEl.classList.contains('swiper-slide-active'))[0];\n    } else {\n      activeSlideEl = swiper.slides[swiper.activeIndex];\n    }\n    if (!activeSlideEl) return undefined;\n    const currentSlideDelay = parseInt(activeSlideEl.getAttribute('data-swiper-autoplay'), 10);\n    return currentSlideDelay;\n  };\n  const run = delayForce => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    cancelAnimationFrame(raf);\n    calcTimeLeft();\n    let delay = typeof delayForce === 'undefined' ? swiper.params.autoplay.delay : delayForce;\n    autoplayDelayTotal = swiper.params.autoplay.delay;\n    autoplayDelayCurrent = swiper.params.autoplay.delay;\n    const currentSlideDelay = getSlideDelay();\n    if (!Number.isNaN(currentSlideDelay) && currentSlideDelay > 0 && typeof delayForce === 'undefined') {\n      delay = currentSlideDelay;\n      autoplayDelayTotal = currentSlideDelay;\n      autoplayDelayCurrent = currentSlideDelay;\n    }\n    autoplayTimeLeft = delay;\n    const speed = swiper.params.speed;\n    const proceed = () => {\n      if (!swiper || swiper.destroyed) return;\n      if (swiper.params.autoplay.reverseDirection) {\n        if (!swiper.isBeginning || swiper.params.loop || swiper.params.rewind) {\n          swiper.slidePrev(speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          swiper.slideTo(swiper.slides.length - 1, speed, true, true);\n          emit('autoplay');\n        }\n      } else {\n        if (!swiper.isEnd || swiper.params.loop || swiper.params.rewind) {\n          swiper.slideNext(speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          swiper.slideTo(0, speed, true, true);\n          emit('autoplay');\n        }\n      }\n      if (swiper.params.cssMode) {\n        autoplayStartTime = new Date().getTime();\n        requestAnimationFrame(() => {\n          run();\n        });\n      }\n    };\n    if (delay > 0) {\n      clearTimeout(timeout);\n      timeout = setTimeout(() => {\n        proceed();\n      }, delay);\n    } else {\n      requestAnimationFrame(() => {\n        proceed();\n      });\n    }\n\n    // eslint-disable-next-line\n    return delay;\n  };\n  const start = () => {\n    autoplayStartTime = new Date().getTime();\n    swiper.autoplay.running = true;\n    run();\n    emit('autoplayStart');\n  };\n  const stop = () => {\n    swiper.autoplay.running = false;\n    clearTimeout(timeout);\n    cancelAnimationFrame(raf);\n    emit('autoplayStop');\n  };\n  const pause = (internal, reset) => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    clearTimeout(timeout);\n    if (!internal) {\n      pausedByInteraction = true;\n    }\n    const proceed = () => {\n      emit('autoplayPause');\n      if (swiper.params.autoplay.waitForTransition) {\n        swiper.wrapperEl.addEventListener('transitionend', onTransitionEnd);\n      } else {\n        resume();\n      }\n    };\n    swiper.autoplay.paused = true;\n    if (reset) {\n      if (slideChanged) {\n        autoplayTimeLeft = swiper.params.autoplay.delay;\n      }\n      slideChanged = false;\n      proceed();\n      return;\n    }\n    const delay = autoplayTimeLeft || swiper.params.autoplay.delay;\n    autoplayTimeLeft = delay - (new Date().getTime() - autoplayStartTime);\n    if (swiper.isEnd && autoplayTimeLeft < 0 && !swiper.params.loop) return;\n    if (autoplayTimeLeft < 0) autoplayTimeLeft = 0;\n    proceed();\n  };\n  const resume = () => {\n    if (swiper.isEnd && autoplayTimeLeft < 0 && !swiper.params.loop || swiper.destroyed || !swiper.autoplay.running) return;\n    autoplayStartTime = new Date().getTime();\n    if (pausedByInteraction) {\n      pausedByInteraction = false;\n      run(autoplayTimeLeft);\n    } else {\n      run();\n    }\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n  };\n  const onVisibilityChange = () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    const document = getDocument();\n    if (document.visibilityState === 'hidden') {\n      pausedByInteraction = true;\n      pause(true);\n    }\n    if (document.visibilityState === 'visible') {\n      resume();\n    }\n  };\n  const onPointerEnter = e => {\n    if (e.pointerType !== 'mouse') return;\n    pausedByInteraction = true;\n    pausedByPointerEnter = true;\n    if (swiper.animating || swiper.autoplay.paused) return;\n    pause(true);\n  };\n  const onPointerLeave = e => {\n    if (e.pointerType !== 'mouse') return;\n    pausedByPointerEnter = false;\n    if (swiper.autoplay.paused) {\n      resume();\n    }\n  };\n  const attachMouseEvents = () => {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.el.addEventListener('pointerenter', onPointerEnter);\n      swiper.el.addEventListener('pointerleave', onPointerLeave);\n    }\n  };\n  const detachMouseEvents = () => {\n    if (swiper.el && typeof swiper.el !== 'string') {\n      swiper.el.removeEventListener('pointerenter', onPointerEnter);\n      swiper.el.removeEventListener('pointerleave', onPointerLeave);\n    }\n  };\n  const attachDocumentEvents = () => {\n    const document = getDocument();\n    document.addEventListener('visibilitychange', onVisibilityChange);\n  };\n  const detachDocumentEvents = () => {\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  };\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      attachMouseEvents();\n      attachDocumentEvents();\n      start();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n    detachDocumentEvents();\n    if (swiper.autoplay.running) {\n      stop();\n    }\n  });\n  on('_freeModeStaticRelease', () => {\n    if (pausedByTouch || pausedByInteraction) {\n      resume();\n    }\n  });\n  on('_freeModeNoMomentumRelease', () => {\n    if (!swiper.params.autoplay.disableOnInteraction) {\n      pause(true, true);\n    } else {\n      stop();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    if (internal || !swiper.params.autoplay.disableOnInteraction) {\n      pause(true, true);\n    } else {\n      stop();\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n      return;\n    }\n    isTouched = true;\n    pausedByTouch = false;\n    pausedByInteraction = false;\n    touchStartTimeout = setTimeout(() => {\n      pausedByInteraction = true;\n      pausedByTouch = true;\n      pause(true);\n    }, 200);\n  });\n  on('touchEnd', () => {\n    if (swiper.destroyed || !swiper.autoplay.running || !isTouched) return;\n    clearTimeout(touchStartTimeout);\n    clearTimeout(timeout);\n    if (swiper.params.autoplay.disableOnInteraction) {\n      pausedByTouch = false;\n      isTouched = false;\n      return;\n    }\n    if (pausedByTouch && swiper.params.cssMode) resume();\n    pausedByTouch = false;\n    isTouched = false;\n  });\n  on('slideChange', () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    slideChanged = true;\n  });\n  Object.assign(swiper.autoplay, {\n    start,\n    stop,\n    pause,\n    resume\n  });\n}\n\nexport { Autoplay as default };\n", "import { Controller } from \"@hotwired/stimulus\";\nimport Swiper from 'swiper';\nimport { Navigation, Autoplay } from 'swiper/modules';\n\nexport default class extends Controller {\n    connect() {\n      this.swiper = new Swiper('.games_swiper', {\n        modules: [Navigation, Autoplay],\n\n        // Optional parameters\n        slidesPerView: 12,\n        spaceBetween: 5,\n        breakpoints: {\n          // when window width is >= 320px\n          320: {\n            slidesPerView: 3,\n            spaceBetween: 3\n          },\n          // when window width is >= 480px\n          480: {\n            slidesPerView: 4,\n            spaceBetween: 5\n          },\n          // when window width is >= 768px\n          768: {\n            slidesPerView: 6,\n            spaceBetween: 5\n          },\n          // when window width is >= 992px\n          992: {\n            slidesPerView: 8,\n            spaceBetween: 5\n          },\n          // when window width is >= 1200px\n          1200: {\n            slidesPerView: 10,\n            spaceBetween: 5\n          },\n          // when window width is >= 1440px\n          1440: {\n            slidesPerView: 12,\n            spaceBetween: 5\n          }\n        },\n        loop: true,\n        autoplay: {\n          delay: 5000,\n        },\n\n        // Navigation arrows\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev',\n        },\n      });\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    static targets = [\"message\", \"button\"];\n\n    connect() {\n        this.checkTextLength();\n        window.addEventListener('resize', this.checkTextLength.bind(this));\n    }\n\n    disconnect() {\n        window.removeEventListener('resize', this.checkTextLength.bind(this));\n    }\n\n    call() {\n        this.element.classList.toggle('open');\n    }\n\n    checkTextLength() {\n        const textLength = this.messageTarget.textContent.length;\n        const screenWidth = window.innerWidth;\n\n        if (textLength <= 200 && screenWidth > 768) {\n            this.buttonTarget.style.display = 'none';\n        } else {\n            this.buttonTarget.style.display = '';\n        }\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    call(e) {\n        console.log('Hell');\n        this.element.classList.toggle('collapse-bar');\n    }\n}\n", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\n// We're using a generic because languages have different plural rules.\n\n// eslint-disable-next-line no-use-before-define\n\nfunction insertReplacement(source, rx, replacement) {\n  const newParts = [];\n  source.forEach(chunk => {\n    // When the source contains multiple placeholders for interpolation,\n    // we should ignore chunks that are not strings, because those\n    // can be JSX objects and will be otherwise incorrectly turned into strings.\n    // Without this condition we\u2019d get this: [object Object] hello [object Object] my <button>\n    if (typeof chunk !== 'string') {\n      return newParts.push(chunk);\n    }\n    return rx[Symbol.split](chunk).forEach((raw, i, list) => {\n      if (raw !== '') {\n        newParts.push(raw);\n      }\n\n      // Interlace with the `replacement` value\n      if (i < list.length - 1) {\n        newParts.push(replacement);\n      }\n    });\n  });\n  return newParts;\n}\n\n/**\n * Takes a string with placeholder variables like `%{smart_count} file selected`\n * and replaces it with values from options `{smart_count: 5}`\n *\n * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE\n * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299\n *\n * @param phrase that needs interpolation, with placeholders\n * @param options with values that will be used to replace placeholders\n */\nfunction interpolate(phrase, options) {\n  const dollarRegex = /\\$/g;\n  const dollarBillsYall = '$$$$';\n  let interpolated = [phrase];\n  if (options == null) return interpolated;\n  for (const arg of Object.keys(options)) {\n    if (arg !== '_') {\n      // Ensure replacement value is escaped to prevent special $-prefixed\n      // regex replace tokens. the \"$$$$\" is needed because each \"$\" needs to\n      // be escaped with \"$\" itself, and we need two in the resulting output.\n      let replacement = options[arg];\n      if (typeof replacement === 'string') {\n        replacement = dollarRegex[Symbol.replace](replacement, dollarBillsYall);\n      }\n      // We create a new `RegExp` each time instead of using a more-efficient\n      // string replace so that the same argument can be replaced multiple times\n      // in the same phrase.\n      interpolated = insertReplacement(interpolated, new RegExp(`%\\\\{${arg}\\\\}`, 'g'), replacement);\n    }\n  }\n  return interpolated;\n}\nconst defaultOnMissingKey = key => {\n  throw new Error(`missing string: ${key}`);\n};\n\n/**\n * Translates strings with interpolation & pluralization support.\n * Extensible with custom dictionaries and pluralization functions.\n *\n * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,\n * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded\n * and can be easily added among with dictionaries, nested objects are used for pluralization\n * as opposed to `||||` delimeter\n *\n * Usage example: `translator.translate('files_chosen', {smart_count: 3})`\n */\nvar _onMissingKey = /*#__PURE__*/_classPrivateFieldLooseKey(\"onMissingKey\");\nvar _apply = /*#__PURE__*/_classPrivateFieldLooseKey(\"apply\");\nexport default class Translator {\n  constructor(locales, _temp) {\n    let {\n      onMissingKey = defaultOnMissingKey\n    } = _temp === void 0 ? {} : _temp;\n    Object.defineProperty(this, _apply, {\n      value: _apply2\n    });\n    Object.defineProperty(this, _onMissingKey, {\n      writable: true,\n      value: void 0\n    });\n    this.locale = {\n      strings: {},\n      pluralize(n) {\n        if (n === 1) {\n          return 0;\n        }\n        return 1;\n      }\n    };\n    if (Array.isArray(locales)) {\n      locales.forEach(_classPrivateFieldLooseBase(this, _apply)[_apply], this);\n    } else {\n      _classPrivateFieldLooseBase(this, _apply)[_apply](locales);\n    }\n    _classPrivateFieldLooseBase(this, _onMissingKey)[_onMissingKey] = onMissingKey;\n  }\n  /**\n   * Public translate method\n   *\n   * @param key\n   * @param options with values that will be used later to replace placeholders in string\n   * @returns string translated (and interpolated)\n   */\n  translate(key, options) {\n    return this.translateArray(key, options).join('');\n  }\n\n  /**\n   * Get a translation and return the translated and interpolated parts as an array.\n   *\n   * @returns The translated and interpolated parts, in order.\n   */\n  translateArray(key, options) {\n    let string = this.locale.strings[key];\n    if (string == null) {\n      _classPrivateFieldLooseBase(this, _onMissingKey)[_onMissingKey](key);\n      string = key;\n    }\n    const hasPluralForms = typeof string === 'object';\n    if (hasPluralForms) {\n      if (options && typeof options.smart_count !== 'undefined') {\n        const plural = this.locale.pluralize(options.smart_count);\n        return interpolate(string[plural], options);\n      }\n      throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');\n    }\n    if (typeof string !== 'string') {\n      throw new Error(`string was not a string`);\n    }\n    return interpolate(string, options);\n  }\n}\nfunction _apply2(locale) {\n  if (!(locale != null && locale.strings)) {\n    return;\n  }\n  const prevLocale = this.locale;\n  Object.assign(this.locale, {\n    strings: {\n      ...prevLocale.strings,\n      ...locale.strings\n    },\n    pluralize: locale.pluralize || prevLocale.pluralize\n  });\n}", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\n/* eslint-disable max-classes-per-file */\n/* global AggregateError */\n\nimport Translator from '@uppy/utils/lib/Translator';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport ee from 'namespace-emitter';\nimport { nanoid } from 'nanoid/non-secure';\nimport throttle from 'lodash/throttle.js';\nimport DefaultStore from '@uppy/store-default';\nimport getFileType from '@uppy/utils/lib/getFileType';\nimport getFileNameAndExtension from '@uppy/utils/lib/getFileNameAndExtension';\nimport { getSafeFileId } from '@uppy/utils/lib/generateFileID';\nimport supportsUploadProgress from \"./supportsUploadProgress.js\";\nimport getFileName from \"./getFileName.js\";\nimport { justErrorsLogger, debugLogger } from \"./loggers.js\";\nimport { Restricter, defaultOptions as defaultRestrictionOptions, RestrictionError } from \"./Restricter.js\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.0.1\"\n};\nimport locale from \"./locale.js\";\n\n/**\n * ids are always `string`s, except the root folder's id can be `null`\n */\n\n/**\n * PartialTree has the following structure.\n *\n *           FolderRoot\n *         \u250C\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2510\n *     FolderNode     File\n *   \u250C\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510\n *  File      File\n *\n * Root folder is called `PartialTreeFolderRoot`,\n * all other folders are called `PartialTreeFolderNode`, because they are \"internal nodes\".\n *\n * It's possible for `PartialTreeFolderNode` to be a leaf node if it doesn't contain any files.\n */\n\n/*\n * UnknownProviderPlugin can be any Companion plugin (such as Google Drive).\n * As the plugins are passed around throughout Uppy we need a generic type for this.\n * It may seems like duplication, but this type safe. Changing the type of `storage`\n * will error in the `Provider` class of @uppy/companion-client and vice versa.\n *\n * Note that this is the *plugin* class, not a version of the `Provider` class.\n * `Provider` does operate on Companion plugins with `uppy.getPlugin()`.\n */\n\n/*\n * UnknownSearchProviderPlugin can be any search Companion plugin (such as Unsplash).\n * As the plugins are passed around throughout Uppy we need a generic type for this.\n * It may seems like duplication, but this type safe. Changing the type of `title`\n * will error in the `SearchProvider` class of @uppy/companion-client and vice versa.\n *\n * Note that this is the *plugin* class, not a version of the `SearchProvider` class.\n * `SearchProvider` does operate on Companion plugins with `uppy.getPlugin()`.\n */\n\n// TODO: can we use namespaces in other plugins to populate this?\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\n\n// The user facing type for UppyOptions used in uppy.setOptions()\n\n/** `OmitFirstArg<typeof someArray>` is the type of the returned value of `someArray.slice(1)`. */\n\nconst defaultUploadState = {\n  totalProgress: 0,\n  allowNewUpload: true,\n  error: null,\n  recoveredState: null\n};\n\n/**\n * Uppy Core module.\n * Manages plugins, state updates, acts as an event bus,\n * adds/removes files and metadata.\n */\nvar _plugins = /*#__PURE__*/_classPrivateFieldLooseKey(\"plugins\");\nvar _restricter = /*#__PURE__*/_classPrivateFieldLooseKey(\"restricter\");\nvar _storeUnsubscribe = /*#__PURE__*/_classPrivateFieldLooseKey(\"storeUnsubscribe\");\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\nvar _preProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"preProcessors\");\nvar _uploaders = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploaders\");\nvar _postProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"postProcessors\");\nvar _informAndEmit = /*#__PURE__*/_classPrivateFieldLooseKey(\"informAndEmit\");\nvar _checkRequiredMetaFieldsOnFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFieldsOnFile\");\nvar _checkRequiredMetaFields = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFields\");\nvar _assertNewUploadAllowed = /*#__PURE__*/_classPrivateFieldLooseKey(\"assertNewUploadAllowed\");\nvar _transformFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"transformFile\");\nvar _startIfAutoProceed = /*#__PURE__*/_classPrivateFieldLooseKey(\"startIfAutoProceed\");\nvar _checkAndUpdateFileState = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkAndUpdateFileState\");\nvar _addListeners = /*#__PURE__*/_classPrivateFieldLooseKey(\"addListeners\");\nvar _updateOnlineStatus = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateOnlineStatus\");\nvar _requestClientById = /*#__PURE__*/_classPrivateFieldLooseKey(\"requestClientById\");\nvar _createUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"createUpload\");\nvar _getUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUpload\");\nvar _removeUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"removeUpload\");\nvar _runUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"runUpload\");\nexport class Uppy {\n  /**\n   * Instantiate Uppy\n   */\n  constructor(_opts) {\n    /**\n     * Run an upload. This picks up where it left off in case the upload is being restored.\n     */\n    Object.defineProperty(this, _runUpload, {\n      value: _runUpload2\n    });\n    /**\n     * Remove an upload, eg. if it has been canceled or completed.\n     *\n     */\n    Object.defineProperty(this, _removeUpload, {\n      value: _removeUpload2\n    });\n    Object.defineProperty(this, _getUpload, {\n      value: _getUpload2\n    });\n    /**\n     * Create an upload for a bunch of files.\n     *\n     */\n    Object.defineProperty(this, _createUpload, {\n      value: _createUpload2\n    });\n    /**\n     * Registers listeners for all global actions, like:\n     * `error`, `file-removed`, `upload-progress`\n     */\n    Object.defineProperty(this, _addListeners, {\n      value: _addListeners2\n    });\n    Object.defineProperty(this, _checkAndUpdateFileState, {\n      value: _checkAndUpdateFileState2\n    });\n    // Schedule an upload if `autoProceed` is enabled.\n    Object.defineProperty(this, _startIfAutoProceed, {\n      value: _startIfAutoProceed2\n    });\n    /**\n     * Create a file state object based on user-provided `addFile()` options.\n     */\n    Object.defineProperty(this, _transformFile, {\n      value: _transformFile2\n    });\n    Object.defineProperty(this, _assertNewUploadAllowed, {\n      value: _assertNewUploadAllowed2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFields, {\n      value: _checkRequiredMetaFields2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFieldsOnFile, {\n      value: _checkRequiredMetaFieldsOnFile2\n    });\n    Object.defineProperty(this, _informAndEmit, {\n      value: _informAndEmit2\n    });\n    Object.defineProperty(this, _plugins, {\n      writable: true,\n      value: Object.create(null)\n    });\n    Object.defineProperty(this, _restricter, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _storeUnsubscribe, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: ee()\n    });\n    Object.defineProperty(this, _preProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _uploaders, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _postProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    this.scheduledAutoProceed = null;\n    this.wasOffline = false;\n    // ___Why throttle at 500ms?\n    //    - We must throttle at >250ms for superfocus in Dashboard to work well\n    //    (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).\n    //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file,\n    //    and click 'ADD MORE FILES', - focus won't activate in Firefox.\n    //    - We must throttle at around >500ms to avoid performance lags.\n    //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.\n    // todo when uploading multiple files, this will cause problems because they share the same throttle,\n    // meaning some files might never get their progress reported (eaten up by progress events from other files)\n    this.calculateProgress = throttle((file, data) => {\n      const fileInState = this.getFile(file == null ? void 0 : file.id);\n      if (file == null || !fileInState) {\n        this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n        return;\n      }\n      if (fileInState.progress.percentage === 100) {\n        this.log(`Not setting progress for a file that has been already uploaded: ${file.id}`);\n        return;\n      }\n\n      // bytesTotal may be null or zero; in that case we can't divide by it\n      const canHavePercentage = Number.isFinite(data.bytesTotal) && data.bytesTotal > 0;\n      this.setFileState(file.id, {\n        progress: {\n          ...fileInState.progress,\n          bytesUploaded: data.bytesUploaded,\n          bytesTotal: data.bytesTotal,\n          percentage: canHavePercentage ? Math.round(data.bytesUploaded / data.bytesTotal * 100) : 0\n        }\n      });\n      this.calculateTotalProgress();\n    }, 500, {\n      leading: true,\n      trailing: true\n    });\n    Object.defineProperty(this, _updateOnlineStatus, {\n      writable: true,\n      value: this.updateOnlineStatus.bind(this)\n    });\n    // We need to store request clients by a unique ID, so we can share RequestClient instances across files\n    // this allows us to do rate limiting and synchronous operations like refreshing provider tokens\n    // example: refreshing tokens: if each file has their own requestclient,\n    // we don't have any way to synchronize all requests in order to\n    // - block all requests\n    // - refresh the token\n    // - unblock all requests and allow them to run with a the new access token\n    // back when we had a requestclient per file, once an access token expired,\n    // all 6 files would go ahead and refresh the token at the same time\n    // (calling /refresh-token up to 6 times), which will probably fail for some providers\n    Object.defineProperty(this, _requestClientById, {\n      writable: true,\n      value: new Map()\n    });\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      id: 'uppy',\n      autoProceed: false,\n      allowMultipleUploadBatches: true,\n      debug: false,\n      restrictions: defaultRestrictionOptions,\n      meta: {},\n      onBeforeFileAdded: (file, files) => !Object.hasOwn(files, file.id),\n      onBeforeUpload: files => files,\n      store: new DefaultStore(),\n      logger: justErrorsLogger,\n      infoTimeout: 5000\n    };\n    const merged = {\n      ...defaultOptions,\n      ..._opts\n    };\n    // Merge default options with the ones set by user,\n    // making sure to merge restrictions too\n    this.opts = {\n      ...merged,\n      restrictions: {\n        ...defaultOptions.restrictions,\n        ...(_opts && _opts.restrictions)\n      }\n    };\n\n    // Support debug: true for backwards-compatability, unless logger is set in opts\n    // opts instead of this.opts to avoid comparing objects \u2014 we set logger: justErrorsLogger in defaultOptions\n    if (_opts && _opts.logger && _opts.debug) {\n      this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');\n    } else if (_opts && _opts.debug) {\n      this.opts.logger = debugLogger;\n    }\n    this.log(`Using Core v${Uppy.VERSION}`);\n    this.i18nInit();\n    this.store = this.opts.store;\n    this.setState({\n      ...defaultUploadState,\n      plugins: {},\n      files: {},\n      currentUploads: {},\n      capabilities: {\n        uploadProgress: supportsUploadProgress(),\n        individualCancellation: true,\n        resumableUploads: false\n      },\n      meta: {\n        ...this.opts.meta\n      },\n      info: []\n    });\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter] = new Restricter(() => this.opts, () => this.i18n);\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe] = this.store.subscribe((prevState, nextState, patch) => {\n      this.emit('state-update', prevState, nextState, patch);\n      this.updateAll(nextState);\n    });\n\n    // Exposing uppy object on window for debugging and testing\n    if (this.opts.debug && typeof window !== 'undefined') {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore Mutating the global object for debug purposes\n      window[this.opts.id] = this;\n    }\n    _classPrivateFieldLooseBase(this, _addListeners)[_addListeners]();\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(event, ...args);\n  }\n  on(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, callback);\n    return this;\n  }\n  once(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(event, callback);\n    return this;\n  }\n  off(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, callback);\n    return this;\n  }\n\n  /**\n   * Iterate on all plugins and run `update` on them.\n   * Called each time state changes.\n   *\n   */\n  updateAll(state) {\n    this.iteratePlugins(plugin => {\n      plugin.update(state);\n    });\n  }\n\n  /**\n   * Updates state with a patch\n   */\n  setState(patch) {\n    this.store.setState(patch);\n  }\n\n  /**\n   * Returns current state.\n   */\n  getState() {\n    return this.store.getState();\n  }\n  patchFilesState(filesWithNewState) {\n    const existingFilesState = this.getState().files;\n    this.setState({\n      files: {\n        ...existingFilesState,\n        ...Object.fromEntries(Object.entries(filesWithNewState).map(_ref => {\n          let [fileID, newFileState] = _ref;\n          return [fileID, {\n            ...existingFilesState[fileID],\n            ...newFileState\n          }];\n        }))\n      }\n    });\n  }\n\n  /**\n   * Shorthand to set state for a specific file.\n   */\n  setFileState(fileID, state) {\n    if (!this.getState().files[fileID]) {\n      throw new Error(`Can\u2019t set state for ${fileID} (the file could have been removed)`);\n    }\n    this.patchFilesState({\n      [fileID]: state\n    });\n  }\n  i18nInit() {\n    const onMissingKey = key => this.log(`Missing i18n string: ${key}`, 'error');\n    const translator = new Translator([this.defaultLocale, this.opts.locale], {\n      onMissingKey\n    });\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.locale = translator.locale;\n  }\n  setOptions(newOpts) {\n    this.opts = {\n      ...this.opts,\n      ...newOpts,\n      restrictions: {\n        ...this.opts.restrictions,\n        ...(newOpts == null ? void 0 : newOpts.restrictions)\n      }\n    };\n    if (newOpts.meta) {\n      this.setMeta(newOpts.meta);\n    }\n    this.i18nInit();\n    if (newOpts.locale) {\n      this.iteratePlugins(plugin => {\n        plugin.setOptions(newOpts);\n      });\n    }\n\n    // Note: this is not the preact `setState`, it's an internal function that has the same name.\n    this.setState(undefined); // so that UI re-renders with new options\n  }\n  resetProgress() {\n    const defaultProgress = {\n      percentage: 0,\n      bytesUploaded: false,\n      uploadComplete: false,\n      uploadStarted: null\n    };\n    const files = {\n      ...this.getState().files\n    };\n    const updatedFiles = Object.create(null);\n    Object.keys(files).forEach(fileID => {\n      updatedFiles[fileID] = {\n        ...files[fileID],\n        progress: {\n          ...files[fileID].progress,\n          ...defaultProgress\n        }\n      };\n    });\n    this.setState({\n      files: updatedFiles,\n      ...defaultUploadState\n    });\n  }\n  clear() {\n    const {\n      capabilities,\n      currentUploads\n    } = this.getState();\n    if (Object.keys(currentUploads).length > 0 && !capabilities.individualCancellation) {\n      throw new Error('The installed uploader plugin does not allow removing files during an upload.');\n    }\n    this.setState({\n      ...defaultUploadState,\n      files: {}\n    });\n  }\n  addPreProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].add(fn);\n  }\n  removePreProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].delete(fn);\n  }\n  addPostProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].add(fn);\n  }\n  removePostProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].delete(fn);\n  }\n  addUploader(fn) {\n    _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].add(fn);\n  }\n  removeUploader(fn) {\n    return _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].delete(fn);\n  }\n  setMeta(data) {\n    const updatedMeta = {\n      ...this.getState().meta,\n      ...data\n    };\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    Object.keys(updatedFiles).forEach(fileID => {\n      updatedFiles[fileID] = {\n        ...updatedFiles[fileID],\n        meta: {\n          ...updatedFiles[fileID].meta,\n          ...data\n        }\n      };\n    });\n    this.log('Adding metadata:');\n    this.log(data);\n    this.setState({\n      meta: updatedMeta,\n      files: updatedFiles\n    });\n  }\n  setFileMeta(fileID, data) {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    if (!updatedFiles[fileID]) {\n      this.log('Was trying to set metadata for a file that has been removed: ', fileID);\n      return;\n    }\n    const newMeta = {\n      ...updatedFiles[fileID].meta,\n      ...data\n    };\n    updatedFiles[fileID] = {\n      ...updatedFiles[fileID],\n      meta: newMeta\n    };\n    this.setState({\n      files: updatedFiles\n    });\n  }\n\n  /**\n   * Get a file object.\n   */\n  getFile(fileID) {\n    return this.getState().files[fileID];\n  }\n\n  /**\n   * Get all files in an array.\n   */\n  getFiles() {\n    const {\n      files\n    } = this.getState();\n    return Object.values(files);\n  }\n  getFilesByIds(ids) {\n    return ids.map(id => this.getFile(id));\n  }\n  getObjectOfFilesPerState() {\n    const {\n      files: filesObject,\n      totalProgress,\n      error\n    } = this.getState();\n    const files = Object.values(filesObject);\n    const inProgressFiles = [];\n    const newFiles = [];\n    const startedFiles = [];\n    const uploadStartedFiles = [];\n    const pausedFiles = [];\n    const completeFiles = [];\n    const erroredFiles = [];\n    const inProgressNotPausedFiles = [];\n    const processingFiles = [];\n    for (const file of files) {\n      const {\n        progress\n      } = file;\n      if (!progress.uploadComplete && progress.uploadStarted) {\n        inProgressFiles.push(file);\n        if (!file.isPaused) {\n          inProgressNotPausedFiles.push(file);\n        }\n      }\n      if (!progress.uploadStarted) {\n        newFiles.push(file);\n      }\n      if (progress.uploadStarted || progress.preprocess || progress.postprocess) {\n        startedFiles.push(file);\n      }\n      if (progress.uploadStarted) {\n        uploadStartedFiles.push(file);\n      }\n      if (file.isPaused) {\n        pausedFiles.push(file);\n      }\n      if (progress.uploadComplete) {\n        completeFiles.push(file);\n      }\n      if (file.error) {\n        erroredFiles.push(file);\n      }\n      if (progress.preprocess || progress.postprocess) {\n        processingFiles.push(file);\n      }\n    }\n    return {\n      newFiles,\n      startedFiles,\n      uploadStartedFiles,\n      pausedFiles,\n      completeFiles,\n      erroredFiles,\n      inProgressFiles,\n      inProgressNotPausedFiles,\n      processingFiles,\n      isUploadStarted: uploadStartedFiles.length > 0,\n      isAllComplete: totalProgress === 100 && completeFiles.length === files.length && processingFiles.length === 0,\n      isAllErrored: !!error && erroredFiles.length === files.length,\n      isAllPaused: inProgressFiles.length !== 0 && pausedFiles.length === inProgressFiles.length,\n      isUploadInProgress: inProgressFiles.length > 0,\n      isSomeGhost: files.some(file => file.isGhost)\n    };\n  }\n  validateSingleFile(file) {\n    try {\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateSingleFile(file);\n    } catch (err) {\n      return err.message;\n    }\n    return null;\n  }\n  validateAggregateRestrictions(files) {\n    const existingFiles = this.getFiles();\n    try {\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateAggregateRestrictions(existingFiles, files);\n    } catch (err) {\n      return err.message;\n    }\n    return null;\n  }\n  checkIfFileAlreadyExists(fileID) {\n    const {\n      files\n    } = this.getState();\n    if (files[fileID] && !files[fileID].isGhost) {\n      return true;\n    }\n    return false;\n  }\n  /**\n   * Add a new file to `state.files`. This will run `onBeforeFileAdded`,\n   * try to guess file type in a clever way, check file against restrictions,\n   * and start an upload if `autoProceed === true`.\n   */\n  addFile(file) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](file);\n    const {\n      nextFilesState,\n      validFilesToAdd,\n      errors\n    } = _classPrivateFieldLooseBase(this, _checkAndUpdateFileState)[_checkAndUpdateFileState]([file]);\n    const restrictionErrors = errors.filter(error => error.isRestriction);\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](restrictionErrors);\n    if (errors.length > 0) throw errors[0];\n    this.setState({\n      files: nextFilesState\n    });\n    const [firstValidFileToAdd] = validFilesToAdd;\n    this.emit('file-added', firstValidFileToAdd);\n    this.emit('files-added', validFilesToAdd);\n    this.log(`Added file: ${firstValidFileToAdd.name}, ${firstValidFileToAdd.id}, mime type: ${firstValidFileToAdd.type}`);\n    _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n    return firstValidFileToAdd.id;\n  }\n\n  /**\n   * Add multiple files to `state.files`. See the `addFile()` documentation.\n   *\n   * If an error occurs while adding a file, it is logged and the user is notified.\n   * This is good for UI plugins, but not for programmatic use.\n   * Programmatic users should usually still use `addFile()` on individual files.\n   */\n  addFiles(fileDescriptors) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed]();\n    const {\n      nextFilesState,\n      validFilesToAdd,\n      errors\n    } = _classPrivateFieldLooseBase(this, _checkAndUpdateFileState)[_checkAndUpdateFileState](fileDescriptors);\n    const restrictionErrors = errors.filter(error => error.isRestriction);\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](restrictionErrors);\n    const nonRestrictionErrors = errors.filter(error => !error.isRestriction);\n    if (nonRestrictionErrors.length > 0) {\n      let message = 'Multiple errors occurred while adding files:\\n';\n      nonRestrictionErrors.forEach(subError => {\n        message += `\\n * ${subError.message}`;\n      });\n      this.info({\n        message: this.i18n('addBulkFilesFailed', {\n          smart_count: nonRestrictionErrors.length\n        }),\n        details: message\n      }, 'error', this.opts.infoTimeout);\n      if (typeof AggregateError === 'function') {\n        throw new AggregateError(nonRestrictionErrors, message);\n      } else {\n        const err = new Error(message);\n        // @ts-expect-error fallback when AggregateError is not available\n        err.errors = nonRestrictionErrors;\n        throw err;\n      }\n    }\n\n    // OK, we haven't thrown an error, we can start updating state and emitting events now:\n\n    this.setState({\n      files: nextFilesState\n    });\n    validFilesToAdd.forEach(file => {\n      this.emit('file-added', file);\n    });\n    this.emit('files-added', validFilesToAdd);\n    if (validFilesToAdd.length > 5) {\n      this.log(`Added batch of ${validFilesToAdd.length} files`);\n    } else {\n      Object.values(validFilesToAdd).forEach(file => {\n        this.log(`Added file: ${file.name}\\n id: ${file.id}\\n type: ${file.type}`);\n      });\n    }\n    if (validFilesToAdd.length > 0) {\n      _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n    }\n  }\n  removeFiles(fileIDs) {\n    const {\n      files,\n      currentUploads\n    } = this.getState();\n    const updatedFiles = {\n      ...files\n    };\n    const updatedUploads = {\n      ...currentUploads\n    };\n    const removedFiles = Object.create(null);\n    fileIDs.forEach(fileID => {\n      if (files[fileID]) {\n        removedFiles[fileID] = files[fileID];\n        delete updatedFiles[fileID];\n      }\n    });\n\n    // Remove files from the `fileIDs` list in each upload.\n    function fileIsNotRemoved(uploadFileID) {\n      return removedFiles[uploadFileID] === undefined;\n    }\n    Object.keys(updatedUploads).forEach(uploadID => {\n      const newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved);\n\n      // Remove the upload if no files are associated with it anymore.\n      if (newFileIDs.length === 0) {\n        delete updatedUploads[uploadID];\n        return;\n      }\n      const {\n        capabilities\n      } = this.getState();\n      if (newFileIDs.length !== currentUploads[uploadID].fileIDs.length && !capabilities.individualCancellation) {\n        throw new Error('The installed uploader plugin does not allow removing files during an upload.');\n      }\n      updatedUploads[uploadID] = {\n        ...currentUploads[uploadID],\n        fileIDs: newFileIDs\n      };\n    });\n    const stateUpdate = {\n      currentUploads: updatedUploads,\n      files: updatedFiles\n    };\n\n    // If all files were removed - allow new uploads,\n    // and clear recoveredState\n    if (Object.keys(updatedFiles).length === 0) {\n      stateUpdate.allowNewUpload = true;\n      stateUpdate.error = null;\n      stateUpdate.recoveredState = null;\n    }\n    this.setState(stateUpdate);\n    this.calculateTotalProgress();\n    const removedFileIDs = Object.keys(removedFiles);\n    removedFileIDs.forEach(fileID => {\n      this.emit('file-removed', removedFiles[fileID]);\n    });\n    if (removedFileIDs.length > 5) {\n      this.log(`Removed ${removedFileIDs.length} files`);\n    } else {\n      this.log(`Removed files: ${removedFileIDs.join(', ')}`);\n    }\n  }\n  removeFile(fileID) {\n    this.removeFiles([fileID]);\n  }\n  pauseResume(fileID) {\n    if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).progress.uploadComplete) {\n      return undefined;\n    }\n    const file = this.getFile(fileID);\n    const wasPaused = file.isPaused || false;\n    const isPaused = !wasPaused;\n    this.setFileState(fileID, {\n      isPaused\n    });\n    this.emit('upload-pause', file, isPaused);\n    return isPaused;\n  }\n  pauseAll() {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = {\n        ...updatedFiles[file],\n        isPaused: true\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('pause-all');\n  }\n  resumeAll() {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = {\n        ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('resume-all');\n  }\n  retryAll() {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    const filesToRetry = Object.keys(updatedFiles).filter(file => {\n      return updatedFiles[file].error;\n    });\n    filesToRetry.forEach(file => {\n      const updatedFile = {\n        ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      error: null\n    });\n    this.emit('retry-all', Object.values(updatedFiles));\n    if (filesToRetry.length === 0) {\n      return Promise.resolve({\n        successful: [],\n        failed: []\n      });\n    }\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](filesToRetry, {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n    });\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  cancelAll() {\n    this.emit('cancel-all');\n    const {\n      files\n    } = this.getState();\n    const fileIDs = Object.keys(files);\n    if (fileIDs.length) {\n      this.removeFiles(fileIDs);\n    }\n    this.setState(defaultUploadState);\n  }\n  retryUpload(fileID) {\n    this.setFileState(fileID, {\n      error: null,\n      isPaused: false\n    });\n    this.emit('upload-retry', this.getFile(fileID));\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload]([fileID], {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n    });\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  logout() {\n    this.iteratePlugins(plugin => {\n      var _provider;\n      ;\n      (_provider = plugin.provider) == null || _provider.logout == null || _provider.logout();\n    });\n  }\n  calculateTotalProgress() {\n    // calculate total progress, using the number of files currently uploading,\n    // multiplied by 100 and the summ of individual progress of each file\n    const files = this.getFiles();\n    const inProgress = files.filter(file => {\n      return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;\n    });\n    if (inProgress.length === 0) {\n      this.emit('progress', 0);\n      this.setState({\n        totalProgress: 0\n      });\n      return;\n    }\n    const sizedFiles = inProgress.filter(file => file.progress.bytesTotal != null);\n    const unsizedFiles = inProgress.filter(file => file.progress.bytesTotal == null);\n    if (sizedFiles.length === 0) {\n      const progressMax = inProgress.length * 100;\n      const currentProgress = unsizedFiles.reduce((acc, file) => {\n        return acc + file.progress.percentage;\n      }, 0);\n      const totalProgress = Math.round(currentProgress / progressMax * 100);\n      this.setState({\n        totalProgress\n      });\n      return;\n    }\n    let totalSize = sizedFiles.reduce((acc, file) => {\n      var _file$progress$bytesT;\n      return acc + ((_file$progress$bytesT = file.progress.bytesTotal) != null ? _file$progress$bytesT : 0);\n    }, 0);\n    const averageSize = totalSize / sizedFiles.length;\n    totalSize += averageSize * unsizedFiles.length;\n    let uploadedSize = 0;\n    sizedFiles.forEach(file => {\n      uploadedSize += file.progress.bytesUploaded;\n    });\n    unsizedFiles.forEach(file => {\n      uploadedSize += averageSize * (file.progress.percentage || 0) / 100;\n    });\n    let totalProgress = totalSize === 0 ? 0 : Math.round(uploadedSize / totalSize * 100);\n\n    // hot fix, because:\n    // uploadedSize ended up larger than totalSize, resulting in 1325% total\n    if (totalProgress > 100) {\n      totalProgress = 100;\n    }\n    this.setState({\n      totalProgress\n    });\n    this.emit('progress', totalProgress);\n  }\n  updateOnlineStatus() {\n    var _window$navigator$onL;\n    const online = (_window$navigator$onL = window.navigator.onLine) != null ? _window$navigator$onL : true;\n    if (!online) {\n      this.emit('is-offline');\n      this.info(this.i18n('noInternetConnection'), 'error', 0);\n      this.wasOffline = true;\n    } else {\n      this.emit('is-online');\n      if (this.wasOffline) {\n        this.emit('back-online');\n        this.info(this.i18n('connectedToInternet'), 'success', 3000);\n        this.wasOffline = false;\n      }\n    }\n  }\n  getID() {\n    return this.opts.id;\n  }\n\n  /**\n   * Registers a plugin with Core.\n   */\n  use(Plugin) {\n    if (typeof Plugin !== 'function') {\n      const msg = `Expected a plugin class, but got ${Plugin === null ? 'null' : typeof Plugin}.` + ' Please verify that the plugin was imported and spelled correctly.';\n      throw new TypeError(msg);\n    }\n\n    // Instantiate\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    const plugin = new Plugin(this, ...args);\n    const pluginId = plugin.id;\n    if (!pluginId) {\n      throw new Error('Your plugin must have an id');\n    }\n    if (!plugin.type) {\n      throw new Error('Your plugin must have a type');\n    }\n    const existsPluginAlready = this.getPlugin(pluginId);\n    if (existsPluginAlready) {\n      const msg = `Already found a plugin named '${existsPluginAlready.id}'. ` + `Tried to use: '${pluginId}'.\\n` + 'Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.';\n      throw new Error(msg);\n    }\n\n    // @ts-expect-error does exist\n    if (Plugin.VERSION) {\n      // @ts-expect-error does exist\n      this.log(`Using ${pluginId} v${Plugin.VERSION}`);\n    }\n    if (plugin.type in _classPrivateFieldLooseBase(this, _plugins)[_plugins]) {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type].push(plugin);\n    } else {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type] = [plugin];\n    }\n    plugin.install();\n    this.emit('plugin-added', plugin);\n    return this;\n  }\n\n  /**\n   * Find one Plugin by name.\n   */\n  getPlugin(id) {\n    for (const plugins of Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins])) {\n      const foundPlugin = plugins.find(plugin => plugin.id === id);\n      if (foundPlugin != null) return foundPlugin;\n    }\n    return undefined;\n  }\n  [Symbol.for('uppy test: getPlugins')](type) {\n    return _classPrivateFieldLooseBase(this, _plugins)[_plugins][type];\n  }\n\n  /**\n   * Iterate through all `use`d plugins.\n   *\n   */\n  iteratePlugins(method) {\n    Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins]).flat(1).forEach(method);\n  }\n\n  /**\n   * Uninstall and remove a plugin.\n   *\n   * @param {object} instance The plugin instance to remove.\n   */\n  removePlugin(instance) {\n    this.log(`Removing plugin ${instance.id}`);\n    this.emit('plugin-remove', instance);\n    if (instance.uninstall) {\n      instance.uninstall();\n    }\n    const list = _classPrivateFieldLooseBase(this, _plugins)[_plugins][instance.type];\n    // list.indexOf failed here, because Vue3 converted the plugin instance\n    // to a Proxy object, which failed the strict comparison test:\n    // obj !== objProxy\n    const index = list.findIndex(item => item.id === instance.id);\n    if (index !== -1) {\n      list.splice(index, 1);\n    }\n    const state = this.getState();\n    const updatedState = {\n      plugins: {\n        ...state.plugins,\n        [instance.id]: undefined\n      }\n    };\n    this.setState(updatedState);\n  }\n\n  /**\n   * Uninstall all plugins and close down this Uppy instance.\n   */\n  destroy() {\n    this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`);\n    this.cancelAll();\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe]();\n    this.iteratePlugins(plugin => {\n      this.removePlugin(plugin);\n    });\n    if (typeof window !== 'undefined' && window.removeEventListener) {\n      window.removeEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n      window.removeEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    }\n  }\n  hideInfo() {\n    const {\n      info\n    } = this.getState();\n    this.setState({\n      info: info.slice(1)\n    });\n    this.emit('info-hidden');\n  }\n\n  /**\n   * Set info message in `state.info`, so that UI plugins like `Informer`\n   * can display the message.\n   */\n  info(message, type, duration) {\n    if (type === void 0) {\n      type = 'info';\n    }\n    if (duration === void 0) {\n      duration = 3000;\n    }\n    const isComplexMessage = typeof message === 'object';\n    this.setState({\n      info: [...this.getState().info, {\n        type,\n        message: isComplexMessage ? message.message : message,\n        details: isComplexMessage ? message.details : null\n      }]\n    });\n    setTimeout(() => this.hideInfo(), duration);\n    this.emit('info-visible');\n  }\n\n  /**\n   * Passes messages to a function, provided in `opts.logger`.\n   * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.\n   */\n  log(message, type) {\n    const {\n      logger\n    } = this.opts;\n    switch (type) {\n      case 'error':\n        logger.error(message);\n        break;\n      case 'warning':\n        logger.warn(message);\n        break;\n      default:\n        logger.debug(message);\n        break;\n    }\n  }\n  registerRequestClient(id, client) {\n    _classPrivateFieldLooseBase(this, _requestClientById)[_requestClientById].set(id, client);\n  }\n\n  /** @protected */\n  getRequestClientForFile(file) {\n    if (!file.remote) throw new Error(`Tried to get RequestClient for a non-remote file ${file.id}`);\n    const requestClient = _classPrivateFieldLooseBase(this, _requestClientById)[_requestClientById].get(file.remote.requestClientId);\n    if (requestClient == null) throw new Error(`requestClientId \"${file.remote.requestClientId}\" not registered for file \"${file.id}\"`);\n    return requestClient;\n  }\n\n  /**\n   * Restore an upload by its ID.\n   */\n  restore(uploadID) {\n    this.log(`Core: attempting to restore upload \"${uploadID}\"`);\n    if (!this.getState().currentUploads[uploadID]) {\n      _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n      return Promise.reject(new Error('Nonexistent upload'));\n    }\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  [Symbol.for('uppy test: createUpload')]() {\n    // @ts-expect-error https://github.com/microsoft/TypeScript/issues/47595\n    return _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](...arguments);\n  }\n  /**\n   * Add data to an upload's result object.\n   */\n  addResultData(uploadID, data) {\n    if (!_classPrivateFieldLooseBase(this, _getUpload)[_getUpload](uploadID)) {\n      this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n      return;\n    }\n    const {\n      currentUploads\n    } = this.getState();\n    const currentUpload = {\n      ...currentUploads[uploadID],\n      result: {\n        ...currentUploads[uploadID].result,\n        ...data\n      }\n    };\n    this.setState({\n      currentUploads: {\n        ...currentUploads,\n        [uploadID]: currentUpload\n      }\n    });\n  }\n  /**\n   * Start an upload for all the files that are not currently being uploaded.\n   */\n  upload() {\n    var _classPrivateFieldLoo;\n    if (!((_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _plugins)[_plugins]['uploader']) != null && _classPrivateFieldLoo.length)) {\n      this.log('No uploader type plugins are used', 'warning');\n    }\n    let {\n      files\n    } = this.getState();\n    const onBeforeUploadResult = this.opts.onBeforeUpload(files);\n    if (onBeforeUploadResult === false) {\n      return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));\n    }\n    if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {\n      files = onBeforeUploadResult;\n      // Updating files in state, because uploader plugins receive file IDs,\n      // and then fetch the actual file object from state\n      this.setState({\n        files\n      });\n    }\n    return Promise.resolve().then(() => _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateMinNumberOfFiles(files)).catch(err => {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([err]);\n      throw err;\n    }).then(() => {\n      if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFields)[_checkRequiredMetaFields](files)) {\n        throw new RestrictionError(this.i18n('missingRequiredMetaField'));\n      }\n    }).catch(err => {\n      // Doing this in a separate catch because we already emited and logged\n      // all the errors in `checkRequiredMetaFields` so we only throw a generic\n      // missing fields error here.\n      throw err;\n    }).then(() => {\n      const {\n        currentUploads\n      } = this.getState();\n      // get a list of files that are currently assigned to uploads\n      const currentlyUploadingFiles = Object.values(currentUploads).flatMap(curr => curr.fileIDs);\n      const waitingFileIDs = [];\n      Object.keys(files).forEach(fileID => {\n        const file = this.getFile(fileID);\n        // if the file hasn't started uploading and hasn't already been assigned to an upload..\n        if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {\n          waitingFileIDs.push(file.id);\n        }\n      });\n      const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](waitingFileIDs);\n      return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n    }).catch(err => {\n      this.emit('error', err);\n      this.log(err, 'error');\n      throw err;\n    });\n  }\n}\nfunction _informAndEmit2(errors) {\n  for (const error of errors) {\n    if (error.isRestriction) {\n      this.emit('restriction-failed', error.file, error);\n    } else {\n      this.emit('error', error, error.file);\n    }\n    this.log(error, 'warning');\n  }\n  const userFacingErrors = errors.filter(error => error.isUserFacing);\n\n  // don't flood the user: only show the first 4 toasts\n  const maxNumToShow = 4;\n  const firstErrors = userFacingErrors.slice(0, maxNumToShow);\n  const additionalErrors = userFacingErrors.slice(maxNumToShow);\n  firstErrors.forEach(_ref2 => {\n    let {\n      message,\n      details = ''\n    } = _ref2;\n    this.info({\n      message,\n      details\n    }, 'error', this.opts.infoTimeout);\n  });\n  if (additionalErrors.length > 0) {\n    this.info({\n      message: this.i18n('additionalRestrictionsFailed', {\n        count: additionalErrors.length\n      })\n    });\n  }\n}\nfunction _checkRequiredMetaFieldsOnFile2(file) {\n  const {\n    missingFields,\n    error\n  } = _classPrivateFieldLooseBase(this, _restricter)[_restricter].getMissingRequiredMetaFields(file);\n  if (missingFields.length > 0) {\n    this.setFileState(file.id, {\n      missingRequiredMetaFields: missingFields\n    });\n    this.log(error.message);\n    this.emit('restriction-failed', file, error);\n    return false;\n  }\n  return true;\n}\nfunction _checkRequiredMetaFields2(files) {\n  let success = true;\n  for (const file of Object.values(files)) {\n    if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file)) {\n      success = false;\n    }\n  }\n  return success;\n}\nfunction _assertNewUploadAllowed2(file) {\n  const {\n    allowNewUpload\n  } = this.getState();\n  if (allowNewUpload === false) {\n    const error = new RestrictionError(this.i18n('noMoreFilesAllowed'), {\n      file\n    });\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([error]);\n    throw error;\n  }\n}\nfunction _transformFile2(fileDescriptorOrFile) {\n  // Uppy expects files in { name, type, size, data } format.\n  // If the actual File object is passed from input[type=file] or drag-drop,\n  // we normalize it to match Uppy file object\n  const file = fileDescriptorOrFile instanceof File ? {\n    name: fileDescriptorOrFile.name,\n    type: fileDescriptorOrFile.type,\n    size: fileDescriptorOrFile.size,\n    data: fileDescriptorOrFile\n  } : fileDescriptorOrFile;\n  const fileType = getFileType(file);\n  const fileName = getFileName(fileType, file);\n  const fileExtension = getFileNameAndExtension(fileName).extension;\n  const id = getSafeFileId(file, this.getID());\n  const meta = file.meta || {};\n  meta.name = fileName;\n  meta.type = fileType;\n\n  // `null` means the size is unknown.\n  const size = Number.isFinite(file.data.size) ? file.data.size : null;\n  return {\n    source: file.source || '',\n    id,\n    name: fileName,\n    extension: fileExtension || '',\n    meta: {\n      ...this.getState().meta,\n      ...meta\n    },\n    type: fileType,\n    data: file.data,\n    progress: {\n      percentage: 0,\n      bytesUploaded: false,\n      bytesTotal: size,\n      uploadComplete: false,\n      uploadStarted: null\n    },\n    size,\n    isGhost: false,\n    isRemote: file.isRemote || false,\n    remote: file.remote,\n    preview: file.preview\n  };\n}\nfunction _startIfAutoProceed2() {\n  if (this.opts.autoProceed && !this.scheduledAutoProceed) {\n    this.scheduledAutoProceed = setTimeout(() => {\n      this.scheduledAutoProceed = null;\n      this.upload().catch(err => {\n        if (!err.isRestriction) {\n          this.log(err.stack || err.message || err);\n        }\n      });\n    }, 4);\n  }\n}\nfunction _checkAndUpdateFileState2(filesToAdd) {\n  const {\n    files: existingFiles\n  } = this.getState();\n\n  // create a copy of the files object only once\n  const nextFilesState = {\n    ...existingFiles\n  };\n  const validFilesToAdd = [];\n  const errors = [];\n  for (const fileToAdd of filesToAdd) {\n    try {\n      var _existingFiles$newFil;\n      let newFile = _classPrivateFieldLooseBase(this, _transformFile)[_transformFile](fileToAdd);\n\n      // If a file has been recovered (Golden Retriever), but we were unable to recover its data (probably too large),\n      // users are asked to re-select these half-recovered files and then this method will be called again.\n      // In order to keep the progress, meta and everything else, we keep the existing file,\n      // but we replace `data`, and we remove `isGhost`, because the file is no longer a ghost now\n      const isGhost = (_existingFiles$newFil = existingFiles[newFile.id]) == null ? void 0 : _existingFiles$newFil.isGhost;\n      if (isGhost) {\n        const existingFileState = existingFiles[newFile.id];\n        newFile = {\n          ...existingFileState,\n          isGhost: false,\n          data: fileToAdd.data\n        };\n        this.log(`Replaced the blob in the restored ghost file: ${newFile.name}, ${newFile.id}`);\n      }\n      const onBeforeFileAddedResult = this.opts.onBeforeFileAdded(newFile, nextFilesState);\n      if (!onBeforeFileAddedResult && this.checkIfFileAlreadyExists(newFile.id)) {\n        var _newFile$name;\n        throw new RestrictionError(this.i18n('noDuplicates', {\n          fileName: (_newFile$name = newFile.name) != null ? _newFile$name : this.i18n('unnamed')\n        }), {\n          file: fileToAdd\n        });\n      }\n\n      // Pass through reselected files from Golden Retriever\n      if (onBeforeFileAddedResult === false && !isGhost) {\n        // Don\u2019t show UI info for this error, as it should be done by the developer\n        throw new RestrictionError('Cannot add the file because onBeforeFileAdded returned false.', {\n          isUserFacing: false,\n          file: fileToAdd\n        });\n      } else if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult !== null) {\n        newFile = onBeforeFileAddedResult;\n      }\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateSingleFile(newFile);\n\n      // need to add it to the new local state immediately, so we can use the state to validate the next files too\n      nextFilesState[newFile.id] = newFile;\n      validFilesToAdd.push(newFile);\n    } catch (err) {\n      errors.push(err);\n    }\n  }\n  try {\n    // need to run this separately because it's much more slow, so if we run it inside the for-loop it will be very slow\n    // when many files are added\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateAggregateRestrictions(Object.values(existingFiles), validFilesToAdd);\n  } catch (err) {\n    errors.push(err);\n\n    // If we have any aggregate error, don't allow adding this batch\n    return {\n      nextFilesState: existingFiles,\n      validFilesToAdd: [],\n      errors\n    };\n  }\n  return {\n    nextFilesState,\n    validFilesToAdd,\n    errors\n  };\n}\nfunction _addListeners2() {\n  // Type inference only works for inline functions so we have to type it again\n  const errorHandler = (error, file, response) => {\n    let errorMsg = error.message || 'Unknown error';\n    if (error.details) {\n      errorMsg += ` ${error.details}`;\n    }\n    this.setState({\n      error: errorMsg\n    });\n    if (file != null && file.id in this.getState().files) {\n      this.setFileState(file.id, {\n        error: errorMsg,\n        response\n      });\n    }\n  };\n  this.on('error', errorHandler);\n  this.on('upload-error', (file, error, response) => {\n    errorHandler(error, file, response);\n    if (typeof error === 'object' && error.message) {\n      var _file$name;\n      this.log(error.message, 'error');\n      const newError = new Error(this.i18n('failedToUpload', {\n        file: (_file$name = file == null ? void 0 : file.name) != null ? _file$name : ''\n      })); // we may want a new custom error here\n      newError.isUserFacing = true; // todo maybe don't do this with all errors?\n      newError.details = error.message;\n      if (error.details) {\n        newError.details += ` ${error.details}`;\n      }\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([newError]);\n    } else {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([error]);\n    }\n  });\n  let uploadStalledWarningRecentlyEmitted = null;\n  this.on('upload-stalled', (error, files) => {\n    const {\n      message\n    } = error;\n    const details = files.map(file => file.meta.name).join(', ');\n    if (!uploadStalledWarningRecentlyEmitted) {\n      this.info({\n        message,\n        details\n      }, 'warning', this.opts.infoTimeout);\n      uploadStalledWarningRecentlyEmitted = setTimeout(() => {\n        uploadStalledWarningRecentlyEmitted = null;\n      }, this.opts.infoTimeout);\n    }\n    this.log(`${message} ${details}`.trim(), 'warning');\n  });\n  this.on('upload', () => {\n    this.setState({\n      error: null\n    });\n  });\n  const onUploadStarted = files => {\n    const filesFiltered = files.filter(file => {\n      const exists = file != null && this.getFile(file.id);\n      if (!exists) this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return exists;\n    });\n    const filesState = Object.fromEntries(filesFiltered.map(file => [file.id, {\n      progress: {\n        uploadStarted: Date.now(),\n        uploadComplete: false,\n        percentage: 0,\n        bytesUploaded: 0,\n        bytesTotal: file.size\n      }\n    }]));\n    this.patchFilesState(filesState);\n  };\n  this.on('upload-start', onUploadStarted);\n  this.on('upload-progress', this.calculateProgress);\n  this.on('upload-success', (file, uploadResp) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    const currentProgress = this.getFile(file.id).progress;\n    this.setFileState(file.id, {\n      progress: {\n        ...currentProgress,\n        postprocess: _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].size > 0 ? {\n          mode: 'indeterminate'\n        } : undefined,\n        uploadComplete: true,\n        percentage: 100,\n        bytesUploaded: currentProgress.bytesTotal\n      },\n      response: uploadResp,\n      uploadURL: uploadResp.uploadURL,\n      isPaused: false\n    });\n\n    // Remote providers sometimes don't tell us the file size,\n    // but we can know how many bytes we uploaded once the upload is complete.\n    if (file.size == null) {\n      this.setFileState(file.id, {\n        size: uploadResp.bytesUploaded || currentProgress.bytesTotal\n      });\n    }\n    this.calculateTotalProgress();\n  });\n  this.on('preprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    this.setFileState(file.id, {\n      progress: {\n        ...this.getFile(file.id).progress,\n        preprocess: progress\n      }\n    });\n  });\n  this.on('preprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    const files = {\n      ...this.getState().files\n    };\n    files[file.id] = {\n      ...files[file.id],\n      progress: {\n        ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.preprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('postprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    this.setFileState(file.id, {\n      progress: {\n        ...this.getState().files[file.id].progress,\n        postprocess: progress\n      }\n    });\n  });\n  this.on('postprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    const files = {\n      ...this.getState().files\n    };\n    files[file.id] = {\n      ...files[file.id],\n      progress: {\n        ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.postprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('restored', () => {\n    // Files may have changed--ensure progress is still accurate.\n    this.calculateTotalProgress();\n  });\n\n  // @ts-expect-error should fix itself when dashboard it typed (also this doesn't belong here)\n  this.on('dashboard:file-edit-complete', file => {\n    if (file) {\n      _classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file);\n    }\n  });\n\n  // show informer if offline\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    window.addEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    setTimeout(_classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus], 3000);\n  }\n}\nfunction _createUpload2(fileIDs, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  // uppy.retryAll sets this to true \u2014 when retrying we want to ignore `allowNewUpload: false`\n  const {\n    forceAllowNewUpload = false\n  } = opts;\n  const {\n    allowNewUpload,\n    currentUploads\n  } = this.getState();\n  if (!allowNewUpload && !forceAllowNewUpload) {\n    throw new Error('Cannot create a new upload: already uploading.');\n  }\n  const uploadID = nanoid();\n  this.emit('upload', uploadID, this.getFilesByIds(fileIDs));\n  this.setState({\n    allowNewUpload: this.opts.allowMultipleUploadBatches !== false && this.opts.allowMultipleUploads !== false,\n    currentUploads: {\n      ...currentUploads,\n      [uploadID]: {\n        fileIDs,\n        step: 0,\n        result: {}\n      }\n    }\n  });\n  return uploadID;\n}\nfunction _getUpload2(uploadID) {\n  const {\n    currentUploads\n  } = this.getState();\n  return currentUploads[uploadID];\n}\nfunction _removeUpload2(uploadID) {\n  const currentUploads = {\n    ...this.getState().currentUploads\n  };\n  delete currentUploads[uploadID];\n  this.setState({\n    currentUploads\n  });\n}\nasync function _runUpload2(uploadID) {\n  const getCurrentUpload = () => {\n    const {\n      currentUploads\n    } = this.getState();\n    return currentUploads[uploadID];\n  };\n  let currentUpload = getCurrentUpload();\n  const steps = [..._classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors], ..._classPrivateFieldLooseBase(this, _uploaders)[_uploaders], ..._classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors]];\n  try {\n    for (let step = currentUpload.step || 0; step < steps.length; step++) {\n      if (!currentUpload) {\n        break;\n      }\n      const fn = steps[step];\n      this.setState({\n        currentUploads: {\n          ...this.getState().currentUploads,\n          [uploadID]: {\n            ...currentUpload,\n            step\n          }\n        }\n      });\n      const {\n        fileIDs\n      } = currentUpload;\n\n      // TODO give this the `updatedUpload` object as its only parameter maybe?\n      // Otherwise when more metadata may be added to the upload this would keep getting more parameters\n      await fn(fileIDs, uploadID);\n\n      // Update currentUpload value in case it was modified asynchronously.\n      currentUpload = getCurrentUpload();\n    }\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n    throw err;\n  }\n\n  // Set result data.\n  if (currentUpload) {\n    // Mark postprocessing step as complete if necessary; this addresses a case where we might get\n    // stuck in the postprocessing UI while the upload is fully complete.\n    // If the postprocessing steps do not do any work, they may not emit postprocessing events at\n    // all, and never mark the postprocessing as complete. This is fine on its own but we\n    // introduced code in the @uppy/core upload-success handler to prepare postprocessing progress\n    // state if any postprocessors are registered. That is to avoid a \"flash of completed state\"\n    // before the postprocessing plugins can emit events.\n    //\n    // So, just in case an upload with postprocessing plugins *has* completed *without* emitting\n    // postprocessing completion, we do it instead.\n    currentUpload.fileIDs.forEach(fileID => {\n      const file = this.getFile(fileID);\n      if (file && file.progress.postprocess) {\n        this.emit('postprocess-complete', file);\n      }\n    });\n    const files = currentUpload.fileIDs.map(fileID => this.getFile(fileID));\n    const successful = files.filter(file => !file.error);\n    const failed = files.filter(file => file.error);\n    this.addResultData(uploadID, {\n      successful,\n      failed,\n      uploadID\n    });\n\n    // Update currentUpload value in case it was modified asynchronously.\n    currentUpload = getCurrentUpload();\n  }\n  // Emit completion events.\n  // This is in a separate function so that the `currentUploads` variable\n  // always refers to the latest state. In the handler right above it refers\n  // to an outdated object without the `.result` property.\n  let result;\n  if (currentUpload) {\n    result = currentUpload.result;\n    this.emit('complete', result);\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n  }\n  if (result == null) {\n    this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n  }\n  return result;\n}\nUppy.VERSION = packageJson.version;\nexport default Uppy;", "let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.0.0\"\n};\nvar _callbacks = /*#__PURE__*/_classPrivateFieldLooseKey(\"callbacks\");\nvar _publish = /*#__PURE__*/_classPrivateFieldLooseKey(\"publish\");\n/**\n * Default store that keeps state in a simple object.\n */\nclass DefaultStore {\n  constructor() {\n    Object.defineProperty(this, _publish, {\n      value: _publish2\n    });\n    this.state = {};\n    Object.defineProperty(this, _callbacks, {\n      writable: true,\n      value: new Set()\n    });\n  }\n  getState() {\n    return this.state;\n  }\n  setState(patch) {\n    const prevState = {\n      ...this.state\n    };\n    const nextState = {\n      ...this.state,\n      ...patch\n    };\n    this.state = nextState;\n    _classPrivateFieldLooseBase(this, _publish)[_publish](prevState, nextState, patch);\n  }\n  subscribe(listener) {\n    _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].add(listener);\n    return () => {\n      _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].delete(listener);\n    };\n  }\n}\nfunction _publish2() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].forEach(listener => {\n    listener(...args);\n  });\n}\nDefaultStore.VERSION = packageJson.version;\nexport default DefaultStore;", "/**\n * Takes a full filename string and returns an object {name, extension}\n */\nexport default function getFileNameAndExtension(fullFileName) {\n  const lastDot = fullFileName.lastIndexOf('.');\n  // these count as no extension: \"no-dot\", \"trailing-dot.\"\n  if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n    return {\n      name: fullFileName,\n      extension: undefined\n    };\n  }\n  return {\n    name: fullFileName.slice(0, lastDot),\n    extension: fullFileName.slice(lastDot + 1)\n  };\n}", "// ___Why not add the mime-types package?\n//    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).\n// ___Where to take new extensions from?\n//    https://github.com/jshttp/mime-db/blob/master/db.json\n\nexport default {\n  __proto__: null,\n  md: 'text/markdown',\n  markdown: 'text/markdown',\n  mp4: 'video/mp4',\n  mp3: 'audio/mp3',\n  svg: 'image/svg+xml',\n  jpg: 'image/jpeg',\n  png: 'image/png',\n  webp: 'image/webp',\n  gif: 'image/gif',\n  heic: 'image/heic',\n  heif: 'image/heif',\n  yaml: 'text/yaml',\n  yml: 'text/yaml',\n  csv: 'text/csv',\n  tsv: 'text/tab-separated-values',\n  tab: 'text/tab-separated-values',\n  avi: 'video/x-msvideo',\n  mks: 'video/x-matroska',\n  mkv: 'video/x-matroska',\n  mov: 'video/quicktime',\n  dicom: 'application/dicom',\n  doc: 'application/msword',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dot: 'application/msword',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  xla: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlc: 'application/vnd.ms-excel',\n  xlf: 'application/x-xliff+xml',\n  xlm: 'application/vnd.ms-excel',\n  xls: 'application/vnd.ms-excel',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xlt: 'application/vnd.ms-excel',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  xlw: 'application/vnd.ms-excel',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  log: 'text/plain',\n  pdf: 'application/pdf',\n  zip: 'application/zip',\n  '7z': 'application/x-7z-compressed',\n  rar: 'application/x-rar-compressed',\n  tar: 'application/x-tar',\n  gz: 'application/gzip',\n  dmg: 'application/x-apple-diskimage'\n};", "import getFileNameAndExtension from \"./getFileNameAndExtension.js\";\nimport mimeTypes from \"./mimeTypes.js\";\nexport default function getFileType(file) {\n  var _getFileNameAndExtens;\n  if (file.type) return file.type;\n  const fileExtension = file.name ? (_getFileNameAndExtens = getFileNameAndExtension(file.name).extension) == null ? void 0 : _getFileNameAndExtens.toLowerCase() : null;\n  if (fileExtension && fileExtension in mimeTypes) {\n    // else, see if we can map extension to a mime type\n    return mimeTypes[fileExtension];\n  }\n  // if all fails, fall back to a generic byte stream type\n  return 'application/octet-stream';\n}", "import getFileType from \"./getFileType.js\";\nfunction encodeCharacter(character) {\n  return character.charCodeAt(0).toString(32);\n}\nfunction encodeFilename(name) {\n  let suffix = '';\n  return name.replace(/[^A-Z0-9]/gi, character => {\n    suffix += `-${encodeCharacter(character)}`;\n    return '/';\n  }) + suffix;\n}\n\n/**\n * Takes a file object and turns it into fileID, by converting file.name to lowercase,\n * removing extra characters and adding type, size and lastModified\n */\nexport default function generateFileID(file, instanceId) {\n  // It's tempting to do `[items].filter(Boolean).join('-')` here, but that\n  // is slower! simple string concatenation is fast\n\n  let id = instanceId || 'uppy';\n  if (typeof file.name === 'string') {\n    id += `-${encodeFilename(file.name.toLowerCase())}`;\n  }\n  if (file.type !== undefined) {\n    id += `-${file.type}`;\n  }\n  if (file.meta && typeof file.meta.relativePath === 'string') {\n    id += `-${encodeFilename(file.meta.relativePath.toLowerCase())}`;\n  }\n  if (file.data.size !== undefined) {\n    id += `-${file.data.size}`;\n  }\n  if (file.data.lastModified !== undefined) {\n    id += `-${file.data.lastModified}`;\n  }\n  return id;\n}\n\n// If the provider has a stable, unique ID, then we can use that to identify the file.\n// Then we don't have to generate our own ID, and we can add the same file many times if needed (different path)\nfunction hasFileStableId(file) {\n  if (!file.isRemote || !file.remote) return false;\n  // These are the providers that it seems like have stable IDs for their files. The other's I haven't checked yet.\n  const stableIdProviders = new Set(['box', 'dropbox', 'drive', 'facebook', 'unsplash']);\n  return stableIdProviders.has(file.remote.provider);\n}\nexport function getSafeFileId(file, instanceId) {\n  if (hasFileStableId(file)) return file.id;\n  const fileType = getFileType(file);\n  return generateFileID({\n    ...file,\n    type: fileType\n  }, instanceId);\n}", "// Edge 15.x does not fire 'progress' events on uploads.\n// See https://github.com/transloadit/uppy/issues/945\n// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\nexport default function supportsUploadProgress(userAgent) {\n  // Allow passing in userAgent for tests\n  if (userAgent == null && typeof navigator !== 'undefined') {\n    // eslint-disable-next-line no-param-reassign\n    userAgent = navigator.userAgent;\n  }\n  // Assume it works because basically everything supports progress events.\n  if (!userAgent) return true;\n  const m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent);\n  if (!m) return true;\n  const edgeVersion = m[1];\n  const version = edgeVersion.split('.', 2);\n  const major = parseInt(version[0], 10);\n  const minor = parseInt(version[1], 10);\n\n  // Worked before:\n  // Edge 40.15063.0.0\n  // Microsoft EdgeHTML 15.15063\n  if (major < 15 || major === 15 && minor < 15063) {\n    return true;\n  }\n\n  // Fixed in:\n  // Microsoft EdgeHTML 18.18218\n  if (major > 18 || major === 18 && minor >= 18218) {\n    return true;\n  }\n\n  // other versions don't work.\n  return false;\n}", "export default function getFileName(fileType, fileDescriptor) {\n  if (fileDescriptor.name) {\n    return fileDescriptor.name;\n  }\n  if (fileType.split('/')[0] === 'image') {\n    return `${fileType.split('/')[0]}.${fileType.split('/')[1]}`;\n  }\n  return 'noname';\n}", "/**\n * Adds zero to strings shorter than two characters.\n */\nfunction pad(number) {\n  return number < 10 ? `0${number}` : number.toString();\n}\n\n/**\n * Returns a timestamp in the format of `hours:minutes:seconds`\n */\nexport default function getTimeStamp() {\n  const date = new Date();\n  const hours = pad(date.getHours());\n  const minutes = pad(date.getMinutes());\n  const seconds = pad(date.getSeconds());\n  return `${hours}:${minutes}:${seconds}`;\n}", "/* eslint-disable no-console */\nimport getTimeStamp from '@uppy/utils/lib/getTimeStamp';\n\n// Swallow all logs, except errors.\n// default if logger is not set or debug: false\nconst justErrorsLogger = {\n  debug: () => {},\n  warn: () => {},\n  error: function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n};\n\n// Print logs to console with namespace + timestamp,\n// set by logger: Uppy.debugLogger or debug: true\nconst debugLogger = {\n  debug: function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return console.debug(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  warn: function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return console.warn(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  error: function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n};\nexport { justErrorsLogger, debugLogger };", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable max-classes-per-file, class-methods-use-this */\nimport prettierBytes from '@transloadit/prettier-bytes';\n// @ts-ignore untyped\nimport match from 'mime-match';\n\n/**\n * The minimal required properties to be present from UppyFile in order to validate it.\n */\n\nconst defaultOptions = {\n  maxFileSize: null,\n  minFileSize: null,\n  maxTotalFileSize: null,\n  maxNumberOfFiles: null,\n  minNumberOfFiles: null,\n  allowedFileTypes: null,\n  requiredMetaFields: []\n};\nclass RestrictionError extends Error {\n  constructor(message, opts) {\n    var _opts$isUserFacing;\n    super(message);\n    this.isRestriction = true;\n    this.isUserFacing = (_opts$isUserFacing = opts == null ? void 0 : opts.isUserFacing) != null ? _opts$isUserFacing : true;\n    if (opts != null && opts.file) {\n      this.file = opts.file; // only some restriction errors are related to a particular file\n    }\n  }\n}\nclass Restricter {\n  constructor(getOpts, getI18n) {\n    this.getI18n = getI18n;\n    this.getOpts = () => {\n      var _opts$restrictions;\n      const opts = getOpts();\n      if (((_opts$restrictions = opts.restrictions) == null ? void 0 : _opts$restrictions.allowedFileTypes) != null && !Array.isArray(opts.restrictions.allowedFileTypes)) {\n        throw new TypeError('`restrictions.allowedFileTypes` must be an array');\n      }\n      return opts;\n    };\n  }\n\n  // Because these operations are slow, we cannot run them for every file (if we are adding multiple files)\n  validateAggregateRestrictions(existingFiles, addingFiles) {\n    const {\n      maxTotalFileSize,\n      maxNumberOfFiles\n    } = this.getOpts().restrictions;\n    if (maxNumberOfFiles) {\n      const nonGhostFiles = existingFiles.filter(f => !f.isGhost);\n      if (nonGhostFiles.length + addingFiles.length > maxNumberOfFiles) {\n        throw new RestrictionError(`${this.getI18n()('youCanOnlyUploadX', {\n          smart_count: maxNumberOfFiles\n        })}`);\n      }\n    }\n    if (maxTotalFileSize) {\n      const totalFilesSize = [...existingFiles, ...addingFiles].reduce((total, f) => {\n        var _f$size;\n        return total + ((_f$size = f.size) != null ? _f$size : 0);\n      }, 0);\n      if (totalFilesSize > maxTotalFileSize) {\n        throw new RestrictionError(this.getI18n()('aggregateExceedsSize', {\n          sizeAllowed: prettierBytes(maxTotalFileSize),\n          size: prettierBytes(totalFilesSize)\n        }));\n      }\n    }\n  }\n  validateSingleFile(file) {\n    const {\n      maxFileSize,\n      minFileSize,\n      allowedFileTypes\n    } = this.getOpts().restrictions;\n    if (allowedFileTypes) {\n      const isCorrectFileType = allowedFileTypes.some(type => {\n        // check if this is a mime-type\n        if (type.includes('/')) {\n          if (!file.type) return false;\n          return match(file.type.replace(/;.*?$/, ''), type);\n        }\n\n        // otherwise this is likely an extension\n        if (type[0] === '.' && file.extension) {\n          return file.extension.toLowerCase() === type.slice(1).toLowerCase();\n        }\n        return false;\n      });\n      if (!isCorrectFileType) {\n        const allowedFileTypesString = allowedFileTypes.join(', ');\n        throw new RestrictionError(this.getI18n()('youCanOnlyUploadFileTypes', {\n          types: allowedFileTypesString\n        }), {\n          file\n        });\n      }\n    }\n\n    // We can't check maxFileSize if the size is unknown.\n    if (maxFileSize && file.size != null && file.size > maxFileSize) {\n      var _file$name;\n      throw new RestrictionError(this.getI18n()('exceedsSize', {\n        size: prettierBytes(maxFileSize),\n        file: (_file$name = file.name) != null ? _file$name : this.getI18n()('unnamed')\n      }), {\n        file\n      });\n    }\n\n    // We can't check minFileSize if the size is unknown.\n    if (minFileSize && file.size != null && file.size < minFileSize) {\n      throw new RestrictionError(this.getI18n()('inferiorSize', {\n        size: prettierBytes(minFileSize)\n      }), {\n        file\n      });\n    }\n  }\n  validate(existingFiles, addingFiles) {\n    addingFiles.forEach(addingFile => {\n      this.validateSingleFile(addingFile);\n    });\n    this.validateAggregateRestrictions(existingFiles, addingFiles);\n  }\n  validateMinNumberOfFiles(files) {\n    const {\n      minNumberOfFiles\n    } = this.getOpts().restrictions;\n    if (minNumberOfFiles && Object.keys(files).length < minNumberOfFiles) {\n      throw new RestrictionError(this.getI18n()('youHaveToAtLeastSelectX', {\n        smart_count: minNumberOfFiles\n      }));\n    }\n  }\n  getMissingRequiredMetaFields(file) {\n    var _file$name2;\n    const error = new RestrictionError(this.getI18n()('missingRequiredMetaFieldOnFile', {\n      fileName: (_file$name2 = file.name) != null ? _file$name2 : this.getI18n()('unnamed')\n    }));\n    const {\n      requiredMetaFields\n    } = this.getOpts().restrictions;\n    const missingFields = [];\n    for (const field of requiredMetaFields) {\n      if (!Object.hasOwn(file.meta, field) || file.meta[field] === '') {\n        missingFields.push(field);\n      }\n    }\n    return {\n      missingFields,\n      error\n    };\n  }\n}\nexport { Restricter, defaultOptions, RestrictionError };", "export default {\n  strings: {\n    addBulkFilesFailed: {\n      0: 'Failed to add %{smart_count} file due to an internal error',\n      1: 'Failed to add %{smart_count} files due to internal errors'\n    },\n    youCanOnlyUploadX: {\n      0: 'You can only upload %{smart_count} file',\n      1: 'You can only upload %{smart_count} files'\n    },\n    youHaveToAtLeastSelectX: {\n      0: 'You have to select at least %{smart_count} file',\n      1: 'You have to select at least %{smart_count} files'\n    },\n    aggregateExceedsSize: 'You selected %{size} of files, but maximum allowed size is %{sizeAllowed}',\n    exceedsSize: '%{file} exceeds maximum allowed size of %{size}',\n    missingRequiredMetaField: 'Missing required meta fields',\n    missingRequiredMetaFieldOnFile: 'Missing required meta fields in %{fileName}',\n    inferiorSize: 'This file is smaller than the allowed size of %{size}',\n    youCanOnlyUploadFileTypes: 'You can only upload: %{types}',\n    noMoreFilesAllowed: 'Cannot add more files',\n    noDuplicates: \"Cannot add the duplicate file '%{fileName}', it already exists\",\n    companionError: 'Connection with Companion failed',\n    authAborted: 'Authentication aborted',\n    companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',\n    failedToUpload: 'Failed to upload %{file}',\n    noInternetConnection: 'No Internet connection',\n    connectedToInternet: 'Connected to the Internet',\n    // Strings for remote providers\n    noFilesFound: 'You have no files or folders here',\n    noSearchResults: 'Unfortunately, there are no results for this search',\n    selectX: {\n      0: 'Select %{smart_count}',\n      1: 'Select %{smart_count}'\n    },\n    allFilesFromFolderNamed: 'All files from folder %{name}',\n    openFolderNamed: 'Open folder %{name}',\n    cancel: 'Cancel',\n    logOut: 'Log out',\n    filter: 'Filter',\n    resetFilter: 'Reset filter',\n    loading: 'Loading...',\n    loadedXFiles: 'Loaded %{numFiles} files',\n    authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',\n    authenticateWith: 'Connect to %{pluginName}',\n    signInWithGoogle: 'Sign in with Google',\n    searchImages: 'Search for images',\n    enterTextToSearch: 'Enter text to search for images',\n    search: 'Search',\n    resetSearch: 'Reset search',\n    emptyFolderAdded: 'No files were added from empty folder',\n    addedNumFiles: 'Added %{numFiles} file(s)',\n    folderAlreadyAdded: 'The folder \"%{folder}\" was already added',\n    folderAdded: {\n      0: 'Added %{smart_count} file from %{folder}',\n      1: 'Added %{smart_count} files from %{folder}'\n    },\n    additionalRestrictionsFailed: '%{count} additional restrictions were not fulfilled',\n    unnamed: 'Unnamed'\n  }\n};", "/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 16;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 17;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-expect-error We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {preact.ContainerNode} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {VNode[\"type\"]} type The node name or Component constructor for this\n * virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the\n * virtual node\n * @returns {VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\t/** @type {VNode} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original,\n\t\t_index: -1,\n\t\t_flags: 0\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor == undefined;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { MODE_HYDRATE } from './constants';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function BaseComponent(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nBaseComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nBaseComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {ComponentChildren | void}\n */\nBaseComponent.prototype.render = Fragment;\n\n/**\n * @param {VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._index + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet oldVNode = component._vnode,\n\t\toldDom = oldVNode._dom,\n\t\tcommitQueue = [],\n\t\trefQueue = [];\n\n\tif (component._parentDom) {\n\t\tconst newVNode = assign({}, oldVNode);\n\t\tnewVNode._original = oldVNode._original + 1;\n\t\tif (options.vnode) options.vnode(newVNode);\n\n\t\tdiff(\n\t\t\tcomponent._parentDom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tcomponent._parentDom.namespaceURI,\n\t\t\toldVNode._flags & MODE_HYDRATE ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(oldVNode) : oldDom,\n\t\t\t!!(oldVNode._flags & MODE_HYDRATE),\n\t\t\trefQueue\n\t\t);\n\n\t\tnewVNode._original = oldVNode._original;\n\t\tnewVNode._parent._children[newVNode._index] = newVNode;\n\t\tcommitRoot(commitQueue, newVNode, refQueue);\n\n\t\tif (newVNode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(newVNode);\n\t\t}\n\t}\n}\n\n/**\n * @param {VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {Component} a\n * @param {Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort(depthSort);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort(depthSort);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n// A logical clock to solve issues like https://github.com/preactjs/preact/issues/3927.\n// When the DOM performs an event it leaves micro-ticks in between bubbling up which means that\n// an event can trigger on a newly reated DOM-node while the event bubbles up.\n//\n// Originally inspired by Vue\n// (https://github.com/vuejs/core/blob/caeb8a68811a1b0f79/packages/runtime-dom/src/modules/events.ts#L90-L101),\n// but modified to use a logical clock instead of Date.now() in case event handlers get attached\n// and events get dispatched during the same millisecond.\n//\n// The clock is incremented after each new event dispatch. This allows 1 000 000 new events\n// per second for over 280 years before the value reaches Number.MAX_SAFE_INTEGER (2**53 - 1).\nlet eventClock = 0;\n\n/**\n * Set a property value on a DOM node\n * @param {PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {string} namespace Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, namespace) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture =\n\t\t\tname !== (name = name.replace(/(PointerCapture)$|Capture$/i, '$1'));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (\n\t\t\tname.toLowerCase() in dom ||\n\t\t\tname === 'onFocusOut' ||\n\t\t\tname === 'onFocusIn'\n\t\t)\n\t\t\tname = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tvalue._attached = eventClock;\n\t\t\t\tdom.addEventListener(\n\t\t\t\t\tname,\n\t\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\t\tuseCapture\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvalue._attached = oldValue._attached;\n\t\t\t}\n\t\t} else {\n\t\t\tdom.removeEventListener(\n\t\t\t\tname,\n\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\tuseCapture\n\t\t\t);\n\t\t}\n\t} else {\n\t\tif (namespace == 'http://www.w3.org/2000/svg') {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname != 'width' &&\n\t\t\tname != 'height' &&\n\t\t\tname != 'href' &&\n\t\t\tname != 'list' &&\n\t\t\tname != 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname != 'tabIndex' &&\n\t\t\tname != 'download' &&\n\t\t\tname != 'rowSpan' &&\n\t\t\tname != 'colSpan' &&\n\t\t\tname != 'role' &&\n\t\t\tname != 'popover' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value == 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name[4] === '-')) {\n\t\t\tdom.setAttribute(name, name == 'popover' && value == true ? '' : value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Create an event proxy function.\n * @param {boolean} useCapture Is the event handler for the capture phase.\n * @private\n */\nfunction createEventProxy(useCapture) {\n\t/**\n\t * Proxy an event to hooked event handlers\n\t * @param {PreactEvent} e The event object from the browser\n\t * @private\n\t */\n\treturn function (e) {\n\t\tif (this._listeners) {\n\t\t\tconst eventHandler = this._listeners[e.type + useCapture];\n\t\t\tif (e._dispatched == null) {\n\t\t\t\te._dispatched = eventClock++;\n\n\t\t\t\t// When `e._dispatched` is smaller than the time when the targeted event\n\t\t\t\t// handler was attached we know we have bubbled up to an element that was added\n\t\t\t\t// during patching the DOM.\n\t\t\t} else if (e._dispatched < eventHandler._attached) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn eventHandler(options.event ? options.event(e) : e);\n\t\t}\n\t};\n}\n\nconst eventProxy = createEventProxy(false);\nconst eventProxyCapture = createEventProxy(true);\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {Component[] | null} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.componentWillUnmount = () => {\n\t\t\t\t\tsubs = null;\n\t\t\t\t};\n\n\t\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tif (subs) {\n\t\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType =\n\t\tcontext);\n}\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR, INSERT_VNODE, MATCHED } from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {PreactElement} parentDom The DOM element whose children are being\n * diffed\n * @param {ComponentChildren[]} renderResult\n * @param {VNode} newParentVNode The new virtual node whose children should be\n * diff'ed against oldParentVNode\n * @param {VNode} oldParentVNode The old virtual node whose children should be\n * diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\t/** @type {VNode} */\n\t\toldVNode,\n\t\t/** @type {VNode} */\n\t\tchildVNode,\n\t\t/** @type {PreactElement} */\n\t\tnewDom,\n\t\t/** @type {PreactElement} */\n\t\tfirstChildDom;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\t/** @type {VNode[]} */\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet newChildrenLength = renderResult.length;\n\n\tnewParentVNode._nextDom = oldDom;\n\tconstructNewChildrenArray(newParentVNode, renderResult, oldChildren);\n\toldDom = newParentVNode._nextDom;\n\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = newParentVNode._children[i];\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// At this point, constructNewChildrenArray has assigned _index to be the\n\t\t// matchingIndex for this VNode's oldVNode (or -1 if there is no oldVNode).\n\t\tif (childVNode._index === -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[childVNode._index] || EMPTY_OBJ;\n\t\t}\n\n\t\t// Update childVNode._index to its final index\n\t\tchildVNode._index = i;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\t// Adjust DOM nodes\n\t\tnewDom = childVNode._dom;\n\t\tif (childVNode.ref && oldVNode.ref != childVNode.ref) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, null, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(\n\t\t\t\tchildVNode.ref,\n\t\t\t\tchildVNode._component || newDom,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t}\n\n\t\tif (firstChildDom == null && newDom != null) {\n\t\t\tfirstChildDom = newDom;\n\t\t}\n\n\t\tif (\n\t\t\tchildVNode._flags & INSERT_VNODE ||\n\t\t\toldVNode._children === childVNode._children\n\t\t) {\n\t\t\toldDom = insert(childVNode, oldDom, parentDom);\n\t\t} else if (\n\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\tchildVNode._nextDom !== undefined\n\t\t) {\n\t\t\t// Since Fragments or components that return Fragment like VNodes can\n\t\t\t// contain multiple DOM nodes as the same level, continue the diff from\n\t\t\t// the sibling of last DOM child of this child VNode\n\t\t\toldDom = childVNode._nextDom;\n\t\t} else if (newDom) {\n\t\t\toldDom = newDom.nextSibling;\n\t\t}\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because it\n\t\t// is only used by `diffChildren` to determine where to resume the diff\n\t\t// after diffing Components and Fragments. Once we store it the nextDOM\n\t\t// local var, we can clean up the property. Also prevents us hanging on to\n\t\t// DOM nodes that may have been unmounted.\n\t\tchildVNode._nextDom = undefined;\n\n\t\t// Unset diffing flags\n\t\tchildVNode._flags &= ~(INSERT_VNODE | MATCHED);\n\t}\n\n\t// TODO: With new child diffing algo, consider alt ways to diff Fragments.\n\t// Such as dropping oldDom and moving fragments in place\n\t//\n\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t// _nextDom property to the nextSibling of its last child DOM node.\n\t//\n\t// `oldDom` contains the correct value here because if the last child\n\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t// node's nextSibling.\n\tnewParentVNode._nextDom = oldDom;\n\tnewParentVNode._dom = firstChildDom;\n}\n\n/**\n * @param {VNode} newParentVNode\n * @param {ComponentChildren[]} renderResult\n * @param {VNode[]} oldChildren\n */\nfunction constructNewChildrenArray(newParentVNode, renderResult, oldChildren) {\n\t/** @type {number} */\n\tlet i;\n\t/** @type {VNode} */\n\tlet childVNode;\n\t/** @type {VNode} */\n\tlet oldVNode;\n\n\tconst newChildrenLength = renderResult.length;\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength;\n\n\tlet skew = 0;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\t// @ts-expect-error We are reusing the childVNode variable to hold both the\n\t\t// pre and post normalized childVNode\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint' ||\n\t\t\tchildVNode.constructor == String\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode.constructor === undefined && childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\tconst skewedIndex = i + skew;\n\n\t\t// Handle unmounting null placeholders, i.e. VNode => null in unkeyed children\n\t\tif (childVNode == null) {\n\t\t\toldVNode = oldChildren[skewedIndex];\n\t\t\tif (\n\t\t\t\toldVNode &&\n\t\t\t\toldVNode.key == null &&\n\t\t\t\toldVNode._dom &&\n\t\t\t\t(oldVNode._flags & MATCHED) === 0\n\t\t\t) {\n\t\t\t\tif (oldVNode._dom == newParentVNode._nextDom) {\n\t\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode, false);\n\n\t\t\t\t// Explicitly nullify this position in oldChildren instead of just\n\t\t\t\t// setting `_match=true` to prevent other routines (e.g.\n\t\t\t\t// `findMatchingIndex` or `getDomSibling`) from thinking VNodes or DOM\n\t\t\t\t// nodes in this position are still available to be used in diffing when\n\t\t\t\t// they have actually already been unmounted. For example, by only\n\t\t\t\t// setting `_match=true` here, the unmounting loop later would attempt\n\t\t\t\t// to unmount this VNode again seeing `_match==true`.  Further,\n\t\t\t\t// getDomSibling doesn't know about _match and so would incorrectly\n\t\t\t\t// assume DOM nodes in this subtree are mounted and usable.\n\t\t\t\toldChildren[skewedIndex] = null;\n\t\t\t\tremainingOldChildren--;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\tconst matchingIndex = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t);\n\n\t\t// Temporarily store the matchingIndex on the _index property so we can pull\n\t\t// out the oldVNode in diffChildren. We'll override this to the VNode's\n\t\t// final index after using this property to get the oldVNode\n\t\tchildVNode._index = matchingIndex;\n\n\t\toldVNode = null;\n\t\tif (matchingIndex !== -1) {\n\t\t\toldVNode = oldChildren[matchingIndex];\n\t\t\tremainingOldChildren--;\n\t\t\tif (oldVNode) {\n\t\t\t\toldVNode._flags |= MATCHED;\n\t\t\t}\n\t\t}\n\n\t\t// Here, we define isMounting for the purposes of the skew diffing\n\t\t// algorithm. Nodes that are unsuspending are considered mounting and we detect\n\t\t// this by checking if oldVNode._original === null\n\t\tconst isMounting = oldVNode == null || oldVNode._original === null;\n\n\t\tif (isMounting) {\n\t\t\tif (matchingIndex == -1) {\n\t\t\t\tskew--;\n\t\t\t}\n\n\t\t\t// If we are mounting a DOM VNode, mark it for insertion\n\t\t\tif (typeof childVNode.type != 'function') {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t} else if (matchingIndex !== skewedIndex) {\n\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\tskew = matchingIndex - skewedIndex;\n\t\t\t} else if (matchingIndex == skewedIndex + 1) {\n\t\t\t\tskew++;\n\t\t\t} else if (matchingIndex > skewedIndex) {\n\t\t\t\t// Our matched DOM-node is further in the list of children than\n\t\t\t\t// where it's at now.\n\n\t\t\t\t// When the remaining old children is bigger than the new-children\n\t\t\t\t// minus our skewed index we know we are dealing with a shrinking list\n\t\t\t\t// we have to increase our skew with the matchedIndex - the skewed index\n\t\t\t\tif (remainingOldChildren > newChildrenLength - skewedIndex) {\n\t\t\t\t\tskew += matchingIndex - skewedIndex;\n\t\t\t\t} else {\n\t\t\t\t\t// If we have matched all the children just decrease the skew\n\t\t\t\t\tskew--;\n\t\t\t\t}\n\t\t\t} else if (matchingIndex < skewedIndex) {\n\t\t\t\t// When our new position is in front of our old position than we increase the skew\n\t\t\t\tskew++;\n\t\t\t}\n\n\t\t\t// Move this VNode's DOM if the original index (matchingIndex) doesn't\n\t\t\t// match the new skew index (i + new skew)\n\t\t\tif (matchingIndex !== i + skew) {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any. Loop forwards so that as we\n\t// unmount DOM from the beginning of the oldChildren, we can adjust oldDom to\n\t// point to the next child, which needs to be the first DOM node that won't be\n\t// unmounted.\n\tif (remainingOldChildren) {\n\t\tfor (i = 0; i < oldChildrenLength; i++) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode != null && (oldVNode._flags & MATCHED) === 0) {\n\t\t\t\tif (oldVNode._dom == newParentVNode._nextDom) {\n\t\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode);\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @param {VNode} parentVNode\n * @param {PreactElement} oldDom\n * @param {PreactElement} parentDom\n * @returns {PreactElement}\n */\nfunction insert(parentVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\n\tif (typeof parentVNode.type == 'function') {\n\t\tlet children = parentVNode._children;\n\t\tfor (let i = 0; children && i < children.length; i++) {\n\t\t\tif (children[i]) {\n\t\t\t\t// If we enter this code path on sCU bailout, where we copy\n\t\t\t\t// oldVNode._children to newVNode._children, we need to update the old\n\t\t\t\t// children's _parent pointer to point to the newVNode (parentVNode\n\t\t\t\t// here).\n\t\t\t\tchildren[i]._parent = parentVNode;\n\t\t\t\toldDom = insert(children[i], oldDom, parentDom);\n\t\t\t}\n\t\t}\n\n\t\treturn oldDom;\n\t} else if (parentVNode._dom != oldDom) {\n\t\tif (\n\t\t\toldDom &&\n\t\t\tparentVNode.type &&\n\t\t\t// @ts-expect-error olDom should be present on a DOM node\n\t\t\t!parentDom.contains(oldDom)\n\t\t) {\n\t\t\toldDom = getDomSibling(parentVNode);\n\t\t}\n\t\tparentDom.insertBefore(parentVNode._dom, oldDom || null);\n\t\toldDom = parentVNode._dom;\n\t}\n\n\tdo {\n\t\toldDom = oldDom && oldDom.nextSibling;\n\t} while (oldDom != null && oldDom.nodeType === 8);\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {ComponentChildren} children The unflattened children of a virtual\n * node\n * @returns {VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\n/**\n * @param {VNode} childVNode\n * @param {VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet x = skewedIndex - 1;\n\tlet y = skewedIndex + 1;\n\tlet oldVNode = oldChildren[skewedIndex];\n\n\t// We only need to perform a search if there are more children\n\t// (remainingOldChildren) to search. However, if the oldVNode we just looked\n\t// at skewedIndex was not already used in this diff, then there must be at\n\t// least 1 other (so greater than 1) remainingOldChildren to attempt to match\n\t// against. So the following condition checks that ensuring\n\t// remainingOldChildren > 1 if the oldVNode is not already used/matched. Else\n\t// if the oldVNode was null or matched, then there could needs to be at least\n\t// 1 (aka `remainingOldChildren > 0`) children to find and compare against.\n\tlet shouldSearch =\n\t\tremainingOldChildren >\n\t\t(oldVNode != null && (oldVNode._flags & MATCHED) === 0 ? 1 : 0);\n\n\tif (\n\t\toldVNode === null ||\n\t\t(oldVNode &&\n\t\t\tkey == oldVNode.key &&\n\t\t\ttype === oldVNode.type &&\n\t\t\t(oldVNode._flags & MATCHED) === 0)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (shouldSearch) {\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tif (x >= 0) {\n\t\t\t\toldVNode = oldChildren[x];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) === 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t\tx--;\n\t\t\t}\n\n\t\t\tif (y < oldChildren.length) {\n\t\t\t\toldVNode = oldChildren[y];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) === 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn y;\n\t\t\t\t}\n\t\t\t\ty++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n", "import {\n\tEMPTY_OBJ,\n\tMODE_HYDRATE,\n\tMODE_SUSPENDED,\n\tRESET_MODE\n} from '../constants';\nimport { BaseComponent, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {PreactElement} parentDom The parent of the DOM element\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\t/** @type {any} */\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._flags & MODE_SUSPENDED) {\n\t\tisHydrating = !!(oldVNode._flags & MODE_HYDRATE);\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\t\t\tconst isClassComponent =\n\t\t\t\t'prototype' in newType && newType.prototype.render;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif (isClassComponent) {\n\t\t\t\t\t// @ts-expect-error The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-expect-error Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new BaseComponent(\n\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (isClassComponent && c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (isClassComponent && newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!c._force &&\n\t\t\t\t\t((c.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\t\tnewVNode._original === oldVNode._original)\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif (isClassComponent) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (isClassComponent && !isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnamespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._flags &= RESET_MODE;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = null;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\t\tnewVNode._flags |= isHydrating\n\t\t\t\t\t? MODE_HYDRATE | MODE_SUSPENDED\n\t\t\t\t\t: MODE_HYDRATE;\n\n\t\t\t\twhile (oldDom && oldDom.nodeType === 8 && oldDom.nextSibling) {\n\t\t\t\t\toldDom = oldDom.nextSibling;\n\t\t\t\t}\n\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t} else {\n\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == null &&\n\t\tnewVNode._original === oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\tnewVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n}\n\n/**\n * @param {Array<Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\troot._nextDom = undefined;\n\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-expect-error Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-expect-error See above comment on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {PreactElement} dom The DOM element representing the virtual nodes\n * being diffed\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n * @returns {PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = /** @type {string} */ (newVNode.type);\n\t/** @type {any} */\n\tlet i;\n\t/** @type {{ __html?: string }} */\n\tlet newHtml;\n\t/** @type {{ __html?: string }} */\n\tlet oldHtml;\n\t/** @type {ComponentChildren} */\n\tlet newChildren;\n\tlet value;\n\tlet inputValue;\n\tlet checked;\n\n\t// Tracks entering and exiting namespaces when descending through the tree.\n\tif (nodeType === 'svg') namespace = 'http://www.w3.org/2000/svg';\n\telse if (nodeType === 'math')\n\t\tnamespace = 'http://www.w3.org/1998/Math/MathML';\n\telse if (!namespace) namespace = 'http://www.w3.org/1999/xhtml';\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tvalue = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tvalue &&\n\t\t\t\t'setAttribute' in value === !!nodeType &&\n\t\t\t\t(nodeType ? value.localName === nodeType : value.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = value;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = document.createElementNS(\n\t\t\tnamespace,\n\t\t\tnodeType,\n\t\t\tnewProps.is && newProps\n\t\t);\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in\n\t\t// case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\t// If we are in a situation where we are not hydrating but are using\n\t\t// existing DOM (e.g. replaceNode) we should read the existing DOM\n\t\t// attributes to diff them\n\t\tif (!isHydrating && excessDomChildren != null) {\n\t\t\toldProps = {};\n\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\tvalue = dom.attributes[i];\n\t\t\t\toldProps[value.name] = value.value;\n\t\t\t}\n\t\t}\n\n\t\tfor (i in oldProps) {\n\t\t\tvalue = oldProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\toldHtml = value;\n\t\t\t} else if (i !== 'key' && !(i in newProps)) {\n\t\t\t\tif (\n\t\t\t\t\t(i == 'value' && 'defaultValue' in newProps) ||\n\t\t\t\t\t(i == 'checked' && 'defaultChecked' in newProps)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tsetProperty(dom, i, null, value, namespace);\n\t\t\t}\n\t\t}\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tfor (i in newProps) {\n\t\t\tvalue = newProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t\tnewChildren = value;\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\tnewHtml = value;\n\t\t\t} else if (i == 'value') {\n\t\t\t\tinputValue = value;\n\t\t\t} else if (i == 'checked') {\n\t\t\t\tchecked = value;\n\t\t\t} else if (\n\t\t\t\ti !== 'key' &&\n\t\t\t\t(!isHydrating || typeof value == 'function') &&\n\t\t\t\toldProps[i] !== value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, value, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\tif (\n\t\t\t\t!isHydrating &&\n\t\t\t\t(!oldHtml ||\n\t\t\t\t\t(newHtml.__html !== oldHtml.__html &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML))\n\t\t\t) {\n\t\t\t\tdom.innerHTML = newHtml.__html;\n\t\t\t}\n\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tif (oldHtml) dom.innerHTML = '';\n\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tisArray(newChildren) ? newChildren : [newChildren],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnodeType === 'foreignObject'\n\t\t\t\t\t? 'http://www.w3.org/1999/xhtml'\n\t\t\t\t\t: namespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// As above, don't diff props during hydration\n\t\tif (!isHydrating) {\n\t\t\ti = 'value';\n\t\t\tif (\n\t\t\t\tinputValue !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(inputValue !== dom[i] ||\n\t\t\t\t\t(nodeType === 'progress' && !inputValue) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && inputValue !== oldProps[i]))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, inputValue, oldProps[i], namespace);\n\t\t\t}\n\n\t\t\ti = 'checked';\n\t\t\tif (checked !== undefined && checked !== dom[i]) {\n\t\t\t\tsetProperty(dom, i, checked, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {Ref<any> & { _unmount?: unknown }} ref\n * @param {any} value\n * @param {VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') {\n\t\t\tlet hasRefUnmount = typeof ref._unmount == 'function';\n\t\t\tif (hasRefUnmount) {\n\t\t\t\t// @ts-ignore TS doesn't like moving narrowing checks into variables\n\t\t\t\tref._unmount();\n\t\t\t}\n\n\t\t\tif (!hasRefUnmount || value != null) {\n\t\t\t\t// Store the cleanup function on the function\n\t\t\t\t// instance object itself to avoid shape\n\t\t\t\t// transitioning vnode\n\t\t\t\tref._unmount = ref(value);\n\t\t\t}\n\t\t} else ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {VNode} vnode The virtual node to unmount\n * @param {VNode} parentVNode The parent of the VNode that initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type != 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._component = vnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {ComponentChild} vnode The virtual node to render\n * @param {PreactElement} parentDom The DOM element to render into\n * @param {PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode == 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.namespaceURI,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? null\n\t\t\t\t: parentDom.firstChild\n\t\t\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t\t? oldVNode._dom\n\t\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {ComponentChild} vnode The virtual node to render\n * @param {PreactElement} parentDom The DOM element to update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<ComponentChildren>} rest Any additional arguments will be used\n * as replacement children.\n * @returns {VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === undefined && defaultProps !== undefined) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n", "/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {VNode} vnode The vnode that threw the error that was caught (except\n * for unmounting when this parameter is the highest parent that was being\n * unmounted)\n * @param {VNode} [oldVNode]\n * @param {ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {Component} */\n\tlet component,\n\t\t/** @type {ComponentType} */\n\t\tctor,\n\t\t/** @type {boolean} */\n\t\thandled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "/**\n * Check if an object is a DOM element. Duck-typing based on `nodeType`.\n */\nexport default function isDOMElement(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  if (!('nodeType' in obj)) return false;\n  return obj.nodeType === Node.ELEMENT_NODE;\n}", "import isDOMElement from \"./isDOMElement.js\";\nfunction findDOMElement(element, context) {\n  if (context === void 0) {\n    context = document;\n  }\n  if (typeof element === 'string') {\n    return context.querySelector(element);\n  }\n  if (isDOMElement(element)) {\n    return element;\n  }\n  return null;\n}\nexport default findDOMElement;", "/**\n * Get the declared text direction for an element.\n */\n\nfunction getTextDirection(element) {\n  var _element;\n  // There is another way to determine text direction using getComputedStyle(), as done here:\n  // https://github.com/pencil-js/text-direction/blob/2a235ce95089b3185acec3b51313cbba921b3811/text-direction.js\n  //\n  // We do not use that approach because we are interested specifically in the _declared_ text direction.\n  // If no text direction is declared, we have to provide our own explicit text direction so our\n  // bidirectional CSS style sheets work.\n  while (element && !element.dir) {\n    // eslint-disable-next-line no-param-reassign\n    element = element.parentNode;\n  }\n  return (_element = element) == null ? void 0 : _element.dir;\n}\nexport default getTextDirection;", "/* eslint-disable class-methods-use-this */\n\n/**\n * Core plugin logic that all plugins share.\n *\n * BasePlugin does not contain DOM rendering so it can be used for plugins\n * without a user interface.\n *\n * See `Plugin` for the extended version with Preact rendering for interfaces.\n */\n\nimport Translator from '@uppy/utils/lib/Translator';\n\n/**\n * DefinePluginOpts marks all of the passed AlwaysDefinedKeys as \u201Crequired\u201D or \u201Calways defined\u201D.\n */\n\nexport default class BasePlugin {\n  constructor(uppy, opts) {\n    this.uppy = uppy;\n    this.opts = opts != null ? opts : {};\n  }\n  getPluginState() {\n    const {\n      plugins\n    } = this.uppy.getState();\n    return (plugins == null ? void 0 : plugins[this.id]) || {};\n  }\n  setPluginState(update) {\n    const {\n      plugins\n    } = this.uppy.getState();\n    this.uppy.setState({\n      plugins: {\n        ...plugins,\n        [this.id]: {\n          ...plugins[this.id],\n          ...update\n        }\n      }\n    });\n  }\n  setOptions(newOpts) {\n    this.opts = {\n      ...this.opts,\n      ...newOpts\n    };\n    this.setPluginState(undefined); // so that UI re-renders with new options\n    this.i18nInit();\n  }\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.setPluginState(undefined); // so that UI re-renders and we see the updated locale\n  }\n\n  /**\n   * Extendable methods\n   * ==================\n   * These methods are here to serve as an overview of the extendable methods as well as\n   * making them not conditional in use, such as `if (this.afterUpdate)`.\n   */\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  addTarget(plugin) {\n    throw new Error(\"Extend the addTarget method to add your plugin to another plugin's target\");\n  }\n  install() {}\n  uninstall() {}\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  update(state) {}\n\n  // Called after every state update, after everything's mounted. Debounced.\n  afterUpdate() {}\n}", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\n/* eslint-disable class-methods-use-this */\nimport { render } from 'preact';\nimport findDOMElement from '@uppy/utils/lib/findDOMElement';\nimport getTextDirection from '@uppy/utils/lib/getTextDirection';\nimport BasePlugin from \"./BasePlugin.js\";\n/**\n * Defer a frequent call to the microtask queue.\n */\nfunction debounce(fn) {\n  let calling = null;\n  let latestArgs;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    latestArgs = args;\n    if (!calling) {\n      calling = Promise.resolve().then(() => {\n        calling = null;\n        // At this point `args` may be different from the most\n        // recent state, if multiple calls happened since this task\n        // was queued. So we use the `latestArgs`, which definitely\n        // is the most recent call.\n        return fn(...latestArgs);\n      });\n    }\n    return calling;\n  };\n}\n\n/**\n * UIPlugin is the extended version of BasePlugin to incorporate rendering with Preact.\n * Use this for plugins that need a user interface.\n *\n * For plugins without an user interface, see BasePlugin.\n */\nvar _updateUI = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateUI\");\nclass UIPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    Object.defineProperty(this, _updateUI, {\n      writable: true,\n      value: void 0\n    });\n  }\n  getTargetPlugin(target // eslint-disable-line no-use-before-define\n  ) {\n    let targetPlugin;\n    if (typeof (target == null ? void 0 : target.addTarget) === 'function') {\n      // Targeting a plugin *instance*\n      targetPlugin = target;\n      if (!(targetPlugin instanceof UIPlugin)) {\n        // eslint-disable-next-line no-console\n        console.warn(new Error('The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.', {\n          cause: {\n            targetPlugin,\n            UIPlugin\n          }\n        }));\n      }\n    } else if (typeof target === 'function') {\n      // Targeting a plugin type\n      const Target = target;\n      // Find the target plugin instance.\n      this.uppy.iteratePlugins(p => {\n        if (p instanceof Target) {\n          targetPlugin = p;\n        }\n      });\n    }\n    return targetPlugin;\n  }\n\n  /**\n   * Check if supplied `target` is a DOM element or an `object`.\n   * If it\u2019s an object \u2014 target is a plugin, and we search `plugins`\n   * for a plugin with same name and return its target.\n   */\n  mount(target,\n  // eslint-disable-line no-use-before-define\n  plugin) {\n    const callerPluginName = plugin.id;\n    const targetElement = findDOMElement(target);\n    if (targetElement) {\n      this.isTargetDOMEl = true;\n      // When target is <body> with a single <div> element,\n      // Preact thinks it\u2019s the Uppy root element in there when doing a diff,\n      // and destroys it. So we are creating a fragment (could be empty div)\n      const uppyRootElement = document.createElement('div');\n      uppyRootElement.classList.add('uppy-Root');\n\n      // API for plugins that require a synchronous rerender.\n      _classPrivateFieldLooseBase(this, _updateUI)[_updateUI] = debounce(state => {\n        // plugin could be removed, but this.rerender is debounced below,\n        // so it could still be called even after uppy.removePlugin or uppy.destroy\n        // hence the check\n        if (!this.uppy.getPlugin(this.id)) return;\n        render(this.render(state), uppyRootElement);\n        this.afterUpdate();\n      });\n      this.uppy.log(`Installing ${callerPluginName} to a DOM element '${target}'`);\n      if (this.opts.replaceTargetContent) {\n        // Doing render(h(null), targetElement), which should have been\n        // a better way, since because the component might need to do additional cleanup when it is removed,\n        // stopped working \u2014 Preact just adds null into target, not replacing\n        targetElement.innerHTML = '';\n      }\n      render(this.render(this.uppy.getState()), uppyRootElement);\n      this.el = uppyRootElement;\n      targetElement.appendChild(uppyRootElement);\n\n      // Set the text direction if the page has not defined one.\n      uppyRootElement.dir = this.opts.direction || getTextDirection(uppyRootElement) || 'ltr';\n      this.onMount();\n      return this.el;\n    }\n    const targetPlugin = this.getTargetPlugin(target);\n    if (targetPlugin) {\n      this.uppy.log(`Installing ${callerPluginName} to ${targetPlugin.id}`);\n      this.parent = targetPlugin;\n      this.el = targetPlugin.addTarget(plugin);\n      this.onMount();\n      return this.el;\n    }\n    this.uppy.log(`Not installing ${callerPluginName}`);\n    let message = `Invalid target option given to ${callerPluginName}.`;\n    if (typeof target === 'function') {\n      message += ' The given target is not a Plugin class. ' + \"Please check that you're not specifying a React Component instead of a plugin. \" + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';\n    } else {\n      message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\\n\\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';\n    }\n    throw new Error(message);\n  }\n\n  /**\n   * Called when plugin is mounted, whether in DOM or into another plugin.\n   * Needed because sometimes plugins are mounted separately/after `install`,\n   * so this.el and this.parent might not be available in `install`.\n   * This is the case with @uppy/react plugins, for example.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  render(state) {\n    throw new Error('Extend the render method to add your plugin to a DOM element');\n  }\n  update(state) {\n    if (this.el != null) {\n      var _classPrivateFieldLoo, _classPrivateFieldLoo2;\n      (_classPrivateFieldLoo = (_classPrivateFieldLoo2 = _classPrivateFieldLooseBase(this, _updateUI))[_updateUI]) == null || _classPrivateFieldLoo.call(_classPrivateFieldLoo2, state);\n    }\n  }\n  unmount() {\n    if (this.isTargetDOMEl) {\n      var _this$el;\n      (_this$el = this.el) == null || _this$el.remove();\n    }\n    this.onUnmount();\n  }\n  onMount() {}\n  onUnmount() {}\n}\nexport default UIPlugin;", "/**\n * Low-pass filter using Exponential Moving Averages (aka exponential smoothing)\n * Filters a sequence of values by updating the mixing the previous output value\n * with the new input using the exponential window function\n *\n * @param newValue the n-th value of the sequence\n * @param previousSmoothedValue the exponential average of the first n-1 values\n * @param halfLife value of `dt` to move the smoothed value halfway between `previousFilteredValue` and `newValue`\n * @param dt time elapsed between adding the (n-1)th and the n-th values\n * @returns the exponential average of the first n values\n */\nexport default function emaFilter(newValue, previousSmoothedValue, halfLife, dt) {\n  if (halfLife === 0 || newValue === previousSmoothedValue) return newValue;\n  if (dt === 0) return previousSmoothedValue;\n  return newValue + (previousSmoothedValue - newValue) * 2 ** (-dt / halfLife);\n}", "export default {\n  STATE_ERROR: 'error',\n  STATE_WAITING: 'waiting',\n  STATE_PREPROCESSING: 'preprocessing',\n  STATE_UPLOADING: 'uploading',\n  STATE_POSTPROCESSING: 'postprocessing',\n  STATE_COMPLETE: 'complete'\n};", "import { h } from 'preact';\nimport classNames from 'classnames';\nimport statusBarStates from \"./StatusBarStates.js\";\nimport calculateProcessingProgress from \"./calculateProcessingProgress.js\";\nimport { UploadBtn, RetryBtn, CancelBtn, PauseResumeButton, DoneBtn, ProgressBarProcessing, ProgressBarError, ProgressBarUploading, ProgressBarComplete } from \"./Components.js\";\nconst {\n  STATE_ERROR,\n  STATE_WAITING,\n  STATE_PREPROCESSING,\n  STATE_UPLOADING,\n  STATE_POSTPROCESSING,\n  STATE_COMPLETE\n} = statusBarStates;\nexport default function StatusBarUI(_ref) {\n  let {\n    newFiles,\n    allowNewUpload,\n    isUploadInProgress,\n    isAllPaused,\n    resumableUploads,\n    error,\n    hideUploadButton = undefined,\n    hidePauseResumeButton = false,\n    hideCancelButton = false,\n    hideRetryButton = false,\n    recoveredState,\n    uploadState,\n    totalProgress,\n    files,\n    supportsUploadProgress,\n    hideAfterFinish = false,\n    isSomeGhost,\n    doneButtonHandler = undefined,\n    isUploadStarted,\n    i18n,\n    startUpload,\n    uppy,\n    isAllComplete,\n    showProgressDetails = undefined,\n    numUploads,\n    complete,\n    totalSize,\n    totalETA,\n    totalUploadedSize\n  } = _ref;\n  function getProgressValue() {\n    switch (uploadState) {\n      case STATE_POSTPROCESSING:\n      case STATE_PREPROCESSING:\n        {\n          const progress = calculateProcessingProgress(files);\n          if (progress.mode === 'determinate') {\n            return progress.value * 100;\n          }\n          return totalProgress;\n        }\n      case STATE_ERROR:\n        {\n          return null;\n        }\n      case STATE_UPLOADING:\n        {\n          if (!supportsUploadProgress) {\n            return null;\n          }\n          return totalProgress;\n        }\n      default:\n        return totalProgress;\n    }\n  }\n  function getIsIndeterminate() {\n    switch (uploadState) {\n      case STATE_POSTPROCESSING:\n      case STATE_PREPROCESSING:\n        {\n          const {\n            mode\n          } = calculateProcessingProgress(files);\n          return mode === 'indeterminate';\n        }\n      case STATE_UPLOADING:\n        {\n          if (!supportsUploadProgress) {\n            return true;\n          }\n          return false;\n        }\n      default:\n        return false;\n    }\n  }\n  function getIsHidden() {\n    if (recoveredState) {\n      return false;\n    }\n    switch (uploadState) {\n      case STATE_WAITING:\n        return hideUploadButton || newFiles === 0;\n      case STATE_COMPLETE:\n        return hideAfterFinish;\n      default:\n        return false;\n    }\n  }\n  const progressValue = getProgressValue();\n  const isHidden = getIsHidden();\n  const width = progressValue != null ? progressValue : 100;\n  const showUploadBtn = !error && newFiles && !isUploadInProgress && !isAllPaused && allowNewUpload && !hideUploadButton;\n  const showCancelBtn = !hideCancelButton && uploadState !== STATE_WAITING && uploadState !== STATE_COMPLETE;\n  const showPauseResumeBtn = resumableUploads && !hidePauseResumeButton && uploadState === STATE_UPLOADING;\n  const showRetryBtn = error && !isAllComplete && !hideRetryButton;\n  const showDoneBtn = doneButtonHandler && uploadState === STATE_COMPLETE;\n  const progressClassNames = classNames('uppy-StatusBar-progress', {\n    'is-indeterminate': getIsIndeterminate()\n  });\n  const statusBarClassNames = classNames('uppy-StatusBar', `is-${uploadState}`, {\n    'has-ghosts': isSomeGhost\n  });\n  return h(\"div\", {\n    className: statusBarClassNames,\n    \"aria-hidden\": isHidden\n  }, h(\"div\", {\n    className: progressClassNames,\n    style: {\n      width: `${width}%`\n    },\n    role: \"progressbar\",\n    \"aria-label\": `${width}%`,\n    \"aria-valuetext\": `${width}%`,\n    \"aria-valuemin\": 0,\n    \"aria-valuemax\": 100,\n    \"aria-valuenow\": progressValue\n  }), (() => {\n    switch (uploadState) {\n      case STATE_PREPROCESSING:\n      case STATE_POSTPROCESSING:\n        return h(ProgressBarProcessing, {\n          progress: calculateProcessingProgress(files)\n        });\n      case STATE_COMPLETE:\n        return h(ProgressBarComplete, {\n          i18n: i18n\n        });\n      case STATE_ERROR:\n        return h(ProgressBarError, {\n          error: error,\n          i18n: i18n,\n          numUploads: numUploads,\n          complete: complete\n        });\n      case STATE_UPLOADING:\n        return h(ProgressBarUploading, {\n          i18n: i18n,\n          supportsUploadProgress: supportsUploadProgress,\n          totalProgress: totalProgress,\n          showProgressDetails: showProgressDetails,\n          isUploadStarted: isUploadStarted,\n          isAllComplete: isAllComplete,\n          isAllPaused: isAllPaused,\n          newFiles: newFiles,\n          numUploads: numUploads,\n          complete: complete,\n          totalUploadedSize: totalUploadedSize,\n          totalSize: totalSize,\n          totalETA: totalETA,\n          startUpload: startUpload\n        });\n      default:\n        return null;\n    }\n  })(), h(\"div\", {\n    className: \"uppy-StatusBar-actions\"\n  }, recoveredState || showUploadBtn ? h(UploadBtn, {\n    newFiles: newFiles,\n    isUploadStarted: isUploadStarted,\n    recoveredState: recoveredState,\n    i18n: i18n,\n    isSomeGhost: isSomeGhost,\n    startUpload: startUpload,\n    uploadState: uploadState\n  }) : null, showRetryBtn ? h(RetryBtn, {\n    i18n: i18n,\n    uppy: uppy\n  }) : null, showPauseResumeBtn ? h(PauseResumeButton, {\n    isAllPaused: isAllPaused,\n    i18n: i18n,\n    isAllComplete: isAllComplete,\n    resumableUploads: resumableUploads,\n    uppy: uppy\n  }) : null, showCancelBtn ? h(CancelBtn, {\n    i18n: i18n,\n    uppy: uppy\n  }) : null, showDoneBtn ? h(DoneBtn, {\n    i18n: i18n,\n    doneButtonHandler: doneButtonHandler\n  }) : null));\n}", "export default function calculateProcessingProgress(files) {\n  const values = [];\n  let mode = 'indeterminate';\n  let message;\n  for (const {\n    progress\n  } of Object.values(files)) {\n    const {\n      preprocess,\n      postprocess\n    } = progress;\n    // In the future we should probably do this differently. For now we'll take the\n    // mode and message from the first file\u2026\n    if (message == null && (preprocess || postprocess)) {\n      ;\n      ({\n        mode,\n        message\n      } = preprocess || postprocess);\n    }\n    if ((preprocess == null ? void 0 : preprocess.mode) === 'determinate') values.push(preprocess.value);\n    if ((postprocess == null ? void 0 : postprocess.mode) === 'determinate') values.push(postprocess.value);\n  }\n  const value = values.reduce((total, progressValue) => {\n    return total + progressValue / values.length;\n  }, 0);\n  return {\n    mode,\n    message,\n    value\n  };\n}", "import { h } from 'preact';\nimport classNames from 'classnames';\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport prettyETA from '@uppy/utils/lib/prettyETA';\nimport statusBarStates from \"./StatusBarStates.js\";\nconst DOT = `\\u00B7`;\nconst renderDot = () => ` ${DOT} `;\nfunction UploadBtn(props) {\n  const {\n    newFiles,\n    isUploadStarted,\n    recoveredState,\n    i18n,\n    uploadState,\n    isSomeGhost,\n    startUpload\n  } = props;\n  const uploadBtnClassNames = classNames('uppy-u-reset', 'uppy-c-btn', 'uppy-StatusBar-actionBtn', 'uppy-StatusBar-actionBtn--upload', {\n    'uppy-c-btn-primary': uploadState === statusBarStates.STATE_WAITING\n  }, {\n    'uppy-StatusBar-actionBtn--disabled': isSomeGhost\n  });\n  const uploadBtnText = newFiles && isUploadStarted && !recoveredState ? i18n('uploadXNewFiles', {\n    smart_count: newFiles\n  }) : i18n('uploadXFiles', {\n    smart_count: newFiles\n  });\n  return h(\"button\", {\n    type: \"button\",\n    className: uploadBtnClassNames,\n    \"aria-label\": i18n('uploadXFiles', {\n      smart_count: newFiles\n    }),\n    onClick: startUpload,\n    disabled: isSomeGhost,\n    \"data-uppy-super-focusable\": true\n  }, uploadBtnText);\n}\nfunction RetryBtn(props) {\n  const {\n    i18n,\n    uppy\n  } = props;\n  return h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry\",\n    \"aria-label\": i18n('retryUpload'),\n    onClick: () => uppy.retryAll().catch(() => {\n      /* Error reported and handled via an event */\n    }),\n    \"data-uppy-super-focusable\": true,\n    \"data-cy\": \"retry\"\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"8\",\n    height: \"10\",\n    viewBox: \"0 0 8 10\"\n  }, h(\"path\", {\n    d: \"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z\"\n  })), i18n('retry'));\n}\nfunction CancelBtn(props) {\n  const {\n    i18n,\n    uppy\n  } = props;\n  return h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-StatusBar-actionCircleBtn\",\n    title: i18n('cancel'),\n    \"aria-label\": i18n('cancel'),\n    onClick: () => uppy.cancelAll(),\n    \"data-cy\": \"cancel\",\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\"\n  }, h(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, h(\"circle\", {\n    fill: \"#888\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"8\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: \"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z\"\n  }))));\n}\nfunction PauseResumeButton(props) {\n  const {\n    isAllPaused,\n    i18n,\n    isAllComplete,\n    resumableUploads,\n    uppy\n  } = props;\n  const title = isAllPaused ? i18n('resume') : i18n('pause');\n  function togglePauseResume() {\n    if (isAllComplete) return;\n    if (!resumableUploads) {\n      uppy.cancelAll();\n      return;\n    }\n    if (isAllPaused) {\n      uppy.resumeAll();\n      return;\n    }\n    uppy.pauseAll();\n  }\n  return h(\"button\", {\n    title: title,\n    \"aria-label\": title,\n    className: \"uppy-u-reset uppy-StatusBar-actionCircleBtn\",\n    type: \"button\",\n    onClick: togglePauseResume,\n    \"data-cy\": \"togglePauseResume\",\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\"\n  }, h(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, h(\"circle\", {\n    fill: \"#888\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"8\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: isAllPaused ? 'M6 4.25L11.5 8 6 11.75z' : 'M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z'\n  }))));\n}\nfunction DoneBtn(props) {\n  const {\n    i18n,\n    doneButtonHandler\n  } = props;\n  return h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done\",\n    onClick: doneButtonHandler,\n    \"data-uppy-super-focusable\": true\n  }, i18n('done'));\n}\nfunction LoadingSpinner() {\n  return h(\"svg\", {\n    className: \"uppy-StatusBar-spinner\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"14\",\n    height: \"14\"\n  }, h(\"path\", {\n    d: \"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0\",\n    fillRule: \"evenodd\"\n  }));\n}\nfunction ProgressBarProcessing(props) {\n  const {\n    progress\n  } = props;\n  const {\n    value,\n    mode,\n    message\n  } = progress;\n  const dot = `\\u00B7`;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\"\n  }, h(LoadingSpinner, null), mode === 'determinate' ? `${Math.round(value * 100)}% ${dot} ` : '', message);\n}\nfunction ProgressDetails(props) {\n  const {\n    numUploads,\n    complete,\n    totalUploadedSize,\n    totalSize,\n    totalETA,\n    i18n\n  } = props;\n  const ifShowFilesUploadedOfTotal = numUploads > 1;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, ifShowFilesUploadedOfTotal && i18n('filesUploadedOfTotal', {\n    complete,\n    smart_count: numUploads\n  }), h(\"span\", {\n    className: \"uppy-StatusBar-additionalInfo\"\n  }, ifShowFilesUploadedOfTotal && renderDot(), i18n('dataUploadedOfTotal', {\n    complete: prettierBytes(totalUploadedSize),\n    total: prettierBytes(totalSize)\n  }), renderDot(), i18n('xTimeLeft', {\n    time: prettyETA(totalETA)\n  })));\n}\nfunction FileUploadCount(props) {\n  const {\n    i18n,\n    complete,\n    numUploads\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, i18n('filesUploadedOfTotal', {\n    complete,\n    smart_count: numUploads\n  }));\n}\nfunction UploadNewlyAddedFiles(props) {\n  const {\n    i18n,\n    newFiles,\n    startUpload\n  } = props;\n  const uploadBtnClassNames = classNames('uppy-u-reset', 'uppy-c-btn', 'uppy-StatusBar-actionBtn', 'uppy-StatusBar-actionBtn--uploadNewlyAdded');\n  return h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondaryHint\"\n  }, i18n('xMoreFilesAdded', {\n    smart_count: newFiles\n  })), h(\"button\", {\n    type: \"button\",\n    className: uploadBtnClassNames,\n    \"aria-label\": i18n('uploadXFiles', {\n      smart_count: newFiles\n    }),\n    onClick: startUpload\n  }, i18n('upload')));\n}\nfunction ProgressBarUploading(props) {\n  const {\n    i18n,\n    supportsUploadProgress,\n    totalProgress,\n    showProgressDetails,\n    isUploadStarted,\n    isAllComplete,\n    isAllPaused,\n    newFiles,\n    numUploads,\n    complete,\n    totalUploadedSize,\n    totalSize,\n    totalETA,\n    startUpload\n  } = props;\n  const showUploadNewlyAddedFiles = newFiles && isUploadStarted;\n  if (!isUploadStarted || isAllComplete) {\n    return null;\n  }\n  const title = isAllPaused ? i18n('paused') : i18n('uploading');\n  function renderProgressDetails() {\n    if (!isAllPaused && !showUploadNewlyAddedFiles && showProgressDetails) {\n      if (supportsUploadProgress) {\n        return h(ProgressDetails, {\n          numUploads: numUploads,\n          complete: complete,\n          totalUploadedSize: totalUploadedSize,\n          totalSize: totalSize,\n          totalETA: totalETA,\n          i18n: i18n\n        });\n      }\n      return h(FileUploadCount, {\n        i18n: i18n,\n        complete: complete,\n        numUploads: numUploads\n      });\n    }\n    return null;\n  }\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    \"aria-label\": title,\n    title: title\n  }, !isAllPaused ? h(LoadingSpinner, null) : null, h(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, supportsUploadProgress ? `${title}: ${totalProgress}%` : title), renderProgressDetails(), showUploadNewlyAddedFiles ? h(UploadNewlyAddedFiles, {\n    i18n: i18n,\n    newFiles: newFiles,\n    startUpload: startUpload\n  }) : null));\n}\nfunction ProgressBarComplete(props) {\n  const {\n    i18n\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    role: \"status\",\n    title: i18n('complete')\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-StatusBar-statusIndicator uppy-c-icon\",\n    width: \"15\",\n    height: \"11\",\n    viewBox: \"0 0 15 11\"\n  }, h(\"path\", {\n    d: \"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z\"\n  })), i18n('complete'))));\n}\nfunction ProgressBarError(props) {\n  const {\n    error,\n    i18n,\n    complete,\n    numUploads\n  } = props;\n  function displayErrorAlert() {\n    const errorMessage = `${i18n('uploadFailed')} \\n\\n ${error}`;\n    // eslint-disable-next-line no-alert\n    alert(errorMessage); // TODO: move to custom alert implementation\n  }\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    title: i18n('uploadFailed')\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-StatusBar-statusIndicator uppy-c-icon\",\n    width: \"11\",\n    height: \"11\",\n    viewBox: \"0 0 11 11\"\n  }, h(\"path\", {\n    d: \"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z\"\n  })), h(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, i18n('uploadFailed'), h(\"button\", {\n    className: \"uppy-u-reset uppy-StatusBar-details\",\n    \"aria-label\": i18n('showErrorDetails'),\n    \"data-microtip-position\": \"top-right\",\n    \"data-microtip-size\": \"medium\",\n    onClick: displayErrorAlert,\n    type: \"button\"\n  }, \"?\")), h(FileUploadCount, {\n    i18n: i18n,\n    complete: complete,\n    numUploads: numUploads\n  })));\n}\nexport { UploadBtn, RetryBtn, CancelBtn, PauseResumeButton, DoneBtn, LoadingSpinner, ProgressDetails, ProgressBarProcessing, ProgressBarError, ProgressBarUploading, ProgressBarComplete };", "export default function secondsToTime(rawSeconds) {\n  const hours = Math.floor(rawSeconds / 3600) % 24;\n  const minutes = Math.floor(rawSeconds / 60) % 60;\n  const seconds = Math.floor(rawSeconds % 60);\n  return {\n    hours,\n    minutes,\n    seconds\n  };\n}", "import secondsToTime from \"./secondsToTime.js\";\nexport default function prettyETA(seconds) {\n  const time = secondsToTime(seconds);\n\n  // Only display hours and minutes if they are greater than 0 but always\n  // display minutes if hours is being displayed\n  // Display a leading zero if the there is a preceding unit: 1m 05s, but 5s\n  const hoursStr = time.hours === 0 ? '' : `${time.hours}h`;\n  const minutesStr = time.minutes === 0 ? '' : `${time.hours === 0 ? time.minutes : ` ${time.minutes.toString(10).padStart(2, '0')}`}m`;\n  const secondsStr = time.hours !== 0 ? '' : `${time.minutes === 0 ? time.seconds : ` ${time.seconds.toString(10).padStart(2, '0')}`}s`;\n  return `${hoursStr}${minutesStr}${secondsStr}`;\n}", "export default {\n  strings: {\n    // Shown in the status bar while files are being uploaded.\n    uploading: 'Uploading',\n    // Shown in the status bar once all files have been uploaded.\n    complete: 'Complete',\n    // Shown in the status bar if an upload failed.\n    uploadFailed: 'Upload failed',\n    // Shown in the status bar while the upload is paused.\n    paused: 'Paused',\n    // Used as the label for the button that retries an upload.\n    retry: 'Retry',\n    // Used as the label for the button that cancels an upload.\n    cancel: 'Cancel',\n    // Used as the label for the button that pauses an upload.\n    pause: 'Pause',\n    // Used as the label for the button that resumes an upload.\n    resume: 'Resume',\n    // Used as the label for the button that resets the upload state after an upload\n    done: 'Done',\n    // When `showProgressDetails` is set, shows the number of files that have been fully uploaded so far.\n    filesUploadedOfTotal: {\n      0: '%{complete} of %{smart_count} file uploaded',\n      1: '%{complete} of %{smart_count} files uploaded'\n    },\n    // When `showProgressDetails` is set, shows the amount of bytes that have been uploaded so far.\n    dataUploadedOfTotal: '%{complete} of %{total}',\n    // When `showProgressDetails` is set, shows an estimation of how long the upload will take to complete.\n    xTimeLeft: '%{time} left',\n    // Used as the label for the button that starts an upload.\n    uploadXFiles: {\n      0: 'Upload %{smart_count} file',\n      1: 'Upload %{smart_count} files'\n    },\n    // Used as the label for the button that starts an upload, if another upload has been started in the past\n    // and new files were added later.\n    uploadXNewFiles: {\n      0: 'Upload +%{smart_count} file',\n      1: 'Upload +%{smart_count} files'\n    },\n    upload: 'Upload',\n    retryUpload: 'Retry upload',\n    xMoreFilesAdded: {\n      0: '%{smart_count} more file added',\n      1: '%{smart_count} more files added'\n    },\n    showErrorDetails: 'Show error details'\n  }\n};", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nimport { UIPlugin } from '@uppy/core';\nimport emaFilter from '@uppy/utils/lib/emaFilter';\nimport getTextDirection from '@uppy/utils/lib/getTextDirection';\nimport statusBarStates from \"./StatusBarStates.js\";\nimport StatusBarUI from \"./StatusBarUI.js\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.0.0\"\n};\nimport locale from \"./locale.js\";\nconst speedFilterHalfLife = 2000;\nconst ETAFilterHalfLife = 2000;\nfunction getUploadingState(error, isAllComplete, recoveredState, files) {\n  if (error) {\n    return statusBarStates.STATE_ERROR;\n  }\n  if (isAllComplete) {\n    return statusBarStates.STATE_COMPLETE;\n  }\n  if (recoveredState) {\n    return statusBarStates.STATE_WAITING;\n  }\n  let state = statusBarStates.STATE_WAITING;\n  const fileIDs = Object.keys(files);\n  for (let i = 0; i < fileIDs.length; i++) {\n    const {\n      progress\n    } = files[fileIDs[i]];\n    // If ANY files are being uploaded right now, show the uploading state.\n    if (progress.uploadStarted && !progress.uploadComplete) {\n      return statusBarStates.STATE_UPLOADING;\n    }\n    // If files are being preprocessed AND postprocessed at this time, we show the\n    // preprocess state. If any files are being uploaded we show uploading.\n    if (progress.preprocess) {\n      state = statusBarStates.STATE_PREPROCESSING;\n    }\n    // If NO files are being preprocessed or uploaded right now, but some files are\n    // being postprocessed, show the postprocess state.\n    if (progress.postprocess && state !== statusBarStates.STATE_PREPROCESSING) {\n      state = statusBarStates.STATE_POSTPROCESSING;\n    }\n  }\n  return state;\n}\nconst defaultOptions = {\n  hideUploadButton: false,\n  hideRetryButton: false,\n  hidePauseResumeButton: false,\n  hideCancelButton: false,\n  showProgressDetails: false,\n  hideAfterFinish: true,\n  doneButtonHandler: null\n};\n\n/**\n * StatusBar: renders a status bar with upload/pause/resume/cancel/retry buttons,\n * progress percentage and time remaining.\n */\nvar _lastUpdateTime = /*#__PURE__*/_classPrivateFieldLooseKey(\"lastUpdateTime\");\nvar _previousUploadedBytes = /*#__PURE__*/_classPrivateFieldLooseKey(\"previousUploadedBytes\");\nvar _previousSpeed = /*#__PURE__*/_classPrivateFieldLooseKey(\"previousSpeed\");\nvar _previousETA = /*#__PURE__*/_classPrivateFieldLooseKey(\"previousETA\");\nvar _computeSmoothETA = /*#__PURE__*/_classPrivateFieldLooseKey(\"computeSmoothETA\");\nvar _onUploadStart = /*#__PURE__*/_classPrivateFieldLooseKey(\"onUploadStart\");\nexport default class StatusBar extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, {\n      ...defaultOptions,\n      ...opts\n    });\n    Object.defineProperty(this, _computeSmoothETA, {\n      value: _computeSmoothETA2\n    });\n    Object.defineProperty(this, _lastUpdateTime, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _previousUploadedBytes, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _previousSpeed, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _previousETA, {\n      writable: true,\n      value: void 0\n    });\n    this.startUpload = () => {\n      return this.uppy.upload().catch(() => {\n        // Error logged in Core\n      });\n    };\n    Object.defineProperty(this, _onUploadStart, {\n      writable: true,\n      value: () => {\n        const {\n          recoveredState\n        } = this.uppy.getState();\n        _classPrivateFieldLooseBase(this, _previousSpeed)[_previousSpeed] = null;\n        _classPrivateFieldLooseBase(this, _previousETA)[_previousETA] = null;\n        if (recoveredState) {\n          _classPrivateFieldLooseBase(this, _previousUploadedBytes)[_previousUploadedBytes] = Object.values(recoveredState.files).reduce((pv, _ref) => {\n            let {\n              progress\n            } = _ref;\n            return pv + progress.bytesUploaded;\n          }, 0);\n\n          // We don't set `#lastUpdateTime` at this point because the upload won't\n          // actually resume until the user asks for it.\n\n          this.uppy.emit('restore-confirmed');\n          return;\n        }\n        _classPrivateFieldLooseBase(this, _lastUpdateTime)[_lastUpdateTime] = performance.now();\n        _classPrivateFieldLooseBase(this, _previousUploadedBytes)[_previousUploadedBytes] = 0;\n      }\n    });\n    this.id = this.opts.id || 'StatusBar';\n    this.title = 'StatusBar';\n    this.type = 'progressindicator';\n    this.defaultLocale = locale;\n    this.i18nInit();\n    this.render = this.render.bind(this);\n    this.install = this.install.bind(this);\n  }\n  render(state) {\n    const {\n      capabilities,\n      files,\n      allowNewUpload,\n      totalProgress,\n      error,\n      recoveredState\n    } = state;\n    const {\n      newFiles,\n      startedFiles,\n      completeFiles,\n      isUploadStarted,\n      isAllComplete,\n      isAllPaused,\n      isUploadInProgress,\n      isSomeGhost\n    } = this.uppy.getObjectOfFilesPerState();\n\n    // If some state was recovered, we want to show Upload button/counter\n    // for all the files, because in this case it\u2019s not an Upload button,\n    // but \u201CConfirm Restore Button\u201D\n    const newFilesOrRecovered = recoveredState ? Object.values(files) : newFiles;\n    const resumableUploads = !!capabilities.resumableUploads;\n    const supportsUploadProgress = capabilities.uploadProgress !== false;\n    let totalSize = 0;\n    let totalUploadedSize = 0;\n    startedFiles.forEach(file => {\n      totalSize += file.progress.bytesTotal || 0;\n      totalUploadedSize += file.progress.bytesUploaded || 0;\n    });\n    const totalETA = _classPrivateFieldLooseBase(this, _computeSmoothETA)[_computeSmoothETA]({\n      uploaded: totalUploadedSize,\n      total: totalSize,\n      remaining: totalSize - totalUploadedSize\n    });\n    return StatusBarUI({\n      error,\n      uploadState: getUploadingState(error, isAllComplete, recoveredState, state.files || {}),\n      allowNewUpload,\n      totalProgress,\n      totalSize,\n      totalUploadedSize,\n      isAllComplete: false,\n      isAllPaused,\n      isUploadStarted,\n      isUploadInProgress,\n      isSomeGhost,\n      recoveredState,\n      complete: completeFiles.length,\n      newFiles: newFilesOrRecovered.length,\n      numUploads: startedFiles.length,\n      totalETA,\n      files,\n      i18n: this.i18n,\n      uppy: this.uppy,\n      startUpload: this.startUpload,\n      doneButtonHandler: this.opts.doneButtonHandler,\n      resumableUploads,\n      supportsUploadProgress,\n      showProgressDetails: this.opts.showProgressDetails,\n      hideUploadButton: this.opts.hideUploadButton,\n      hideRetryButton: this.opts.hideRetryButton,\n      hidePauseResumeButton: this.opts.hidePauseResumeButton,\n      hideCancelButton: this.opts.hideCancelButton,\n      hideAfterFinish: this.opts.hideAfterFinish\n    });\n  }\n  onMount() {\n    // Set the text direction if the page has not defined one.\n    const element = this.el;\n    const direction = getTextDirection(element);\n    if (!direction) {\n      element.dir = 'ltr';\n    }\n  }\n  install() {\n    const {\n      target\n    } = this.opts;\n    if (target) {\n      this.mount(target, this);\n    }\n    this.uppy.on('upload', _classPrivateFieldLooseBase(this, _onUploadStart)[_onUploadStart]);\n\n    // To cover the use case where the status bar is installed while the upload\n    // has started, we set `lastUpdateTime` right away.\n    _classPrivateFieldLooseBase(this, _lastUpdateTime)[_lastUpdateTime] = performance.now();\n    _classPrivateFieldLooseBase(this, _previousUploadedBytes)[_previousUploadedBytes] = this.uppy.getFiles().reduce((pv, file) => pv + file.progress.bytesUploaded, 0);\n  }\n  uninstall() {\n    this.unmount();\n    this.uppy.off('upload', _classPrivateFieldLooseBase(this, _onUploadStart)[_onUploadStart]);\n  }\n}\nfunction _computeSmoothETA2(totalBytes) {\n  var _classPrivateFieldLoo, _classPrivateFieldLoo2;\n  if (totalBytes.total === 0 || totalBytes.remaining === 0) {\n    return 0;\n  }\n\n  // When state is restored, lastUpdateTime is still nullish at this point.\n  (_classPrivateFieldLoo2 = (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _lastUpdateTime))[_lastUpdateTime]) != null ? _classPrivateFieldLoo2 : _classPrivateFieldLoo[_lastUpdateTime] = performance.now();\n  const dt = performance.now() - _classPrivateFieldLooseBase(this, _lastUpdateTime)[_lastUpdateTime];\n  if (dt === 0) {\n    var _classPrivateFieldLoo3;\n    return Math.round(((_classPrivateFieldLoo3 = _classPrivateFieldLooseBase(this, _previousETA)[_previousETA]) != null ? _classPrivateFieldLoo3 : 0) / 100) / 10;\n  }\n  const uploadedBytesSinceLastTick = totalBytes.uploaded - _classPrivateFieldLooseBase(this, _previousUploadedBytes)[_previousUploadedBytes];\n  _classPrivateFieldLooseBase(this, _previousUploadedBytes)[_previousUploadedBytes] = totalBytes.uploaded;\n\n  // uploadedBytesSinceLastTick can be negative in some cases (packet loss?)\n  // in which case, we wait for next tick to update ETA.\n  if (uploadedBytesSinceLastTick <= 0) {\n    var _classPrivateFieldLoo4;\n    return Math.round(((_classPrivateFieldLoo4 = _classPrivateFieldLooseBase(this, _previousETA)[_previousETA]) != null ? _classPrivateFieldLoo4 : 0) / 100) / 10;\n  }\n  const currentSpeed = uploadedBytesSinceLastTick / dt;\n  const filteredSpeed = _classPrivateFieldLooseBase(this, _previousSpeed)[_previousSpeed] == null ? currentSpeed : emaFilter(currentSpeed, _classPrivateFieldLooseBase(this, _previousSpeed)[_previousSpeed], speedFilterHalfLife, dt);\n  _classPrivateFieldLooseBase(this, _previousSpeed)[_previousSpeed] = filteredSpeed;\n  const instantETA = totalBytes.remaining / filteredSpeed;\n  const updatedPreviousETA = Math.max(_classPrivateFieldLooseBase(this, _previousETA)[_previousETA] - dt, 0);\n  const filteredETA = _classPrivateFieldLooseBase(this, _previousETA)[_previousETA] == null ? instantETA : emaFilter(instantETA, updatedPreviousETA, ETAFilterHalfLife, dt);\n  _classPrivateFieldLooseBase(this, _previousETA)[_previousETA] = filteredETA;\n  _classPrivateFieldLooseBase(this, _lastUpdateTime)[_lastUpdateTime] = performance.now();\n  return Math.round(filteredETA / 100) / 10;\n}\nStatusBar.VERSION = packageJson.version;", "import { h, Component, createRef } from 'preact';\nconst TRANSITION_MS = 300;\nexport default class FadeIn extends Component {\n  constructor() {\n    super(...arguments);\n    this.ref = createRef();\n  }\n  componentWillEnter(callback) {\n    this.ref.current.style.opacity = '1';\n    this.ref.current.style.transform = 'none';\n    setTimeout(callback, TRANSITION_MS);\n  }\n  componentWillLeave(callback) {\n    this.ref.current.style.opacity = '0';\n    this.ref.current.style.transform = 'translateY(350%)';\n    setTimeout(callback, TRANSITION_MS);\n  }\n  render() {\n    const {\n      children\n    } = this.props;\n    return h(\"div\", {\n      className: \"uppy-Informer-animated\",\n      ref: this.ref\n    }, children);\n  }\n}", "// INFO: not typing copy pasted libarary code\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n/* eslint-disable */\n/**\n * @source https://github.com/developit/preact-transition-group\n */\n\nimport { Component, cloneElement, h, toChildArray } from 'preact';\nfunction assign(obj, props) {\n  return Object.assign(obj, props);\n}\nfunction getKey(vnode, fallback) {\n  var _vnode$key;\n  return (_vnode$key = vnode == null ? void 0 : vnode.key) != null ? _vnode$key : fallback;\n}\nfunction linkRef(component, name) {\n  const cache = component._ptgLinkedRefs || (component._ptgLinkedRefs = {});\n  return cache[name] || (cache[name] = c => {\n    component.refs[name] = c;\n  });\n}\nfunction getChildMapping(children) {\n  const out = {};\n  for (let i = 0; i < children.length; i++) {\n    if (children[i] != null) {\n      const key = getKey(children[i], i.toString(36));\n      out[key] = children[i];\n    }\n  }\n  return out;\n}\nfunction mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n  const getValueForKey = key => next.hasOwnProperty(key) ? next[key] : prev[key];\n\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  const nextKeysPending = {};\n  let pendingKeys = [];\n  for (const prevKey in prev) {\n    if (next.hasOwnProperty(prevKey)) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n  const childMapping = {};\n  for (const nextKey in next) {\n    if (nextKeysPending.hasOwnProperty(nextKey)) {\n      for (let i = 0; i < nextKeysPending[nextKey].length; i++) {\n        const pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n    childMapping[nextKey] = getValueForKey(nextKey);\n  }\n\n  // Finally, add the keys which didn't appear before any key in `next`\n  for (let i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n  return childMapping;\n}\nconst identity = i => i;\nclass TransitionGroup extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.refs = {};\n    this.state = {\n      children: getChildMapping(toChildArray(toChildArray(this.props.children)) || [])\n    };\n    this.performAppear = this.performAppear.bind(this);\n    this.performEnter = this.performEnter.bind(this);\n    this.performLeave = this.performLeave.bind(this);\n  }\n  componentWillMount() {\n    this.currentlyTransitioningKeys = {};\n    this.keysToAbortLeave = [];\n    this.keysToEnter = [];\n    this.keysToLeave = [];\n  }\n  componentDidMount() {\n    const initialChildMapping = this.state.children;\n    for (const key in initialChildMapping) {\n      if (initialChildMapping[key]) {\n        // this.performAppear(getKey(initialChildMapping[key], key));\n        this.performAppear(key);\n      }\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    const nextChildMapping = getChildMapping(toChildArray(nextProps.children) || []);\n    const prevChildMapping = this.state.children;\n    this.setState(prevState => ({\n      children: mergeChildMappings(prevState.children, nextChildMapping)\n    }));\n    let key;\n    for (key in nextChildMapping) {\n      if (nextChildMapping.hasOwnProperty(key)) {\n        const hasPrev = prevChildMapping && prevChildMapping.hasOwnProperty(key);\n        // We should re-enter the component and abort its leave function\n        if (nextChildMapping[key] && hasPrev && this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key);\n          this.keysToAbortLeave.push(key);\n        } else if (nextChildMapping[key] && !hasPrev && !this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key);\n        }\n      }\n    }\n    for (key in prevChildMapping) {\n      if (prevChildMapping.hasOwnProperty(key)) {\n        const hasNext = nextChildMapping && nextChildMapping.hasOwnProperty(key);\n        if (prevChildMapping[key] && !hasNext && !this.currentlyTransitioningKeys[key]) {\n          this.keysToLeave.push(key);\n        }\n      }\n    }\n  }\n  componentDidUpdate() {\n    const {\n      keysToEnter\n    } = this;\n    this.keysToEnter = [];\n    keysToEnter.forEach(this.performEnter);\n    const {\n      keysToLeave\n    } = this;\n    this.keysToLeave = [];\n    keysToLeave.forEach(this.performLeave);\n  }\n  _finishAbort(key) {\n    const idx = this.keysToAbortLeave.indexOf(key);\n    if (idx !== -1) {\n      this.keysToAbortLeave.splice(idx, 1);\n    }\n  }\n  performAppear(key) {\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n    if (component != null && component.componentWillAppear) {\n      component.componentWillAppear(this._handleDoneAppearing.bind(this, key));\n    } else {\n      this._handleDoneAppearing(key);\n    }\n  }\n  _handleDoneAppearing(key) {\n    const component = this.refs[key];\n    if (component != null && component.componentDidAppear) {\n      component.componentDidAppear();\n    }\n    delete this.currentlyTransitioningKeys[key];\n    this._finishAbort(key);\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully appeared. Remove it.\n      this.performLeave(key);\n    }\n  }\n  performEnter(key) {\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n    if (component != null && component.componentWillEnter) {\n      component.componentWillEnter(this._handleDoneEntering.bind(this, key));\n    } else {\n      this._handleDoneEntering(key);\n    }\n  }\n  _handleDoneEntering(key) {\n    const component = this.refs[key];\n    if (component != null && component.componentDidEnter) {\n      component.componentDidEnter();\n    }\n    delete this.currentlyTransitioningKeys[key];\n    this._finishAbort(key);\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully entered. Remove it.\n      this.performLeave(key);\n    }\n  }\n  performLeave(key) {\n    // If we should immediately abort this leave function,\n    // don't run the leave transition at all.\n    const idx = this.keysToAbortLeave.indexOf(key);\n    if (idx !== -1) {\n      return;\n    }\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n    if (component != null && component.componentWillLeave) {\n      component.componentWillLeave(this._handleDoneLeaving.bind(this, key));\n    } else {\n      // Note that this is somewhat dangerous b/c it calls setState()\n      // again, effectively mutating the component before all the work\n      // is done.\n      this._handleDoneLeaving(key);\n    }\n  }\n  _handleDoneLeaving(key) {\n    // If we should immediately abort the leave,\n    // then skip this altogether\n    const idx = this.keysToAbortLeave.indexOf(key);\n    if (idx !== -1) {\n      return;\n    }\n    const component = this.refs[key];\n    if (component != null && component.componentDidLeave) {\n      component.componentDidLeave();\n    }\n    delete this.currentlyTransitioningKeys[key];\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n    if (currentChildMapping && currentChildMapping.hasOwnProperty(key)) {\n      // This entered again before it fully left. Add it again.\n      this.performEnter(key);\n    } else {\n      const children = assign({}, this.state.children);\n      delete children[key];\n      this.setState({\n        children\n      });\n    }\n  }\n  render(_ref, _ref2) {\n    let {\n      childFactory,\n      transitionLeave,\n      transitionName,\n      transitionAppear,\n      transitionEnter,\n      transitionLeaveTimeout,\n      transitionEnterTimeout,\n      transitionAppearTimeout,\n      component,\n      ...props\n    } = _ref;\n    let {\n      children\n    } = _ref2;\n    // TODO: we could get rid of the need for the wrapper node\n    // by cloning a single child\n    const childrenToRender = Object.entries(children).map(_ref3 => {\n      let [key, child] = _ref3;\n      if (!child) return undefined;\n      const ref = linkRef(this, key);\n      return cloneElement(childFactory(child), {\n        ref,\n        key\n      });\n    }).filter(Boolean);\n    return h(component, props, childrenToRender);\n  }\n}\nTransitionGroup.defaultProps = {\n  component: 'span',\n  childFactory: identity\n};\nexport default TransitionGroup;", "/* eslint-disable jsx-a11y/no-noninteractive-element-interactions  */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { h } from 'preact';\nimport { UIPlugin } from '@uppy/core';\nimport FadeIn from \"./FadeIn.js\";\nimport TransitionGroup from \"./TransitionGroup.js\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.0.0\"\n};\n/**\n * Informer\n * Shows rad message bubbles\n * used like this: `uppy.info('hello world', 'info', 5000)`\n * or for errors: `uppy.info('Error uploading img.jpg', 'error', 5000)`\n *\n */\nexport default class Informer extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n    this.render = state => {\n      return h(\"div\", {\n        className: \"uppy uppy-Informer\"\n      }, h(TransitionGroup, null, state.info.map(info => h(FadeIn, {\n        key: info.message\n      }, h(\"p\", {\n        role: \"alert\"\n      }, info.message, ' ', info.details && h(\"span\", {\n        \"aria-label\": info.details,\n        \"data-microtip-position\": \"top-left\",\n        \"data-microtip-size\": \"medium\",\n        role: \"tooltip\",\n        onClick: () =>\n        // eslint-disable-next-line no-alert\n        alert(`${info.message} \\n\\n ${info.details}`)\n      }, \"?\"))))));\n    };\n    this.type = 'progressindicator';\n    this.id = this.opts.id || 'Informer';\n    this.title = 'Informer';\n  }\n  install() {\n    const {\n      target\n    } = this.opts;\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n}\nInformer.VERSION = packageJson.version;", "const DATA_URL_PATTERN = /^data:([^/]+\\/[^,;]+(?:[^,]*?))(;base64)?,([\\s\\S]*)$/;\nfunction dataURItoBlob(dataURI, opts, toFile) {\n  var _ref, _opts$mimeType;\n  // get the base64 data\n  const dataURIData = DATA_URL_PATTERN.exec(dataURI);\n\n  // user may provide mime type, if not get it from data URI\n  const mimeType = (_ref = (_opts$mimeType = opts.mimeType) != null ? _opts$mimeType : dataURIData == null ? void 0 : dataURIData[1]) != null ? _ref : 'plain/text';\n  let data; // We add `!` to tell TS we're OK with `data` being not defined when the dataURI is invalid.\n  if ((dataURIData == null ? void 0 : dataURIData[2]) != null) {\n    const binary = atob(decodeURIComponent(dataURIData[3]));\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n      bytes[i] = binary.charCodeAt(i);\n    }\n    data = [bytes];\n  } else if ((dataURIData == null ? void 0 : dataURIData[3]) != null) {\n    data = [decodeURIComponent(dataURIData[3])];\n  }\n\n  // Convert to a File?\n  if (toFile) {\n    return new File(data, opts.name || '', {\n      type: mimeType\n    });\n  }\n  return new Blob(data, {\n    type: mimeType\n  });\n}\nexport default dataURItoBlob;", "/**\n * Check if a URL string is an object URL from `URL.createObjectURL`.\n */\nexport default function isObjectURL(url) {\n  return url.startsWith('blob:');\n}", "export default function isPreviewSupported(fileType) {\n  if (!fileType) return false;\n  // list of images that browsers can preview\n  return /^[^/]+\\/(jpe?g|gif|png|svg|svg\\+xml|bmp|webp|avif)$/.test(fileType);\n}", "function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var t=\"undefined\"!=typeof self?self:global;const s=\"undefined\"!=typeof navigator,i=s&&\"undefined\"==typeof HTMLImageElement,n=!(\"undefined\"==typeof global||\"undefined\"==typeof process||!process.versions||!process.versions.node),r=t.Buffer,a=!!r,h=e=>void 0!==e;function f(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(h).length)}function l(e){let t=new Error(e);throw delete t.stack,t}function o(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const u=e=>String.fromCharCode.apply(null,e),d=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf-8\"):void 0;class c{static from(e,t){return e instanceof this&&e.le===t?e:new c(e,void 0,void 0,t)}constructor(e,t=0,s,i){if(\"boolean\"==typeof i&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===s&&(s=e.byteLength-t);let i=new DataView(e,t,s);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof c){void 0===s&&(s=e.byteLength-t),(t+=e.byteOffset)+s>e.byteOffset+e.byteLength&&l(\"Creating view outside of available memory in ArrayBuffer\");let i=new DataView(e.buffer,t,s);this._swapDataView(i)}else if(\"number\"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else l(\"Invalid input argument for BufferView: \"+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,s=c){return e instanceof DataView||e instanceof c?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||l(\"BufferView.set(): Invalid data argument.\"),this.toUint8().set(e,t),new s(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new c(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return i=s,d?d.decode(i):a?Buffer.from(i).toString(\"utf8\"):decodeURIComponent(escape(u(i)));var i}getLatin1String(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return u(s)}getUnicodeString(e=0,t=this.byteLength){const s=[];for(let i=0;i<t&&e+i<this.byteLength;i+=2)s.push(this.getUint16(e+i));return u(s)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,s){switch(t){case 1:return this.getUint8(e,s);case 2:return this.getUint16(e,s);case 4:return this.getUint32(e,s);case 8:return this.getUint64&&this.getUint64(e,s)}}getUint(e,t,s){switch(t){case 8:return this.getUint8(e,s);case 16:return this.getUint16(e,s);case 32:return this.getUint32(e,s);case 64:return this.getUint64&&this.getUint64(e,s)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function p(e,t){l(`${e} '${t}' was not loaded, try using full build of exifr.`)}class g extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||p(this.kind,e),t&&(e in t||function(e,t){l(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||p(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var m=new g(\"file parser\"),y=new g(\"segment parser\"),b=new g(\"file reader\");let w=t.fetch;function k(e,t){return(i=e).startsWith(\"data:\")||i.length>1e4?v(e,t,\"base64\"):n&&e.includes(\"://\")?O(e,t,\"url\",S):n?v(e,t,\"fs\"):s?O(e,t,\"url\",S):void l(\"Invalid input argument\");var i}async function O(e,t,s,i){return b.has(s)?v(e,t,s):i?async function(e,t){let s=await t(e);return new c(s)}(e,i):void l(`Parser ${s} is not loaded`)}async function v(e,t,s){let i=new(b.get(s))(e,t);return await i.read(),i}const S=e=>w(e).then((e=>e.arrayBuffer())),A=e=>new Promise(((t,s)=>{let i=new FileReader;i.onloadend=()=>t(i.result||new ArrayBuffer),i.onerror=s,i.readAsArrayBuffer(e)}));class U extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function x(e,t,s){let i=new U;for(let[e,t]of s)i.set(e,t);if(Array.isArray(t))for(let s of t)e.set(s,i);else e.set(t,i);return i}function C(e,t,s){let i,n=e.get(t);for(i of s)n.set(i[0],i[1])}const B=new Map,V=new Map,I=new Map,L=[\"chunked\",\"firstChunkSize\",\"firstChunkSizeNode\",\"firstChunkSizeBrowser\",\"chunkSize\",\"chunkLimit\"],T=[\"jfif\",\"xmp\",\"icc\",\"iptc\",\"ihdr\"],z=[\"tiff\",...T],P=[\"ifd0\",\"ifd1\",\"exif\",\"gps\",\"interop\"],F=[...z,...P],j=[\"makerNote\",\"userComment\"],E=[\"translateKeys\",\"translateValues\",\"reviveValues\",\"multiSegment\"],M=[...E,\"sanitize\",\"mergeOutput\",\"silentErrors\"];class _{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class D extends _{get needed(){return this.enabled||this.deps.size>0}constructor(t,s,i,n){if(super(),e(this,\"enabled\",!1),e(this,\"skip\",new Set),e(this,\"pick\",new Set),e(this,\"deps\",new Set),e(this,\"translateKeys\",!1),e(this,\"translateValues\",!1),e(this,\"reviveValues\",!1),this.key=t,this.enabled=s,this.parse=this.enabled,this.applyInheritables(n),this.canBeFiltered=P.includes(t),this.canBeFiltered&&(this.dict=B.get(t)),void 0!==i)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if(\"object\"==typeof i){if(this.enabled=!0,this.parse=!1!==i.parse,this.canBeFiltered){let{pick:e,skip:t}=i;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(i)}else!0===i||!1===i?this.parse=this.enabled=i:l(`Invalid options argument: ${i}`)}applyInheritables(e){let t,s;for(t of E)s=e[t],void 0!==s&&(this[t]=s)}translateTagSet(e,t){if(this.dict){let s,i,{tagKeys:n,tagValues:r}=this.dict;for(s of e)\"string\"==typeof s?(i=r.indexOf(s),-1===i&&(i=n.indexOf(Number(s))),-1!==i&&t.add(Number(n[i]))):t.add(s)}else for(let s of e)t.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,X(this.pick,this.deps)):this.enabled&&this.pick.size>0&&X(this.pick,this.deps)}}var N={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$=new Map;class R extends _{static useCached(e){let t=$.get(e);return void 0!==t||(t=new this(e),$.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):\"object\"==typeof e?this.setupFromObject(e):l(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=s?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of L)this[e]=N[e];for(e of M)this[e]=N[e];for(e of j)this[e]=N[e];for(e of F)this[e]=new D(e,N[e],void 0,this)}setupFromTrue(){let e;for(e of L)this[e]=N[e];for(e of M)this[e]=N[e];for(e of j)this[e]=!0;for(e of F)this[e]=new D(e,!0,void 0,this)}setupFromArray(e){let t;for(t of L)this[t]=N[t];for(t of M)this[t]=N[t];for(t of j)this[t]=N[t];for(t of F)this[t]=new D(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,P)}setupFromObject(e){let t;for(t of(P.ifd0=P.ifd0||P.image,P.ifd1=P.ifd1||P.thumbnail,Object.assign(this,e),L))this[t]=W(e[t],N[t]);for(t of M)this[t]=W(e[t],N[t]);for(t of j)this[t]=W(e[t],N[t]);for(t of z)this[t]=new D(t,N[t],e[t],this);for(t of P)this[t]=new D(t,N[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,P,F),!0===e.tiff?this.batchEnableWithBool(P,!0):!1===e.tiff?this.batchEnableWithUserValue(P,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,P):\"object\"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,P)}batchEnableWithBool(e,t){for(let s of e)this[s].enabled=t}batchEnableWithUserValue(e,t){for(let s of e){let e=t[s];this[s].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,s,i=s){if(e&&e.length){for(let e of i)this[e].enabled=!1;let t=K(e,s);for(let[e,s]of t)X(this[e].pick,s),this[e].enabled=!0}else if(t&&t.length){let e=K(t,s);for(let[t,s]of e)X(this[t].skip,s)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:s,iptc:i,icc:n}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),s.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),n.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:s,interop:i}=this;i.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),s.needed&&e.deps.add(34853),this.tiff.enabled=P.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of P)this[e].finalizeFilters()}get onlyTiff(){return!T.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of z)this[e].enabled&&!y.has(e)&&p(\"segment parser\",e)}}function K(e,t){let s,i,n,r,a=[];for(n of t){for(r of(s=B.get(n),i=[],s))(e.includes(r[0])||e.includes(r[1]))&&i.push(r[0]);i.length&&a.push([n,i])}return a}function W(e,t){return void 0!==e?e:void 0!==t?t:void 0}function X(e,t){for(let s of t)e.add(s)}e(R,\"default\",N);class H{constructor(t){e(this,\"parsers\",{}),e(this,\"output\",{}),e(this,\"errors\",[]),e(this,\"pushToErrors\",(e=>this.errors.push(e))),this.options=R.useCached(t)}async read(e){this.file=await function(e,t){return\"string\"==typeof e?k(e,t):s&&!i&&e instanceof HTMLImageElement?k(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new c(e):s&&e instanceof Blob?O(e,t,\"blob\",A):void l(\"Invalid input argument\")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[s,i]of m)if(i.canHandle(e,t))return this.fileParser=new i(this.options,this.file,this.parsers),e[s]=!0;this.file.close&&this.file.close(),l(\"Unknown file format\")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),f(s=e)?void 0:s;var s}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let s=await t.parse();t.assignToOutput(e,s)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,s=y.get(\"tiff\",e);var i;if(t.tiff?i={start:0,type:\"tiff\"}:t.jpeg&&(i=await this.fileParser.getOrFindSegment(\"tiff\")),void 0===i)return;let n=await this.fileParser.ensureSegmentChunk(i),r=this.parsers.tiff=new s(n,e,t),a=await r.extractThumbnail();return t.close&&t.close(),a}}async function Y(e,t){let s=new H(t);return await s.read(e),s.parse()}var G=Object.freeze({__proto__:null,parse:Y,Exifr:H,fileParsers:m,segmentParsers:y,fileReaders:b,tagKeys:B,tagValues:V,tagRevivers:I,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:L,otherSegments:T,segments:z,tiffBlocks:P,segmentsAndBlocks:F,tiffExtractables:j,inheritables:E,allFormatters:M,Options:R});class J{static findPosition(e,t){let s=e.getUint16(t+2)+2,i=\"function\"==typeof this.headerLength?this.headerLength(e,t,s):this.headerLength,n=t+i,r=s-i;return{offset:t,length:s,headerLength:i,start:n,size:r,end:n+r}}static parse(e,t={}){return new this(e,new R({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof c?e:new c(e)}constructor(t,s={},i){e(this,\"errors\",[]),e(this,\"raw\",new Map),e(this,\"handleError\",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(t),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let s=I.get(t),i=V.get(t),n=B.get(t),r=this.options[t],a=r.reviveValues&&!!s,h=r.translateValues&&!!i,f=r.translateKeys&&!!n,l={};for(let[t,r]of e)a&&s.has(t)?r=s.get(t)(r):h&&i.has(t)&&(r=this.translateValue(r,i.get(t))),f&&n.has(t)&&(t=n.get(t)||t),l[t]=r;return l}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,s){if(this.globalOptions.mergeOutput)return Object.assign(e,s);e[t]?Object.assign(e[t],s):e[t]=s}}e(J,\"headerLength\",4),e(J,\"type\",void 0),e(J,\"multiSegment\",!1),e(J,\"canHandle\",(()=>!1));function q(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Q(e){return e>=224&&e<=239}function Z(e,t,s){for(let[i,n]of y)if(n.canHandle(e,t,s))return i}class ee extends class{constructor(t,s,i){e(this,\"errors\",[]),e(this,\"ensureSegmentChunk\",(async e=>{let t=e.start,s=e.size||65536;if(this.file.chunked)if(this.file.available(t,s))e.chunk=this.file.subarray(t,s);else try{e.chunk=await this.file.readChunk(t,s)}catch(t){l(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+s?e.chunk=this.file.subarray(t,s):void 0===e.size?e.chunk=this.file.subarray(t):l(\"Segment unreachable: \"+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=s,this.parsers=i}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let s=new(y.get(e))(t,this.options,this.file);return this.parsers[e]=s}createParsers(e){for(let t of e){let{type:e,chunk:s}=t,i=this.options[e];if(i&&i.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,s)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...t){super(...t),e(this,\"appSegments\",[]),e(this,\"jpegSegments\",[]),e(this,\"unknownSegments\",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(y.keyList())):(e=void 0===e?y.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&y.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:s,findAll:i,wanted:n,remaining:r}=this;if(!i&&this.file.chunked&&(i=Array.from(n).some((e=>{let t=y.get(e),s=this.options[e];return t.multiSegment&&s.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,s.byteLength),!this.options.onlyTiff&&s.chunked){let t=!1;for(;r.size>0&&!t&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:i}=s,n=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>i&&!n?!await s.readNextChunk(e):!await s.readNextChunk(i),void 0===(e=this.findAppSegmentsInRange(e,s.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let s,i,n,r,a,h,{file:f,findAll:l,wanted:o,remaining:u,options:d}=this;for(;e<t;e++)if(255===f.getUint8(e))if(s=f.getUint8(e+1),Q(s)){if(i=f.getUint16(e+2),n=Z(f,e,i),n&&o.has(n)&&(r=y.get(n),a=r.findPosition(f,e),h=d[n],a.type=n,this.appSegments.push(a),!l&&(r.multiSegment&&h.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||u.delete(n)):u.delete(n),0===u.size)))break;d.recordUnknownSegments&&(a=J.findPosition(f,e),a.marker=s,this.unknownSegments.push(a)),e+=i+1}else if(q(s)){if(i=f.getUint16(e+2),218===s&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:s}),e+=i+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let s,i,n,r=new Map;for(let a=0;a<e.length;a++)s=e[a],i=s[t],r.has(i)?n=r.get(i):r.set(i,n=[]),n.push(s);return Array.from(r)}(this.appSegments,\"type\");this.mergedAppSegments=e.map((([e,t])=>{let s=y.get(e,this.options);if(s.handleMultiSegments){return{type:e,chunk:s.handleMultiSegments(t)}}return t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}e(ee,\"type\",\"jpeg\"),m.set(\"jpeg\",ee);const te=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class se extends J{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,s=new Map){let{pick:i,skip:n}=this.options[t];i=new Set(i);let r=i.size>0,a=0===n.size,h=this.chunk.getUint16(e);e+=2;for(let f=0;f<h;f++){let h=this.chunk.getUint16(e);if(r){if(i.has(h)&&(s.set(h,this.parseTag(e,h,t)),i.delete(h),0===i.size))break}else!a&&n.has(h)||s.set(h,this.parseTag(e,h,t));e+=12}return s}parseTag(e,t,s){let{chunk:i}=this,n=i.getUint16(e+2),r=i.getUint32(e+4),a=te[n];if(a*r<=4?e+=8:e=i.getUint32(e+8),(n<1||n>13)&&l(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e}`),e>i.byteLength&&l(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e} is outside of chunk size ${i.byteLength}`),1===n)return i.getUint8Array(e,r);if(2===n)return\"\"===(h=function(e){for(;e.endsWith(\"\\0\");)e=e.slice(0,-1);return e}(h=i.getString(e,r)).trim())?void 0:h;var h;if(7===n)return i.getUint8Array(e,r);if(1===r)return this.parseTagValue(n,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(n))(r),s=a;for(let i=0;i<r;i++)t[i]=this.parseTagValue(n,e),e+=s;return t}}parseTagValue(e,t){let{chunk:s}=this;switch(e){case 1:return s.getUint8(t);case 3:return s.getUint16(t);case 4:return s.getUint32(t);case 5:return s.getUint32(t)/s.getUint32(t+4);case 6:return s.getInt8(t);case 8:return s.getInt16(t);case 9:return s.getInt32(t);case 10:return s.getInt32(t)/s.getInt32(t+4);case 11:return s.getFloat(t);case 12:return s.getDouble(t);case 13:return s.getUint32(t);default:l(`Invalid tiff type ${e}`)}}}class ie extends se{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse(\"parseExifBlock\"),e.gps.enabled&&await this.safeParse(\"parseGpsBlock\"),e.interop.enabled&&await this.safeParse(\"parseInteropBlock\"),e.ifd1.enabled&&await this.safeParse(\"parseThumbnailBlock\"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let s=new Map;return this[t]=s,this.parseTags(e,t,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&l(\"Malformed EXIF data\"),!e.chunked&&this.ifd0Offset>e.byteLength&&l(`IFD0 offset points to outside of file.\\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,o(this.options));let t=this.parseBlock(this.ifd0Offset,\"ifd0\");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,o(this.options));let e=this.parseBlock(this.exifOffset,\"exif\");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let s=e.get(t);s&&1===s.length&&e.set(t,s[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,\"gps\");return e&&e.has(2)&&e.has(4)&&(e.set(\"latitude\",ne(...e.get(2),e.get(1))),e.set(\"longitude\",ne(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,\"interop\")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,\"ifd1\"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,s,i={};for(t of P)if(e=this[t],!f(e))if(s=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(\"ifd1\"===t)continue;Object.assign(i,s)}else i[t]=s;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[s,i]of Object.entries(t))this.assignObjectToOutput(e,s,i)}}function ne(e,t,s,i){var n=e+t/60+s/3600;return\"S\"!==i&&\"W\"!==i||(n*=-1),n}e(ie,\"type\",\"tiff\"),e(ie,\"headerLength\",10),y.set(\"tiff\",ie);var re=Object.freeze({__proto__:null,default:G,Exifr:H,fileParsers:m,segmentParsers:y,fileReaders:b,tagKeys:B,tagValues:V,tagRevivers:I,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:L,otherSegments:T,segments:z,tiffBlocks:P,segmentsAndBlocks:F,tiffExtractables:j,inheritables:E,allFormatters:M,Options:R,parse:Y});const ae={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},he=Object.assign({},ae,{firstChunkSize:4e4,gps:[1,2,3,4]});async function fe(e){let t=new H(he);await t.read(e);let s=await t.parse();if(s&&s.gps){let{latitude:e,longitude:t}=s.gps;return{latitude:e,longitude:t}}}const le=Object.assign({},ae,{tiff:!1,ifd1:!0,mergeOutput:!1});async function oe(e){let t=new H(le);await t.read(e);let s=await t.extractThumbnail();return s&&a?r.from(s):s}async function ue(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}}const de=Object.assign({},ae,{firstChunkSize:4e4,ifd0:[274]});async function ce(e){let t=new H(de);await t.read(e);let s=await t.parse();if(s&&s.ifd0)return s.ifd0[274]}const pe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ge=!0,me=!0;if(\"object\"==typeof navigator){let e=navigator.userAgent;if(e.includes(\"iPad\")||e.includes(\"iPhone\")){let t=e.match(/OS (\\d+)_(\\d+)/);if(t){let[,e,s]=t,i=Number(e)+.1*Number(s);ge=i<13.4,me=!1}}else if(e.includes(\"OS X 10\")){let[,t]=e.match(/OS X 10[_.](\\d+)/);ge=me=Number(t)<15}if(e.includes(\"Chrome/\")){let[,t]=e.match(/Chrome\\/(\\d+)/);ge=me=Number(t)<81}else if(e.includes(\"Firefox/\")){let[,t]=e.match(/Firefox\\/(\\d+)/);ge=me=Number(t)<77}}async function ye(e){let t=await ce(e);return Object.assign({canvas:ge,css:me},pe[t])}class be extends c{constructor(...t){super(...t),e(this,\"ranges\",new we),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,s){if(0===e&&0===this.byteLength&&s){let e=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(e)}else{let s=e+t;if(s>this.byteLength){let{dataView:e}=this._extend(s);this._swapDataView(e)}}}_extend(e){let t;t=a?r.allocUnsafe(e):new Uint8Array(e);let s=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:s}}subarray(e,t,s=!1){return t=t||this._lengthToEnd(e),s&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,s=!1){s&&this._tryExtend(t,e.byteLength,e);let i=super.set(e,t);return this.ranges.add(t,i.byteLength),i}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class we{constructor(){e(this,\"list\",[])}get length(){return this.list.length}add(e,t,s=0){let i=e+t,n=this.list.filter((t=>ke(e,t.offset,i)||ke(e,t.end,i)));if(n.length>0){e=Math.min(e,...n.map((e=>e.offset))),i=Math.max(i,...n.map((e=>e.end))),t=i-e;let s=n.shift();s.offset=e,s.length=t,s.end=i,this.list=this.list.filter((e=>!n.includes(e)))}else this.list.push({offset:e,length:t,end:i})}available(e,t){let s=e+t;return this.list.some((t=>t.offset<=e&&s<=t.end))}}function ke(e,t,s){return e<=t&&t<=s}class Oe extends be{constructor(t,s){super(0),e(this,\"chunksRead\",0),this.input=t,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,s=await this.readChunk(e,t);return!!s&&s.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}b.set(\"blob\",class extends Oe{async readWhole(){this.chunked=!1;let e=await A(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let s=t?e+t:void 0,i=this.input.slice(e,s),n=await A(i);return this.set(n,e,!0)}});export default re;export{H as Exifr,R as Options,M as allFormatters,L as chunkedProps,x as createDictionary,C as extendDictionary,S as fetchUrlAsArrayBuffer,m as fileParsers,b as fileReaders,fe as gps,he as gpsOnlyOptions,E as inheritables,ce as orientation,de as orientationOnlyOptions,T as otherSegments,Y as parse,A as readBlobAsArrayBuffer,ge as rotateCanvas,me as rotateCss,ye as rotation,pe as rotations,y as segmentParsers,z as segments,F as segmentsAndBlocks,B as tagKeys,I as tagRevivers,V as tagValues,oe as thumbnail,le as thumbnailOnlyOptions,ue as thumbnailUrl,P as tiffBlocks,j as tiffExtractables};\n", "export default {\n  strings: {\n    generatingThumbnails: 'Generating thumbnails...'\n  }\n};", "import { UIPlugin } from '@uppy/core';\nimport dataURItoBlob from '@uppy/utils/lib/dataURItoBlob';\nimport isObjectURL from '@uppy/utils/lib/isObjectURL';\nimport isPreviewSupported from '@uppy/utils/lib/isPreviewSupported';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport { rotation } from 'exifr/dist/mini.esm.mjs';\nimport locale from \"./locale.js\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.0.0\"\n};\n/**\n * Save a <canvas> element's content to a Blob object.\n *\n */\nfunction canvasToBlob(canvas, type, quality) {\n  try {\n    canvas.getContext('2d').getImageData(0, 0, 1, 1);\n  } catch (err) {\n    if (err.code === 18) {\n      return Promise.reject(new Error('cannot read image, probably an svg with external resources'));\n    }\n  }\n  if (canvas.toBlob) {\n    return new Promise(resolve => {\n      canvas.toBlob(resolve, type, quality);\n    }).then(blob => {\n      if (blob === null) {\n        throw new Error('cannot read image, probably an svg with external resources');\n      }\n      return blob;\n    });\n  }\n  return Promise.resolve().then(() => {\n    return dataURItoBlob(canvas.toDataURL(type, quality), {});\n  }).then(blob => {\n    if (blob === null) {\n      throw new Error('could not extract blob, probably an old browser');\n    }\n    return blob;\n  });\n}\nfunction rotateImage(image, translate) {\n  let w = image.width;\n  let h = image.height;\n  if (translate.deg === 90 || translate.deg === 270) {\n    w = image.height;\n    h = image.width;\n  }\n  const canvas = document.createElement('canvas');\n  canvas.width = w;\n  canvas.height = h;\n  const context = canvas.getContext('2d');\n  context.translate(w / 2, h / 2);\n  if (translate.canvas) {\n    context.rotate(translate.rad);\n    context.scale(translate.scaleX, translate.scaleY);\n  }\n  context.drawImage(image, -image.width / 2, -image.height / 2, image.width, image.height);\n  return canvas;\n}\n\n/**\n * Make sure the image doesn\u2019t exceed browser/device canvas limits.\n * For ios with 256 RAM and ie\n */\nfunction protect(image) {\n  // https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element\n\n  const ratio = image.width / image.height;\n  const maxSquare = 5000000; // ios max canvas square\n  const maxSize = 4096; // ie max canvas dimensions\n\n  let maxW = Math.floor(Math.sqrt(maxSquare * ratio));\n  let maxH = Math.floor(maxSquare / Math.sqrt(maxSquare * ratio));\n  if (maxW > maxSize) {\n    maxW = maxSize;\n    maxH = Math.round(maxW / ratio);\n  }\n  if (maxH > maxSize) {\n    maxH = maxSize;\n    maxW = Math.round(ratio * maxH);\n  }\n  if (image.width > maxW) {\n    const canvas = document.createElement('canvas');\n    canvas.width = maxW;\n    canvas.height = maxH;\n    canvas.getContext('2d').drawImage(image, 0, 0, maxW, maxH);\n    return canvas;\n  }\n  return image;\n}\nconst defaultOptions = {\n  thumbnailWidth: null,\n  thumbnailHeight: null,\n  thumbnailType: 'image/jpeg',\n  waitForThumbnailsBeforeUpload: false,\n  lazy: false\n};\n/**\n * The Thumbnail Generator plugin\n */\n\nexport default class ThumbnailGenerator extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, {\n      ...defaultOptions,\n      ...opts\n    });\n    this.onFileAdded = file => {\n      if (!file.preview && file.data && isPreviewSupported(file.type) && !file.isRemote) {\n        this.addToQueue(file.id);\n      }\n    };\n    /**\n     * Cancel a lazy request for a thumbnail if the thumbnail has not yet been generated.\n     */\n    this.onCancelRequest = file => {\n      const index = this.queue.indexOf(file.id);\n      if (index !== -1) {\n        this.queue.splice(index, 1);\n      }\n    };\n    /**\n     * Clean up the thumbnail for a file. Cancel lazy requests and free the thumbnail URL.\n     */\n    this.onFileRemoved = file => {\n      const index = this.queue.indexOf(file.id);\n      if (index !== -1) {\n        this.queue.splice(index, 1);\n      }\n\n      // Clean up object URLs.\n      if (file.preview && isObjectURL(file.preview)) {\n        URL.revokeObjectURL(file.preview);\n      }\n    };\n    this.onRestored = () => {\n      const restoredFiles = this.uppy.getFiles().filter(file => file.isRestored);\n      restoredFiles.forEach(file => {\n        // Only add blob URLs; they are likely invalid after being restored.\n        if (!file.preview || isObjectURL(file.preview)) {\n          this.addToQueue(file.id);\n        }\n      });\n    };\n    this.onAllFilesRemoved = () => {\n      this.queue = [];\n    };\n    this.waitUntilAllProcessed = fileIDs => {\n      fileIDs.forEach(fileID => {\n        const file = this.uppy.getFile(fileID);\n        this.uppy.emit('preprocess-progress', file, {\n          mode: 'indeterminate',\n          message: this.i18n('generatingThumbnails')\n        });\n      });\n      const emitPreprocessCompleteForAll = () => {\n        fileIDs.forEach(fileID => {\n          const file = this.uppy.getFile(fileID);\n          this.uppy.emit('preprocess-complete', file);\n        });\n      };\n      return new Promise(resolve => {\n        if (this.queueProcessing) {\n          this.uppy.once('thumbnail:all-generated', () => {\n            emitPreprocessCompleteForAll();\n            resolve();\n          });\n        } else {\n          emitPreprocessCompleteForAll();\n          resolve();\n        }\n      });\n    };\n    this.type = 'modifier';\n    this.id = this.opts.id || 'ThumbnailGenerator';\n    this.title = 'Thumbnail Generator';\n    this.queue = [];\n    this.queueProcessing = false;\n    this.defaultThumbnailDimension = 200;\n    this.thumbnailType = this.opts.thumbnailType;\n    this.defaultLocale = locale;\n    this.i18nInit();\n    if (this.opts.lazy && this.opts.waitForThumbnailsBeforeUpload) {\n      throw new Error('ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.');\n    }\n  }\n  createThumbnail(file, targetWidth, targetHeight) {\n    const originalUrl = URL.createObjectURL(file.data);\n    const onload = new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = originalUrl;\n      image.addEventListener('load', () => {\n        URL.revokeObjectURL(originalUrl);\n        resolve(image);\n      });\n      image.addEventListener('error', event => {\n        URL.revokeObjectURL(originalUrl);\n        reject(event.error || new Error('Could not create thumbnail'));\n      });\n    });\n    const orientationPromise = rotation(file.data).catch(() => 1);\n    return Promise.all([onload, orientationPromise]).then(_ref => {\n      let [image, orientation] = _ref;\n      const dimensions = this.getProportionalDimensions(image, targetWidth, targetHeight, orientation.deg);\n      const rotatedImage = rotateImage(image, orientation);\n      const resizedImage = this.resizeImage(rotatedImage, dimensions.width, dimensions.height);\n      return canvasToBlob(resizedImage, this.thumbnailType, 80);\n    }).then(blob => {\n      return URL.createObjectURL(blob);\n    });\n  }\n\n  /**\n   * Get the new calculated dimensions for the given image and a target width\n   * or height. If both width and height are given, only width is taken into\n   * account. If neither width nor height are given, the default dimension\n   * is used.\n   */\n  getProportionalDimensions(img, width, height, deg) {\n    // eslint-disable-line no-shadow\n    let aspect = img.width / img.height;\n    if (deg === 90 || deg === 270) {\n      aspect = img.height / img.width;\n    }\n    if (width != null) {\n      return {\n        width,\n        height: Math.round(width / aspect)\n      };\n    }\n    if (height != null) {\n      return {\n        width: Math.round(height * aspect),\n        height\n      };\n    }\n    return {\n      width: this.defaultThumbnailDimension,\n      height: Math.round(this.defaultThumbnailDimension / aspect)\n    };\n  }\n\n  /**\n   * Resize an image to the target `width` and `height`.\n   *\n   * Returns a Canvas with the resized image on it.\n   */\n  // eslint-disable-next-line class-methods-use-this\n  resizeImage(image, targetWidth, targetHeight) {\n    // Resizing in steps refactored to use a solution from\n    // https://blog.uploadcare.com/image-resize-in-browsers-is-broken-e38eed08df01\n\n    let img = protect(image);\n    let steps = Math.ceil(Math.log2(img.width / targetWidth));\n    if (steps < 1) {\n      steps = 1;\n    }\n    let sW = targetWidth * 2 ** (steps - 1);\n    let sH = targetHeight * 2 ** (steps - 1);\n    const x = 2;\n    while (steps--) {\n      const canvas = document.createElement('canvas');\n      canvas.width = sW;\n      canvas.height = sH;\n      canvas.getContext('2d').drawImage(img, 0, 0, sW, sH);\n      img = canvas;\n      sW = Math.round(sW / x);\n      sH = Math.round(sH / x);\n    }\n    return img;\n  }\n\n  /**\n   * Set the preview URL for a file.\n   */\n  setPreviewURL(fileID, preview) {\n    this.uppy.setFileState(fileID, {\n      preview\n    });\n  }\n  addToQueue(fileID) {\n    this.queue.push(fileID);\n    if (this.queueProcessing === false) {\n      this.processQueue();\n    }\n  }\n  processQueue() {\n    this.queueProcessing = true;\n    if (this.queue.length > 0) {\n      const current = this.uppy.getFile(this.queue.shift());\n      if (!current) {\n        this.uppy.log('[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug', 'error');\n        return Promise.resolve();\n      }\n      return this.requestThumbnail(current).catch(() => {}) // eslint-disable-line node/handle-callback-err\n      .then(() => this.processQueue());\n    }\n    this.queueProcessing = false;\n    this.uppy.log('[ThumbnailGenerator] Emptied thumbnail queue');\n    this.uppy.emit('thumbnail:all-generated');\n    return Promise.resolve();\n  }\n  requestThumbnail(file) {\n    if (isPreviewSupported(file.type) && !file.isRemote) {\n      return this.createThumbnail(file, this.opts.thumbnailWidth, this.opts.thumbnailHeight).then(preview => {\n        this.setPreviewURL(file.id, preview);\n        this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${file.id}`);\n        this.uppy.emit('thumbnail:generated', this.uppy.getFile(file.id), preview);\n      }).catch(err => {\n        this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${file.id}:`, 'warning');\n        this.uppy.log(err, 'warning');\n        this.uppy.emit('thumbnail:error', this.uppy.getFile(file.id), err);\n      });\n    }\n    return Promise.resolve();\n  }\n  install() {\n    this.uppy.on('file-removed', this.onFileRemoved);\n    this.uppy.on('cancel-all', this.onAllFilesRemoved);\n    if (this.opts.lazy) {\n      this.uppy.on('thumbnail:request', this.onFileAdded);\n      this.uppy.on('thumbnail:cancel', this.onCancelRequest);\n    } else {\n      this.uppy.on('thumbnail:request', this.onFileAdded);\n      this.uppy.on('file-added', this.onFileAdded);\n      this.uppy.on('restored', this.onRestored);\n    }\n    if (this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.addPreProcessor(this.waitUntilAllProcessed);\n    }\n  }\n  uninstall() {\n    this.uppy.off('file-removed', this.onFileRemoved);\n    this.uppy.off('cancel-all', this.onAllFilesRemoved);\n    if (this.opts.lazy) {\n      this.uppy.off('thumbnail:request', this.onFileAdded);\n      this.uppy.off('thumbnail:cancel', this.onCancelRequest);\n    } else {\n      this.uppy.off('thumbnail:request', this.onFileAdded);\n      this.uppy.off('file-added', this.onFileAdded);\n      this.uppy.off('restored', this.onRestored);\n    }\n    if (this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.removePreProcessor(this.waitUntilAllProcessed);\n    }\n  }\n}\nThumbnailGenerator.VERSION = packageJson.version;", "import isDOMElement from \"./isDOMElement.js\";\n/**\n * Find one or more DOM elements.\n */\nfunction findAllDOMElements(element) {\n  if (typeof element === 'string') {\n    const elements = document.querySelectorAll(element);\n    return elements.length === 0 ? null : Array.from(elements);\n  }\n  if (typeof element === 'object' && isDOMElement(element)) {\n    return [element];\n  }\n  return null;\n}\nexport default findAllDOMElements;", "/**\n * Converts list into array\n */\nexport default Array.from;", "/**\n * Recursive function, calls the original callback() when the directory is entirely parsed.\n */\nexport default function getFilesAndDirectoriesFromDirectory(directoryReader, oldEntries, logDropError, _ref) {\n  let {\n    onSuccess\n  } = _ref;\n  directoryReader.readEntries(entries => {\n    const newEntries = [...oldEntries, ...entries];\n    // According to the FileSystem API spec, getFilesAndDirectoriesFromDirectory()\n    // must be called until it calls the onSuccess with an empty array.\n    if (entries.length) {\n      queueMicrotask(() => {\n        getFilesAndDirectoriesFromDirectory(directoryReader, newEntries, logDropError, {\n          onSuccess\n        });\n      });\n      // Done iterating this particular directory\n    } else {\n      onSuccess(newEntries);\n    }\n  },\n  // Make sure we resolve on error anyway, it's fine if only one directory couldn't be parsed!\n  error => {\n    logDropError(error);\n    onSuccess(oldEntries);\n  });\n}", "import getFilesAndDirectoriesFromDirectory from \"./getFilesAndDirectoriesFromDirectory.js\";\n/**\n * Polyfill for the new (experimental) getAsFileSystemHandle API (using the popular webkitGetAsEntry behind the scenes)\n * so that we can switch to the getAsFileSystemHandle API once it (hopefully) becomes standard\n */\nfunction getAsFileSystemHandleFromEntry(entry, logDropError) {\n  if (entry == null) return entry;\n  return {\n    kind:\n    // eslint-disable-next-line no-nested-ternary\n    entry.isFile ? 'file' : entry.isDirectory ? 'directory' : undefined,\n    name: entry.name,\n    getFile() {\n      return new Promise((resolve, reject) => entry.file(resolve, reject));\n    },\n    async *values() {\n      // If the file is a directory.\n      const directoryReader = entry.createReader();\n      const entries = await new Promise(resolve => {\n        getFilesAndDirectoriesFromDirectory(directoryReader, [], logDropError, {\n          onSuccess: dirEntries => resolve(dirEntries.map(file => getAsFileSystemHandleFromEntry(file, logDropError)))\n        });\n      });\n      yield* entries;\n    },\n    isSameEntry: undefined\n  };\n}\nfunction createPromiseToAddFileOrParseDirectory(entry, relativePath, lastResortFile) {\n  try {\n    if (lastResortFile === void 0) {\n      lastResortFile = undefined;\n    }\n    return async function* () {\n      const getNextRelativePath = () => `${relativePath}/${entry.name}`;\n\n      // For each dropped item, - make sure it's a file/directory, and start deepening in!\n      if (entry.kind === 'file') {\n        const file = await entry.getFile();\n        if (file != null) {\n          ;\n          file.relativePath = relativePath ? getNextRelativePath() : null;\n          yield file;\n        } else if (lastResortFile != null) yield lastResortFile;\n      } else if (entry.kind === 'directory') {\n        for await (const handle of entry.values()) {\n          // Recurse on the directory, appending the dir name to the relative path\n          yield* createPromiseToAddFileOrParseDirectory(handle, relativePath ? getNextRelativePath() : entry.name);\n        }\n      } else if (lastResortFile != null) yield lastResortFile;\n    }();\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\n/**\n * Load all files from data transfer, and recursively read any directories.\n * Note that IE is not supported for drag-drop, because IE doesn't support Data Transfers\n *\n * @param {DataTransfer} dataTransfer\n * @param {*} logDropError on error\n */\nexport default async function* getFilesFromDataTransfer(dataTransfer, logDropError) {\n  // Retrieving the dropped items must happen synchronously\n  // otherwise only the first item gets treated and the other ones are garbage collected.\n  // https://github.com/transloadit/uppy/pull/3998\n  const fileSystemHandles = await Promise.all(Array.from(dataTransfer.items, async item => {\n    var _fileSystemHandle;\n    let fileSystemHandle;\n\n    // TODO enable getAsFileSystemHandle API once we can get it working with subdirectories\n    // IMPORTANT: Need to check isSecureContext *before* calling getAsFileSystemHandle\n    // or else Chrome will crash when running in HTTP: https://github.com/transloadit/uppy/issues/4133\n    // if (window.isSecureContext && item.getAsFileSystemHandle != null)\n    // fileSystemHandle = await item.getAsFileSystemHandle()\n\n    // `webkitGetAsEntry` exists in all popular browsers (including non-WebKit browsers),\n    // however it may be renamed to getAsEntry() in the future, so you should code defensively, looking for both.\n    // from https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem/webkitGetAsEntry\n    const getAsEntry = () => typeof item.getAsEntry === 'function' ? item.getAsEntry() : item.webkitGetAsEntry();\n    // eslint-disable-next-line prefer-const\n    (_fileSystemHandle = fileSystemHandle) != null ? _fileSystemHandle : fileSystemHandle = getAsFileSystemHandleFromEntry(getAsEntry(), logDropError);\n    return {\n      fileSystemHandle,\n      lastResortFile: item.getAsFile() // can be used as a fallback in case other methods fail\n    };\n  }));\n  for (const {\n    lastResortFile,\n    fileSystemHandle\n  } of fileSystemHandles) {\n    // fileSystemHandle and lastResortFile can be null when we drop an url.\n    if (fileSystemHandle != null) {\n      try {\n        yield* createPromiseToAddFileOrParseDirectory(fileSystemHandle, '', lastResortFile);\n      } catch (err) {\n        // Example: If dropping a symbolic link, Chromium will throw:\n        // \"DOMException: A requested file or directory could not be found at the time an operation was processed.\",\n        // So we will use lastResortFile instead. See https://github.com/transloadit/uppy/issues/3505.\n        if (lastResortFile != null) {\n          yield lastResortFile;\n        } else {\n          logDropError(err);\n        }\n      }\n    } else if (lastResortFile != null) yield lastResortFile;\n  }\n}", "import toArray from \"../../toArray.js\";\n\n// .files fallback, should be implemented in any browser\nexport default function fallbackApi(dataTransfer) {\n  const files = toArray(dataTransfer.files);\n  return Promise.resolve(files);\n}", "import webkitGetAsEntryApi from \"./utils/webkitGetAsEntryApi/index.js\";\nimport fallbackApi from \"./utils/fallbackApi.js\";\n\n/**\n * Returns a promise that resolves to the array of dropped files (if a folder is\n * dropped, and browser supports folder parsing - promise resolves to the flat\n * array of all files in all directories).\n * Each file has .relativePath prop appended to it (e.g. \"/docs/Prague/ticket_from_prague_to_ufa.pdf\")\n * if browser supports it. Otherwise it's undefined.\n *\n * @param dataTransfer\n * @param options\n * @param options.logDropError - a function that's called every time some\n * folder or some file error out (e.g. because of the folder name being too long\n * on Windows). Notice that resulting promise will always be resolved anyway.\n *\n * @returns {Promise} - Array<File>\n */\nexport default async function getDroppedFiles(dataTransfer, options) {\n  var _options$logDropError;\n  // Get all files from all subdirs. Works (at least) in Chrome, Mozilla, and Safari\n  const logDropError = (_options$logDropError = options == null ? void 0 : options.logDropError) != null ? _options$logDropError : Function.prototype;\n  try {\n    const accumulator = [];\n    for await (const file of webkitGetAsEntryApi(dataTransfer, logDropError)) {\n      accumulator.push(file);\n    }\n    return accumulator;\n    // Otherwise just return all first-order files\n  } catch {\n    return fallbackApi(dataTransfer);\n  }\n}", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport remoteFileObjToLocal from '@uppy/utils/lib/remoteFileObjToLocal';\nimport AuthView from \"./AuthView.js\";\nimport Header from \"./Header.js\";\nimport Browser from \"../Browser.js\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.0.0\"\n};\nimport PartialTreeUtils from \"../utils/PartialTreeUtils/index.js\";\nimport shouldHandleScroll from \"../utils/shouldHandleScroll.js\";\nimport handleError from \"../utils/handleError.js\";\nimport getClickedRange from \"../utils/getClickedRange.js\";\nimport SearchInput from \"../SearchInput.js\";\nimport FooterActions from \"../FooterActions.js\";\nimport addFiles from \"../utils/addFiles.js\";\nimport getCheckedFilesWithPaths from \"../utils/PartialTreeUtils/getCheckedFilesWithPaths.js\";\nimport getBreadcrumbs from \"../utils/PartialTreeUtils/getBreadcrumbs.js\";\nexport function defaultPickerIcon() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 30 30\"\n  }, h(\"path\", {\n    d: \"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z\"\n  }));\n}\nconst getDefaultState = rootFolderId => ({\n  authenticated: undefined,\n  // we don't know yet\n  partialTree: [{\n    type: 'root',\n    id: rootFolderId,\n    cached: false,\n    nextPagePath: null\n  }],\n  currentFolderId: rootFolderId,\n  searchString: '',\n  didFirstRender: false,\n  username: null,\n  loading: false\n});\nvar _abortController = /*#__PURE__*/_classPrivateFieldLooseKey(\"abortController\");\nvar _withAbort = /*#__PURE__*/_classPrivateFieldLooseKey(\"withAbort\");\n/**\n * Class to easily generate generic views for Provider plugins\n */\nexport default class ProviderView {\n  constructor(plugin, opts) {\n    Object.defineProperty(this, _withAbort, {\n      value: _withAbort2\n    });\n    this.isHandlingScroll = false;\n    this.lastCheckbox = null;\n    Object.defineProperty(this, _abortController, {\n      writable: true,\n      value: void 0\n    });\n    this.validateSingleFile = file => {\n      const companionFile = remoteFileObjToLocal(file);\n      const result = this.plugin.uppy.validateSingleFile(companionFile);\n      return result;\n    };\n    this.getDisplayedPartialTree = () => {\n      const {\n        partialTree,\n        currentFolderId,\n        searchString\n      } = this.plugin.getPluginState();\n      const inThisFolder = partialTree.filter(item => item.type !== 'root' && item.parentId === currentFolderId);\n      const filtered = searchString === '' ? inThisFolder : inThisFolder.filter(item => {\n        var _item$data$name;\n        return ((_item$data$name = item.data.name) != null ? _item$data$name : this.plugin.uppy.i18n('unnamed')).toLowerCase().indexOf(searchString.toLowerCase()) !== -1;\n      });\n      return filtered;\n    };\n    this.validateAggregateRestrictions = partialTree => {\n      const checkedFiles = partialTree.filter(item => item.type === 'file' && item.status === 'checked');\n      const uppyFiles = checkedFiles.map(file => file.data);\n      return this.plugin.uppy.validateAggregateRestrictions(uppyFiles);\n    };\n    this.plugin = plugin;\n    this.provider = opts.provider;\n    const defaultOptions = {\n      viewType: 'list',\n      showTitles: true,\n      showFilter: true,\n      showBreadcrumbs: true,\n      loadAllFiles: false,\n      virtualList: false\n    };\n    this.opts = {\n      ...defaultOptions,\n      ...opts\n    };\n    this.openFolder = this.openFolder.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleAuth = this.handleAuth.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.resetPluginState = this.resetPluginState.bind(this);\n    this.donePicking = this.donePicking.bind(this);\n    this.render = this.render.bind(this);\n    this.cancelSelection = this.cancelSelection.bind(this);\n    this.toggleCheckbox = this.toggleCheckbox.bind(this);\n\n    // Set default state for the plugin\n    this.resetPluginState();\n\n    // todo\n    // @ts-expect-error this should be typed in @uppy/dashboard.\n    this.plugin.uppy.on('dashboard:close-panel', this.resetPluginState);\n    this.plugin.uppy.registerRequestClient(this.provider.provider, this.provider);\n  }\n  resetPluginState() {\n    this.plugin.setPluginState(getDefaultState(this.plugin.rootFolderId));\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  tearDown() {\n    // Nothing.\n  }\n  setLoading(loading) {\n    this.plugin.setPluginState({\n      loading\n    });\n  }\n  cancelSelection() {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    const newPartialTree = partialTree.map(item => item.type === 'root' ? item : {\n      ...item,\n      status: 'unchecked'\n    });\n    this.plugin.setPluginState({\n      partialTree: newPartialTree\n    });\n  }\n  async openFolder(folderId) {\n    this.lastCheckbox = null;\n    // Returning cached folder\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    const clickedFolder = partialTree.find(folder => folder.id === folderId);\n    if (clickedFolder.cached) {\n      this.plugin.setPluginState({\n        currentFolderId: folderId,\n        searchString: ''\n      });\n      return;\n    }\n    this.setLoading(true);\n    await _classPrivateFieldLooseBase(this, _withAbort)[_withAbort](async signal => {\n      let currentPagePath = folderId;\n      let currentItems = [];\n      do {\n        const {\n          username,\n          nextPagePath,\n          items\n        } = await this.provider.list(currentPagePath, {\n          signal\n        });\n        // It's important to set the username during one of our first fetches\n        this.plugin.setPluginState({\n          username\n        });\n        currentPagePath = nextPagePath;\n        currentItems = currentItems.concat(items);\n        this.setLoading(this.plugin.uppy.i18n('loadedXFiles', {\n          numFiles: currentItems.length\n        }));\n      } while (this.opts.loadAllFiles && currentPagePath);\n      const newPartialTree = PartialTreeUtils.afterOpenFolder(partialTree, currentItems, clickedFolder, currentPagePath, this.validateSingleFile);\n      this.plugin.setPluginState({\n        partialTree: newPartialTree,\n        currentFolderId: folderId,\n        searchString: ''\n      });\n    }).catch(handleError(this.plugin.uppy));\n    this.setLoading(false);\n  }\n\n  /**\n   * Removes session token on client side.\n   */\n  async logout() {\n    await _classPrivateFieldLooseBase(this, _withAbort)[_withAbort](async signal => {\n      const res = await this.provider.logout({\n        signal\n      });\n      // res.ok is from the JSON body, not to be confused with Response.ok\n      if (res.ok) {\n        if (!res.revoked) {\n          const message = this.plugin.uppy.i18n('companionUnauthorizeHint', {\n            provider: this.plugin.title,\n            url: res.manual_revoke_url\n          });\n          this.plugin.uppy.info(message, 'info', 7000);\n        }\n        this.plugin.setPluginState({\n          ...getDefaultState(this.plugin.rootFolderId),\n          authenticated: false\n        });\n      }\n    }).catch(handleError(this.plugin.uppy));\n  }\n  async handleAuth(authFormData) {\n    await _classPrivateFieldLooseBase(this, _withAbort)[_withAbort](async signal => {\n      this.setLoading(true);\n      await this.provider.login({\n        authFormData,\n        signal\n      });\n      this.plugin.setPluginState({\n        authenticated: true\n      });\n      await Promise.all([this.provider.fetchPreAuthToken(), this.openFolder(this.plugin.rootFolderId)]);\n    }).catch(handleError(this.plugin.uppy));\n    this.setLoading(false);\n  }\n  async handleScroll(event) {\n    const {\n      partialTree,\n      currentFolderId\n    } = this.plugin.getPluginState();\n    const currentFolder = partialTree.find(i => i.id === currentFolderId);\n    if (shouldHandleScroll(event) && !this.isHandlingScroll && currentFolder.nextPagePath) {\n      this.isHandlingScroll = true;\n      await _classPrivateFieldLooseBase(this, _withAbort)[_withAbort](async signal => {\n        const {\n          nextPagePath,\n          items\n        } = await this.provider.list(currentFolder.nextPagePath, {\n          signal\n        });\n        const newPartialTree = PartialTreeUtils.afterScrollFolder(partialTree, currentFolderId, items, nextPagePath, this.validateSingleFile);\n        this.plugin.setPluginState({\n          partialTree: newPartialTree\n        });\n      }).catch(handleError(this.plugin.uppy));\n      this.isHandlingScroll = false;\n    }\n  }\n  async donePicking() {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    this.setLoading(true);\n    await _classPrivateFieldLooseBase(this, _withAbort)[_withAbort](async signal => {\n      // 1. Enrich our partialTree by fetching all 'checked' but not-yet-fetched folders\n      const enrichedTree = await PartialTreeUtils.afterFill(partialTree, path => this.provider.list(path, {\n        signal\n      }), this.validateSingleFile, n => {\n        this.setLoading(this.plugin.uppy.i18n('addedNumFiles', {\n          numFiles: n\n        }));\n      });\n\n      // 2. Now that we know how many files there are - recheck aggregateRestrictions!\n      const aggregateRestrictionError = this.validateAggregateRestrictions(enrichedTree);\n      if (aggregateRestrictionError) {\n        this.plugin.setPluginState({\n          partialTree: enrichedTree\n        });\n        return;\n      }\n\n      // 3. Add files\n      const companionFiles = getCheckedFilesWithPaths(enrichedTree);\n      addFiles(companionFiles, this.plugin, this.provider);\n\n      // 4. Reset state\n      this.resetPluginState();\n    }).catch(handleError(this.plugin.uppy));\n    this.setLoading(false);\n  }\n  toggleCheckbox(ourItem, isShiftKeyPressed) {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    const clickedRange = getClickedRange(ourItem.id, this.getDisplayedPartialTree(), isShiftKeyPressed, this.lastCheckbox);\n    const newPartialTree = PartialTreeUtils.afterToggleCheckbox(partialTree, clickedRange);\n    this.plugin.setPluginState({\n      partialTree: newPartialTree\n    });\n    this.lastCheckbox = ourItem.id;\n  }\n  render(state, viewOptions) {\n    if (viewOptions === void 0) {\n      viewOptions = {};\n    }\n    const {\n      didFirstRender\n    } = this.plugin.getPluginState();\n    const {\n      i18n\n    } = this.plugin.uppy;\n    if (!didFirstRender) {\n      this.plugin.setPluginState({\n        didFirstRender: true\n      });\n      this.provider.fetchPreAuthToken();\n      this.openFolder(this.plugin.rootFolderId);\n    }\n    const opts = {\n      ...this.opts,\n      ...viewOptions\n    };\n    const {\n      authenticated,\n      loading\n    } = this.plugin.getPluginState();\n    const pluginIcon = this.plugin.icon || defaultPickerIcon;\n    if (authenticated === false) {\n      return h(AuthView, {\n        pluginName: this.plugin.title,\n        pluginIcon: pluginIcon,\n        handleAuth: this.handleAuth,\n        i18n: this.plugin.uppy.i18nArray,\n        renderForm: opts.renderAuthForm,\n        loading: loading\n      });\n    }\n    const {\n      partialTree,\n      currentFolderId,\n      username,\n      searchString\n    } = this.plugin.getPluginState();\n    const breadcrumbs = getBreadcrumbs(partialTree, currentFolderId);\n    return h(\"div\", {\n      className: classNames('uppy-ProviderBrowser', `uppy-ProviderBrowser-viewType--${opts.viewType}`)\n    }, h(Header, {\n      showBreadcrumbs: opts.showBreadcrumbs,\n      openFolder: this.openFolder,\n      breadcrumbs: breadcrumbs,\n      pluginIcon: pluginIcon,\n      title: this.plugin.title,\n      logout: this.logout,\n      username: username,\n      i18n: i18n\n    }), opts.showFilter && h(SearchInput, {\n      searchString: searchString,\n      setSearchString: s => {\n        this.plugin.setPluginState({\n          searchString: s\n        });\n      },\n      submitSearchString: () => {},\n      inputLabel: i18n('filter'),\n      clearSearchLabel: i18n('resetFilter'),\n      wrapperClassName: \"uppy-ProviderBrowser-searchFilter\",\n      inputClassName: \"uppy-ProviderBrowser-searchFilterInput\"\n    }), h(Browser, {\n      toggleCheckbox: this.toggleCheckbox,\n      displayedPartialTree: this.getDisplayedPartialTree(),\n      openFolder: this.openFolder,\n      virtualList: opts.virtualList,\n      noResultsLabel: i18n('noFilesFound'),\n      handleScroll: this.handleScroll,\n      viewType: opts.viewType,\n      showTitles: opts.showTitles,\n      i18n: this.plugin.uppy.i18n,\n      isLoading: loading\n    }), h(FooterActions, {\n      partialTree: partialTree,\n      donePicking: this.donePicking,\n      cancelSelection: this.cancelSelection,\n      i18n: i18n,\n      validateAggregateRestrictions: this.validateAggregateRestrictions\n    }));\n  }\n}\nasync function _withAbort2(op) {\n  var _classPrivateFieldLoo;\n  // prevent multiple requests in parallel from causing race conditions\n  (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _abortController)[_abortController]) == null || _classPrivateFieldLoo.abort();\n  const abortController = new AbortController();\n  _classPrivateFieldLooseBase(this, _abortController)[_abortController] = abortController;\n  const cancelRequest = () => {\n    abortController.abort();\n  };\n  try {\n    // @ts-expect-error this should be typed in @uppy/dashboard.\n    // Even then I don't think we can make this work without adding dashboard\n    // as a dependency to provider-views.\n    this.plugin.uppy.on('dashboard:close-panel', cancelRequest);\n    this.plugin.uppy.on('cancel-all', cancelRequest);\n    await op(abortController.signal);\n  } finally {\n    // @ts-expect-error this should be typed in @uppy/dashboard.\n    // Even then I don't think we can make this work without adding dashboard\n    // as a dependency to provider-views.\n    this.plugin.uppy.off('dashboard:close-panel', cancelRequest);\n    this.plugin.uppy.off('cancel-all', cancelRequest);\n    _classPrivateFieldLooseBase(this, _abortController)[_abortController] = undefined;\n  }\n}\nProviderView.VERSION = packageJson.version;", "import getFileNameAndExtension from \"./getFileNameAndExtension.js\";\nexport default function remoteFileObjToLocal(file) {\n  return {\n    ...file,\n    type: file.mimeType,\n    extension: file.name ? getFileNameAndExtension(file.name).extension : null\n  };\n}", "import { options as _options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\n// Cast to use internal Options type\nconst options = /** @type {import('./internal').Options} */ (_options);\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\nlet oldRoot = options._root;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._root = (vnode, parentDom) => {\n\tif (vnode && parentDom._children && parentDom._children._mask) {\n\t\tvnode._mask = parentDom._children._mask;\n\t}\n\n\tif (oldRoot) oldRoot(vnode, parentDom);\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingArgs = hookItem._nextValue = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\n// TODO: Improve typing of commitQueue parameter\n/** @type {(vnode: import('./internal').VNode, commitQueue: any) => void} */\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\n\treturn hooks._list[index];\n}\n\n/**\n * @template {unknown} S\n * @param {import('./index').Dispatch<import('./index').StateUpdater<S>>} [initialState]\n * @returns {[S, (state: S) => void]}\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @template {unknown} S\n * @template {unknown} A\n * @param {import('./index').Reducer<S, A>} reducer\n * @param {import('./index').Dispatch<import('./index').StateUpdater<S>>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ S, (state: S) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\t/** @type {(x: import('./internal').HookState) => x is import('./internal').ReducerHookState} */\n\t\t\t\tconst isStateHook = x => !!x._component;\n\t\t\t\tconst stateHooks =\n\t\t\t\t\thookState._component.__hooks._list.filter(isStateHook);\n\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\n/** @type {(initialValue: unknown) => unknown} */\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @template {unknown} T\n * @param {() => T} factory\n * @param {unknown[]} args\n * @returns {T}\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState<T>} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {unknown[]} args\n * @returns {() => void}\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(\n\t\t\tformatter ? formatter(value) : /** @type {any}*/ (value)\n\t\t);\n\t}\n}\n\n/**\n * @param {(error: unknown, errorInfo: import('preact').ErrorInfo) => void} cb\n * @returns {[unknown, () => void]}\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/** @type {() => string} */\nexport function useId() {\n\t/** @type {import('./internal').IdHookState} */\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n * @returns {void}\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').HookState} hook\n * @returns {void}\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n * @returns {void}\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {unknown[]} oldArgs\n * @param {unknown[]} newArgs\n * @returns {boolean}\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\n/**\n * @template Arg\n * @param {Arg} arg\n * @param {(arg: Arg) => any} f\n * @returns {any}\n */\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n", "import { h } from 'preact';\nimport { useCallback } from 'preact/hooks';\nfunction GoogleIcon() {\n  return h(\"svg\", {\n    width: \"26\",\n    height: \"26\",\n    viewBox: \"0 0 26 26\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, h(\"g\", {\n    fill: \"none\",\n    \"fill-rule\": \"evenodd\"\n  }, h(\"circle\", {\n    fill: \"#FFF\",\n    cx: \"13\",\n    cy: \"13\",\n    r: \"13\"\n  }), h(\"path\", {\n    d: \"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z\",\n    fill: \"#4285F4\",\n    \"fill-rule\": \"nonzero\"\n  }), h(\"path\", {\n    d: \"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z\",\n    fill: \"#34A853\",\n    \"fill-rule\": \"nonzero\"\n  }), h(\"path\", {\n    d: \"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z\",\n    fill: \"#FBBC05\",\n    \"fill-rule\": \"nonzero\"\n  }), h(\"path\", {\n    d: \"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z\",\n    fill: \"#EA4335\",\n    \"fill-rule\": \"nonzero\"\n  }), h(\"path\", {\n    d: \"M4 4h18v18H4z\"\n  })));\n}\nfunction DefaultForm(_ref) {\n  let {\n    pluginName,\n    i18n,\n    onAuth\n  } = _ref;\n  // In order to comply with Google's brand we need to create a different button\n  // for the Google Drive plugin\n  const isGoogleDrive = pluginName === 'Google Drive';\n  const onSubmit = useCallback(e => {\n    e.preventDefault();\n    onAuth();\n  }, [onAuth]);\n  return h(\"form\", {\n    onSubmit: onSubmit\n  }, isGoogleDrive ? h(\"button\", {\n    type: \"submit\",\n    className: \"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google\",\n    \"data-uppy-super-focusable\": true\n  }, h(GoogleIcon, null), i18n('signInWithGoogle')) : h(\"button\", {\n    type: \"submit\",\n    className: \"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn\",\n    \"data-uppy-super-focusable\": true\n  }, i18n('authenticateWith', {\n    pluginName\n  })));\n}\nconst defaultRenderForm = _ref2 => {\n  let {\n    pluginName,\n    i18n,\n    onAuth\n  } = _ref2;\n  return h(DefaultForm, {\n    pluginName: pluginName,\n    i18n: i18n,\n    onAuth: onAuth\n  });\n};\nexport default function AuthView(_ref3) {\n  let {\n    loading,\n    pluginName,\n    pluginIcon,\n    i18n,\n    handleAuth,\n    renderForm = defaultRenderForm\n  } = _ref3;\n  return h(\"div\", {\n    className: \"uppy-Provider-auth\"\n  }, h(\"div\", {\n    className: \"uppy-Provider-authIcon\"\n  }, pluginIcon()), h(\"div\", {\n    className: \"uppy-Provider-authTitle\"\n  }, i18n('authenticateWithTitle', {\n    pluginName\n  })), h(\"div\", {\n    className: \"uppy-Provider-authForm\"\n  }, renderForm({\n    pluginName,\n    i18n,\n    loading,\n    onAuth: handleAuth\n  })));\n}", "/* eslint-disable react/destructuring-assignment */\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport User from \"./User.js\";\nimport Breadcrumbs from \"../Breadcrumbs.js\";\nexport default function Header(props) {\n  return h(\"div\", {\n    className: \"uppy-ProviderBrowser-header\"\n  }, h(\"div\", {\n    className: classNames('uppy-ProviderBrowser-headerBar', !props.showBreadcrumbs && 'uppy-ProviderBrowser-headerBar--simple')\n  }, props.showBreadcrumbs && h(Breadcrumbs, {\n    openFolder: props.openFolder,\n    breadcrumbs: props.breadcrumbs,\n    breadcrumbsIcon: props.pluginIcon && props.pluginIcon(),\n    title: props.title,\n    i18n: props.i18n\n  }), h(User, {\n    logout: props.logout,\n    username: props.username,\n    i18n: props.i18n\n  })));\n}", "import { h, Fragment } from 'preact';\nexport default function User(_ref) {\n  let {\n    i18n,\n    logout,\n    username\n  } = _ref;\n  return h(Fragment, null, username && h(\"span\", {\n    className: \"uppy-ProviderBrowser-user\",\n    key: \"username\"\n  }, username), h(\"button\", {\n    type: \"button\",\n    onClick: logout,\n    className: \"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout\",\n    key: \"logout\"\n  }, i18n('logOut')));\n}", "import { h, Fragment } from 'preact';\nexport default function Breadcrumbs(props) {\n  const {\n    openFolder,\n    title,\n    breadcrumbsIcon,\n    breadcrumbs,\n    i18n\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-Provider-breadcrumbs\"\n  }, h(\"div\", {\n    className: \"uppy-Provider-breadcrumbsIcon\"\n  }, breadcrumbsIcon), breadcrumbs.map((folder, index) => {\n    var _folder$data$name;\n    return h(Fragment, null, h(\"button\", {\n      key: folder.id,\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn\",\n      onClick: () => openFolder(folder.id)\n    }, folder.type === 'root' ? title : (_folder$data$name = folder.data.name) != null ? _folder$data$name : i18n('unnamed')), breadcrumbs.length === index + 1 ? '' : ' / ');\n  }));\n}", "function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\n/**\n * Adapted from preact-virtual-list: https://github.com/developit/preact-virtual-list\n *\n * \u00A9 2016 Jason Miller\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * Adaptations:\n * - Added role=presentation to helper elements\n * - Tweaked styles for Uppy's Dashboard use case\n */\n\nimport { h, Component } from 'preact';\nconst STYLE_INNER = {\n  position: 'relative',\n  // Disabled for our use case: the wrapper elements around FileList already deal with overflow,\n  // and this additional property would hide things that we want to show.\n  //\n  // overflow: 'hidden',\n  width: '100%',\n  minHeight: '100%'\n};\nconst STYLE_CONTENT = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  // Because the `top` value gets set to some offset, this `height` being 100% would make the scrollbar\n  // stretch far beyond the content. For our use case, the content div actually can get its height from\n  // the elements inside it, so we don't need to specify a `height` property at all.\n  //\n  // height: '100%',\n  width: '100%',\n  overflow: 'visible'\n};\nclass VirtualList extends Component {\n  constructor(props) {\n    super(props);\n\n    // The currently focused node, used to retain focus when the visible rows change.\n    // To avoid update loops, this should not cause state updates, so it's kept as a plain property.\n    this.handleScroll = () => {\n      this.setState({\n        offset: this.base.scrollTop\n      });\n    };\n    this.handleResize = () => {\n      this.resize();\n    };\n    this.focusElement = null;\n    this.state = {\n      offset: 0,\n      height: 0\n    };\n  }\n  componentDidMount() {\n    this.resize();\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  // TODO: refactor to stable lifecycle method\n  // eslint-disable-next-line\n  componentWillUpdate() {\n    if (this.base.contains(document.activeElement)) {\n      this.focusElement = document.activeElement;\n    }\n  }\n  componentDidUpdate() {\n    // Maintain focus when rows are added and removed.\n    if (this.focusElement && this.focusElement.parentNode && document.activeElement !== this.focusElement) {\n      this.focusElement.focus();\n    }\n    this.focusElement = null;\n    this.resize();\n  }\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n  resize() {\n    const {\n      height\n    } = this.state;\n    if (height !== this.base.offsetHeight) {\n      this.setState({\n        height: this.base.offsetHeight\n      });\n    }\n  }\n  render(_ref) {\n    let {\n      data,\n      rowHeight,\n      renderRow,\n      overscanCount = 10,\n      ...props\n    } = _ref;\n    const {\n      offset,\n      height\n    } = this.state;\n    // first visible row index\n    let start = Math.floor(offset / rowHeight);\n\n    // actual number of visible rows (without overscan)\n    let visibleRowCount = Math.floor(height / rowHeight);\n\n    // Overscan: render blocks of rows modulo an overscan row count\n    // This dramatically reduces DOM writes during scrolling\n    if (overscanCount) {\n      start = Math.max(0, start - start % overscanCount);\n      visibleRowCount += overscanCount;\n    }\n\n    // last visible + overscan row index + padding to allow keyboard focus to travel past the visible area\n    const end = start + visibleRowCount + 4;\n\n    // data slice currently in viewport plus overscan items\n    const selection = data.slice(start, end);\n    const styleInner = {\n      ...STYLE_INNER,\n      height: data.length * rowHeight\n    };\n    const styleContent = {\n      ...STYLE_CONTENT,\n      top: start * rowHeight\n    };\n\n    // The `role=\"presentation\"` attributes ensure that these wrapper elements are not treated as list\n    // items by accessibility and outline tools.\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      h(\"div\", _extends({\n        onScroll: this.handleScroll\n      }, props), h(\"div\", {\n        role: \"presentation\",\n        style: styleInner\n      }, h(\"div\", {\n        role: \"presentation\",\n        style: styleContent\n      }, selection.map(renderRow))))\n    );\n  }\n}\nexport default VirtualList;", "/* eslint-disable react/jsx-props-no-spreading */\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport GridItem from \"./components/GridItem.js\";\nimport ListItem from \"./components/ListItem.js\";\nexport default function Item(props) {\n  const {\n    viewType,\n    toggleCheckbox,\n    showTitles,\n    i18n,\n    openFolder,\n    file\n  } = props;\n  const restrictionError = file.type === 'folder' ? null : file.restrictionError;\n  const isDisabled = !!restrictionError && file.status !== 'checked';\n  const ourProps = {\n    file,\n    openFolder,\n    toggleCheckbox,\n    i18n,\n    viewType,\n    showTitles,\n    className: classNames('uppy-ProviderBrowserItem', {\n      'uppy-ProviderBrowserItem--disabled': isDisabled\n    }, {\n      'uppy-ProviderBrowserItem--noPreview': file.data.icon === 'video'\n    }, {\n      'uppy-ProviderBrowserItem--is-checked': file.status === 'checked'\n    }, {\n      'uppy-ProviderBrowserItem--is-partial': file.status === 'partial'\n    }),\n    isDisabled,\n    restrictionError\n  };\n  switch (viewType) {\n    case 'grid':\n      return h(GridItem, ourProps);\n    case 'list':\n      return h(ListItem, ourProps);\n    case 'unsplash':\n      return h(GridItem, ourProps, h(\"a\", {\n        href: `${file.data.author.url}?utm_source=Companion&utm_medium=referral`,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        className: \"uppy-ProviderBrowserItem-author\",\n        tabIndex: -1\n      }, file.data.author.name));\n    default:\n      throw new Error(`There is no such type ${viewType}`);\n  }\n}", "import { h } from 'preact';\nfunction FileIcon() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: 11,\n    height: 14.5,\n    viewBox: \"0 0 44 58\"\n  }, h(\"path\", {\n    d: \"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z\"\n  }));\n}\nfunction FolderIcon() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    style: {\n      minWidth: 16,\n      marginRight: 3\n    },\n    viewBox: \"0 0 276.157 276.157\"\n  }, h(\"path\", {\n    d: \"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z\"\n  }));\n}\nfunction VideoIcon() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    style: {\n      width: 16,\n      marginRight: 4\n    },\n    viewBox: \"0 0 58 58\"\n  }, h(\"path\", {\n    d: \"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z\"\n  }), h(\"path\", {\n    d: \"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z\"\n  }));\n}\nexport default function ItemIcon(_ref) {\n  let {\n    itemIconString,\n    alt = undefined\n  } = _ref;\n  if (itemIconString === null) return null;\n  switch (itemIconString) {\n    case 'file':\n      return h(FileIcon, null);\n    case 'folder':\n      return h(FolderIcon, null);\n    case 'video':\n      return h(VideoIcon, null);\n    default:\n      {\n        return h(\"img\", {\n          src: itemIconString,\n          alt: alt\n          // @ts-expect-error TS does not understand but attribute exists here.\n          ,\n          referrerPolicy: \"no-referrer\",\n          loading: \"lazy\",\n          width: 16,\n          height: 16\n        });\n      }\n  }\n}", "import { h } from 'preact';\nimport ItemIcon from \"./ItemIcon.js\";\nfunction GridItem(_ref) {\n  var _file$data$name, _file$data$name2;\n  let {\n    file,\n    toggleCheckbox,\n    className,\n    isDisabled,\n    restrictionError,\n    showTitles,\n    children = null,\n    i18n\n  } = _ref;\n  return h(\"li\", {\n    className: className,\n    title: isDisabled && restrictionError ? restrictionError : undefined\n  }, h(\"input\", {\n    type: \"checkbox\",\n    className: \"uppy-u-reset uppy-ProviderBrowserItem-checkbox uppy-ProviderBrowserItem-checkbox--grid\",\n    onChange: toggleCheckbox,\n    name: \"listitem\",\n    id: file.id,\n    checked: file.status === 'checked',\n    disabled: isDisabled,\n    \"data-uppy-super-focusable\": true\n  }), h(\"label\", {\n    htmlFor: file.id,\n    \"aria-label\": (_file$data$name = file.data.name) != null ? _file$data$name : i18n('unnamed'),\n    className: \"uppy-u-reset uppy-ProviderBrowserItem-inner\"\n  }, h(ItemIcon, {\n    itemIconString: file.data.thumbnail || file.data.icon\n  }), showTitles && ((_file$data$name2 = file.data.name) != null ? _file$data$name2 : i18n('unnamed')), children));\n}\nexport default GridItem;", "import { h } from 'preact';\nimport ItemIcon from \"./ItemIcon.js\";\n\n// if folder:\n//   + checkbox (selects all files from folder)\n//   + folder name (opens folder)\n// if file:\n//   + checkbox (selects file)\n//   + file name (selects file)\n\nexport default function ListItem(_ref) {\n  var _file$data$name, _file$data$name2, _file$data$name3;\n  let {\n    file,\n    openFolder,\n    className,\n    isDisabled,\n    restrictionError,\n    toggleCheckbox,\n    showTitles,\n    i18n\n  } = _ref;\n  return h(\"li\", {\n    className: className,\n    title: file.status !== 'checked' && restrictionError ? restrictionError : undefined\n  }, h(\"input\", {\n    type: \"checkbox\",\n    className: \"uppy-u-reset uppy-ProviderBrowserItem-checkbox\",\n    onChange: toggleCheckbox\n    // for the <label/>\n    ,\n    name: \"listitem\",\n    id: file.id,\n    checked: file.status === 'checked',\n    \"aria-label\": file.data.isFolder ? i18n('allFilesFromFolderNamed', {\n      name: (_file$data$name = file.data.name) != null ? _file$data$name : i18n('unnamed')\n    }) : null,\n    disabled: isDisabled,\n    \"data-uppy-super-focusable\": true\n  }), file.data.isFolder ?\n  // button to open a folder\n  h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner\",\n    onClick: () => openFolder(file.id),\n    \"aria-label\": i18n('openFolderNamed', {\n      name: (_file$data$name2 = file.data.name) != null ? _file$data$name2 : i18n('unnamed')\n    })\n  }, h(\"div\", {\n    className: \"uppy-ProviderBrowserItem-iconWrap\"\n  }, h(ItemIcon, {\n    itemIconString: file.data.icon\n  })), showTitles && file.data.name ? h(\"span\", null, file.data.name) : i18n('unnamed'))\n  // label for a checkbox\n  : h(\"label\", {\n    htmlFor: file.id,\n    className: \"uppy-u-reset uppy-ProviderBrowserItem-inner\"\n  }, h(\"div\", {\n    className: \"uppy-ProviderBrowserItem-iconWrap\"\n  }, h(ItemIcon, {\n    itemIconString: file.data.icon\n  })), showTitles && ((_file$data$name3 = file.data.name) != null ? _file$data$name3 : i18n('unnamed'))));\n}", "import { h } from 'preact';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport VirtualList from '@uppy/utils/lib/VirtualList';\nimport { useEffect, useState } from 'preact/hooks';\nimport Item from \"./Item/index.js\";\nfunction Browser(props) {\n  const {\n    displayedPartialTree,\n    viewType,\n    toggleCheckbox,\n    handleScroll,\n    showTitles,\n    i18n,\n    isLoading,\n    openFolder,\n    noResultsLabel,\n    virtualList\n  } = props;\n  const [isShiftKeyPressed, setIsShiftKeyPressed] = useState(false);\n\n  // This records whether the user is holding the SHIFT key this very moment.\n  // Typically, this is implemented using `onClick((e) => e.shiftKey)` -\n  // however we can't use that, because for accessibility reasons\n  // we're using html tags that don't support `e.shiftKey` property (see #3768).\n  useEffect(() => {\n    const handleKeyUp = e => {\n      if (e.key === 'Shift') setIsShiftKeyPressed(false);\n    };\n    const handleKeyDown = e => {\n      if (e.key === 'Shift') setIsShiftKeyPressed(true);\n    };\n    document.addEventListener('keyup', handleKeyUp);\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keyup', handleKeyUp);\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  if (isLoading) {\n    return h(\"div\", {\n      className: \"uppy-Provider-loading\"\n    }, typeof isLoading === 'string' ? isLoading : i18n('loading'));\n  }\n  if (displayedPartialTree.length === 0) {\n    return h(\"div\", {\n      className: \"uppy-Provider-empty\"\n    }, noResultsLabel);\n  }\n  const renderItem = item => h(Item, {\n    viewType: viewType,\n    toggleCheckbox: event => {\n      var _document$getSelectio;\n      event.stopPropagation();\n      event.preventDefault();\n      // Prevent shift-clicking from highlighting file names\n      // (https://stackoverflow.com/a/1527797/3192470)\n      (_document$getSelectio = document.getSelection()) == null || _document$getSelectio.removeAllRanges();\n      toggleCheckbox(item, isShiftKeyPressed);\n    },\n    showTitles: showTitles,\n    i18n: i18n,\n    openFolder: openFolder,\n    file: item\n  });\n  if (virtualList) {\n    return h(\"div\", {\n      className: \"uppy-ProviderBrowser-body\"\n    }, h(\"ul\", {\n      className: \"uppy-ProviderBrowser-list\"\n    }, h(VirtualList, {\n      data: displayedPartialTree,\n      renderRow: renderItem,\n      rowHeight: 31\n    })));\n  }\n  return h(\"div\", {\n    className: \"uppy-ProviderBrowser-body\"\n  }, h(\"ul\", {\n    className: \"uppy-ProviderBrowser-list\",\n    onScroll: handleScroll,\n    role: \"listbox\"\n    // making <ul> not focusable for firefox\n    ,\n    tabIndex: -1\n  }, displayedPartialTree.map(renderItem)));\n}\nexport default Browser;", "const afterOpenFolder = (oldPartialTree, discoveredItems, clickedFolder, currentPagePath, validateSingleFile) => {\n  const discoveredFolders = discoveredItems.filter(i => i.isFolder === true);\n  const discoveredFiles = discoveredItems.filter(i => i.isFolder === false);\n  const isParentFolderChecked = clickedFolder.type === 'folder' && clickedFolder.status === 'checked';\n  const folders = discoveredFolders.map(folder => ({\n    type: 'folder',\n    id: folder.requestPath,\n    cached: false,\n    nextPagePath: null,\n    status: isParentFolderChecked ? 'checked' : 'unchecked',\n    parentId: clickedFolder.id,\n    data: folder\n  }));\n  const files = discoveredFiles.map(file => {\n    const restrictionError = validateSingleFile(file);\n    return {\n      type: 'file',\n      id: file.requestPath,\n      restrictionError,\n      status: isParentFolderChecked && !restrictionError ? 'checked' : 'unchecked',\n      parentId: clickedFolder.id,\n      data: file\n    };\n  });\n\n  // just doing `clickedFolder.cached = true` in a non-mutating way\n  const updatedClickedFolder = {\n    ...clickedFolder,\n    cached: true,\n    nextPagePath: currentPagePath\n  };\n  const partialTreeWithUpdatedClickedFolder = oldPartialTree.map(folder => folder.id === updatedClickedFolder.id ? updatedClickedFolder : folder);\n  const newPartialTree = [...partialTreeWithUpdatedClickedFolder, ...folders, ...files];\n  return newPartialTree;\n};\nexport default afterOpenFolder;", "const afterScrollFolder = (oldPartialTree, currentFolderId, items, nextPagePath, validateSingleFile) => {\n  const currentFolder = oldPartialTree.find(i => i.id === currentFolderId);\n  const newFolders = items.filter(i => i.isFolder === true);\n  const newFiles = items.filter(i => i.isFolder === false);\n\n  // just doing `scrolledFolder.nextPagePath = ...` in a non-mutating way\n  const scrolledFolder = {\n    ...currentFolder,\n    nextPagePath\n  };\n  const partialTreeWithUpdatedScrolledFolder = oldPartialTree.map(folder => folder.id === scrolledFolder.id ? scrolledFolder : folder);\n  const isParentFolderChecked = scrolledFolder.type === 'folder' && scrolledFolder.status === 'checked';\n  const folders = newFolders.map(folder => ({\n    type: 'folder',\n    id: folder.requestPath,\n    cached: false,\n    nextPagePath: null,\n    status: isParentFolderChecked ? 'checked' : 'unchecked',\n    parentId: scrolledFolder.id,\n    data: folder\n  }));\n  const files = newFiles.map(file => {\n    const restrictionError = validateSingleFile(file);\n    return {\n      type: 'file',\n      id: file.requestPath,\n      restrictionError,\n      status: isParentFolderChecked && !restrictionError ? 'checked' : 'unchecked',\n      parentId: scrolledFolder.id,\n      data: file\n    };\n  });\n  const newPartialTree = [...partialTreeWithUpdatedScrolledFolder, ...folders, ...files];\n  return newPartialTree;\n};\nexport default afterScrollFolder;", "/**\n * One-level copying is sufficient as mutations within our `partialTree` are limited to properties\n * such as `.status`, `.cached`, `.nextPagePath`, and not `.data = { THIS }`.\n */\nconst shallowClone = partialTree => {\n  return partialTree.map(item => ({\n    ...item\n  }));\n};\nexport default shallowClone;", "/* eslint-disable no-param-reassign */\n\nimport shallowClone from \"./shallowClone.js\";\n\n/*\n  FROM        | TO\n\n  root        |  root\n    folder    |    folder\n    folder \u2705\uFE0E  |    folder \u2705\uFE0E\n      file    |      file \u2705\uFE0E\n      file    |      file \u2705\uFE0E\n      folder  |      folder \u2705\uFE0E\n        file  |        file \u2705\uFE0E\n    file      |    file\n    file      |    file\n*/\nconst percolateDown = (tree, id, shouldMarkAsChecked) => {\n  const children = tree.filter(item => item.type !== 'root' && item.parentId === id);\n  children.forEach(item => {\n    item.status = shouldMarkAsChecked && !(item.type === 'file' && item.restrictionError) ? 'checked' : 'unchecked';\n    percolateDown(tree, item.id, shouldMarkAsChecked);\n  });\n};\n\n/*\n  FROM         | TO\n\n  root         |  root\n    folder     |    folder\n    folder     |    folder [\u25AC] ('partial' status)\n      file     |      file\n      folder   |      folder \u2705\uFE0E\n        file \u2705\uFE0E |       file \u2705\uFE0E\n    file       |    file\n    file       |    file\n*/\nconst percolateUp = (tree, id) => {\n  const folder = tree.find(item => item.id === id);\n  if (folder.type === 'root') return;\n  const validChildren = tree.filter(item =>\n  // is a child\n  item.type !== 'root' && item.parentId === folder.id &&\n  // does pass validations\n  !(item.type === 'file' && item.restrictionError));\n  const areAllChildrenChecked = validChildren.every(item => item.status === 'checked');\n  const areAllChildrenUnchecked = validChildren.every(item => item.status === 'unchecked');\n  if (areAllChildrenChecked) {\n    folder.status = 'checked';\n  } else if (areAllChildrenUnchecked) {\n    folder.status = 'unchecked';\n  } else {\n    folder.status = 'partial';\n  }\n  percolateUp(tree, folder.parentId);\n};\nconst afterToggleCheckbox = (oldTree, clickedRange) => {\n  const tree = shallowClone(oldTree);\n  if (clickedRange.length >= 2) {\n    // We checked two or more items\n    const newlyCheckedItems = tree.filter(item => item.type !== 'root' && clickedRange.includes(item.id));\n    newlyCheckedItems.forEach(item => {\n      if (item.type === 'file') {\n        item.status = item.restrictionError ? 'unchecked' : 'checked';\n      } else {\n        item.status = 'checked';\n      }\n    });\n    newlyCheckedItems.forEach(item => {\n      percolateDown(tree, item.id, true);\n    });\n    percolateUp(tree, newlyCheckedItems[0].parentId);\n  } else {\n    // We checked exactly one item\n    const clickedItem = tree.find(item => item.id === clickedRange[0]);\n    clickedItem.status = clickedItem.status === 'checked' ? 'unchecked' : 'checked';\n    percolateDown(tree, clickedItem.id, clickedItem.status === 'checked');\n    percolateUp(tree, clickedItem.parentId);\n  }\n  return tree;\n};\nexport default afterToggleCheckbox;", "import EventEmitter from './index.js'\n\nexport { EventEmitter }\nexport default EventEmitter\n", "export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined\n\t? new AbortError(errorMessage)\n\t: new DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined\n\t\t? getDOMException('This operation was aborted.')\n\t\t: signal.reason;\n\n\treturn reason instanceof Error ? reason : getDOMException(reason);\n};\n\nexport default function pTimeout(promise, options) {\n\tconst {\n\t\tmilliseconds,\n\t\tfallback,\n\t\tmessage,\n\t\tcustomTimers = {setTimeout, clearTimeout},\n\t} = options;\n\n\tlet timer;\n\n\tconst wrappedPromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (options.signal) {\n\t\t\tconst {signal} = options;\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t}\n\n\t\t\tsignal.addEventListener('abort', () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t});\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tpromise.then(resolve, reject);\n\t\t\treturn;\n\t\t}\n\n\t\t// We create the error outside of `setTimeout` to preserve the stack trace.\n\t\tconst timeoutError = new TimeoutError();\n\n\t\ttimer = customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (fallback) {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\tif (message === false) {\n\t\t\t\tresolve();\n\t\t\t} else if (message instanceof Error) {\n\t\t\t\treject(message);\n\t\t\t} else {\n\t\t\t\ttimeoutError.message = message ?? `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\t\treject(timeoutError);\n\t\t\t}\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\t\t})();\n\t});\n\n\tconst cancelablePromise = wrappedPromise.finally(() => {\n\t\tcancelablePromise.clear();\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n", "// Port of lower_bound from https://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nexport default function lowerBound(array, value, comparator) {\n    let first = 0;\n    let count = array.length;\n    while (count > 0) {\n        const step = Math.trunc(count / 2);\n        let it = first + step;\n        if (comparator(array[it], value) <= 0) {\n            first = ++it;\n            count -= step + 1;\n        }\n        else {\n            count = step;\n        }\n    }\n    return first;\n}\n", "import lowerBound from './lower-bound.js';\nexport default class PriorityQueue {\n    #queue = [];\n    enqueue(run, options) {\n        options = {\n            priority: 0,\n            ...options,\n        };\n        const element = {\n            priority: options.priority,\n            run,\n        };\n        if (this.size && this.#queue[this.size - 1].priority >= options.priority) {\n            this.#queue.push(element);\n            return;\n        }\n        const index = lowerBound(this.#queue, element, (a, b) => b.priority - a.priority);\n        this.#queue.splice(index, 0, element);\n    }\n    dequeue() {\n        const item = this.#queue.shift();\n        return item?.run;\n    }\n    filter(options) {\n        return this.#queue.filter((element) => element.priority === options.priority).map((element) => element.run);\n    }\n    get size() {\n        return this.#queue.length;\n    }\n}\n", "import { EventEmitter } from 'eventemitter3';\nimport pTimeout, { TimeoutError } from 'p-timeout';\nimport PriorityQueue from './priority-queue.js';\n/**\nPromise queue with concurrency control.\n*/\nexport default class PQueue extends EventEmitter {\n    #carryoverConcurrencyCount;\n    #isIntervalIgnored;\n    #intervalCount = 0;\n    #intervalCap;\n    #interval;\n    #intervalEnd = 0;\n    #intervalId;\n    #timeoutId;\n    #queue;\n    #queueClass;\n    #pending = 0;\n    // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n    #concurrency;\n    #isPaused;\n    #throwOnTimeout;\n    /**\n    Per-operation timeout in milliseconds. Operations fulfill once `timeout` elapses if they haven't already.\n\n    Applies to each future operation.\n    */\n    timeout;\n    // TODO: The `throwOnTimeout` option should affect the return types of `add()` and `addAll()`\n    constructor(options) {\n        super();\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        options = {\n            carryoverConcurrencyCount: false,\n            intervalCap: Number.POSITIVE_INFINITY,\n            interval: 0,\n            concurrency: Number.POSITIVE_INFINITY,\n            autoStart: true,\n            queueClass: PriorityQueue,\n            ...options,\n        };\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap?.toString() ?? ''}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval?.toString() ?? ''}\\` (${typeof options.interval})`);\n        }\n        this.#carryoverConcurrencyCount = options.carryoverConcurrencyCount;\n        this.#isIntervalIgnored = options.intervalCap === Number.POSITIVE_INFINITY || options.interval === 0;\n        this.#intervalCap = options.intervalCap;\n        this.#interval = options.interval;\n        this.#queue = new options.queueClass();\n        this.#queueClass = options.queueClass;\n        this.concurrency = options.concurrency;\n        this.timeout = options.timeout;\n        this.#throwOnTimeout = options.throwOnTimeout === true;\n        this.#isPaused = options.autoStart === false;\n    }\n    get #doesIntervalAllowAnother() {\n        return this.#isIntervalIgnored || this.#intervalCount < this.#intervalCap;\n    }\n    get #doesConcurrentAllowAnother() {\n        return this.#pending < this.#concurrency;\n    }\n    #next() {\n        this.#pending--;\n        this.#tryToStartAnother();\n        this.emit('next');\n    }\n    #onResumeInterval() {\n        this.#onInterval();\n        this.#initializeIntervalIfNeeded();\n        this.#timeoutId = undefined;\n    }\n    get #isIntervalPaused() {\n        const now = Date.now();\n        if (this.#intervalId === undefined) {\n            const delay = this.#intervalEnd - now;\n            if (delay < 0) {\n                // Act as the interval was done\n                // We don't need to resume it here because it will be resumed on line 160\n                this.#intervalCount = (this.#carryoverConcurrencyCount) ? this.#pending : 0;\n            }\n            else {\n                // Act as the interval is pending\n                if (this.#timeoutId === undefined) {\n                    this.#timeoutId = setTimeout(() => {\n                        this.#onResumeInterval();\n                    }, delay);\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    #tryToStartAnother() {\n        if (this.#queue.size === 0) {\n            // We can clear the interval (\"pause\")\n            // Because we can redo it later (\"resume\")\n            if (this.#intervalId) {\n                clearInterval(this.#intervalId);\n            }\n            this.#intervalId = undefined;\n            this.emit('empty');\n            if (this.#pending === 0) {\n                this.emit('idle');\n            }\n            return false;\n        }\n        if (!this.#isPaused) {\n            const canInitializeInterval = !this.#isIntervalPaused;\n            if (this.#doesIntervalAllowAnother && this.#doesConcurrentAllowAnother) {\n                const job = this.#queue.dequeue();\n                if (!job) {\n                    return false;\n                }\n                this.emit('active');\n                job();\n                if (canInitializeInterval) {\n                    this.#initializeIntervalIfNeeded();\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    #initializeIntervalIfNeeded() {\n        if (this.#isIntervalIgnored || this.#intervalId !== undefined) {\n            return;\n        }\n        this.#intervalId = setInterval(() => {\n            this.#onInterval();\n        }, this.#interval);\n        this.#intervalEnd = Date.now() + this.#interval;\n    }\n    #onInterval() {\n        if (this.#intervalCount === 0 && this.#pending === 0 && this.#intervalId) {\n            clearInterval(this.#intervalId);\n            this.#intervalId = undefined;\n        }\n        this.#intervalCount = this.#carryoverConcurrencyCount ? this.#pending : 0;\n        this.#processQueue();\n    }\n    /**\n    Executes all queued functions until it reaches the limit.\n    */\n    #processQueue() {\n        // eslint-disable-next-line no-empty\n        while (this.#tryToStartAnother()) { }\n    }\n    get concurrency() {\n        return this.#concurrency;\n    }\n    set concurrency(newConcurrency) {\n        if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n        }\n        this.#concurrency = newConcurrency;\n        this.#processQueue();\n    }\n    async #throwOnAbort(signal) {\n        return new Promise((_resolve, reject) => {\n            signal.addEventListener('abort', () => {\n                reject(signal.reason);\n            }, { once: true });\n        });\n    }\n    async add(function_, options = {}) {\n        options = {\n            timeout: this.timeout,\n            throwOnTimeout: this.#throwOnTimeout,\n            ...options,\n        };\n        return new Promise((resolve, reject) => {\n            this.#queue.enqueue(async () => {\n                this.#pending++;\n                this.#intervalCount++;\n                try {\n                    options.signal?.throwIfAborted();\n                    let operation = function_({ signal: options.signal });\n                    if (options.timeout) {\n                        operation = pTimeout(Promise.resolve(operation), { milliseconds: options.timeout });\n                    }\n                    if (options.signal) {\n                        operation = Promise.race([operation, this.#throwOnAbort(options.signal)]);\n                    }\n                    const result = await operation;\n                    resolve(result);\n                    this.emit('completed', result);\n                }\n                catch (error) {\n                    if (error instanceof TimeoutError && !options.throwOnTimeout) {\n                        resolve();\n                        return;\n                    }\n                    reject(error);\n                    this.emit('error', error);\n                }\n                finally {\n                    this.#next();\n                }\n            }, options);\n            this.emit('add');\n            this.#tryToStartAnother();\n        });\n    }\n    async addAll(functions, options) {\n        return Promise.all(functions.map(async (function_) => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!this.#isPaused) {\n            return this;\n        }\n        this.#isPaused = false;\n        this.#processQueue();\n        return this;\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        this.#isPaused = true;\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        this.#queue = new this.#queueClass();\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('empty');\n    }\n    /**\n    @returns A promise that settles when the queue size is less than the given limit: `queue.size < limit`.\n\n    If you want to avoid having the queue grow beyond a certain size you can `await queue.onSizeLessThan()` before adding a new item.\n\n    Note that this only limits the number of items waiting to start. There could still be up to `concurrency` jobs already running that this call does not include in its calculation.\n    */\n    async onSizeLessThan(limit) {\n        // Instantly resolve if the queue is empty.\n        if (this.#queue.size < limit) {\n            return;\n        }\n        await this.#onEvent('next', () => this.#queue.size < limit);\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (this.#pending === 0 && this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('idle');\n    }\n    async #onEvent(event, filter) {\n        return new Promise(resolve => {\n            const listener = () => {\n                if (filter && !filter()) {\n                    return;\n                }\n                this.off(event, listener);\n                resolve();\n            };\n            this.on(event, listener);\n        });\n    }\n    /**\n    Size of the queue, the number of queued items waiting to run.\n    */\n    get size() {\n        return this.#queue.size;\n    }\n    /**\n    Size of the queue, filtered by the given options.\n\n    For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n    */\n    sizeBy(options) {\n        // eslint-disable-next-line unicorn/no-array-callback-reference\n        return this.#queue.filter(options).length;\n    }\n    /**\n    Number of running items (no longer in the queue).\n    */\n    get pending() {\n        return this.#pending;\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return this.#isPaused;\n    }\n}\n", "/* eslint-disable no-param-reassign */\n\nimport PQueue from 'p-queue';\nimport shallowClone from \"./shallowClone.js\";\nconst recursivelyFetch = async (queue, poorTree, poorFolder, apiList, validateSingleFile) => {\n  let items = [];\n  let currentPath = poorFolder.cached ? poorFolder.nextPagePath : poorFolder.id;\n  while (currentPath) {\n    const response = await apiList(currentPath);\n    items = items.concat(response.items);\n    currentPath = response.nextPagePath;\n  }\n  const newFolders = items.filter(i => i.isFolder === true);\n  const newFiles = items.filter(i => i.isFolder === false);\n  const folders = newFolders.map(folder => ({\n    type: 'folder',\n    id: folder.requestPath,\n    cached: false,\n    nextPagePath: null,\n    status: 'checked',\n    parentId: poorFolder.id,\n    data: folder\n  }));\n  const files = newFiles.map(file => {\n    const restrictionError = validateSingleFile(file);\n    return {\n      type: 'file',\n      id: file.requestPath,\n      restrictionError,\n      status: restrictionError ? 'unchecked' : 'checked',\n      parentId: poorFolder.id,\n      data: file\n    };\n  });\n  poorFolder.cached = true;\n  poorFolder.nextPagePath = null;\n  poorTree.push(...files, ...folders);\n  folders.forEach(async folder => {\n    queue.add(() => recursivelyFetch(queue, poorTree, folder, apiList, validateSingleFile));\n  });\n};\nconst afterFill = async (partialTree, apiList, validateSingleFile, reportProgress) => {\n  const queue = new PQueue({\n    concurrency: 6\n  });\n\n  // fill up the missing parts of a partialTree!\n  const poorTree = shallowClone(partialTree);\n  const poorFolders = poorTree.filter(item => item.type === 'folder' && item.status === 'checked' && (\n  // either \"not yet cached at all\" or \"some pages are left to fetch\"\n  item.cached === false || item.nextPagePath));\n  // per each poor folder, recursively fetch all files and make them .checked!\n  poorFolders.forEach(poorFolder => {\n    queue.add(() => recursivelyFetch(queue, poorTree, poorFolder, apiList, validateSingleFile));\n  });\n  queue.on('completed', () => {\n    const nOfFilesChecked = poorTree.filter(i => i.type === 'file' && i.status === 'checked').length;\n    reportProgress(nOfFilesChecked);\n  });\n  await queue.onIdle();\n  return poorTree;\n};\nexport default afterFill;", "import afterOpenFolder from \"./afterOpenFolder.js\";\nimport afterScrollFolder from \"./afterScrollFolder.js\";\nimport afterToggleCheckbox from \"./afterToggleCheckbox.js\";\nimport afterFill from \"./afterFill.js\";\nexport default {\n  afterOpenFolder,\n  afterScrollFolder,\n  afterToggleCheckbox,\n  afterFill\n};", "const shouldHandleScroll = event => {\n  const {\n    scrollHeight,\n    scrollTop,\n    offsetHeight\n  } = event.target;\n  const scrollPosition = scrollHeight - (scrollTop + offsetHeight);\n  return scrollPosition < 50;\n};\nexport default shouldHandleScroll;", "const handleError = uppy => error => {\n  // authError just means we're not authenticated, don't report it\n  if (error.isAuthError) {\n    return;\n  }\n  // AbortError means the user has clicked \"cancel\" on an operation\n  if (error.name === 'AbortError') {\n    uppy.log('Aborting request', 'warning');\n    return;\n  }\n  uppy.log(error, 'error');\n  if (error.name === 'UserFacingApiError') {\n    uppy.info({\n      message: uppy.i18n('companionError'),\n      details: uppy.i18n(error.message)\n    }, 'warning', 5000);\n  }\n};\nexport default handleError;", "// Shift-clicking selects a single consecutive list of items\n// starting at the previous click.\nconst getClickedRange = (clickedId, displayedPartialTree, isShiftKeyPressed, lastCheckbox) => {\n  const lastCheckboxIndex = displayedPartialTree.findIndex(item => item.id === lastCheckbox);\n  if (lastCheckboxIndex !== -1 && isShiftKeyPressed) {\n    const newCheckboxIndex = displayedPartialTree.findIndex(item => item.id === clickedId);\n    const clickedRange = displayedPartialTree.slice(Math.min(lastCheckboxIndex, newCheckboxIndex), Math.max(lastCheckboxIndex, newCheckboxIndex) + 1);\n    return clickedRange.map(item => item.id);\n  }\n  return [clickedId];\n};\nexport default getClickedRange;", "import { h } from 'preact';\nimport { useEffect, useState, useCallback } from 'preact/hooks';\nimport { nanoid } from 'nanoid/non-secure';\nfunction SearchInput(_ref) {\n  let {\n    searchString,\n    setSearchString,\n    submitSearchString,\n    wrapperClassName,\n    inputClassName,\n    inputLabel,\n    clearSearchLabel = '',\n    showButton = false,\n    buttonLabel = '',\n    buttonCSSClassName = ''\n  } = _ref;\n  const onInput = e => {\n    setSearchString(e.target.value);\n  };\n  const submit = useCallback(ev => {\n    ev.preventDefault();\n    submitSearchString();\n  }, [submitSearchString]);\n\n  // We do this to avoid nested <form>s\n  // (See https://github.com/transloadit/uppy/pull/5050#discussion_r1640392516)\n  const [form] = useState(() => {\n    const formEl = document.createElement('form');\n    formEl.setAttribute('tabindex', '-1');\n    formEl.id = nanoid();\n    return formEl;\n  });\n  useEffect(() => {\n    document.body.appendChild(form);\n    form.addEventListener('submit', submit);\n    return () => {\n      form.removeEventListener('submit', submit);\n      document.body.removeChild(form);\n    };\n  }, [form, submit]);\n  return h(\"section\", {\n    className: wrapperClassName\n  }, h(\"input\", {\n    className: `uppy-u-reset ${inputClassName}`,\n    type: \"search\",\n    \"aria-label\": inputLabel,\n    placeholder: inputLabel,\n    value: searchString,\n    onInput: onInput,\n    form: form.id,\n    \"data-uppy-super-focusable\": true\n  }), !showButton &&\n  // \uD83D\uDD0D\n  h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon\",\n    width: \"12\",\n    height: \"12\",\n    viewBox: \"0 0 12 12\"\n  }, h(\"path\", {\n    d: \"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z\"\n  })), !showButton && searchString &&\n  // \u274C\n  h(\"button\", {\n    className: \"uppy-u-reset uppy-ProviderBrowser-searchFilterReset\",\n    type: \"button\",\n    \"aria-label\": clearSearchLabel,\n    title: clearSearchLabel,\n    onClick: () => setSearchString('')\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    viewBox: \"0 0 19 19\"\n  }, h(\"path\", {\n    d: \"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z\"\n  }))), showButton && h(\"button\", {\n    className: `uppy-u-reset uppy-c-btn uppy-c-btn-primary ${buttonCSSClassName}`,\n    type: \"submit\",\n    form: form.id\n  }, buttonLabel));\n}\nexport default SearchInput;", "import { h } from 'preact';\nimport classNames from 'classnames';\nimport { useMemo } from 'preact/hooks';\nimport getNumberOfSelectedFiles from \"./utils/PartialTreeUtils/getNumberOfSelectedFiles.js\";\nexport default function FooterActions(_ref) {\n  let {\n    cancelSelection,\n    donePicking,\n    i18n,\n    partialTree,\n    validateAggregateRestrictions\n  } = _ref;\n  const aggregateRestrictionError = useMemo(() => {\n    return validateAggregateRestrictions(partialTree);\n  }, [partialTree, validateAggregateRestrictions]);\n  const nOfSelectedFiles = useMemo(() => {\n    return getNumberOfSelectedFiles(partialTree);\n  }, [partialTree]);\n  if (nOfSelectedFiles === 0) {\n    return null;\n  }\n  return h(\"div\", {\n    className: \"uppy-ProviderBrowser-footer\"\n  }, h(\"div\", {\n    className: \"uppy-ProviderBrowser-footer-buttons\"\n  }, h(\"button\", {\n    className: classNames('uppy-u-reset uppy-c-btn uppy-c-btn-primary', {\n      'uppy-c-btn--disabled': aggregateRestrictionError\n    }),\n    disabled: !!aggregateRestrictionError,\n    onClick: donePicking,\n    type: \"button\"\n  }, i18n('selectX', {\n    smart_count: nOfSelectedFiles\n  })), h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-c-btn-link\",\n    onClick: cancelSelection,\n    type: \"button\"\n  }, i18n('cancel'))), aggregateRestrictionError && h(\"div\", {\n    className: \"uppy-ProviderBrowser-footer-error\"\n  }, aggregateRestrictionError));\n}", "/**\n * We're interested in all 'checked' leaves of this tree,\n * but we don't yet know how many files there are inside of each checked folder.\n * `getNumberOfSelectedFiles()` returns the most intuitive number we can show to the user\n * in this situation.\n */\nconst getNumberOfSelectedFiles = partialTree => {\n  const checkedLeaves = partialTree.filter(item => {\n    if (item.type === 'file' && item.status === 'checked') {\n      return true;\n    }\n    if (item.type === 'folder' && item.status === 'checked') {\n      const doesItHaveChildren = partialTree.some(i => i.type !== 'root' && i.parentId === item.id);\n      return !doesItHaveChildren;\n    }\n    return false;\n  });\n  return checkedLeaves.length;\n};\nexport default getNumberOfSelectedFiles;", "// TODO: document what is a \"tagFile\" or get rid of this concept\nconst getTagFile = (file, plugin, provider) => {\n  var _file$author, _file$author2;\n  const tagFile = {\n    id: file.id,\n    source: plugin.id,\n    name: file.name || file.id,\n    type: file.mimeType,\n    isRemote: true,\n    data: file,\n    preview: file.thumbnail || undefined,\n    meta: {\n      authorName: (_file$author = file.author) == null ? void 0 : _file$author.name,\n      authorUrl: (_file$author2 = file.author) == null ? void 0 : _file$author2.url,\n      // We need to do this `|| null` check, because null value\n      // for .relDirPath is `undefined` and for .relativePath is `null`.\n      // I do think we should just use `null` everywhere.\n      relativePath: file.relDirPath || null,\n      absolutePath: file.absDirPath\n    },\n    body: {\n      fileId: file.id\n    },\n    remote: {\n      companionUrl: plugin.opts.companionUrl,\n      // @ts-expect-error untyped for now\n      url: `${provider.fileUrl(file.requestPath)}`,\n      body: {\n        fileId: file.id\n      },\n      providerName: provider.name,\n      provider: provider.provider,\n      requestClientId: provider.provider\n    }\n  };\n  return tagFile;\n};\nexport default getTagFile;", "import { getSafeFileId } from '@uppy/utils/lib/generateFileID';\nimport getTagFile from \"./getTagFile.js\";\nconst addFiles = (companionFiles, plugin, provider) => {\n  const tagFiles = companionFiles.map(f => getTagFile(f, plugin, provider));\n  const filesToAdd = [];\n  const filesAlreadyAdded = [];\n  tagFiles.forEach(tagFile => {\n    if (plugin.uppy.checkIfFileAlreadyExists(getSafeFileId(tagFile, plugin.uppy.getID()))) {\n      filesAlreadyAdded.push(tagFile);\n    } else {\n      filesToAdd.push(tagFile);\n    }\n  });\n  if (filesToAdd.length > 0) {\n    plugin.uppy.info(plugin.uppy.i18n('addedNumFiles', {\n      numFiles: filesToAdd.length\n    }));\n  }\n  if (filesAlreadyAdded.length > 0) {\n    plugin.uppy.info(`Not adding ${filesAlreadyAdded.length} files because they already exist`);\n  }\n  plugin.uppy.addFiles(filesToAdd);\n};\nexport default addFiles;", "/* eslint-disable no-param-reassign */\n\nconst getPath = (partialTree, id, cache) => {\n  const sId = id === null ? 'null' : id;\n  if (cache[sId]) return cache[sId];\n  const file = partialTree.find(f => f.id === id);\n  if (file.type === 'root') return [];\n  const meAndParentPath = [...getPath(partialTree, file.parentId, cache), file];\n  cache[sId] = meAndParentPath;\n  return meAndParentPath;\n};\n\n// See \"Uppy file properties\" documentation for `.absolutePath` and `.relativePath`\n// (https://uppy.io/docs/uppy/#working-with-uppy-files)\nconst getCheckedFilesWithPaths = partialTree => {\n  // Equivalent to `const cache = {}`, but makes keys such as 'hasOwnProperty' safe too\n  const cache = Object.create(null);\n\n  // We're only interested in injecting paths into 'checked' files\n  const checkedFiles = partialTree.filter(item => item.type === 'file' && item.status === 'checked');\n  const companionFilesWithInjectedPaths = checkedFiles.map(file => {\n    const absFolders = getPath(partialTree, file.id, cache);\n    const firstCheckedFolderIndex = absFolders.findIndex(i => i.type === 'folder' && i.status === 'checked');\n    const relFolders = absFolders.slice(firstCheckedFolderIndex);\n    const absDirPath = `/${absFolders.map(i => i.data.name).join('/')}`;\n    const relDirPath = relFolders.length === 1 ?\n    // Must return `undefined` (which later turns into `null` in `.getTagFile()`)\n    // (https://github.com/transloadit/uppy/pull/4537#issuecomment-1629136652)\n    undefined : relFolders.map(i => i.data.name).join('/');\n    return {\n      ...file.data,\n      absDirPath,\n      relDirPath\n    };\n  });\n  return companionFilesWithInjectedPaths;\n};\nexport default getCheckedFilesWithPaths;", "const getBreadcrumbs = (partialTree, currentFolderId) => {\n  let folder = partialTree.find(f => f.id === currentFolderId);\n  let breadcrumbs = [];\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    breadcrumbs = [folder, ...breadcrumbs];\n    if (folder.type === 'root') break;\n    const currentParentId = folder.parentId;\n    folder = partialTree.find(f => f.id === currentParentId);\n  }\n  return breadcrumbs;\n};\nexport default getBreadcrumbs;", "import { h } from 'preact';\nimport classNames from 'classnames';\nimport remoteFileObjToLocal from '@uppy/utils/lib/remoteFileObjToLocal';\nimport SearchInput from \"../SearchInput.js\";\nimport Browser from \"../Browser.js\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.0.0\"\n};\nimport PartialTreeUtils from \"../utils/PartialTreeUtils/index.js\";\nimport shouldHandleScroll from \"../utils/shouldHandleScroll.js\";\nimport handleError from \"../utils/handleError.js\";\nimport getClickedRange from \"../utils/getClickedRange.js\";\nimport FooterActions from \"../FooterActions.js\";\nimport addFiles from \"../utils/addFiles.js\";\nimport getCheckedFilesWithPaths from \"../utils/PartialTreeUtils/getCheckedFilesWithPaths.js\";\nconst defaultState = {\n  loading: false,\n  searchString: '',\n  partialTree: [{\n    type: 'root',\n    id: null,\n    cached: false,\n    nextPagePath: null\n  }],\n  currentFolderId: null,\n  isInputMode: true\n};\n/**\n * SearchProviderView, used for Unsplash and future image search providers.\n * Extends generic View, shared with regular providers like Google Drive and Instagram.\n */\nexport default class SearchProviderView {\n  constructor(plugin, opts) {\n    this.isHandlingScroll = false;\n    this.lastCheckbox = null;\n    this.validateSingleFile = file => {\n      const companionFile = remoteFileObjToLocal(file);\n      const result = this.plugin.uppy.validateSingleFile(companionFile);\n      return result;\n    };\n    this.getDisplayedPartialTree = () => {\n      const {\n        partialTree\n      } = this.plugin.getPluginState();\n      return partialTree.filter(item => item.type !== 'root');\n    };\n    this.setSearchString = searchString => {\n      this.plugin.setPluginState({\n        searchString\n      });\n      if (searchString === '') {\n        this.plugin.setPluginState({\n          partialTree: []\n        });\n      }\n    };\n    this.validateAggregateRestrictions = partialTree => {\n      const checkedFiles = partialTree.filter(item => item.type === 'file' && item.status === 'checked');\n      const uppyFiles = checkedFiles.map(file => file.data);\n      return this.plugin.uppy.validateAggregateRestrictions(uppyFiles);\n    };\n    this.plugin = plugin;\n    this.provider = opts.provider;\n    const defaultOptions = {\n      viewType: 'grid',\n      showTitles: true,\n      showFilter: true\n    };\n    this.opts = {\n      ...defaultOptions,\n      ...opts\n    };\n    this.setSearchString = this.setSearchString.bind(this);\n    this.search = this.search.bind(this);\n    this.resetPluginState = this.resetPluginState.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.donePicking = this.donePicking.bind(this);\n    this.cancelSelection = this.cancelSelection.bind(this);\n    this.toggleCheckbox = this.toggleCheckbox.bind(this);\n    this.render = this.render.bind(this);\n\n    // Set default state for the plugin\n    this.resetPluginState();\n\n    // @ts-expect-error this should be typed in @uppy/dashboard.\n    this.plugin.uppy.on('dashboard:close-panel', this.resetPluginState);\n    this.plugin.uppy.registerRequestClient(this.provider.provider, this.provider);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  tearDown() {\n    // Nothing.\n  }\n  setLoading(loading) {\n    this.plugin.setPluginState({\n      loading\n    });\n  }\n  resetPluginState() {\n    this.plugin.setPluginState(defaultState);\n  }\n  cancelSelection() {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    const newPartialTree = partialTree.map(item => item.type === 'root' ? item : {\n      ...item,\n      status: 'unchecked'\n    });\n    this.plugin.setPluginState({\n      partialTree: newPartialTree\n    });\n  }\n  async search() {\n    const {\n      searchString\n    } = this.plugin.getPluginState();\n    if (searchString === '') return;\n    this.setLoading(true);\n    try {\n      const response = await this.provider.search(searchString);\n      const newPartialTree = [{\n        type: 'root',\n        id: null,\n        cached: false,\n        nextPagePath: response.nextPageQuery\n      }, ...response.items.map(item => ({\n        type: 'file',\n        id: item.requestPath,\n        status: 'unchecked',\n        parentId: null,\n        data: item\n      }))];\n      this.plugin.setPluginState({\n        partialTree: newPartialTree,\n        isInputMode: false\n      });\n    } catch (error) {\n      handleError(this.plugin.uppy)(error);\n    }\n    this.setLoading(false);\n  }\n  async handleScroll(event) {\n    const {\n      partialTree,\n      searchString\n    } = this.plugin.getPluginState();\n    const root = partialTree.find(i => i.type === 'root');\n    if (shouldHandleScroll(event) && !this.isHandlingScroll && root.nextPagePath) {\n      this.isHandlingScroll = true;\n      try {\n        const response = await this.provider.search(searchString, root.nextPagePath);\n        const newRoot = {\n          ...root,\n          nextPagePath: response.nextPageQuery\n        };\n        const oldItems = partialTree.filter(i => i.type !== 'root');\n        const newPartialTree = [newRoot, ...oldItems, ...response.items.map(item => ({\n          type: 'file',\n          id: item.requestPath,\n          status: 'unchecked',\n          parentId: null,\n          data: item\n        }))];\n        this.plugin.setPluginState({\n          partialTree: newPartialTree\n        });\n      } catch (error) {\n        handleError(this.plugin.uppy)(error);\n      }\n      this.isHandlingScroll = false;\n    }\n  }\n  async donePicking() {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n\n    // 1. Add files\n    const companionFiles = getCheckedFilesWithPaths(partialTree);\n    addFiles(companionFiles, this.plugin, this.provider);\n\n    // 2. Reset state\n    this.resetPluginState();\n  }\n  toggleCheckbox(ourItem, isShiftKeyPressed) {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    const clickedRange = getClickedRange(ourItem.id, this.getDisplayedPartialTree(), isShiftKeyPressed, this.lastCheckbox);\n    const newPartialTree = PartialTreeUtils.afterToggleCheckbox(partialTree, clickedRange);\n    this.plugin.setPluginState({\n      partialTree: newPartialTree\n    });\n    this.lastCheckbox = ourItem.id;\n  }\n  render(state, viewOptions) {\n    if (viewOptions === void 0) {\n      viewOptions = {};\n    }\n    const {\n      isInputMode,\n      searchString,\n      loading,\n      partialTree\n    } = this.plugin.getPluginState();\n    const {\n      i18n\n    } = this.plugin.uppy;\n    const opts = {\n      ...this.opts,\n      ...viewOptions\n    };\n    if (isInputMode) {\n      return h(SearchInput, {\n        searchString: searchString,\n        setSearchString: this.setSearchString,\n        submitSearchString: this.search,\n        inputLabel: i18n('enterTextToSearch'),\n        buttonLabel: i18n('searchImages'),\n        wrapperClassName: \"uppy-SearchProvider\",\n        inputClassName: \"uppy-c-textInput uppy-SearchProvider-input\",\n        showButton: true,\n        buttonCSSClassName: \"uppy-SearchProvider-searchButton\"\n      });\n    }\n    return h(\"div\", {\n      className: classNames('uppy-ProviderBrowser', `uppy-ProviderBrowser-viewType--${opts.viewType}`)\n    }, opts.showFilter && h(SearchInput, {\n      searchString: searchString,\n      setSearchString: this.setSearchString,\n      submitSearchString: this.search,\n      inputLabel: i18n('search'),\n      clearSearchLabel: i18n('resetSearch'),\n      wrapperClassName: \"uppy-ProviderBrowser-searchFilter\",\n      inputClassName: \"uppy-ProviderBrowser-searchFilterInput\"\n    }), h(Browser, {\n      toggleCheckbox: this.toggleCheckbox,\n      displayedPartialTree: this.getDisplayedPartialTree(),\n      handleScroll: this.handleScroll,\n      openFolder: async () => {},\n      noResultsLabel: i18n('noSearchResults'),\n      viewType: opts.viewType,\n      showTitles: opts.showTitles,\n      isLoading: loading,\n      i18n: i18n,\n      virtualList: false\n    }), h(FooterActions, {\n      partialTree: partialTree,\n      donePicking: this.donePicking,\n      cancelSelection: this.cancelSelection,\n      i18n: i18n,\n      validateAggregateRestrictions: this.validateAggregateRestrictions\n    }));\n  }\n}\nSearchProviderView.VERSION = packageJson.version;", "var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var cache = null;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {\n            return cache.lastResult;\n        }\n        var lastResult = resultFn.apply(this, newArgs);\n        cache = {\n            lastResult: lastResult,\n            lastArgs: newArgs,\n            lastThis: this,\n        };\n        return lastResult;\n    }\n    memoized.clear = function clear() {\n        cache = null;\n    };\n    return memoized;\n}\n\nexport { memoizeOne as default };\n", "export default ['a[href]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'area[href]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'input:not([disabled]):not([inert]):not([aria-hidden])', 'select:not([disabled]):not([inert]):not([aria-hidden])', 'textarea:not([disabled]):not([inert]):not([aria-hidden])', 'button:not([disabled]):not([inert]):not([aria-hidden])', 'iframe:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'object:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'embed:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', '[contenteditable]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', '[tabindex]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])'];", "/**\n * @returns {HTMLElement} - either dashboard element, or the overlay that's most on top\n */\nexport default function getActiveOverlayEl(dashboardEl, activeOverlayType) {\n  if (activeOverlayType) {\n    const overlayEl = dashboardEl.querySelector(`[data-uppy-paneltype=\"${activeOverlayType}\"]`);\n    // if an overlay is already mounted\n    if (overlayEl) return overlayEl;\n  }\n  return dashboardEl;\n}", "import toArray from '@uppy/utils/lib/toArray';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport FOCUSABLE_ELEMENTS from '@uppy/utils/lib/FOCUSABLE_ELEMENTS';\nimport getActiveOverlayEl from \"./getActiveOverlayEl.js\";\nfunction focusOnFirstNode(event, nodes) {\n  const node = nodes[0];\n  if (node) {\n    node.focus();\n    event.preventDefault();\n  }\n}\nfunction focusOnLastNode(event, nodes) {\n  const node = nodes[nodes.length - 1];\n  if (node) {\n    node.focus();\n    event.preventDefault();\n  }\n}\n\n// ___Why not just use (focusedItemIndex === -1)?\n//    Firefox thinks <ul> is focusable, but we don't have <ul>s in our FOCUSABLE_ELEMENTS. Which means that if we tab into\n//    the <ul>, code will think that we are not in the active overlay, and we should focusOnFirstNode() of the currently\n//    active overlay!\n//    [Practical check] if we use (focusedItemIndex === -1), instagram provider in firefox will never get focus on its pics\n//    in the <ul>.\nfunction isFocusInOverlay(activeOverlayEl) {\n  return activeOverlayEl.contains(document.activeElement);\n}\nfunction trapFocus(event, activeOverlayType, dashboardEl) {\n  const activeOverlayEl = getActiveOverlayEl(dashboardEl, activeOverlayType);\n  const focusableNodes = toArray(activeOverlayEl.querySelectorAll(FOCUSABLE_ELEMENTS));\n  const focusedItemIndex = focusableNodes.indexOf(document.activeElement);\n\n  // If we pressed tab, and focus is not yet within the current overlay - focus on\n  // the first element within the current overlay.\n  // This is a safety measure (for when user returns from another tab e.g.), most\n  // plugins will try to focus on some important element as it loads.\n  if (!isFocusInOverlay(activeOverlayEl)) {\n    focusOnFirstNode(event, focusableNodes);\n    // If we pressed shift + tab, and we're on the first element of a modal\n  } else if (event.shiftKey && focusedItemIndex === 0) {\n    focusOnLastNode(event, focusableNodes);\n    // If we pressed tab, and we're on the last element of the modal\n  } else if (!event.shiftKey && focusedItemIndex === focusableNodes.length - 1) {\n    focusOnFirstNode(event, focusableNodes);\n  }\n}\n\n// Traps focus inside of the currently open overlay (e.g. Dashboard, or e.g. Instagram),\n// never lets focus disappear from the modal.\nexport { trapFocus as forModal };\n\n// Traps focus inside of the currently open overlay, unless overlay is null - then let the user tab away.\nexport function forInline(event, activeOverlayType, dashboardEl) {\n  // ___When we're in the bare 'Drop files here, paste, browse or import from' screen\n  if (activeOverlayType === null) {\n    // Do nothing and let the browser handle it, user can tab away from Uppy to other elements on the page\n    // ___When there is some overlay with 'Done' button\n  } else {\n    // Trap the focus inside this overlay!\n    // User can close the overlay (click 'Done') if they want to travel away from Uppy.\n    trapFocus(event, activeOverlayType, dashboardEl);\n  }\n}", "import debounce from 'lodash/debounce.js';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport FOCUSABLE_ELEMENTS from '@uppy/utils/lib/FOCUSABLE_ELEMENTS';\nimport getActiveOverlayEl from \"./getActiveOverlayEl.js\";\n/*\n  Focuses on some element in the currently topmost overlay.\n\n  1. If there are some [data-uppy-super-focusable] elements rendered already - focuses\n     on the first superfocusable element, and leaves focus up to the control of\n     a user (until currently focused element disappears from the screen [which\n     can happen when overlay changes, or, e.g., when we click on a folder in googledrive]).\n  2. If there are no [data-uppy-super-focusable] elements yet (or ever) - focuses\n     on the first focusable element, but switches focus if superfocusable elements appear on next render.\n*/\nexport default function createSuperFocus() {\n  let lastFocusWasOnSuperFocusableEl = false;\n  const superFocus = (dashboardEl, activeOverlayType) => {\n    const overlayEl = getActiveOverlayEl(dashboardEl, activeOverlayType);\n    const isFocusInOverlay = overlayEl.contains(document.activeElement);\n    // If focus is already in the topmost overlay, AND on last update we focused on the superfocusable\n    // element - then leave focus up to the user.\n    // [Practical check] without this line, typing in the search input in googledrive overlay won't work.\n    if (isFocusInOverlay && lastFocusWasOnSuperFocusableEl) return;\n    const superFocusableEl = overlayEl.querySelector('[data-uppy-super-focusable]');\n    // If we are already in the topmost overlay, AND there are no super focusable elements yet, - leave focus up to the user.\n    // [Practical check] without this line, if you are in an empty folder in google drive, and something's uploading in the\n    // bg, - focus will be jumping to Done all the time.\n    if (isFocusInOverlay && !superFocusableEl) return;\n    if (superFocusableEl) {\n      superFocusableEl.focus({\n        preventScroll: true\n      });\n      lastFocusWasOnSuperFocusableEl = true;\n    } else {\n      const firstEl = overlayEl.querySelector(FOCUSABLE_ELEMENTS);\n      firstEl == null || firstEl.focus({\n        preventScroll: true\n      });\n      lastFocusWasOnSuperFocusableEl = false;\n    }\n  };\n\n  // ___Why do we need to debounce?\n  //    1. To deal with animations: overlay changes via animations, which results in the DOM updating AFTER plugin.update()\n  //       already executed.\n  //    [Practical check] without debounce, if we open the Url overlay, and click 'Done', Dashboard won't get focused again.\n  //    [Practical check] if we delay 250ms instead of 260ms - IE11 won't get focused in same situation.\n  //    2. Performance: there can be many state update()s in a second, and this function is called every time.\n  return debounce(superFocus, 260);\n}", "function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\n/* eslint-disable react/destructuring-assignment, react/jsx-props-no-spreading */\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport isDragDropSupported from '@uppy/utils/lib/isDragDropSupported';\nimport FileList from \"./FileList.js\";\nimport AddFiles from \"./AddFiles.js\";\nimport AddFilesPanel from \"./AddFilesPanel.js\";\nimport PickerPanelContent from \"./PickerPanelContent.js\";\nimport EditorPanel from \"./EditorPanel.js\";\nimport PanelTopBar from \"./PickerPanelTopBar.js\";\nimport FileCard from \"./FileCard/index.js\";\nimport Slide from \"./Slide.js\";\n\n// http://dev.edenspiekermann.com/2016/02/11/introducing-accessible-modal-dialog\n// https://github.com/ghosh/micromodal\n\nconst WIDTH_XL = 900;\nconst WIDTH_LG = 700;\nconst WIDTH_MD = 576;\nconst HEIGHT_MD = 330;\n// We might want to enable this in the future\n// const HEIGHT_LG = 400\n// const HEIGHT_XL = 460\n\nexport default function Dashboard(props) {\n  const isNoFiles = props.totalFileCount === 0;\n  const isSingleFile = props.totalFileCount === 1;\n  const isSizeMD = props.containerWidth > WIDTH_MD;\n  const isSizeHeightMD = props.containerHeight > HEIGHT_MD;\n  const dashboardClassName = classNames({\n    'uppy-Dashboard': true,\n    'uppy-Dashboard--isDisabled': props.disabled,\n    'uppy-Dashboard--animateOpenClose': props.animateOpenClose,\n    'uppy-Dashboard--isClosing': props.isClosing,\n    'uppy-Dashboard--isDraggingOver': props.isDraggingOver,\n    'uppy-Dashboard--modal': !props.inline,\n    'uppy-size--md': props.containerWidth > WIDTH_MD,\n    'uppy-size--lg': props.containerWidth > WIDTH_LG,\n    'uppy-size--xl': props.containerWidth > WIDTH_XL,\n    'uppy-size--height-md': props.containerHeight > HEIGHT_MD,\n    // We might want to enable this in the future\n    // 'uppy-size--height-lg': props.containerHeight > HEIGHT_LG,\n    // 'uppy-size--height-xl': props.containerHeight > HEIGHT_XL,\n    'uppy-Dashboard--isAddFilesPanelVisible': props.showAddFilesPanel,\n    'uppy-Dashboard--isInnerWrapVisible': props.areInsidesReadyToBeVisible,\n    // Only enable \u201Ccentered single file\u201D mode when Dashboard is tall enough\n    'uppy-Dashboard--singleFile': props.singleFileFullScreen && isSingleFile && isSizeHeightMD\n  });\n\n  // Important: keep these in sync with the percent width values in `src/components/FileItem/index.scss`.\n  let itemsPerRow = 1; // mobile\n  if (props.containerWidth > WIDTH_XL) {\n    itemsPerRow = 5;\n  } else if (props.containerWidth > WIDTH_LG) {\n    itemsPerRow = 4;\n  } else if (props.containerWidth > WIDTH_MD) {\n    itemsPerRow = 3;\n  }\n  const showFileList = props.showSelectedFiles && !isNoFiles;\n  const numberOfFilesForRecovery = props.recoveredState ? Object.keys(props.recoveredState.files).length : null;\n  const numberOfGhosts = props.files ? Object.keys(props.files).filter(fileID => props.files[fileID].isGhost).length : null;\n  const renderRestoredText = () => {\n    if (numberOfGhosts > 0) {\n      return props.i18n('recoveredXFiles', {\n        smart_count: numberOfGhosts\n      });\n    }\n    return props.i18n('recoveredAllFiles');\n  };\n  const dashboard = h(\"div\", {\n    className: dashboardClassName,\n    \"data-uppy-theme\": props.theme,\n    \"data-uppy-num-acquirers\": props.acquirers.length,\n    \"data-uppy-drag-drop-supported\": !props.disableLocalFiles && isDragDropSupported(),\n    \"aria-hidden\": props.inline ? 'false' : props.isHidden,\n    \"aria-disabled\": props.disabled,\n    \"aria-label\": !props.inline ? props.i18n('dashboardWindowTitle') : props.i18n('dashboardTitle'),\n    onPaste: props.handlePaste,\n    onDragOver: props.handleDragOver,\n    onDragLeave: props.handleDragLeave,\n    onDrop: props.handleDrop\n  }, h(\"div\", {\n    \"aria-hidden\": \"true\",\n    className: \"uppy-Dashboard-overlay\",\n    tabIndex: -1,\n    onClick: props.handleClickOutside\n  }), h(\"div\", {\n    className: \"uppy-Dashboard-inner\",\n    \"aria-modal\": !props.inline && 'true',\n    role: props.inline ? undefined : 'dialog',\n    style: {\n      width: props.inline && props.width ? props.width : '',\n      height: props.inline && props.height ? props.height : ''\n    }\n  }, !props.inline ? h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-close\",\n    type: \"button\",\n    \"aria-label\": props.i18n('closeModal'),\n    title: props.i18n('closeModal'),\n    onClick: props.closeModal\n  }, h(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\")) : null, h(\"div\", {\n    className: \"uppy-Dashboard-innerWrap\"\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-dropFilesHereHint\"\n  }, props.i18n('dropHint')), showFileList && h(PanelTopBar, props), numberOfFilesForRecovery && h(\"div\", {\n    className: \"uppy-Dashboard-serviceMsg\"\n  }, h(\"svg\", {\n    className: \"uppy-Dashboard-serviceMsg-icon\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"21\",\n    height: \"16\",\n    viewBox: \"0 0 24 19\"\n  }, h(\"g\", {\n    transform: \"translate(0 -1)\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, h(\"path\", {\n    d: \"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z\",\n    fill: \"#FFD300\"\n  }), h(\"path\", {\n    fill: \"#000\",\n    d: \"M11 6h2l-.3 8h-1.4z\"\n  }), h(\"circle\", {\n    fill: \"#000\",\n    cx: \"12\",\n    cy: \"17\",\n    r: \"1\"\n  }))), h(\"strong\", {\n    className: \"uppy-Dashboard-serviceMsg-title\"\n  }, props.i18n('sessionRestored')), h(\"div\", {\n    className: \"uppy-Dashboard-serviceMsg-text\"\n  }, renderRestoredText())), showFileList ? h(FileList, {\n    id: props.id,\n    error: props.error,\n    i18n: props.i18n,\n    uppy: props.uppy,\n    files: props.files,\n    acquirers: props.acquirers,\n    resumableUploads: props.resumableUploads,\n    hideRetryButton: props.hideRetryButton,\n    hidePauseResumeButton: props.hidePauseResumeButton,\n    hideCancelButton: props.hideCancelButton,\n    showLinkToFileUploadResult: props.showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,\n    isWide: props.isWide,\n    metaFields: props.metaFields,\n    toggleFileCard: props.toggleFileCard,\n    handleRequestThumbnail: props.handleRequestThumbnail,\n    handleCancelThumbnail: props.handleCancelThumbnail,\n    recoveredState: props.recoveredState,\n    individualCancellation: props.individualCancellation,\n    openFileEditor: props.openFileEditor,\n    canEditFile: props.canEditFile,\n    toggleAddFilesPanel: props.toggleAddFilesPanel,\n    isSingleFile: isSingleFile,\n    itemsPerRow: itemsPerRow\n  })\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  : h(AddFiles, _extends({}, props, {\n    isSizeMD: isSizeMD\n  })), h(Slide, null, props.showAddFilesPanel ? h(AddFilesPanel, _extends({\n    key: \"AddFiles\"\n  }, props, {\n    isSizeMD: isSizeMD\n  })) : null), h(Slide, null, props.fileCardFor ? h(FileCard, _extends({\n    key: \"FileCard\"\n  }, props)) : null), h(Slide, null, props.activePickerPanel ? h(PickerPanelContent, _extends({\n    key: \"Picker\"\n  }, props)) : null), h(Slide, null, props.showFileEditor ? h(EditorPanel, _extends({\n    key: \"Editor\"\n  }, props)) : null), h(\"div\", {\n    className: \"uppy-Dashboard-progressindicators\"\n  }, props.progressindicators.map(target => {\n    return props.uppy.getPlugin(target.id).render(props.state);\n  })))));\n  return dashboard;\n}", "/**\n * Checks if the browser supports Drag & Drop (not supported on mobile devices, for example).\n */\nexport default function isDragDropSupported() {\n  const div = document.body;\n  if (!('draggable' in div) || !('ondragstart' in div && 'ondrop' in div)) {\n    return false;\n  }\n  if (!('FormData' in window)) {\n    return false;\n  }\n  if (!('FileReader' in window)) {\n    return false;\n  }\n  return true;\n}", "// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck Typing this file requires more work, skipping it to unblock the rest of the transition.\n\n/* eslint-disable react/destructuring-assignment */\nimport { h, Component } from 'preact';\nimport classNames from 'classnames';\nimport { shallowEqualObjects } from 'shallow-equal';\nimport FilePreviewAndLink from \"./FilePreviewAndLink/index.js\";\nimport FileProgress from \"./FileProgress/index.js\";\nimport FileInfo from \"./FileInfo/index.js\";\nimport Buttons from \"./Buttons/index.js\";\nexport default class FileItem extends Component {\n  componentDidMount() {\n    const {\n      file\n    } = this.props;\n    if (!file.preview) {\n      this.props.handleRequestThumbnail(file);\n    }\n  }\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqualObjects(this.props, nextProps);\n  }\n\n  // VirtualList mounts FileItems again and they emit `thumbnail:request`\n  // Otherwise thumbnails are broken or missing after Golden Retriever restores files\n  componentDidUpdate() {\n    const {\n      file\n    } = this.props;\n    if (!file.preview) {\n      this.props.handleRequestThumbnail(file);\n    }\n  }\n  componentWillUnmount() {\n    const {\n      file\n    } = this.props;\n    if (!file.preview) {\n      this.props.handleCancelThumbnail(file);\n    }\n  }\n  render() {\n    const {\n      file\n    } = this.props;\n    const isProcessing = file.progress.preprocess || file.progress.postprocess;\n    const isUploaded = file.progress.uploadComplete && !isProcessing && !file.error;\n    const uploadInProgressOrComplete = file.progress.uploadStarted || isProcessing;\n    const uploadInProgress = file.progress.uploadStarted && !file.progress.uploadComplete || isProcessing;\n    const error = file.error || false;\n\n    // File that Golden Retriever was able to partly restore (only meta, not blob),\n    // users still need to re-add it, so it\u2019s a ghost\n    const {\n      isGhost\n    } = file;\n    let showRemoveButton = this.props.individualCancellation ? !isUploaded : !uploadInProgress && !isUploaded;\n    if (isUploaded && this.props.showRemoveButtonAfterComplete) {\n      showRemoveButton = true;\n    }\n    const dashboardItemClass = classNames({\n      'uppy-Dashboard-Item': true,\n      'is-inprogress': uploadInProgress && !this.props.recoveredState,\n      'is-processing': isProcessing,\n      'is-complete': isUploaded,\n      'is-error': !!error,\n      'is-resumable': this.props.resumableUploads,\n      'is-noIndividualCancellation': !this.props.individualCancellation,\n      'is-ghost': isGhost\n    });\n    return h(\"div\", {\n      className: dashboardItemClass,\n      id: `uppy_${file.id}`,\n      role: this.props.role\n    }, h(\"div\", {\n      className: \"uppy-Dashboard-Item-preview\"\n    }, h(FilePreviewAndLink, {\n      file: file,\n      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,\n      i18n: this.props.i18n,\n      toggleFileCard: this.props.toggleFileCard,\n      metaFields: this.props.metaFields\n    }), h(FileProgress, {\n      uppy: this.props.uppy,\n      file: file,\n      error: error,\n      isUploaded: isUploaded,\n      hideRetryButton: this.props.hideRetryButton,\n      hideCancelButton: this.props.hideCancelButton,\n      hidePauseResumeButton: this.props.hidePauseResumeButton,\n      recoveredState: this.props.recoveredState,\n      showRemoveButtonAfterComplete: this.props.showRemoveButtonAfterComplete,\n      resumableUploads: this.props.resumableUploads,\n      individualCancellation: this.props.individualCancellation,\n      i18n: this.props.i18n\n    })), h(\"div\", {\n      className: \"uppy-Dashboard-Item-fileInfoAndButtons\"\n    }, h(FileInfo, {\n      file: file,\n      id: this.props.id,\n      acquirers: this.props.acquirers,\n      containerWidth: this.props.containerWidth,\n      containerHeight: this.props.containerHeight,\n      i18n: this.props.i18n,\n      toggleAddFilesPanel: this.props.toggleAddFilesPanel,\n      toggleFileCard: this.props.toggleFileCard,\n      metaFields: this.props.metaFields,\n      isSingleFile: this.props.isSingleFile\n    }), h(Buttons, {\n      file: file,\n      metaFields: this.props.metaFields,\n      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,\n      showRemoveButton: showRemoveButton,\n      canEditFile: this.props.canEditFile,\n      uploadInProgressOrComplete: uploadInProgressOrComplete,\n      toggleFileCard: this.props.toggleFileCard,\n      openFileEditor: this.props.openFileEditor,\n      uppy: this.props.uppy,\n      i18n: this.props.i18n\n    })));\n  }\n}", "export type validArrayValue = any[] | null | undefined;\n\nexport default function shallowEqualArrays(\n  arrA: validArrayValue,\n  arrB: validArrayValue\n): boolean {\n  if (arrA === arrB) {\n    return true;\n  }\n\n  if (!arrA || !arrB) {\n    return false;\n  }\n\n  const len = arrA.length;\n\n  if (arrB.length !== len) {\n    return false;\n  }\n\n  for (let i = 0; i < len; i++) {\n    if (arrA[i] !== arrB[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n", "export type validObjectValue = Record<string, any> | null | undefined;\n\nexport default function shallowEqualObjects<T>(\n  objA: validObjectValue,\n  objB: validObjectValue\n): boolean {\n  if (objA === objB) {\n    return true;\n  }\n\n  if (!objA || !objB) {\n    return false;\n  }\n\n  const aKeys = Object.keys(objA);\n  const bKeys = Object.keys(objB);\n  const len = aKeys.length;\n\n  if (bKeys.length !== len) {\n    return false;\n  }\n\n  for (let i = 0; i < len; i++) {\n    const key = aKeys[i];\n\n    if (\n      objA[key] !== objB[key] ||\n      !Object.prototype.hasOwnProperty.call(objB, key)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n", "import shallowEqualArrays from \"./arrays\";\nimport shallowEqualObjects from \"./objects\";\n\ntype Comparable = Record<string, any> | any[] | null | undefined;\n\nfunction shallowEqual<T extends Comparable>(a: T, b: T): boolean {\n  const aIsArr = Array.isArray(a);\n  const bIsArr = Array.isArray(b);\n\n  if (aIsArr !== bIsArr) {\n    return false;\n  }\n\n  if (aIsArr && bIsArr) {\n    return shallowEqualArrays(a, b);\n  }\n\n  return shallowEqualObjects(a, b);\n}\n\nexport { shallowEqual, shallowEqualObjects, shallowEqualArrays };\n", "import { h } from 'preact';\nfunction iconImage() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"g\", {\n    fill: \"#686DE0\",\n    fillRule: \"evenodd\"\n  }, h(\"path\", {\n    d: \"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z\",\n    fillRule: \"nonzero\"\n  }), h(\"path\", {\n    d: \"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z\",\n    fillRule: \"nonzero\"\n  }), h(\"circle\", {\n    cx: \"7.5\",\n    cy: \"9.5\",\n    r: \"1.5\"\n  })));\n}\nfunction iconAudio() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z\",\n    fill: \"#049BCF\",\n    fillRule: \"nonzero\"\n  }));\n}\nfunction iconVideo() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z\",\n    fill: \"#19AF67\",\n    fillRule: \"nonzero\"\n  }));\n}\nfunction iconPDF() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z\",\n    fill: \"#E2514A\",\n    fillRule: \"nonzero\"\n  }));\n}\nfunction iconArchive() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z\",\n    fill: \"#00C469\",\n    fillRule: \"nonzero\"\n  }));\n}\nfunction iconFile() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"g\", {\n    fill: \"#A7AFB7\",\n    fillRule: \"nonzero\"\n  }, h(\"path\", {\n    d: \"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z\"\n  }), h(\"path\", {\n    d: \"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z\"\n  })));\n}\nfunction iconText() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z\",\n    fill: \"#5A5E69\",\n    fillRule: \"nonzero\"\n  }));\n}\nexport default function getIconByMime(fileType) {\n  const defaultChoice = {\n    color: '#838999',\n    icon: iconFile()\n  };\n  if (!fileType) return defaultChoice;\n  const fileTypeGeneral = fileType.split('/')[0];\n  const fileTypeSpecific = fileType.split('/')[1];\n\n  // Text\n  if (fileTypeGeneral === 'text') {\n    return {\n      color: '#5a5e69',\n      icon: iconText()\n    };\n  }\n\n  // Image\n  if (fileTypeGeneral === 'image') {\n    return {\n      color: '#686de0',\n      icon: iconImage()\n    };\n  }\n\n  // Audio\n  if (fileTypeGeneral === 'audio') {\n    return {\n      color: '#068dbb',\n      icon: iconAudio()\n    };\n  }\n\n  // Video\n  if (fileTypeGeneral === 'video') {\n    return {\n      color: '#19af67',\n      icon: iconVideo()\n    };\n  }\n\n  // PDF\n  if (fileTypeGeneral === 'application' && fileTypeSpecific === 'pdf') {\n    return {\n      color: '#e25149',\n      icon: iconPDF()\n    };\n  }\n\n  // Archive\n  const archiveTypes = ['zip', 'x-7z-compressed', 'x-zip-compressed', 'x-rar-compressed', 'x-tar', 'x-gzip', 'x-apple-diskimage'];\n  if (fileTypeGeneral === 'application' && archiveTypes.indexOf(fileTypeSpecific) !== -1) {\n    return {\n      color: '#00C469',\n      icon: iconArchive()\n    };\n  }\n  return defaultChoice;\n}", "import { h } from 'preact';\nimport getFileTypeIcon from \"../utils/getFileTypeIcon.js\";\nexport default function FilePreview(props) {\n  const {\n    file\n  } = props;\n  if (file.preview) {\n    return h(\"img\", {\n      className: \"uppy-Dashboard-Item-previewImg\",\n      alt: file.name,\n      src: file.preview\n    });\n  }\n  const {\n    color,\n    icon\n  } = getFileTypeIcon(file.type);\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-previewIconWrap\"\n  }, h(\"span\", {\n    className: \"uppy-Dashboard-Item-previewIcon\",\n    style: {\n      color\n    }\n  }, icon), h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-Dashboard-Item-previewIconBg\",\n    width: \"58\",\n    height: \"76\",\n    viewBox: \"0 0 58 76\"\n  }, h(\"rect\", {\n    fill: \"#FFF\",\n    width: \"58\",\n    height: \"76\",\n    rx: \"3\",\n    fillRule: \"evenodd\"\n  })));\n}", "import { h } from 'preact';\nconst metaFieldIdToName = (metaFieldId, metaFields) => {\n  const fields = typeof metaFields === 'function' ? metaFields() : metaFields;\n  const field = fields.filter(f => f.id === metaFieldId);\n  return field[0].name;\n};\nexport default function MetaErrorMessage(props) {\n  const {\n    file,\n    toggleFileCard,\n    i18n,\n    metaFields\n  } = props;\n  const {\n    missingRequiredMetaFields\n  } = file;\n  if (!(missingRequiredMetaFields != null && missingRequiredMetaFields.length)) {\n    return null;\n  }\n  const metaFieldsString = missingRequiredMetaFields.map(missingMetaField => metaFieldIdToName(missingMetaField, metaFields)).join(', ');\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-errorMessage\"\n  }, i18n('missingRequiredMetaFields', {\n    smart_count: missingRequiredMetaFields.length,\n    fields: metaFieldsString\n  }), ' ', h(\"button\", {\n    type: \"button\",\n    class: \"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn\",\n    onClick: () => toggleFileCard(true, file.id)\n  }, i18n('editFile')));\n}", "import { h } from 'preact';\nimport FilePreview from \"../../FilePreview.js\";\nimport MetaErrorMessage from \"../MetaErrorMessage.js\";\nimport getFileTypeIcon from \"../../../utils/getFileTypeIcon.js\";\nexport default function FilePreviewAndLink(props) {\n  const {\n    file,\n    i18n,\n    toggleFileCard,\n    metaFields,\n    showLinkToFileUploadResult\n  } = props;\n  const white = 'rgba(255, 255, 255, 0.5)';\n  const previewBackgroundColor = file.preview ? white : getFileTypeIcon(file.type).color;\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-previewInnerWrap\",\n    style: {\n      backgroundColor: previewBackgroundColor\n    }\n  }, showLinkToFileUploadResult && file.uploadURL && h(\"a\", {\n    className: \"uppy-Dashboard-Item-previewLink\",\n    href: file.uploadURL,\n    rel: \"noreferrer noopener\",\n    target: \"_blank\",\n    \"aria-label\": file.meta.name\n  }, h(\"span\", {\n    hidden: true\n  }, file.meta.name)), h(FilePreview, {\n    file: file\n  }), h(MetaErrorMessage, {\n    file: file,\n    i18n: i18n,\n    toggleFileCard: toggleFileCard,\n    metaFields: metaFields\n  }));\n}", "/* eslint-disable react/destructuring-assignment */\nimport { h } from 'preact';\nfunction onPauseResumeCancelRetry(props) {\n  if (props.isUploaded) return;\n  if (props.error && !props.hideRetryButton) {\n    props.uppy.retryUpload(props.file.id);\n    return;\n  }\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    props.uppy.pauseResume(props.file.id);\n  } else if (props.individualCancellation && !props.hideCancelButton) {\n    props.uppy.removeFile(props.file.id);\n  }\n}\nfunction progressIndicatorTitle(props) {\n  if (props.isUploaded) {\n    return props.i18n('uploadComplete');\n  }\n  if (props.error) {\n    return props.i18n('retryUpload');\n  }\n  if (props.resumableUploads) {\n    if (props.file.isPaused) {\n      return props.i18n('resumeUpload');\n    }\n    return props.i18n('pauseUpload');\n  }\n  if (props.individualCancellation) {\n    return props.i18n('cancelUpload');\n  }\n  return '';\n}\nfunction ProgressIndicatorButton(props) {\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-progress\"\n  }, h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator\",\n    type: \"button\",\n    \"aria-label\": progressIndicatorTitle(props),\n    title: progressIndicatorTitle(props),\n    onClick: () => onPauseResumeCancelRetry(props)\n  }, props.children));\n}\nfunction ProgressCircleContainer(_ref) {\n  let {\n    children\n  } = _ref;\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"70\",\n    height: \"70\",\n    viewBox: \"0 0 36 36\",\n    className: \"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle\"\n  }, children);\n}\nfunction ProgressCircle(_ref2) {\n  let {\n    progress\n  } = _ref2;\n  // circle length equals 2 * PI * R\n  const circleLength = 2 * Math.PI * 15;\n  return h(\"g\", null, h(\"circle\", {\n    className: \"uppy-Dashboard-Item-progressIcon--bg\",\n    r: \"15\",\n    cx: \"18\",\n    cy: \"18\",\n    \"stroke-width\": \"2\",\n    fill: \"none\"\n  }), h(\"circle\", {\n    className: \"uppy-Dashboard-Item-progressIcon--progress\",\n    r: \"15\",\n    cx: \"18\",\n    cy: \"18\",\n    transform: \"rotate(-90, 18, 18)\",\n    fill: \"none\",\n    \"stroke-width\": \"2\",\n    \"stroke-dasharray\": circleLength,\n    \"stroke-dashoffset\": circleLength - circleLength / 100 * progress\n  }));\n}\nexport default function FileProgress(props) {\n  // Nothing if upload has not started\n  if (!props.file.progress.uploadStarted) {\n    return null;\n  }\n\n  // Green checkmark when complete\n  if (props.isUploaded) {\n    return h(\"div\", {\n      className: \"uppy-Dashboard-Item-progress\"\n    }, h(\"div\", {\n      className: \"uppy-Dashboard-Item-progressIndicator\"\n    }, h(ProgressCircleContainer, null, h(\"circle\", {\n      r: \"15\",\n      cx: \"18\",\n      cy: \"18\",\n      fill: \"#1bb240\"\n    }), h(\"polygon\", {\n      className: \"uppy-Dashboard-Item-progressIcon--check\",\n      transform: \"translate(2, 3)\",\n      points: \"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634\"\n    }))));\n  }\n  if (props.recoveredState) {\n    return undefined;\n  }\n\n  // Retry button for error\n  if (props.error && !props.hideRetryButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      h(ProgressIndicatorButton, props, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        className: \"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry\",\n        width: \"28\",\n        height: \"31\",\n        viewBox: \"0 0 16 19\"\n      }, h(\"path\", {\n        d: \"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z\"\n      }), h(\"path\", {\n        d: \"M7.9 3H10v2H7.9z\"\n      }), h(\"path\", {\n        d: \"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z\"\n      }), h(\"path\", {\n        d: \"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z\"\n      })))\n    );\n  }\n\n  // Pause/resume button for resumable uploads\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      h(ProgressIndicatorButton, props, h(ProgressCircleContainer, null, h(ProgressCircle, {\n        progress: props.file.progress.percentage\n      }), props.file.isPaused ? h(\"polygon\", {\n        className: \"uppy-Dashboard-Item-progressIcon--play\",\n        transform: \"translate(3, 3)\",\n        points: \"12 20 12 10 20 15\"\n      }) : h(\"g\", {\n        className: \"uppy-Dashboard-Item-progressIcon--pause\",\n        transform: \"translate(14.5, 13)\"\n      }, h(\"rect\", {\n        x: \"0\",\n        y: \"0\",\n        width: \"2\",\n        height: \"10\",\n        rx: \"0\"\n      }), h(\"rect\", {\n        x: \"5\",\n        y: \"0\",\n        width: \"2\",\n        height: \"10\",\n        rx: \"0\"\n      }))))\n    );\n  }\n\n  // Cancel button for non-resumable uploads if individualCancellation is supported (not bundled)\n  if (!props.resumableUploads && props.individualCancellation && !props.hideCancelButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      h(ProgressIndicatorButton, props, h(ProgressCircleContainer, null, h(ProgressCircle, {\n        progress: props.file.progress.percentage\n      }), h(\"polygon\", {\n        className: \"cancel\",\n        transform: \"translate(2, 2)\",\n        points: \"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12\"\n      })))\n    );\n  }\n\n  // Just progress when buttons are disabled\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-progress\"\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-Item-progressIndicator\"\n  }, h(ProgressCircleContainer, null, h(ProgressCircle, {\n    progress: props.file.progress.percentage\n  }))));\n}", "/* eslint-disable react/destructuring-assignment */\nimport { h, Fragment } from 'preact';\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport truncateString from '@uppy/utils/lib/truncateString';\nimport MetaErrorMessage from \"../MetaErrorMessage.js\";\nconst renderFileName = props => {\n  const {\n    author,\n    name\n  } = props.file.meta;\n  function getMaxNameLength() {\n    if (props.isSingleFile && props.containerHeight >= 350) {\n      return 90;\n    }\n    if (props.containerWidth <= 352) {\n      return 35;\n    }\n    if (props.containerWidth <= 576) {\n      return 60;\n    }\n    // When `author` is present, we want to make sure\n    // the file name fits on one line so we can place\n    // the author on the second line.\n    return author ? 20 : 30;\n  }\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-name\",\n    title: name\n  }, truncateString(name, getMaxNameLength()));\n};\nconst renderAuthor = props => {\n  var _props$file$remote;\n  const {\n    author\n  } = props.file.meta;\n  const providerName = (_props$file$remote = props.file.remote) == null ? void 0 : _props$file$remote.providerName;\n  const dot = `\\u00B7`;\n  if (!author) {\n    return null;\n  }\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-author\"\n  }, h(\"a\", {\n    href: `${author.url}?utm_source=Companion&utm_medium=referral`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, truncateString(author.name, 13)), providerName ? h(Fragment, null, ` ${dot} `, providerName, ` ${dot} `) : null);\n};\nconst renderFileSize = props => props.file.size && h(\"div\", {\n  className: \"uppy-Dashboard-Item-statusSize\"\n}, prettierBytes(props.file.size));\nconst ReSelectButton = props => props.file.isGhost && h(\"span\", null, ' \\u2022 ', h(\"button\", {\n  className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect\",\n  type: \"button\",\n  onClick: props.toggleAddFilesPanel\n}, props.i18n('reSelect')));\nconst ErrorButton = _ref => {\n  let {\n    file,\n    onClick\n  } = _ref;\n  if (file.error) {\n    return h(\"button\", {\n      className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails\",\n      \"aria-label\": file.error,\n      \"data-microtip-position\": \"bottom\",\n      \"data-microtip-size\": \"medium\",\n      onClick: onClick,\n      type: \"button\"\n    }, \"?\");\n  }\n  return null;\n};\nexport default function FileInfo(props) {\n  const {\n    file\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-fileInfo\",\n    \"data-uppy-file-source\": file.source\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-Item-fileName\"\n  }, renderFileName(props), h(ErrorButton, {\n    file: props.file\n    // eslint-disable-next-line no-alert\n    ,\n    onClick: () => alert(props.file.error) // TODO: move to a custom alert implementation\n  })), h(\"div\", {\n    className: \"uppy-Dashboard-Item-status\"\n  }, renderAuthor(props), renderFileSize(props), ReSelectButton(props)), h(MetaErrorMessage, {\n    file: props.file,\n    i18n: props.i18n,\n    toggleFileCard: props.toggleFileCard,\n    metaFields: props.metaFields\n  }));\n}", "/**\n * Truncates a string to the given number of chars (maxLength) by inserting '...' in the middle of that string.\n * Partially taken from https://stackoverflow.com/a/5723274/3192470.\n */\nconst separator = '...';\nexport default function truncateString(string, maxLength) {\n  // Return the empty string if maxLength is zero\n  if (maxLength === 0) return '';\n  // Return original string if it's already shorter than maxLength\n  if (string.length <= maxLength) return string;\n  // Return truncated substring appended of the ellipsis char if string can't be meaningfully truncated\n  if (maxLength <= separator.length + 1) return `${string.slice(0, maxLength - 1)}\u2026`;\n  const charsToShow = maxLength - separator.length;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return string.slice(0, frontChars) + separator + string.slice(-backChars);\n}", "/**\n * Copies text to clipboard by creating an almost invisible textarea,\n * adding text there, then running execCommand('copy').\n * Falls back to prompt() when the easy way fails (hello, Safari!)\n * From http://stackoverflow.com/a/30810322\n *\n * @param {string} textToCopy\n * @param {string} fallbackString\n * @returns {Promise}\n */\n\nexport default function copyToClipboard(textToCopy, fallbackString) {\n  if (fallbackString === void 0) {\n    fallbackString = 'Copy the URL below';\n  }\n  return new Promise(resolve => {\n    const textArea = document.createElement('textarea');\n    textArea.setAttribute('style', {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '2em',\n      height: '2em',\n      padding: 0,\n      border: 'none',\n      outline: 'none',\n      boxShadow: 'none',\n      background: 'transparent'\n    });\n    textArea.value = textToCopy;\n    document.body.appendChild(textArea);\n    textArea.select();\n    const magicCopyFailed = () => {\n      document.body.removeChild(textArea);\n      // eslint-disable-next-line no-alert\n      window.prompt(fallbackString, textToCopy);\n      resolve();\n    };\n    try {\n      const successful = document.execCommand('copy');\n      if (!successful) {\n        return magicCopyFailed();\n      }\n      document.body.removeChild(textArea);\n      return resolve();\n    } catch (err) {\n      document.body.removeChild(textArea);\n      return magicCopyFailed();\n    }\n  });\n}", "import { h } from 'preact';\nimport copyToClipboard from \"../../../utils/copyToClipboard.js\";\nfunction EditButton(_ref) {\n  let {\n    file,\n    uploadInProgressOrComplete,\n    metaFields,\n    canEditFile,\n    i18n,\n    onClick\n  } = _ref;\n  if (!uploadInProgressOrComplete && metaFields && metaFields.length > 0 || !uploadInProgressOrComplete && canEditFile(file)) {\n    return h(\"button\", {\n      className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit\",\n      type: \"button\",\n      \"aria-label\": i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      title: i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      onClick: () => onClick()\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon\",\n      width: \"14\",\n      height: \"14\",\n      viewBox: \"0 0 14 14\"\n    }, h(\"g\", {\n      fillRule: \"evenodd\"\n    }, h(\"path\", {\n      d: \"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z\",\n      fillRule: \"nonzero\"\n    }), h(\"rect\", {\n      x: \"1\",\n      y: \"12.293\",\n      width: \"11\",\n      height: \"1\",\n      rx: \".5\"\n    }), h(\"path\", {\n      fillRule: \"nonzero\",\n      d: \"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z\"\n    }))));\n  }\n  return null;\n}\nfunction RemoveButton(_ref2) {\n  let {\n    i18n,\n    onClick,\n    file\n  } = _ref2;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove\",\n    type: \"button\",\n    \"aria-label\": i18n('removeFile', {\n      file: file.meta.name\n    }),\n    title: i18n('removeFile', {\n      file: file.meta.name\n    }),\n    onClick: () => onClick()\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\"\n  }, h(\"path\", {\n    d: \"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: \"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z\"\n  })));\n}\nconst copyLinkToClipboard = (event, props) => {\n  copyToClipboard(props.file.uploadURL, props.i18n('copyLinkToClipboardFallback')).then(() => {\n    props.uppy.log('Link copied to clipboard.');\n    props.uppy.info(props.i18n('copyLinkToClipboardSuccess'), 'info', 3000);\n  }).catch(props.uppy.log)\n  // avoid losing focus\n  .then(() => event.target.focus({\n    preventScroll: true\n  }));\n};\nfunction CopyLinkButton(props) {\n  const {\n    i18n\n  } = props;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink\",\n    type: \"button\",\n    \"aria-label\": i18n('copyLink'),\n    title: i18n('copyLink'),\n    onClick: event => copyLinkToClipboard(event, props)\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 12\"\n  }, h(\"path\", {\n    d: \"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z\"\n  })));\n}\nexport default function Buttons(props) {\n  const {\n    uppy,\n    file,\n    uploadInProgressOrComplete,\n    canEditFile,\n    metaFields,\n    showLinkToFileUploadResult,\n    showRemoveButton,\n    i18n,\n    toggleFileCard,\n    openFileEditor\n  } = props;\n  const editAction = () => {\n    if (metaFields && metaFields.length > 0) {\n      toggleFileCard(true, file.id);\n    } else {\n      openFileEditor(file);\n    }\n  };\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-actionWrapper\"\n  }, h(EditButton, {\n    i18n: i18n,\n    file: file,\n    uploadInProgressOrComplete: uploadInProgressOrComplete,\n    canEditFile: canEditFile,\n    metaFields: metaFields,\n    onClick: editAction\n  }), showLinkToFileUploadResult && file.uploadURL ? h(CopyLinkButton, {\n    file: file,\n    uppy: uppy,\n    i18n: i18n\n  }) : null, showRemoveButton ? h(RemoveButton, {\n    i18n: i18n,\n    file: file,\n    uppy: uppy,\n    onClick: () => uppy.removeFile(file.id, 'removed-by-user')\n  }) : null);\n}", "import { h } from 'preact';\nimport { useMemo } from 'preact/hooks';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport VirtualList from '@uppy/utils/lib/VirtualList';\nimport FileItem from \"./FileItem/index.js\";\nfunction chunks(list, size) {\n  const chunked = [];\n  let currentChunk = [];\n  list.forEach(item => {\n    if (currentChunk.length < size) {\n      currentChunk.push(item);\n    } else {\n      chunked.push(currentChunk);\n      currentChunk = [item];\n    }\n  });\n  if (currentChunk.length) chunked.push(currentChunk);\n  return chunked;\n}\nexport default function FileList(_ref) {\n  let {\n    id,\n    error,\n    i18n,\n    uppy,\n    files,\n    acquirers,\n    resumableUploads,\n    hideRetryButton,\n    hidePauseResumeButton,\n    hideCancelButton,\n    showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete,\n    isWide,\n    metaFields,\n    isSingleFile,\n    toggleFileCard,\n    handleRequestThumbnail,\n    handleCancelThumbnail,\n    recoveredState,\n    individualCancellation,\n    itemsPerRow,\n    openFileEditor,\n    canEditFile,\n    toggleAddFilesPanel,\n    containerWidth,\n    containerHeight\n  } = _ref;\n  // It's not great that this is hardcoded!\n  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!\n  const rowHeight = itemsPerRow === 1 ?\n  // Mobile\n  71\n  // 190px height + 2 * 5px margin\n  : 200;\n\n  // Sort files by file.isGhost, ghost files first, only if recoveredState is present\n  const rows = useMemo(() => {\n    const sortByGhostComesFirst = (file1, file2) => files[file2].isGhost - files[file1].isGhost;\n    const fileIds = Object.keys(files);\n    if (recoveredState) fileIds.sort(sortByGhostComesFirst);\n    return chunks(fileIds, itemsPerRow);\n  }, [files, itemsPerRow, recoveredState]);\n  const renderRow = (row // The `role=\"presentation` attribute ensures that the list items are properly\n  ) =>\n  // associated with the `VirtualList` element.\n  // We use the first file ID as the key\u2014this should not change across scroll rerenders\n  h(\"div\", {\n    class: \"uppy-Dashboard-filesInner\",\n    role: \"presentation\",\n    key: row[0]\n  }, row.map(fileID => h(FileItem, {\n    key: fileID\n    // @ts-expect-error it's fine\n    ,\n    uppy: uppy\n    // FIXME This is confusing, it's actually the Dashboard's plugin ID\n    ,\n    id: id,\n    error: error\n    // TODO move this to context\n    ,\n    i18n: i18n\n    // features\n    ,\n    acquirers: acquirers,\n    resumableUploads: resumableUploads,\n    individualCancellation: individualCancellation\n    // visual options\n    ,\n    hideRetryButton: hideRetryButton,\n    hidePauseResumeButton: hidePauseResumeButton,\n    hideCancelButton: hideCancelButton,\n    showLinkToFileUploadResult: showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: showRemoveButtonAfterComplete,\n    isWide: isWide,\n    metaFields: metaFields,\n    recoveredState: recoveredState,\n    isSingleFile: isSingleFile,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight\n    // callbacks\n    ,\n    toggleFileCard: toggleFileCard,\n    handleRequestThumbnail: handleRequestThumbnail,\n    handleCancelThumbnail: handleCancelThumbnail,\n    role: \"listitem\",\n    openFileEditor: openFileEditor,\n    canEditFile: canEditFile,\n    toggleAddFilesPanel: toggleAddFilesPanel,\n    file: files[fileID]\n  })));\n  if (isSingleFile) {\n    return h(\"div\", {\n      class: \"uppy-Dashboard-files\"\n    }, renderRow(rows[0]));\n  }\n  return h(VirtualList, {\n    class: \"uppy-Dashboard-files\",\n    role: \"list\",\n    data: rows,\n    renderRow: renderRow,\n    rowHeight: rowHeight\n  });\n}", "// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck Typing this file requires more work, skipping it to unblock the rest of the transition.\n\n/* eslint-disable react/destructuring-assignment */\nimport { h, Component, Fragment } from 'preact';\nclass AddFiles extends Component {\n  constructor() {\n    super(...arguments);\n    this.triggerFileInputClick = () => {\n      this.fileInput.click();\n    };\n    this.triggerFolderInputClick = () => {\n      this.folderInput.click();\n    };\n    this.triggerVideoCameraInputClick = () => {\n      this.mobileVideoFileInput.click();\n    };\n    this.triggerPhotoCameraInputClick = () => {\n      this.mobilePhotoFileInput.click();\n    };\n    this.onFileInputChange = event => {\n      this.props.handleInputChange(event);\n\n      // We clear the input after a file is selected, because otherwise\n      // change event is not fired in Chrome and Safari when a file\n      // with the same name is selected.\n      // ___Why not use value=\"\" on <input/> instead?\n      //    Because if we use that method of clearing the input,\n      //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n      event.target.value = null; // eslint-disable-line no-param-reassign\n    };\n    this.renderHiddenInput = (isFolder, refCallback) => {\n      return h(\"input\", {\n        className: \"uppy-Dashboard-input\",\n        hidden: true,\n        \"aria-hidden\": \"true\",\n        tabIndex: -1,\n        webkitdirectory: isFolder,\n        type: \"file\",\n        name: \"files[]\",\n        multiple: this.props.maxNumberOfFiles !== 1,\n        onChange: this.onFileInputChange,\n        accept: this.props.allowedFileTypes,\n        ref: refCallback\n      });\n    };\n    this.renderHiddenCameraInput = (type, nativeCameraFacingMode, refCallback) => {\n      const typeToAccept = {\n        photo: 'image/*',\n        video: 'video/*'\n      };\n      const accept = typeToAccept[type];\n      return h(\"input\", {\n        className: \"uppy-Dashboard-input\",\n        hidden: true,\n        \"aria-hidden\": \"true\",\n        tabIndex: -1,\n        type: \"file\",\n        name: `camera-${type}`,\n        onChange: this.onFileInputChange,\n        capture: nativeCameraFacingMode,\n        accept: accept,\n        ref: refCallback\n      });\n    };\n    this.renderMyDeviceAcquirer = () => {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MyDevice\"\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: this.triggerFileInputClick\n      }, h(\"div\", {\n        className: \"uppy-DashboardTab-inner\"\n      }, h(\"svg\", {\n        className: \"uppy-DashboardTab-iconMyDevice\",\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"path\", {\n        d: \"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z\",\n        fill: \"currentcolor\",\n        \"fill-rule\": \"evenodd\"\n      }))), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, this.props.i18n('myDevice'))));\n    };\n    this.renderPhotoCamera = () => {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MobilePhotoCamera\"\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: this.triggerPhotoCameraInputClick\n      }, h(\"div\", {\n        className: \"uppy-DashboardTab-inner\"\n      }, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"path\", {\n        d: \"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z\",\n        fill: \"#02B383\",\n        \"fill-rule\": \"nonzero\"\n      }))), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, this.props.i18n('takePictureBtn'))));\n    };\n    this.renderVideoCamera = () => {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MobileVideoCamera\"\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: this.triggerVideoCameraInputClick\n      }, h(\"div\", {\n        className: \"uppy-DashboardTab-inner\"\n      }, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"path\", {\n        fill: \"#FF675E\",\n        fillRule: \"nonzero\",\n        d: \"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z \"\n      }))), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, this.props.i18n('recordVideoBtn'))));\n    };\n    this.renderBrowseButton = (text, onClickFn) => {\n      const numberOfAcquirers = this.props.acquirers.length;\n      return h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-browse\",\n        onClick: onClickFn,\n        \"data-uppy-super-focusable\": numberOfAcquirers === 0\n      }, text);\n    };\n    this.renderDropPasteBrowseTagline = numberOfAcquirers => {\n      const browseFiles = this.renderBrowseButton(this.props.i18n('browseFiles'), this.triggerFileInputClick);\n      const browseFolders = this.renderBrowseButton(this.props.i18n('browseFolders'), this.triggerFolderInputClick);\n\n      // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower\n      // to Camel\n      const lowerFMSelectionType = this.props.fileManagerSelectionType;\n      const camelFMSelectionType = lowerFMSelectionType.charAt(0).toUpperCase() + lowerFMSelectionType.slice(1);\n      return h(\"div\", {\n        class: \"uppy-Dashboard-AddFiles-title\"\n      },\n      // eslint-disable-next-line no-nested-ternary\n      this.props.disableLocalFiles ? this.props.i18n('importFiles') : numberOfAcquirers > 0 ? this.props.i18nArray(`dropPasteImport${camelFMSelectionType}`, {\n        browseFiles,\n        browseFolders,\n        browse: browseFiles\n      }) : this.props.i18nArray(`dropPaste${camelFMSelectionType}`, {\n        browseFiles,\n        browseFolders,\n        browse: browseFiles\n      }));\n    };\n    this.renderAcquirer = acquirer => {\n      var _this$props$activePic;\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": acquirer.id\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-cy\": acquirer.id,\n        \"aria-controls\": `uppy-DashboardContent-panel--${acquirer.id}`,\n        \"aria-selected\": ((_this$props$activePic = this.props.activePickerPanel) == null ? void 0 : _this$props$activePic.id) === acquirer.id,\n        \"data-uppy-super-focusable\": true,\n        onClick: () => this.props.showPanel(acquirer.id)\n      }, h(\"div\", {\n        className: \"uppy-DashboardTab-inner\"\n      }, acquirer.icon()), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, acquirer.name)));\n    };\n    this.renderAcquirers = acquirers => {\n      // Group last two buttons, so we don\u2019t end up with\n      // just one button on a new line\n      const acquirersWithoutLastTwo = [...acquirers];\n      const lastTwoAcquirers = acquirersWithoutLastTwo.splice(acquirers.length - 2, acquirers.length);\n      return h(Fragment, null, acquirersWithoutLastTwo.map(acquirer => this.renderAcquirer(acquirer)), h(\"span\", {\n        role: \"presentation\",\n        style: {\n          'white-space': 'nowrap'\n        }\n      }, lastTwoAcquirers.map(acquirer => this.renderAcquirer(acquirer))));\n    };\n    this.renderSourcesList = (acquirers, disableLocalFiles) => {\n      const {\n        showNativePhotoCameraButton,\n        showNativeVideoCameraButton\n      } = this.props;\n      let list = [];\n      const myDeviceKey = 'myDevice';\n      if (!disableLocalFiles) list.push({\n        key: myDeviceKey,\n        elements: this.renderMyDeviceAcquirer()\n      });\n      if (showNativePhotoCameraButton) list.push({\n        key: 'nativePhotoCameraButton',\n        elements: this.renderPhotoCamera()\n      });\n      if (showNativeVideoCameraButton) list.push({\n        key: 'nativePhotoCameraButton',\n        elements: this.renderVideoCamera()\n      });\n      list.push(...acquirers.map(acquirer => ({\n        key: acquirer.id,\n        elements: this.renderAcquirer(acquirer)\n      })));\n\n      // doesn't make sense to show only a lonely \"My Device\"\n      const hasOnlyMyDevice = list.length === 1 && list[0].key === myDeviceKey;\n      if (hasOnlyMyDevice) list = [];\n\n      // Group last two buttons, so we don\u2019t end up with\n      // just one button on a new line\n      const listWithoutLastTwo = [...list];\n      const lastTwo = listWithoutLastTwo.splice(list.length - 2, list.length);\n      const renderList = l => l.map(_ref => {\n        let {\n          key,\n          elements\n        } = _ref;\n        return h(Fragment, {\n          key: key\n        }, elements);\n      });\n      return h(Fragment, null, this.renderDropPasteBrowseTagline(list.length), h(\"div\", {\n        className: \"uppy-Dashboard-AddFiles-list\",\n        role: \"tablist\"\n      }, renderList(listWithoutLastTwo), h(\"span\", {\n        role: \"presentation\",\n        style: {\n          'white-space': 'nowrap'\n        }\n      }, renderList(lastTwo))));\n    };\n  }\n  [Symbol.for('uppy test: disable unused locale key warning')]() {\n    // Those are actually used in `renderDropPasteBrowseTagline` method.\n    this.props.i18nArray('dropPasteBoth');\n    this.props.i18nArray('dropPasteFiles');\n    this.props.i18nArray('dropPasteFolders');\n    this.props.i18nArray('dropPasteImportBoth');\n    this.props.i18nArray('dropPasteImportFiles');\n    this.props.i18nArray('dropPasteImportFolders');\n  }\n  renderPoweredByUppy() {\n    const {\n      i18nArray\n    } = this.props;\n    const uppyBranding = h(\"span\", null, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon uppy-Dashboard-poweredByIcon\",\n      width: \"11\",\n      height: \"11\",\n      viewBox: \"0 0 11 11\"\n    }, h(\"path\", {\n      d: \"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z\",\n      fillRule: \"evenodd\"\n    })), h(\"span\", {\n      className: \"uppy-Dashboard-poweredByUppy\"\n    }, \"Uppy\"));\n    const linkText = i18nArray('poweredBy', {\n      uppy: uppyBranding\n    });\n    return h(\"a\", {\n      tabIndex: -1,\n      href: \"https://uppy.io\",\n      rel: \"noreferrer noopener\",\n      target: \"_blank\",\n      className: \"uppy-Dashboard-poweredBy\"\n    }, linkText);\n  }\n  render() {\n    const {\n      showNativePhotoCameraButton,\n      showNativeVideoCameraButton,\n      nativeCameraFacingMode\n    } = this.props;\n    return h(\"div\", {\n      className: \"uppy-Dashboard-AddFiles\"\n    }, this.renderHiddenInput(false, ref => {\n      this.fileInput = ref;\n    }), this.renderHiddenInput(true, ref => {\n      this.folderInput = ref;\n    }), showNativePhotoCameraButton && this.renderHiddenCameraInput('photo', nativeCameraFacingMode, ref => {\n      this.mobilePhotoFileInput = ref;\n    }), showNativeVideoCameraButton && this.renderHiddenCameraInput('video', nativeCameraFacingMode, ref => {\n      this.mobileVideoFileInput = ref;\n    }), this.renderSourcesList(this.props.acquirers, this.props.disableLocalFiles), h(\"div\", {\n      className: \"uppy-Dashboard-AddFiles-info\"\n    }, this.props.note && h(\"div\", {\n      className: \"uppy-Dashboard-note\"\n    }, this.props.note), this.props.proudlyDisplayPoweredByUppy && this.renderPoweredByUppy(this.props)));\n  }\n}\nexport default AddFiles;", "/* eslint-disable react/destructuring-assignment */\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport AddFiles from \"./AddFiles.js\";\nconst AddFilesPanel = props => {\n  return h(\"div\", {\n    className: classNames('uppy-Dashboard-AddFilesPanel', props.className),\n    \"data-uppy-panelType\": \"AddFiles\",\n    \"aria-hidden\": !props.showAddFilesPanel\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, props.i18n('addingMoreFiles')), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: () => props.toggleAddFilesPanel(false)\n  }, props.i18n('back'))), h(AddFiles, props));\n};\nexport default AddFilesPanel;", "import { h } from 'preact';\nimport classNames from 'classnames';\nimport ignoreEvent from \"../utils/ignoreEvent.js\";\nfunction PickerPanelContent(_ref) {\n  let {\n    activePickerPanel,\n    className,\n    hideAllPanels,\n    i18n,\n    state,\n    uppy\n  } = _ref;\n  return h(\"div\", {\n    className: classNames('uppy-DashboardContent-panel', className),\n    role: \"tabpanel\",\n    \"data-uppy-panelType\": \"PickerPanel\",\n    id: `uppy-DashboardContent-panel--${activePickerPanel.id}`,\n    onDragOver: ignoreEvent,\n    onDragLeave: ignoreEvent,\n    onDrop: ignoreEvent,\n    onPaste: ignoreEvent\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, i18n('importFrom', {\n    name: activePickerPanel.name\n  })), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: hideAllPanels\n  }, i18n('cancel'))), h(\"div\", {\n    className: \"uppy-DashboardContent-panelBody\"\n  }, uppy.getPlugin(activePickerPanel.id).render(state)));\n}\nexport default PickerPanelContent;", "// ignore drop/paste events if they are not in input or textarea \u2014\n// otherwise when Url plugin adds drop/paste listeners to this.el,\n// draging UI elements or pasting anything into any field triggers those events \u2014\n// Url treats them as URLs that need to be imported\n\nfunction ignoreEvent(ev) {\n  const {\n    tagName\n  } = ev.target;\n  if (tagName === 'INPUT' || tagName === 'TEXTAREA') {\n    ev.stopPropagation();\n    return;\n  }\n  ev.preventDefault();\n  ev.stopPropagation();\n}\nexport default ignoreEvent;", "/* eslint-disable react/destructuring-assignment */\nimport { h } from 'preact';\nimport classNames from 'classnames';\nfunction EditorPanel(props) {\n  const file = props.files[props.fileCardFor];\n  const handleCancel = () => {\n    props.uppy.emit('file-editor:cancel', file);\n    props.closeFileEditor();\n  };\n  return h(\"div\", {\n    className: classNames('uppy-DashboardContent-panel', props.className),\n    role: \"tabpanel\",\n    \"data-uppy-panelType\": \"FileEditor\",\n    id: \"uppy-DashboardContent-panel--editor\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, props.i18nArray('editing', {\n    file: h(\"span\", {\n      className: \"uppy-DashboardContent-titleFile\"\n    }, file.meta ? file.meta.name : file.name)\n  })), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: handleCancel\n  }, props.i18n('cancel')), h(\"button\", {\n    className: \"uppy-DashboardContent-save\",\n    type: \"button\",\n    onClick: props.saveFileEditor\n  }, props.i18n('save'))), h(\"div\", {\n    className: \"uppy-DashboardContent-panelBody\"\n  }, props.editors.map(target => {\n    return props.uppy.getPlugin(target.id).render(props.state);\n  })));\n}\nexport default EditorPanel;", "import { h } from 'preact';\nconst uploadStates = {\n  STATE_ERROR: 'error',\n  STATE_WAITING: 'waiting',\n  STATE_PREPROCESSING: 'preprocessing',\n  STATE_UPLOADING: 'uploading',\n  STATE_POSTPROCESSING: 'postprocessing',\n  STATE_COMPLETE: 'complete',\n  STATE_PAUSED: 'paused'\n};\nfunction getUploadingState(isAllErrored, isAllComplete, isAllPaused, files) {\n  if (files === void 0) {\n    files = {};\n  }\n  if (isAllErrored) {\n    return uploadStates.STATE_ERROR;\n  }\n  if (isAllComplete) {\n    return uploadStates.STATE_COMPLETE;\n  }\n  if (isAllPaused) {\n    return uploadStates.STATE_PAUSED;\n  }\n  let state = uploadStates.STATE_WAITING;\n  const fileIDs = Object.keys(files);\n  for (let i = 0; i < fileIDs.length; i++) {\n    const {\n      progress\n    } = files[fileIDs[i]];\n    // If ANY files are being uploaded right now, show the uploading state.\n    if (progress.uploadStarted && !progress.uploadComplete) {\n      return uploadStates.STATE_UPLOADING;\n    }\n    // If files are being preprocessed AND postprocessed at this time, we show the\n    // preprocess state. If any files are being uploaded we show uploading.\n    if (progress.preprocess && state !== uploadStates.STATE_UPLOADING) {\n      state = uploadStates.STATE_PREPROCESSING;\n    }\n    // If NO files are being preprocessed or uploaded right now, but some files are\n    // being postprocessed, show the postprocess state.\n    if (progress.postprocess && state !== uploadStates.STATE_UPLOADING && state !== uploadStates.STATE_PREPROCESSING) {\n      state = uploadStates.STATE_POSTPROCESSING;\n    }\n  }\n  return state;\n}\nfunction UploadStatus(_ref) {\n  let {\n    files,\n    i18n,\n    isAllComplete,\n    isAllErrored,\n    isAllPaused,\n    inProgressNotPausedFiles,\n    newFiles,\n    processingFiles\n  } = _ref;\n  const uploadingState = getUploadingState(isAllErrored, isAllComplete, isAllPaused, files);\n  switch (uploadingState) {\n    case 'uploading':\n      return i18n('uploadingXFiles', {\n        smart_count: inProgressNotPausedFiles.length\n      });\n    case 'preprocessing':\n    case 'postprocessing':\n      return i18n('processingXFiles', {\n        smart_count: processingFiles.length\n      });\n    case 'paused':\n      return i18n('uploadPaused');\n    case 'waiting':\n      return i18n('xFilesSelected', {\n        smart_count: newFiles.length\n      });\n    case 'complete':\n      return i18n('uploadComplete');\n    case 'error':\n      return i18n('error');\n    default:\n  }\n}\nfunction PanelTopBar(props) {\n  const {\n    i18n,\n    isAllComplete,\n    hideCancelButton,\n    maxNumberOfFiles,\n    toggleAddFilesPanel,\n    uppy\n  } = props;\n  let {\n    allowNewUpload\n  } = props;\n  // TODO maybe this should be done in ../Dashboard.jsx, then just pass that down as `allowNewUpload`\n  if (allowNewUpload && maxNumberOfFiles) {\n    // eslint-disable-next-line react/destructuring-assignment\n    allowNewUpload = props.totalFileCount < props.maxNumberOfFiles;\n  }\n  return h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, !isAllComplete && !hideCancelButton ? h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: () => uppy.cancelAll()\n  }, i18n('cancel')) : h(\"div\", null), h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, h(UploadStatus, props)), allowNewUpload ? h(\"button\", {\n    className: \"uppy-DashboardContent-addMore\",\n    type: \"button\",\n    \"aria-label\": i18n('addMoreFiles'),\n    title: i18n('addMoreFiles'),\n    onClick: () => toggleAddFilesPanel(true)\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"15\",\n    height: \"15\",\n    viewBox: \"0 0 15 15\"\n  }, h(\"path\", {\n    d: \"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z\"\n  })), h(\"span\", {\n    className: \"uppy-DashboardContent-addMoreCaption\"\n  }, i18n('addMore'))) : h(\"div\", null));\n}\nexport default PanelTopBar;", "import { h } from 'preact';\nimport { useEffect, useState, useCallback } from 'preact/hooks';\nimport classNames from 'classnames';\nimport { nanoid } from 'nanoid/non-secure';\nimport getFileTypeIcon from \"../../utils/getFileTypeIcon.js\";\nimport ignoreEvent from \"../../utils/ignoreEvent.js\";\nimport FilePreview from \"../FilePreview.js\";\nimport RenderMetaFields from \"./RenderMetaFields.js\";\nexport default function FileCard(props) {\n  var _getMetaFields;\n  const {\n    files,\n    fileCardFor,\n    toggleFileCard,\n    saveFileCard,\n    metaFields,\n    requiredMetaFields,\n    openFileEditor,\n    i18n,\n    i18nArray,\n    className,\n    canEditFile\n  } = props;\n  const getMetaFields = () => {\n    return typeof metaFields === 'function' ? metaFields(files[fileCardFor]) : metaFields;\n  };\n  const file = files[fileCardFor];\n  const computedMetaFields = (_getMetaFields = getMetaFields()) != null ? _getMetaFields : [];\n  const showEditButton = canEditFile(file);\n  const storedMetaData = {};\n  computedMetaFields.forEach(field => {\n    var _file$meta$field$id;\n    storedMetaData[field.id] = (_file$meta$field$id = file.meta[field.id]) != null ? _file$meta$field$id : '';\n  });\n  const [formState, setFormState] = useState(storedMetaData);\n  const handleSave = useCallback(ev => {\n    ev.preventDefault();\n    saveFileCard(formState, fileCardFor);\n  }, [saveFileCard, formState, fileCardFor]);\n  const updateMeta = (newVal, name) => {\n    setFormState({\n      ...formState,\n      [name]: newVal\n    });\n  };\n  const handleCancel = () => {\n    toggleFileCard(false);\n  };\n  const [form] = useState(() => {\n    const formEl = document.createElement('form');\n    formEl.setAttribute('tabindex', '-1');\n    formEl.id = nanoid();\n    return formEl;\n  });\n  useEffect(() => {\n    document.body.appendChild(form);\n    form.addEventListener('submit', handleSave);\n    return () => {\n      form.removeEventListener('submit', handleSave);\n      document.body.removeChild(form);\n    };\n  }, [form, handleSave]);\n  return h(\"div\", {\n    className: classNames('uppy-Dashboard-FileCard', className),\n    \"data-uppy-panelType\": \"FileCard\",\n    onDragOver: ignoreEvent,\n    onDragLeave: ignoreEvent,\n    onDrop: ignoreEvent,\n    onPaste: ignoreEvent\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, i18nArray('editing', {\n    file: h(\"span\", {\n      className: \"uppy-DashboardContent-titleFile\"\n    }, file.meta ? file.meta.name : file.name)\n  })), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    form: form.id,\n    title: i18n('finishEditingFile'),\n    onClick: handleCancel\n  }, i18n('cancel'))), h(\"div\", {\n    className: \"uppy-Dashboard-FileCard-inner\"\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-FileCard-preview\",\n    style: {\n      backgroundColor: getFileTypeIcon(file.type).color\n    }\n  }, h(FilePreview, {\n    file: file\n  }), showEditButton && h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit\",\n    onClick: event => {\n      // When opening the image editor we want to save any meta fields changes.\n      // Otherwise it's confusing for the user to click save in the editor,\n      // but the changes here are discarded. This bypasses validation,\n      // but we are okay with that.\n      handleSave(event);\n      openFileEditor(file);\n    }\n  }, i18n('editImage'))), h(\"div\", {\n    className: \"uppy-Dashboard-FileCard-info\"\n  }, h(RenderMetaFields, {\n    computedMetaFields: computedMetaFields,\n    requiredMetaFields: requiredMetaFields,\n    updateMeta: updateMeta,\n    form: form,\n    formState: formState\n  })), h(\"div\", {\n    className: \"uppy-Dashboard-FileCard-actions\"\n  }, h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn\"\n    // If `form` attribute is supported, we want a submit button to trigger the form validation.\n    // Otherwise, fallback to a classic button with a onClick event handler.\n    ,\n    type: \"submit\",\n    form: form.id\n  }, i18n('saveChanges')), h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn\",\n    type: \"button\",\n    onClick: handleCancel,\n    form: form.id\n  }, i18n('cancel')))));\n}", "import { h } from 'preact';\nexport default function RenderMetaFields(props) {\n  const {\n    computedMetaFields,\n    requiredMetaFields,\n    updateMeta,\n    form,\n    formState\n  } = props;\n  const fieldCSSClasses = {\n    text: 'uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input'\n  };\n  return computedMetaFields.map(field => {\n    const id = `uppy-Dashboard-FileCard-input-${field.id}`;\n    const required = requiredMetaFields.includes(field.id);\n    return h(\"fieldset\", {\n      key: field.id,\n      className: \"uppy-Dashboard-FileCard-fieldset\"\n    }, h(\"label\", {\n      className: \"uppy-Dashboard-FileCard-label\",\n      htmlFor: id\n    }, field.name), field.render !== undefined ? field.render({\n      value: formState[field.id],\n      onChange: newVal => updateMeta(newVal, field.id),\n      fieldCSSClasses,\n      required,\n      form: form.id\n    }, h) : h(\"input\", {\n      className: fieldCSSClasses.text,\n      id: id,\n      form: form.id,\n      type: field.type || 'text',\n      required: required,\n      value: formState[field.id],\n      placeholder: field.placeholder,\n      onInput: ev => updateMeta(ev.target.value, field.id),\n      \"data-uppy-super-focusable\": true\n    }));\n  });\n}", "import { cloneElement, toChildArray } from 'preact';\nimport { useEffect, useState, useRef } from 'preact/hooks';\nimport classNames from 'classnames';\nconst transitionName = 'uppy-transition-slideDownUp';\nconst duration = 250;\n\n/**\n * Vertical slide transition.\n *\n * This can take a _single_ child component, which _must_ accept a `className` prop.\n *\n * Currently this is specific to the `uppy-transition-slideDownUp` transition,\n * but it should be simple to extend this for any type of single-element\n * transition by setting the CSS name and duration as props.\n */\nfunction Slide(_ref) {\n  let {\n    children\n  } = _ref;\n  const [cachedChildren, setCachedChildren] = useState(null);\n  const [className, setClassName] = useState('');\n  const enterTimeoutRef = useRef();\n  const leaveTimeoutRef = useRef();\n  const animationFrameRef = useRef();\n  const handleEnterTransition = () => {\n    setClassName(`${transitionName}-enter`);\n    cancelAnimationFrame(animationFrameRef.current);\n    clearTimeout(leaveTimeoutRef.current);\n    leaveTimeoutRef.current = undefined;\n    animationFrameRef.current = requestAnimationFrame(() => {\n      setClassName(`${transitionName}-enter ${transitionName}-enter-active`);\n      enterTimeoutRef.current = setTimeout(() => {\n        setClassName('');\n      }, duration);\n    });\n  };\n  const handleLeaveTransition = () => {\n    setClassName(`${transitionName}-leave`);\n    cancelAnimationFrame(animationFrameRef.current);\n    clearTimeout(enterTimeoutRef.current);\n    enterTimeoutRef.current = undefined;\n    animationFrameRef.current = requestAnimationFrame(() => {\n      setClassName(`${transitionName}-leave ${transitionName}-leave-active`);\n      leaveTimeoutRef.current = setTimeout(() => {\n        setCachedChildren(null);\n        setClassName('');\n      }, duration);\n    });\n  };\n  useEffect(() => {\n    const child = toChildArray(children)[0];\n    if (cachedChildren === child) return;\n    if (child && !cachedChildren) {\n      handleEnterTransition();\n    } else if (cachedChildren && !child && !leaveTimeoutRef.current) {\n      handleLeaveTransition();\n    }\n    setCachedChildren(child);\n  }, [children, cachedChildren]); // Dependency array to trigger effect on children change\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(enterTimeoutRef.current);\n      clearTimeout(leaveTimeoutRef.current);\n      cancelAnimationFrame(animationFrameRef.current);\n    };\n  }, []); // Cleanup useEffect\n\n  if (!cachedChildren) return null;\n  return cloneElement(cachedChildren, {\n    className: classNames(className, cachedChildren.props.className)\n  });\n}\nexport default Slide;", "export default {\n  strings: {\n    // When `inline: false`, used as the screen reader label for the button that closes the modal.\n    closeModal: 'Close Modal',\n    // Used as the screen reader label for the plus (+) button that shows the \u201CAdd more files\u201D screen\n    addMoreFiles: 'Add more files',\n    addingMoreFiles: 'Adding more files',\n    // Used as the header for import panels, e.g., \u201CImport from Google Drive\u201D.\n    importFrom: 'Import from %{name}',\n    // When `inline: false`, used as the screen reader label for the dashboard modal.\n    dashboardWindowTitle: 'Uppy Dashboard Window (Press escape to close)',\n    // When `inline: true`, used as the screen reader label for the dashboard area.\n    dashboardTitle: 'Uppy Dashboard',\n    // Shown in the Informer when a link to a file was copied to the clipboard.\n    copyLinkToClipboardSuccess: 'Link copied to clipboard.',\n    // Used when a link cannot be copied automatically \u2014 the user has to select the text from the\n    // input element below this string.\n    copyLinkToClipboardFallback: 'Copy the URL below',\n    // Used as the hover title and screen reader label for buttons that copy a file link.\n    copyLink: 'Copy link',\n    back: 'Back',\n    // Used as the screen reader label for buttons that remove a file.\n    removeFile: 'Remove file',\n    // Used as the screen reader label for buttons that open the metadata editor panel for a file.\n    editFile: 'Edit file',\n    editImage: 'Edit image',\n    // Shown in the panel header for the metadata editor. Rendered as \u201CEditing image.png\u201D.\n    editing: 'Editing %{file}',\n    // Shown on the main upload screen when an upload error occurs\n    error: 'Error',\n    // Used as the screen reader label for the button that saves metadata edits and returns to the\n    // file list view.\n    finishEditingFile: 'Finish editing file',\n    saveChanges: 'Save changes',\n    // Used as the label for the tab button that opens the system file selection dialog.\n    myDevice: 'My Device',\n    dropHint: 'Drop your files here',\n    // Used as the hover text and screen reader label for file progress indicators when\n    // they have been fully uploaded.\n    uploadComplete: 'Upload complete',\n    uploadPaused: 'Upload paused',\n    // Used as the hover text and screen reader label for the buttons to resume paused uploads.\n    resumeUpload: 'Resume upload',\n    // Used as the hover text and screen reader label for the buttons to pause uploads.\n    pauseUpload: 'Pause upload',\n    // Used as the hover text and screen reader label for the buttons to retry failed uploads.\n    retryUpload: 'Retry upload',\n    // Used as the hover text and screen reader label for the buttons to cancel uploads.\n    cancelUpload: 'Cancel upload',\n    // Used in a title, how many files are currently selected\n    xFilesSelected: {\n      0: '%{smart_count} file selected',\n      1: '%{smart_count} files selected'\n    },\n    uploadingXFiles: {\n      0: 'Uploading %{smart_count} file',\n      1: 'Uploading %{smart_count} files'\n    },\n    processingXFiles: {\n      0: 'Processing %{smart_count} file',\n      1: 'Processing %{smart_count} files'\n    },\n    // The \"powered by Uppy\" link at the bottom of the Dashboard.\n    poweredBy: 'Powered by %{uppy}',\n    addMore: 'Add more',\n    editFileWithFilename: 'Edit file %{file}',\n    save: 'Save',\n    cancel: 'Cancel',\n    dropPasteFiles: 'Drop files here or %{browseFiles}',\n    dropPasteFolders: 'Drop files here or %{browseFolders}',\n    dropPasteBoth: 'Drop files here, %{browseFiles} or %{browseFolders}',\n    dropPasteImportFiles: 'Drop files here, %{browseFiles} or import from:',\n    dropPasteImportFolders: 'Drop files here, %{browseFolders} or import from:',\n    dropPasteImportBoth: 'Drop files here, %{browseFiles}, %{browseFolders} or import from:',\n    importFiles: 'Import files from:',\n    browseFiles: 'browse files',\n    browseFolders: 'browse folders',\n    recoveredXFiles: {\n      0: 'We could not fully recover 1 file. Please re-select it and resume the upload.',\n      1: 'We could not fully recover %{smart_count} files. Please re-select them and resume the upload.'\n    },\n    recoveredAllFiles: 'We restored all files. You can now resume the upload.',\n    sessionRestored: 'Session restored',\n    reSelect: 'Re-select',\n    missingRequiredMetaFields: {\n      0: 'Missing required meta field: %{fields}.',\n      1: 'Missing required meta fields: %{fields}.'\n    },\n    // Used for native device camera buttons on mobile\n    takePictureBtn: 'Take Picture',\n    recordVideoBtn: 'Record Video'\n  }\n};", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nimport { UIPlugin } from '@uppy/core';\nimport StatusBar from '@uppy/status-bar';\nimport Informer from '@uppy/informer';\nimport ThumbnailGenerator from '@uppy/thumbnail-generator';\nimport findAllDOMElements from '@uppy/utils/lib/findAllDOMElements';\nimport toArray from '@uppy/utils/lib/toArray';\nimport getDroppedFiles from '@uppy/utils/lib/getDroppedFiles';\nimport { defaultPickerIcon } from '@uppy/provider-views';\nimport { nanoid } from 'nanoid/non-secure';\nimport memoizeOne from 'memoize-one';\nimport * as trapFocus from \"./utils/trapFocus.js\";\nimport createSuperFocus from \"./utils/createSuperFocus.js\";\nimport DashboardUI from \"./components/Dashboard.js\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.0.1\"\n};\nimport locale from \"./locale.js\";\nconst memoize = memoizeOne.default || memoizeOne;\nconst TAB_KEY = 9;\nconst ESC_KEY = 27;\nfunction createPromise() {\n  const o = {};\n  o.promise = new Promise((resolve, reject) => {\n    o.resolve = resolve;\n    o.reject = reject;\n  });\n  return o;\n}\nconst defaultOptions = {\n  target: 'body',\n  metaFields: [],\n  inline: false,\n  width: 750,\n  height: 550,\n  thumbnailWidth: 280,\n  thumbnailType: 'image/jpeg',\n  waitForThumbnailsBeforeUpload: false,\n  defaultPickerIcon,\n  showLinkToFileUploadResult: false,\n  showProgressDetails: false,\n  hideUploadButton: false,\n  hideCancelButton: false,\n  hideRetryButton: false,\n  hidePauseResumeButton: false,\n  hideProgressAfterFinish: false,\n  note: null,\n  closeModalOnClickOutside: false,\n  closeAfterFinish: false,\n  singleFileFullScreen: true,\n  disableStatusBar: false,\n  disableInformer: false,\n  disableThumbnailGenerator: false,\n  disablePageScrollWhenModalOpen: true,\n  animateOpenClose: true,\n  fileManagerSelectionType: 'files',\n  proudlyDisplayPoweredByUppy: true,\n  showSelectedFiles: true,\n  showRemoveButtonAfterComplete: false,\n  browserBackButtonClose: false,\n  showNativePhotoCameraButton: false,\n  showNativeVideoCameraButton: false,\n  theme: 'light',\n  autoOpen: null,\n  disabled: false,\n  disableLocalFiles: false,\n  // Dynamic default options, they have to be defined in the constructor (because\n  // they require access to the `this` keyword), but we still want them to\n  // appear in the default options so TS knows they'll be defined.\n  doneButtonHandler: undefined,\n  onRequestCloseModal: null\n};\n\n/**\n * Dashboard UI with previews, metadata editing, tabs for various services and more\n */\nvar _disabledNodes = /*#__PURE__*/_classPrivateFieldLooseKey(\"disabledNodes\");\nvar _generateLargeThumbnailIfSingleFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"generateLargeThumbnailIfSingleFile\");\nvar _openFileEditorWhenFilesAdded = /*#__PURE__*/_classPrivateFieldLooseKey(\"openFileEditorWhenFilesAdded\");\nvar _attachRenderFunctionToTarget = /*#__PURE__*/_classPrivateFieldLooseKey(\"attachRenderFunctionToTarget\");\nvar _isTargetSupported = /*#__PURE__*/_classPrivateFieldLooseKey(\"isTargetSupported\");\nvar _getAcquirers = /*#__PURE__*/_classPrivateFieldLooseKey(\"getAcquirers\");\nvar _getProgressIndicators = /*#__PURE__*/_classPrivateFieldLooseKey(\"getProgressIndicators\");\nvar _getEditors = /*#__PURE__*/_classPrivateFieldLooseKey(\"getEditors\");\nvar _addSpecifiedPluginsFromOptions = /*#__PURE__*/_classPrivateFieldLooseKey(\"addSpecifiedPluginsFromOptions\");\nvar _autoDiscoverPlugins = /*#__PURE__*/_classPrivateFieldLooseKey(\"autoDiscoverPlugins\");\nvar _addSupportedPluginIfNoTarget = /*#__PURE__*/_classPrivateFieldLooseKey(\"addSupportedPluginIfNoTarget\");\nvar _getStatusBarOpts = /*#__PURE__*/_classPrivateFieldLooseKey(\"getStatusBarOpts\");\nvar _getThumbnailGeneratorOpts = /*#__PURE__*/_classPrivateFieldLooseKey(\"getThumbnailGeneratorOpts\");\nvar _getInformerOpts = /*#__PURE__*/_classPrivateFieldLooseKey(\"getInformerOpts\");\nvar _getStatusBarId = /*#__PURE__*/_classPrivateFieldLooseKey(\"getStatusBarId\");\nvar _getThumbnailGeneratorId = /*#__PURE__*/_classPrivateFieldLooseKey(\"getThumbnailGeneratorId\");\nvar _getInformerId = /*#__PURE__*/_classPrivateFieldLooseKey(\"getInformerId\");\nexport default class Dashboard extends UIPlugin {\n  // Timeouts\n\n  constructor(uppy, _opts) {\n    var _opts$autoOpen, _this$opts4, _this$opts4$onRequest;\n    const autoOpen = (_opts$autoOpen = _opts == null ? void 0 : _opts.autoOpen) != null ? _opts$autoOpen : null;\n    super(uppy, {\n      ...defaultOptions,\n      ..._opts,\n      autoOpen\n    });\n    Object.defineProperty(this, _getInformerId, {\n      value: _getInformerId2\n    });\n    Object.defineProperty(this, _getThumbnailGeneratorId, {\n      value: _getThumbnailGeneratorId2\n    });\n    Object.defineProperty(this, _getStatusBarId, {\n      value: _getStatusBarId2\n    });\n    // eslint-disable-next-line class-methods-use-this\n    Object.defineProperty(this, _getInformerOpts, {\n      value: _getInformerOpts2\n    });\n    Object.defineProperty(this, _getThumbnailGeneratorOpts, {\n      value: _getThumbnailGeneratorOpts2\n    });\n    Object.defineProperty(this, _getStatusBarOpts, {\n      value: _getStatusBarOpts2\n    });\n    Object.defineProperty(this, _disabledNodes, {\n      writable: true,\n      value: void 0\n    });\n    this.modalName = `uppy-Dashboard-${nanoid()}`;\n    this.superFocus = createSuperFocus();\n    this.ifFocusedOnUppyRecently = false;\n    this.removeTarget = plugin => {\n      const pluginState = this.getPluginState();\n      // filter out the one we want to remove\n      const newTargets = pluginState.targets.filter(target => target.id !== plugin.id);\n      this.setPluginState({\n        targets: newTargets\n      });\n    };\n    this.addTarget = plugin => {\n      const callerPluginId = plugin.id || plugin.constructor.name;\n      const callerPluginName = plugin.title || callerPluginId;\n      const callerPluginType = plugin.type;\n      if (callerPluginType !== 'acquirer' && callerPluginType !== 'progressindicator' && callerPluginType !== 'editor') {\n        const msg = 'Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor';\n        this.uppy.log(msg, 'error');\n        return null;\n      }\n      const target = {\n        id: callerPluginId,\n        name: callerPluginName,\n        type: callerPluginType\n      };\n      const state = this.getPluginState();\n      const newTargets = state.targets.slice();\n      newTargets.push(target);\n      this.setPluginState({\n        targets: newTargets\n      });\n      return this.el;\n    };\n    this.hideAllPanels = () => {\n      var _state$activePickerPa;\n      const state = this.getPluginState();\n      const update = {\n        activePickerPanel: undefined,\n        showAddFilesPanel: false,\n        activeOverlayType: null,\n        fileCardFor: null,\n        showFileEditor: false\n      };\n      if (state.activePickerPanel === update.activePickerPanel && state.showAddFilesPanel === update.showAddFilesPanel && state.showFileEditor === update.showFileEditor && state.activeOverlayType === update.activeOverlayType) {\n        // avoid doing a state update if nothing changed\n        return;\n      }\n      this.setPluginState(update);\n      this.uppy.emit('dashboard:close-panel', (_state$activePickerPa = state.activePickerPanel) == null ? void 0 : _state$activePickerPa.id);\n    };\n    this.showPanel = id => {\n      const {\n        targets\n      } = this.getPluginState();\n      const activePickerPanel = targets.find(target => {\n        return target.type === 'acquirer' && target.id === id;\n      });\n      this.setPluginState({\n        activePickerPanel,\n        activeOverlayType: 'PickerPanel'\n      });\n      this.uppy.emit('dashboard:show-panel', id);\n    };\n    this.canEditFile = file => {\n      const {\n        targets\n      } = this.getPluginState();\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n      return editors.some(target => this.uppy.getPlugin(target.id).canEditFile(file));\n    };\n    this.openFileEditor = file => {\n      const {\n        targets\n      } = this.getPluginState();\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n      this.setPluginState({\n        showFileEditor: true,\n        fileCardFor: file.id || null,\n        activeOverlayType: 'FileEditor'\n      });\n      editors.forEach(editor => {\n        ;\n        this.uppy.getPlugin(editor.id).selectFile(file);\n      });\n    };\n    this.closeFileEditor = () => {\n      const {\n        metaFields\n      } = this.getPluginState();\n      const isMetaEditorEnabled = metaFields && metaFields.length > 0;\n      if (isMetaEditorEnabled) {\n        this.setPluginState({\n          showFileEditor: false,\n          activeOverlayType: 'FileCard'\n        });\n      } else {\n        this.setPluginState({\n          showFileEditor: false,\n          fileCardFor: null,\n          activeOverlayType: 'AddFiles'\n        });\n      }\n    };\n    this.saveFileEditor = () => {\n      const {\n        targets\n      } = this.getPluginState();\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n      editors.forEach(editor => {\n        ;\n        this.uppy.getPlugin(editor.id).save();\n      });\n      this.closeFileEditor();\n    };\n    this.openModal = () => {\n      const {\n        promise,\n        resolve\n      } = createPromise();\n      // save scroll position\n      this.savedScrollPosition = window.pageYOffset;\n      // save active element, so we can restore focus when modal is closed\n      this.savedActiveElement = document.activeElement;\n      if (this.opts.disablePageScrollWhenModalOpen) {\n        document.body.classList.add('uppy-Dashboard-isFixed');\n      }\n      if (this.opts.animateOpenClose && this.getPluginState().isClosing) {\n        const handler = () => {\n          this.setPluginState({\n            isHidden: false\n          });\n          this.el.removeEventListener('animationend', handler, false);\n          resolve();\n        };\n        this.el.addEventListener('animationend', handler, false);\n      } else {\n        this.setPluginState({\n          isHidden: false\n        });\n        resolve();\n      }\n      if (this.opts.browserBackButtonClose) {\n        this.updateBrowserHistory();\n      }\n\n      // handle ESC and TAB keys in modal dialog\n      document.addEventListener('keydown', this.handleKeyDownInModal);\n      this.uppy.emit('dashboard:modal-open');\n      return promise;\n    };\n    this.closeModal = opts => {\n      var _opts$manualClose;\n      // Whether the modal is being closed by the user (`true`) or by other means (e.g. browser back button)\n      const manualClose = (_opts$manualClose = opts == null ? void 0 : opts.manualClose) != null ? _opts$manualClose : true;\n      const {\n        isHidden,\n        isClosing\n      } = this.getPluginState();\n      if (isHidden || isClosing) {\n        // short-circuit if animation is ongoing\n        return undefined;\n      }\n      const {\n        promise,\n        resolve\n      } = createPromise();\n      if (this.opts.disablePageScrollWhenModalOpen) {\n        document.body.classList.remove('uppy-Dashboard-isFixed');\n      }\n      if (this.opts.animateOpenClose) {\n        this.setPluginState({\n          isClosing: true\n        });\n        const handler = () => {\n          this.setPluginState({\n            isHidden: true,\n            isClosing: false\n          });\n          this.superFocus.cancel();\n          this.savedActiveElement.focus();\n          this.el.removeEventListener('animationend', handler, false);\n          resolve();\n        };\n        this.el.addEventListener('animationend', handler, false);\n      } else {\n        this.setPluginState({\n          isHidden: true\n        });\n        this.superFocus.cancel();\n        this.savedActiveElement.focus();\n        resolve();\n      }\n\n      // handle ESC and TAB keys in modal dialog\n      document.removeEventListener('keydown', this.handleKeyDownInModal);\n      if (manualClose) {\n        if (this.opts.browserBackButtonClose) {\n          var _history$state;\n          // Make sure that the latest entry in the history state is our modal name\n          // eslint-disable-next-line no-restricted-globals\n          if ((_history$state = history.state) != null && _history$state[this.modalName]) {\n            // Go back in history to clear out the entry we created (ultimately closing the modal)\n            // eslint-disable-next-line no-restricted-globals\n            history.back();\n          }\n        }\n      }\n      this.uppy.emit('dashboard:modal-closed');\n      return promise;\n    };\n    this.isModalOpen = () => {\n      return !this.getPluginState().isHidden || false;\n    };\n    this.requestCloseModal = () => {\n      if (this.opts.onRequestCloseModal) {\n        return this.opts.onRequestCloseModal();\n      }\n      return this.closeModal();\n    };\n    this.setDarkModeCapability = isDarkModeOn => {\n      const {\n        capabilities\n      } = this.uppy.getState();\n      this.uppy.setState({\n        capabilities: {\n          ...capabilities,\n          darkMode: isDarkModeOn\n        }\n      });\n    };\n    this.handleSystemDarkModeChange = event => {\n      const isDarkModeOnNow = event.matches;\n      this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnNow ? 'on' : 'off'}`);\n      this.setDarkModeCapability(isDarkModeOnNow);\n    };\n    this.toggleFileCard = (show, fileID) => {\n      const file = this.uppy.getFile(fileID);\n      if (show) {\n        this.uppy.emit('dashboard:file-edit-start', file);\n      } else {\n        this.uppy.emit('dashboard:file-edit-complete', file);\n      }\n      this.setPluginState({\n        fileCardFor: show ? fileID : null,\n        activeOverlayType: show ? 'FileCard' : null\n      });\n    };\n    this.toggleAddFilesPanel = show => {\n      this.setPluginState({\n        showAddFilesPanel: show,\n        activeOverlayType: show ? 'AddFiles' : null\n      });\n    };\n    this.addFiles = files => {\n      const descriptors = files.map(file => ({\n        source: this.id,\n        name: file.name,\n        type: file.type,\n        data: file,\n        meta: {\n          // path of the file relative to the ancestor directory the user selected.\n          // e.g. 'docs/Old Prague/airbnb.pdf'\n          relativePath: file.relativePath || file.webkitRelativePath || null\n        }\n      }));\n      try {\n        this.uppy.addFiles(descriptors);\n      } catch (err) {\n        this.uppy.log(err);\n      }\n    };\n    // ___Why make insides of Dashboard invisible until first ResizeObserver event is emitted?\n    //    ResizeOberserver doesn't emit the first resize event fast enough, users can see the jump from one .uppy-size-- to\n    //    another (e.g. in Safari)\n    // ___Why not apply visibility property to .uppy-Dashboard-inner?\n    //    Because ideally, acc to specs, ResizeObserver should see invisible elements as of width 0. So even though applying\n    //    invisibility to .uppy-Dashboard-inner works now, it may not work in the future.\n    this.startListeningToResize = () => {\n      // Watch for Dashboard container (`.uppy-Dashboard-inner`) resize\n      // and update containerWidth/containerHeight in plugin state accordingly.\n      // Emits first event on initialization.\n      this.resizeObserver = new ResizeObserver(entries => {\n        const uppyDashboardInnerEl = entries[0];\n        const {\n          width,\n          height\n        } = uppyDashboardInnerEl.contentRect;\n        this.setPluginState({\n          containerWidth: width,\n          containerHeight: height,\n          areInsidesReadyToBeVisible: true\n        });\n      });\n      this.resizeObserver.observe(this.el.querySelector('.uppy-Dashboard-inner'));\n\n      // If ResizeObserver fails to emit an event telling us what size to use - default to the mobile view\n      this.makeDashboardInsidesVisibleAnywayTimeout = setTimeout(() => {\n        const pluginState = this.getPluginState();\n        const isModalAndClosed = !this.opts.inline && pluginState.isHidden;\n        if (\n        // We might want to enable this in the future\n\n        // if ResizeObserver hasn't yet fired,\n        !pluginState.areInsidesReadyToBeVisible &&\n        // and it's not due to the modal being closed\n        !isModalAndClosed) {\n          this.uppy.log('[Dashboard] resize event didn\u2019t fire on time: defaulted to mobile layout', 'warning');\n          this.setPluginState({\n            areInsidesReadyToBeVisible: true\n          });\n        }\n      }, 1000);\n    };\n    this.stopListeningToResize = () => {\n      this.resizeObserver.disconnect();\n      clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout);\n    };\n    // Records whether we have been interacting with uppy right now,\n    // which is then used to determine whether state updates should trigger a refocusing.\n    this.recordIfFocusedOnUppyRecently = event => {\n      if (this.el.contains(event.target)) {\n        this.ifFocusedOnUppyRecently = true;\n      } else {\n        this.ifFocusedOnUppyRecently = false;\n        // ___Why run this.superFocus.cancel here when it already runs in superFocusOnEachUpdate?\n        //    Because superFocus is debounced, when we move from Uppy to some other element on the page,\n        //    previously run superFocus sometimes hits and moves focus back to Uppy.\n        this.superFocus.cancel();\n      }\n    };\n    this.disableInteractiveElements = disable => {\n      var _classPrivateFieldLoo;\n      const NODES_TO_DISABLE = ['a[href]', 'input:not([disabled])', 'select:not([disabled])', 'textarea:not([disabled])', 'button:not([disabled])', '[role=\"button\"]:not([disabled])'];\n      const nodesToDisable = (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _disabledNodes)[_disabledNodes]) != null ? _classPrivateFieldLoo : toArray(this.el.querySelectorAll(NODES_TO_DISABLE)).filter(node => !node.classList.contains('uppy-Dashboard-close'));\n      for (const node of nodesToDisable) {\n        // Links can\u2019t have `disabled` attr, so we use `aria-disabled` for a11y\n        if (node.tagName === 'A') {\n          node.setAttribute('aria-disabled', disable);\n        } else {\n          node.disabled = disable;\n        }\n      }\n      if (disable) {\n        _classPrivateFieldLooseBase(this, _disabledNodes)[_disabledNodes] = nodesToDisable;\n      } else {\n        _classPrivateFieldLooseBase(this, _disabledNodes)[_disabledNodes] = null;\n      }\n      this.dashboardIsDisabled = disable;\n    };\n    this.updateBrowserHistory = () => {\n      var _history$state2;\n      // Ensure history state does not already contain our modal name to avoid double-pushing\n      // eslint-disable-next-line no-restricted-globals\n      if (!((_history$state2 = history.state) != null && _history$state2[this.modalName])) {\n        // Push to history so that the page is not lost on browser back button press\n        // eslint-disable-next-line no-restricted-globals\n        history.pushState({\n          // eslint-disable-next-line no-restricted-globals\n          ...history.state,\n          [this.modalName]: true\n        }, '');\n      }\n\n      // Listen for back button presses\n      window.addEventListener('popstate', this.handlePopState, false);\n    };\n    this.handlePopState = event => {\n      var _event$state;\n      // Close the modal if the history state no longer contains our modal name\n      if (this.isModalOpen() && (!event.state || !event.state[this.modalName])) {\n        this.closeModal({\n          manualClose: false\n        });\n      }\n\n      // When the browser back button is pressed and uppy is now the latest entry\n      // in the history but the modal is closed, fix the history by removing the\n      // uppy history entry.\n      // This occurs when another entry is added into the history state while the\n      // modal is open, and then the modal gets manually closed.\n      // Solves PR #575 (https://github.com/transloadit/uppy/pull/575)\n      if (!this.isModalOpen() && (_event$state = event.state) != null && _event$state[this.modalName]) {\n        // eslint-disable-next-line no-restricted-globals\n        history.back();\n      }\n    };\n    this.handleKeyDownInModal = event => {\n      // close modal on esc key press\n      if (event.keyCode === ESC_KEY) this.requestCloseModal();\n      // trap focus on tab key press\n      if (event.keyCode === TAB_KEY) trapFocus.forModal(event, this.getPluginState().activeOverlayType, this.el);\n    };\n    this.handleClickOutside = () => {\n      if (this.opts.closeModalOnClickOutside) this.requestCloseModal();\n    };\n    this.handlePaste = event => {\n      // Let any acquirer plugin (Url/Webcam/etc.) handle pastes to the root\n      this.uppy.iteratePlugins(plugin => {\n        if (plugin.type === 'acquirer') {\n          // Every Plugin with .type acquirer can define handleRootPaste(event)\n          ;\n          plugin.handleRootPaste == null || plugin.handleRootPaste(event);\n        }\n      });\n\n      // Add all dropped files\n      const files = toArray(event.clipboardData.files);\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files pasted');\n        this.addFiles(files);\n      }\n    };\n    this.handleInputChange = event => {\n      event.preventDefault();\n      const files = toArray(event.target.files);\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files selected through input');\n        this.addFiles(files);\n      }\n    };\n    this.handleDragOver = event => {\n      var _this$opts$onDragOver, _this$opts;\n      event.preventDefault();\n      event.stopPropagation();\n\n      // Check if some plugin can handle the datatransfer without files \u2014\n      // for instance, the Url plugin can import a url\n      const canSomePluginHandleRootDrop = () => {\n        let somePluginCanHandleRootDrop = true;\n        this.uppy.iteratePlugins(plugin => {\n          if (plugin.canHandleRootDrop != null && plugin.canHandleRootDrop(event)) {\n            somePluginCanHandleRootDrop = true;\n          }\n        });\n        return somePluginCanHandleRootDrop;\n      };\n\n      // Check if the \"type\" of the datatransfer object includes files\n      const doesEventHaveFiles = () => {\n        const {\n          types\n        } = event.dataTransfer;\n        return types.some(type => type === 'Files');\n      };\n\n      // Deny drop, if no plugins can handle datatransfer, there are no files,\n      // or when opts.disabled is set, or new uploads are not allowed\n      const somePluginCanHandleRootDrop = canSomePluginHandleRootDrop();\n      const hasFiles = doesEventHaveFiles();\n      if (!somePluginCanHandleRootDrop && !hasFiles || this.opts.disabled ||\n      // opts.disableLocalFiles should only be taken into account if no plugins\n      // can handle the datatransfer\n      this.opts.disableLocalFiles && (hasFiles || !somePluginCanHandleRootDrop) || !this.uppy.getState().allowNewUpload) {\n        event.dataTransfer.dropEffect = 'none'; // eslint-disable-line no-param-reassign\n        return;\n      }\n\n      // Add a small (+) icon on drop\n      // (and prevent browsers from interpreting this as files being _moved_ into the\n      // browser, https://github.com/transloadit/uppy/issues/1978).\n      event.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign\n\n      this.setPluginState({\n        isDraggingOver: true\n      });\n      (_this$opts$onDragOver = (_this$opts = this.opts).onDragOver) == null || _this$opts$onDragOver.call(_this$opts, event);\n    };\n    this.handleDragLeave = event => {\n      var _this$opts$onDragLeav, _this$opts2;\n      event.preventDefault();\n      event.stopPropagation();\n      this.setPluginState({\n        isDraggingOver: false\n      });\n      (_this$opts$onDragLeav = (_this$opts2 = this.opts).onDragLeave) == null || _this$opts$onDragLeav.call(_this$opts2, event);\n    };\n    this.handleDrop = async event => {\n      var _this$opts$onDrop, _this$opts3;\n      event.preventDefault();\n      event.stopPropagation();\n      this.setPluginState({\n        isDraggingOver: false\n      });\n\n      // Let any acquirer plugin (Url/Webcam/etc.) handle drops to the root\n      this.uppy.iteratePlugins(plugin => {\n        if (plugin.type === 'acquirer') {\n          // Every Plugin with .type acquirer can define handleRootDrop(event)\n          ;\n          plugin.handleRootDrop == null || plugin.handleRootDrop(event);\n        }\n      });\n\n      // Add all dropped files\n      let executedDropErrorOnce = false;\n      const logDropError = error => {\n        this.uppy.log(error, 'error');\n\n        // In practice all drop errors are most likely the same,\n        // so let's just show one to avoid overwhelming the user\n        if (!executedDropErrorOnce) {\n          this.uppy.info(error.message, 'error');\n          executedDropErrorOnce = true;\n        }\n      };\n      this.uppy.log('[Dashboard] Processing dropped files');\n\n      // Add all dropped files\n      const files = await getDroppedFiles(event.dataTransfer, {\n        logDropError\n      });\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files dropped');\n        this.addFiles(files);\n      }\n      (_this$opts$onDrop = (_this$opts3 = this.opts).onDrop) == null || _this$opts$onDrop.call(_this$opts3, event);\n    };\n    this.handleRequestThumbnail = file => {\n      if (!this.opts.waitForThumbnailsBeforeUpload) {\n        this.uppy.emit('thumbnail:request', file);\n      }\n    };\n    /**\n     * We cancel thumbnail requests when a file item component unmounts to avoid\n     * clogging up the queue when the user scrolls past many elements.\n     */\n    this.handleCancelThumbnail = file => {\n      if (!this.opts.waitForThumbnailsBeforeUpload) {\n        this.uppy.emit('thumbnail:cancel', file);\n      }\n    };\n    this.handleKeyDownInInline = event => {\n      // Trap focus on tab key press.\n      if (event.keyCode === TAB_KEY) trapFocus.forInline(event, this.getPluginState().activeOverlayType, this.el);\n    };\n    // ___Why do we listen to the 'paste' event on a document instead of onPaste={props.handlePaste} prop,\n    //    or this.el.addEventListener('paste')?\n    //    Because (at least) Chrome doesn't handle paste if focus is on some button, e.g. 'My Device'.\n    //    => Therefore, the best option is to listen to all 'paste' events, and only react to them when we are focused on our\n    //       particular Uppy instance.\n    // ___Why do we still need onPaste={props.handlePaste} for the DashboardUi?\n    //    Because if we click on the 'Drop files here' caption e.g., `document.activeElement` will be 'body'. Which means our\n    //    standard determination of whether we're pasting into our Uppy instance won't work.\n    //    => Therefore, we need a traditional onPaste={props.handlePaste} handler too.\n    this.handlePasteOnBody = event => {\n      const isFocusInOverlay = this.el.contains(document.activeElement);\n      if (isFocusInOverlay) {\n        this.handlePaste(event);\n      }\n    };\n    this.handleComplete = _ref => {\n      let {\n        failed\n      } = _ref;\n      if (this.opts.closeAfterFinish && !(failed != null && failed.length)) {\n        // All uploads are done\n        this.requestCloseModal();\n      }\n    };\n    this.handleCancelRestore = () => {\n      this.uppy.emit('restore-canceled');\n    };\n    Object.defineProperty(this, _generateLargeThumbnailIfSingleFile, {\n      writable: true,\n      value: () => {\n        if (this.opts.disableThumbnailGenerator) {\n          return;\n        }\n        const LARGE_THUMBNAIL = 600;\n        const files = this.uppy.getFiles();\n        if (files.length === 1) {\n          const thumbnailGenerator = this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);\n          thumbnailGenerator == null || thumbnailGenerator.setOptions({\n            thumbnailWidth: LARGE_THUMBNAIL\n          });\n          const fileForThumbnail = {\n            ...files[0],\n            preview: undefined\n          };\n          thumbnailGenerator == null || thumbnailGenerator.requestThumbnail(fileForThumbnail).then(() => {\n            thumbnailGenerator == null || thumbnailGenerator.setOptions({\n              thumbnailWidth: this.opts.thumbnailWidth\n            });\n          });\n        }\n      }\n    });\n    Object.defineProperty(this, _openFileEditorWhenFilesAdded, {\n      writable: true,\n      value: files => {\n        const firstFile = files[0];\n        const {\n          metaFields\n        } = this.getPluginState();\n        const isMetaEditorEnabled = metaFields && metaFields.length > 0;\n        const isImageEditorEnabled = this.canEditFile(firstFile);\n        if (isMetaEditorEnabled && this.opts.autoOpen === 'metaEditor') {\n          this.toggleFileCard(true, firstFile.id);\n        } else if (isImageEditorEnabled && this.opts.autoOpen === 'imageEditor') {\n          this.openFileEditor(firstFile);\n        }\n      }\n    });\n    this.initEvents = () => {\n      // Modal open button\n      if (this.opts.trigger && !this.opts.inline) {\n        const showModalTrigger = findAllDOMElements(this.opts.trigger);\n        if (showModalTrigger) {\n          showModalTrigger.forEach(trigger => trigger.addEventListener('click', this.openModal));\n        } else {\n          this.uppy.log('Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself', 'warning');\n        }\n      }\n      this.startListeningToResize();\n      document.addEventListener('paste', this.handlePasteOnBody);\n      this.uppy.on('plugin-added', _classPrivateFieldLooseBase(this, _addSupportedPluginIfNoTarget)[_addSupportedPluginIfNoTarget]);\n      this.uppy.on('plugin-remove', this.removeTarget);\n      this.uppy.on('file-added', this.hideAllPanels);\n      this.uppy.on('dashboard:modal-closed', this.hideAllPanels);\n      this.uppy.on('complete', this.handleComplete);\n      this.uppy.on('files-added', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);\n      this.uppy.on('file-removed', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);\n\n      // ___Why fire on capture?\n      //    Because this.ifFocusedOnUppyRecently needs to change before onUpdate() fires.\n      document.addEventListener('focus', this.recordIfFocusedOnUppyRecently, true);\n      document.addEventListener('click', this.recordIfFocusedOnUppyRecently, true);\n      if (this.opts.inline) {\n        this.el.addEventListener('keydown', this.handleKeyDownInInline);\n      }\n      if (this.opts.autoOpen) {\n        this.uppy.on('files-added', _classPrivateFieldLooseBase(this, _openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded]);\n      }\n    };\n    this.removeEvents = () => {\n      const showModalTrigger = findAllDOMElements(this.opts.trigger);\n      if (!this.opts.inline && showModalTrigger) {\n        showModalTrigger.forEach(trigger => trigger.removeEventListener('click', this.openModal));\n      }\n      this.stopListeningToResize();\n      document.removeEventListener('paste', this.handlePasteOnBody);\n      window.removeEventListener('popstate', this.handlePopState, false);\n      this.uppy.off('plugin-added', _classPrivateFieldLooseBase(this, _addSupportedPluginIfNoTarget)[_addSupportedPluginIfNoTarget]);\n      this.uppy.off('plugin-remove', this.removeTarget);\n      this.uppy.off('file-added', this.hideAllPanels);\n      this.uppy.off('dashboard:modal-closed', this.hideAllPanels);\n      this.uppy.off('complete', this.handleComplete);\n      this.uppy.off('files-added', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);\n      this.uppy.off('file-removed', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);\n      document.removeEventListener('focus', this.recordIfFocusedOnUppyRecently);\n      document.removeEventListener('click', this.recordIfFocusedOnUppyRecently);\n      if (this.opts.inline) {\n        this.el.removeEventListener('keydown', this.handleKeyDownInInline);\n      }\n      if (this.opts.autoOpen) {\n        this.uppy.off('files-added', _classPrivateFieldLooseBase(this, _openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded]);\n      }\n    };\n    this.superFocusOnEachUpdate = () => {\n      const isFocusInUppy = this.el.contains(document.activeElement);\n      // When focus is lost on the page (== focus is on body for most browsers, or focus is null for IE11)\n      const isFocusNowhere = document.activeElement === document.body || document.activeElement === null;\n      const isInformerHidden = this.uppy.getState().info.length === 0;\n      const isModal = !this.opts.inline;\n      if (\n      // If update is connected to showing the Informer - let the screen reader calmly read it.\n      isInformerHidden && (\n      // If we are in a modal - always superfocus without concern for other elements\n      // on the page (user is unlikely to want to interact with the rest of the page)\n      isModal ||\n      // If we are already inside of Uppy, or\n      isFocusInUppy ||\n      // If we are not focused on anything BUT we have already, at least once, focused on uppy\n      //   1. We focus when isFocusNowhere, because when the element we were focused\n      //      on disappears (e.g. an overlay), - focus gets lost. If user is typing\n      //      something somewhere else on the page, - focus won't be 'nowhere'.\n      //   2. We only focus when focus is nowhere AND this.ifFocusedOnUppyRecently,\n      //      to avoid focus jumps if we do something else on the page.\n      //   [Practical check] Without '&& this.ifFocusedOnUppyRecently', in Safari, in inline mode,\n      //                     when file is uploading, - navigate via tab to the checkbox,\n      //                     try to press space multiple times. Focus will jump to Uppy.\n      isFocusNowhere && this.ifFocusedOnUppyRecently)) {\n        this.superFocus(this.el, this.getPluginState().activeOverlayType);\n      } else {\n        this.superFocus.cancel();\n      }\n    };\n    this.afterUpdate = () => {\n      if (this.opts.disabled && !this.dashboardIsDisabled) {\n        this.disableInteractiveElements(true);\n        return;\n      }\n      if (!this.opts.disabled && this.dashboardIsDisabled) {\n        this.disableInteractiveElements(false);\n      }\n      this.superFocusOnEachUpdate();\n    };\n    this.saveFileCard = (meta, fileID) => {\n      this.uppy.setFileMeta(fileID, meta);\n      this.toggleFileCard(false, fileID);\n    };\n    Object.defineProperty(this, _attachRenderFunctionToTarget, {\n      writable: true,\n      value: target => {\n        const plugin = this.uppy.getPlugin(target.id);\n        return {\n          ...target,\n          icon: plugin.icon || this.opts.defaultPickerIcon,\n          render: plugin.render\n        };\n      }\n    });\n    Object.defineProperty(this, _isTargetSupported, {\n      writable: true,\n      value: target => {\n        const plugin = this.uppy.getPlugin(target.id);\n        // If the plugin does not provide a `supported` check, assume the plugin works everywhere.\n        if (typeof plugin.isSupported !== 'function') {\n          return true;\n        }\n        return plugin.isSupported();\n      }\n    });\n    Object.defineProperty(this, _getAcquirers, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'acquirer' && _classPrivateFieldLooseBase(this, _isTargetSupported)[_isTargetSupported](target)).map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n    Object.defineProperty(this, _getProgressIndicators, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'progressindicator').map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n    Object.defineProperty(this, _getEditors, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'editor').map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n    this.render = state => {\n      const pluginState = this.getPluginState();\n      const {\n        files,\n        capabilities,\n        allowNewUpload\n      } = state;\n      const {\n        newFiles,\n        uploadStartedFiles,\n        completeFiles,\n        erroredFiles,\n        inProgressFiles,\n        inProgressNotPausedFiles,\n        processingFiles,\n        isUploadStarted,\n        isAllComplete,\n        isAllPaused\n      } = this.uppy.getObjectOfFilesPerState();\n      const acquirers = _classPrivateFieldLooseBase(this, _getAcquirers)[_getAcquirers](pluginState.targets);\n      const progressindicators = _classPrivateFieldLooseBase(this, _getProgressIndicators)[_getProgressIndicators](pluginState.targets);\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](pluginState.targets);\n      let theme;\n      if (this.opts.theme === 'auto') {\n        theme = capabilities.darkMode ? 'dark' : 'light';\n      } else {\n        theme = this.opts.theme;\n      }\n      if (['files', 'folders', 'both'].indexOf(this.opts.fileManagerSelectionType) < 0) {\n        this.opts.fileManagerSelectionType = 'files';\n        // eslint-disable-next-line no-console\n        console.warn(`Unsupported option for \"fileManagerSelectionType\". Using default of \"${this.opts.fileManagerSelectionType}\".`);\n      }\n      return DashboardUI({\n        state,\n        isHidden: pluginState.isHidden,\n        files,\n        newFiles,\n        uploadStartedFiles,\n        completeFiles,\n        erroredFiles,\n        inProgressFiles,\n        inProgressNotPausedFiles,\n        processingFiles,\n        isUploadStarted,\n        isAllComplete,\n        isAllPaused,\n        totalFileCount: Object.keys(files).length,\n        totalProgress: state.totalProgress,\n        allowNewUpload,\n        acquirers,\n        theme,\n        disabled: this.opts.disabled,\n        disableLocalFiles: this.opts.disableLocalFiles,\n        direction: this.opts.direction,\n        activePickerPanel: pluginState.activePickerPanel,\n        showFileEditor: pluginState.showFileEditor,\n        saveFileEditor: this.saveFileEditor,\n        closeFileEditor: this.closeFileEditor,\n        disableInteractiveElements: this.disableInteractiveElements,\n        animateOpenClose: this.opts.animateOpenClose,\n        isClosing: pluginState.isClosing,\n        progressindicators,\n        editors,\n        autoProceed: this.uppy.opts.autoProceed,\n        id: this.id,\n        closeModal: this.requestCloseModal,\n        handleClickOutside: this.handleClickOutside,\n        handleInputChange: this.handleInputChange,\n        handlePaste: this.handlePaste,\n        inline: this.opts.inline,\n        showPanel: this.showPanel,\n        hideAllPanels: this.hideAllPanels,\n        i18n: this.i18n,\n        i18nArray: this.i18nArray,\n        uppy: this.uppy,\n        note: this.opts.note,\n        recoveredState: state.recoveredState,\n        metaFields: pluginState.metaFields,\n        resumableUploads: capabilities.resumableUploads || false,\n        individualCancellation: capabilities.individualCancellation,\n        isMobileDevice: capabilities.isMobileDevice,\n        fileCardFor: pluginState.fileCardFor,\n        toggleFileCard: this.toggleFileCard,\n        toggleAddFilesPanel: this.toggleAddFilesPanel,\n        showAddFilesPanel: pluginState.showAddFilesPanel,\n        saveFileCard: this.saveFileCard,\n        openFileEditor: this.openFileEditor,\n        canEditFile: this.canEditFile,\n        width: this.opts.width,\n        height: this.opts.height,\n        showLinkToFileUploadResult: this.opts.showLinkToFileUploadResult,\n        fileManagerSelectionType: this.opts.fileManagerSelectionType,\n        proudlyDisplayPoweredByUppy: this.opts.proudlyDisplayPoweredByUppy,\n        hideCancelButton: this.opts.hideCancelButton,\n        hideRetryButton: this.opts.hideRetryButton,\n        hidePauseResumeButton: this.opts.hidePauseResumeButton,\n        showRemoveButtonAfterComplete: this.opts.showRemoveButtonAfterComplete,\n        containerWidth: pluginState.containerWidth,\n        containerHeight: pluginState.containerHeight,\n        areInsidesReadyToBeVisible: pluginState.areInsidesReadyToBeVisible,\n        parentElement: this.el,\n        allowedFileTypes: this.uppy.opts.restrictions.allowedFileTypes,\n        maxNumberOfFiles: this.uppy.opts.restrictions.maxNumberOfFiles,\n        requiredMetaFields: this.uppy.opts.restrictions.requiredMetaFields,\n        showSelectedFiles: this.opts.showSelectedFiles,\n        showNativePhotoCameraButton: this.opts.showNativePhotoCameraButton,\n        showNativeVideoCameraButton: this.opts.showNativeVideoCameraButton,\n        nativeCameraFacingMode: this.opts.nativeCameraFacingMode,\n        singleFileFullScreen: this.opts.singleFileFullScreen,\n        handleCancelRestore: this.handleCancelRestore,\n        handleRequestThumbnail: this.handleRequestThumbnail,\n        handleCancelThumbnail: this.handleCancelThumbnail,\n        // drag props\n        isDraggingOver: pluginState.isDraggingOver,\n        handleDragOver: this.handleDragOver,\n        handleDragLeave: this.handleDragLeave,\n        handleDrop: this.handleDrop\n      });\n    };\n    Object.defineProperty(this, _addSpecifiedPluginsFromOptions, {\n      writable: true,\n      value: () => {\n        const plugins = this.opts.plugins || [];\n        plugins.forEach(pluginID => {\n          const plugin = this.uppy.getPlugin(pluginID);\n          if (plugin) {\n            ;\n            plugin.mount(this, plugin);\n          } else {\n            this.uppy.log(`[Uppy] Dashboard could not find plugin '${pluginID}', make sure to uppy.use() the plugins you are specifying`, 'warning');\n          }\n        });\n      }\n    });\n    Object.defineProperty(this, _autoDiscoverPlugins, {\n      writable: true,\n      value: () => {\n        this.uppy.iteratePlugins(_classPrivateFieldLooseBase(this, _addSupportedPluginIfNoTarget)[_addSupportedPluginIfNoTarget]);\n      }\n    });\n    Object.defineProperty(this, _addSupportedPluginIfNoTarget, {\n      writable: true,\n      value: plugin => {\n        var _plugin$opts;\n        // Only these types belong on the Dashboard,\n        // we wouldn\u2019t want to try and mount Compressor or Tus, for example.\n        const typesAllowed = ['acquirer', 'editor'];\n        if (plugin && !((_plugin$opts = plugin.opts) != null && _plugin$opts.target) && typesAllowed.includes(plugin.type)) {\n          const pluginAlreadyAdded = this.getPluginState().targets.some(installedPlugin => plugin.id === installedPlugin.id);\n          if (!pluginAlreadyAdded) {\n            ;\n            plugin.mount(this, plugin);\n          }\n        }\n      }\n    });\n    this.install = () => {\n      // Set default state for Dashboard\n      this.setPluginState({\n        isHidden: true,\n        fileCardFor: null,\n        activeOverlayType: null,\n        showAddFilesPanel: false,\n        activePickerPanel: undefined,\n        showFileEditor: false,\n        metaFields: this.opts.metaFields,\n        targets: [],\n        // We'll make them visible once .containerWidth is determined\n        areInsidesReadyToBeVisible: false,\n        isDraggingOver: false\n      });\n      const {\n        inline,\n        closeAfterFinish\n      } = this.opts;\n      if (inline && closeAfterFinish) {\n        throw new Error('[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.');\n      }\n      const {\n        allowMultipleUploads,\n        allowMultipleUploadBatches\n      } = this.uppy.opts;\n      if ((allowMultipleUploads || allowMultipleUploadBatches) && closeAfterFinish) {\n        this.uppy.log('[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true', 'warning');\n      }\n      const {\n        target\n      } = this.opts;\n      if (target) {\n        this.mount(target, this);\n      }\n      if (!this.opts.disableStatusBar) {\n        this.uppy.use(StatusBar, {\n          id: _classPrivateFieldLooseBase(this, _getStatusBarId)[_getStatusBarId](),\n          target: this,\n          ..._classPrivateFieldLooseBase(this, _getStatusBarOpts)[_getStatusBarOpts]()\n        });\n      }\n      if (!this.opts.disableInformer) {\n        this.uppy.use(Informer, {\n          id: _classPrivateFieldLooseBase(this, _getInformerId)[_getInformerId](),\n          target: this,\n          ..._classPrivateFieldLooseBase(this, _getInformerOpts)[_getInformerOpts]()\n        });\n      }\n      if (!this.opts.disableThumbnailGenerator) {\n        this.uppy.use(ThumbnailGenerator, {\n          id: _classPrivateFieldLooseBase(this, _getThumbnailGeneratorId)[_getThumbnailGeneratorId](),\n          ..._classPrivateFieldLooseBase(this, _getThumbnailGeneratorOpts)[_getThumbnailGeneratorOpts]()\n        });\n      }\n\n      // Dark Mode / theme\n      this.darkModeMediaQuery = typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;\n      const isDarkModeOnFromTheStart = this.darkModeMediaQuery ? this.darkModeMediaQuery.matches : false;\n      this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnFromTheStart ? 'on' : 'off'}`);\n      this.setDarkModeCapability(isDarkModeOnFromTheStart);\n      if (this.opts.theme === 'auto') {\n        var _this$darkModeMediaQu;\n        (_this$darkModeMediaQu = this.darkModeMediaQuery) == null || _this$darkModeMediaQu.addListener(this.handleSystemDarkModeChange);\n      }\n      _classPrivateFieldLooseBase(this, _addSpecifiedPluginsFromOptions)[_addSpecifiedPluginsFromOptions]();\n      _classPrivateFieldLooseBase(this, _autoDiscoverPlugins)[_autoDiscoverPlugins]();\n      this.initEvents();\n    };\n    this.uninstall = () => {\n      if (!this.opts.disableInformer) {\n        const informer = this.uppy.getPlugin(`${this.id}:Informer`);\n        // Checking if this plugin exists, in case it was removed by uppy-core\n        // before the Dashboard was.\n        if (informer) this.uppy.removePlugin(informer);\n      }\n      if (!this.opts.disableStatusBar) {\n        const statusBar = this.uppy.getPlugin(`${this.id}:StatusBar`);\n        if (statusBar) this.uppy.removePlugin(statusBar);\n      }\n      if (!this.opts.disableThumbnailGenerator) {\n        const thumbnail = this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);\n        if (thumbnail) this.uppy.removePlugin(thumbnail);\n      }\n      const plugins = this.opts.plugins || [];\n      plugins.forEach(pluginID => {\n        const plugin = this.uppy.getPlugin(pluginID);\n        if (plugin) plugin.unmount();\n      });\n      if (this.opts.theme === 'auto') {\n        var _this$darkModeMediaQu2;\n        (_this$darkModeMediaQu2 = this.darkModeMediaQuery) == null || _this$darkModeMediaQu2.removeListener(this.handleSystemDarkModeChange);\n      }\n      if (this.opts.disablePageScrollWhenModalOpen) {\n        document.body.classList.remove('uppy-Dashboard-isFixed');\n      }\n      this.unmount();\n      this.removeEvents();\n    };\n    this.id = this.opts.id || 'Dashboard';\n    this.title = 'Dashboard';\n    this.type = 'orchestrator';\n    this.defaultLocale = locale;\n\n    // Dynamic default options:\n    if (this.opts.doneButtonHandler === undefined) {\n      // `null` means \"do not display a Done button\", while `undefined` means\n      // \"I want the default behavior\". For this reason, we need to differentiate `null` and `undefined`.\n      this.opts.doneButtonHandler = () => {\n        this.uppy.clear();\n        this.requestCloseModal();\n      };\n    }\n    (_this$opts4$onRequest = (_this$opts4 = this.opts).onRequestCloseModal) != null ? _this$opts4$onRequest : _this$opts4.onRequestCloseModal = () => this.closeModal();\n    this.i18nInit();\n  }\n  setOptions(opts) {\n    var _this$uppy$getPlugin, _this$uppy$getPlugin2;\n    super.setOptions(opts);\n    (_this$uppy$getPlugin = this.uppy.getPlugin(_classPrivateFieldLooseBase(this, _getStatusBarId)[_getStatusBarId]())) == null || _this$uppy$getPlugin.setOptions(_classPrivateFieldLooseBase(this, _getStatusBarOpts)[_getStatusBarOpts]());\n    (_this$uppy$getPlugin2 = this.uppy.getPlugin(_classPrivateFieldLooseBase(this, _getThumbnailGeneratorId)[_getThumbnailGeneratorId]())) == null || _this$uppy$getPlugin2.setOptions(_classPrivateFieldLooseBase(this, _getThumbnailGeneratorOpts)[_getThumbnailGeneratorOpts]());\n  }\n}\nfunction _getStatusBarOpts2() {\n  const {\n    hideUploadButton,\n    hideRetryButton,\n    hidePauseResumeButton,\n    hideCancelButton,\n    showProgressDetails,\n    hideProgressAfterFinish,\n    locale: l,\n    doneButtonHandler\n  } = this.opts;\n  return {\n    hideUploadButton,\n    hideRetryButton,\n    hidePauseResumeButton,\n    hideCancelButton,\n    showProgressDetails,\n    hideAfterFinish: hideProgressAfterFinish,\n    locale: l,\n    doneButtonHandler\n  };\n}\nfunction _getThumbnailGeneratorOpts2() {\n  const {\n    thumbnailWidth,\n    thumbnailHeight,\n    thumbnailType,\n    waitForThumbnailsBeforeUpload\n  } = this.opts;\n  return {\n    thumbnailWidth,\n    thumbnailHeight,\n    thumbnailType,\n    waitForThumbnailsBeforeUpload,\n    // If we don't block on thumbnails, we can lazily generate them\n    lazy: !waitForThumbnailsBeforeUpload\n  };\n}\nfunction _getInformerOpts2() {\n  return {\n    // currently no options\n  };\n}\nfunction _getStatusBarId2() {\n  return `${this.id}:StatusBar`;\n}\nfunction _getThumbnailGeneratorId2() {\n  return `${this.id}:ThumbnailGenerator`;\n}\nfunction _getInformerId2() {\n  return `${this.id}:Informer`;\n}\nDashboard.VERSION = packageJson.version;", "/* eslint-disable jsx-a11y/label-has-associated-control */\nimport Cropper from 'cropperjs';\nimport { h, Component } from 'preact';\nimport getCanvasDataThatFitsPerfectlyIntoContainer from \"./utils/getCanvasDataThatFitsPerfectlyIntoContainer.js\";\nimport getScaleFactorThatRemovesDarkCorners from \"./utils/getScaleFactorThatRemovesDarkCorners.js\";\nimport limitCropboxMovementOnMove from \"./utils/limitCropboxMovementOnMove.js\";\nimport limitCropboxMovementOnResize from \"./utils/limitCropboxMovementOnResize.js\";\nexport default class Editor extends Component {\n  constructor(props) {\n    super(props);\n    this.onRotate90Deg = () => {\n      // 1. Set state\n      const {\n        angle90Deg\n      } = this.state;\n      const newAngle = angle90Deg - 90;\n      this.setState({\n        angle90Deg: newAngle,\n        angleGranular: 0\n      });\n\n      // 2. Rotate the image\n      // Important to reset scale here, or cropper will get confused on further rotations\n      this.cropper.scale(1);\n      this.cropper.rotateTo(newAngle);\n\n      // 3. Fit the rotated image into the view\n      const canvasData = this.cropper.getCanvasData();\n      const containerData = this.cropper.getContainerData();\n      const newCanvasData = getCanvasDataThatFitsPerfectlyIntoContainer(containerData, canvasData);\n      this.cropper.setCanvasData(newCanvasData);\n\n      // 4. Make cropbox fully wrap the image\n      this.cropper.setCropBoxData(newCanvasData);\n    };\n    this.onRotateGranular = ev => {\n      // 1. Set state\n      const newGranularAngle = Number(ev.target.value);\n      this.setState({\n        angleGranular: newGranularAngle\n      });\n\n      // 2. Rotate the image\n      const {\n        angle90Deg\n      } = this.state;\n      const newAngle = angle90Deg + newGranularAngle;\n      this.cropper.rotateTo(newAngle);\n\n      // 3. Scale the image so that it fits into the cropbox\n      const image = this.cropper.getImageData();\n      const scaleFactor = getScaleFactorThatRemovesDarkCorners(image.naturalWidth, image.naturalHeight, newGranularAngle);\n      // Preserve flip\n      const scaleFactorX = this.cropper.getImageData().scaleX < 0 ? -scaleFactor : scaleFactor;\n      this.cropper.scale(scaleFactorX, scaleFactor);\n    };\n    this.state = {\n      angle90Deg: 0,\n      angleGranular: 0,\n      prevCropboxData: null\n    };\n    this.storePrevCropboxData = this.storePrevCropboxData.bind(this);\n    this.limitCropboxMovement = this.limitCropboxMovement.bind(this);\n  }\n  componentDidMount() {\n    const {\n      opts,\n      storeCropperInstance\n    } = this.props;\n    this.cropper = new Cropper(this.imgElement, opts.cropperOptions);\n    this.imgElement.addEventListener('cropstart', this.storePrevCropboxData);\n    // @ts-expect-error custom cropper event but DOM API does not understand\n    this.imgElement.addEventListener('cropend', this.limitCropboxMovement);\n    storeCropperInstance(this.cropper);\n  }\n  componentWillUnmount() {\n    this.cropper.destroy();\n    this.imgElement.removeEventListener('cropstart', this.storePrevCropboxData);\n    // @ts-expect-error custom cropper event but DOM API does not understand\n    this.imgElement.removeEventListener('cropend', this.limitCropboxMovement);\n  }\n\n  // eslint-disable-next-line react/sort-comp\n  storePrevCropboxData() {\n    this.setState({\n      prevCropboxData: this.cropper.getCropBoxData()\n    });\n  }\n  limitCropboxMovement(event) {\n    const canvasData = this.cropper.getCanvasData();\n    const cropboxData = this.cropper.getCropBoxData();\n    const {\n      prevCropboxData\n    } = this.state;\n\n    // 1. When we grab the cropbox in the middle and move it\n    if (event.detail.action === 'all') {\n      const newCropboxData = limitCropboxMovementOnMove(canvasData, cropboxData, prevCropboxData);\n      if (newCropboxData) this.cropper.setCropBoxData(newCropboxData);\n      // 2. When we stretch the cropbox by one of its sides\n    } else {\n      const newCropboxData = limitCropboxMovementOnResize(canvasData, cropboxData, prevCropboxData);\n      if (newCropboxData) this.cropper.setCropBoxData(newCropboxData);\n    }\n  }\n  renderGranularRotate() {\n    const {\n      i18n\n    } = this.props;\n    const {\n      angleGranular\n    } = this.state;\n    return h(\"label\", {\n      role: \"tooltip\",\n      \"aria-label\": `${angleGranular}\u00BA`,\n      \"data-microtip-position\": \"top\",\n      className: \"uppy-ImageCropper-rangeWrapper\"\n    }, h(\"input\", {\n      className: \"uppy-ImageCropper-range uppy-u-reset\",\n      type: \"range\",\n      onInput: this.onRotateGranular,\n      onChange: this.onRotateGranular,\n      value: angleGranular,\n      min: \"-45\",\n      max: \"45\",\n      \"aria-label\": i18n('rotate')\n    }));\n  }\n  renderRevert() {\n    const {\n      i18n,\n      opts\n    } = this.props;\n    return h(\"button\", {\n      role: \"button tooltip\",\n      \"data-microtip-position\": \"top\",\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn\",\n      \"aria-label\": i18n('revert'),\n      onClick: () => {\n        this.cropper.reset();\n        this.cropper.setAspectRatio(opts.cropperOptions.initialAspectRatio);\n        this.setState({\n          angle90Deg: 0,\n          angleGranular: 0\n        });\n      }\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"uppy-c-icon\",\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\"\n    }, h(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    }), h(\"path\", {\n      d: \"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"\n    })));\n  }\n  renderRotate() {\n    const {\n      i18n\n    } = this.props;\n    return h(\"button\", {\n      role: \"button tooltip\",\n      \"data-microtip-position\": \"top\",\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn\",\n      \"aria-label\": i18n('rotate'),\n      onClick: this.onRotate90Deg\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"uppy-c-icon\",\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\"\n    }, h(\"path\", {\n      d: \"M0 0h24v24H0V0zm0 0h24v24H0V0z\",\n      fill: \"none\"\n    }), h(\"path\", {\n      d: \"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z\"\n    })));\n  }\n  renderFlip() {\n    const {\n      i18n\n    } = this.props;\n    return h(\"button\", {\n      role: \"button tooltip\",\n      \"data-microtip-position\": \"top\",\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn\",\n      \"aria-label\": i18n('flipHorizontal'),\n      onClick: () => this.cropper.scaleX(-this.cropper.getData().scaleX || -1)\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"uppy-c-icon\",\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\"\n    }, h(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    }), h(\"path\", {\n      d: \"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\"\n    })));\n  }\n  renderZoomIn() {\n    const {\n      i18n\n    } = this.props;\n    return h(\"button\", {\n      role: \"button tooltip\",\n      \"data-microtip-position\": \"top\",\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn\",\n      \"aria-label\": i18n('zoomIn'),\n      onClick: () => this.cropper.zoom(0.1)\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"uppy-c-icon\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\"\n    }, h(\"path\", {\n      d: \"M0 0h24v24H0V0z\",\n      fill: \"none\"\n    }), h(\"path\", {\n      d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n    }), h(\"path\", {\n      d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"\n    })));\n  }\n  renderZoomOut() {\n    const {\n      i18n\n    } = this.props;\n    return h(\"button\", {\n      role: \"button tooltip\",\n      \"data-microtip-position\": \"top\",\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn\",\n      \"aria-label\": i18n('zoomOut'),\n      onClick: () => this.cropper.zoom(-0.1)\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"uppy-c-icon\",\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\"\n    }, h(\"path\", {\n      d: \"M0 0h24v24H0V0z\",\n      fill: \"none\"\n    }), h(\"path\", {\n      d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"\n    })));\n  }\n  renderCropSquare() {\n    const {\n      i18n\n    } = this.props;\n    return h(\"button\", {\n      role: \"button tooltip\",\n      \"data-microtip-position\": \"top\",\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn\",\n      \"aria-label\": i18n('aspectRatioSquare'),\n      onClick: () => this.cropper.setAspectRatio(1)\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"uppy-c-icon\",\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\"\n    }, h(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    }), h(\"path\", {\n      d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n    })));\n  }\n  renderCropWidescreen() {\n    const {\n      i18n\n    } = this.props;\n    return h(\"button\", {\n      role: \"button tooltip\",\n      \"data-microtip-position\": \"top\",\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn\",\n      \"aria-label\": i18n('aspectRatioLandscape'),\n      onClick: () => this.cropper.setAspectRatio(16 / 9)\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"uppy-c-icon\",\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\"\n    }, h(\"path\", {\n      d: \"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z\"\n    }), h(\"path\", {\n      fill: \"none\",\n      d: \"M0 0h24v24H0z\"\n    })));\n  }\n  renderCropWidescreenVertical() {\n    const {\n      i18n\n    } = this.props;\n    return h(\"button\", {\n      role: \"button tooltip\",\n      \"data-microtip-position\": \"top\",\n      type: \"button\",\n      \"aria-label\": i18n('aspectRatioPortrait'),\n      className: \"uppy-u-reset uppy-c-btn\",\n      onClick: () => this.cropper.setAspectRatio(9 / 16)\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"uppy-c-icon\",\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\"\n    }, h(\"path\", {\n      d: \"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z\"\n    }), h(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    })));\n  }\n  render() {\n    const {\n      currentImage,\n      opts\n    } = this.props;\n    const {\n      actions\n    } = opts;\n    const imageURL = URL.createObjectURL(currentImage.data);\n    return h(\"div\", {\n      className: \"uppy-ImageCropper\"\n    }, h(\"div\", {\n      className: \"uppy-ImageCropper-container\"\n    }, h(\"img\", {\n      className: \"uppy-ImageCropper-image\",\n      alt: currentImage.name,\n      src: imageURL,\n      ref: ref => {\n        this.imgElement = ref;\n      }\n    })), h(\"div\", {\n      className: \"uppy-ImageCropper-controls\"\n    }, actions.revert && this.renderRevert(), actions.rotate && this.renderRotate(), actions.granularRotate && this.renderGranularRotate(), actions.flip && this.renderFlip(), actions.zoomIn && this.renderZoomIn(), actions.zoomOut && this.renderZoomOut(), actions.cropSquare && this.renderCropSquare(), actions.cropWidescreen && this.renderCropWidescreen(), actions.cropWidescreenVertical && this.renderCropWidescreenVertical()));\n  }\n}", "// See this cropperjs image to understand how container/image/canavas/cropbox relate to each other.\n// (https://github.com/fengyuanchen/cropperjs/blob/9b528a8baeaae876dc090085e37992a1683c6f34/docs/images/layers.jpg)\n//\nfunction getCanvasDataThatFitsPerfectlyIntoContainer(containerData, canvasData) {\n  // 1. Scale our canvas as much as possible\n  const widthRatio = containerData.width / canvasData.width;\n  const heightRatio = containerData.height / canvasData.height;\n  const scaleFactor = Math.min(widthRatio, heightRatio);\n  const newWidth = canvasData.width * scaleFactor;\n  const newHeight = canvasData.height * scaleFactor;\n\n  // 2. Center our canvas\n  const newLeft = (containerData.width - newWidth) / 2;\n  const newTop = (containerData.height - newHeight) / 2;\n  return {\n    width: newWidth,\n    height: newHeight,\n    left: newLeft,\n    top: newTop\n  };\n}\nexport default getCanvasDataThatFitsPerfectlyIntoContainer;", "function toRadians(angle) {\n  return angle * (Math.PI / 180);\n}\nfunction getScaleFactorThatRemovesDarkCorners(w, h, granularAngle) {\n  const \u03B1 = Math.abs(toRadians(granularAngle));\n  const scaleFactor = Math.max((Math.sin(\u03B1) * w + Math.cos(\u03B1) * h) / h, (Math.sin(\u03B1) * h + Math.cos(\u03B1) * w) / w);\n  return scaleFactor;\n}\nexport default getScaleFactorThatRemovesDarkCorners;", "function limitCropboxMovementOnMove(canvas, cropbox, prevCropbox) {\n  // For the left boundary\n  if (cropbox.left < canvas.left) {\n    return {\n      left: canvas.left,\n      width: prevCropbox.width\n    };\n  }\n\n  // For the top boundary\n  if (cropbox.top < canvas.top) {\n    return {\n      top: canvas.top,\n      height: prevCropbox.height\n    };\n  }\n\n  // For the right boundary\n  if (cropbox.left + cropbox.width > canvas.left + canvas.width) {\n    return {\n      left: canvas.left + canvas.width - prevCropbox.width,\n      width: prevCropbox.width\n    };\n  }\n\n  // For the bottom boundary\n  if (cropbox.top + cropbox.height > canvas.top + canvas.height) {\n    return {\n      top: canvas.top + canvas.height - prevCropbox.height,\n      height: prevCropbox.height\n    };\n  }\n  return null;\n}\nexport default limitCropboxMovementOnMove;", "function limitCropboxMovementOnResize(canvas, cropboxData, prevCropbox) {\n  // For the left boundary\n  if (cropboxData.left < canvas.left) {\n    return {\n      left: canvas.left,\n      width: prevCropbox.left + prevCropbox.width - canvas.left\n    };\n  }\n\n  // For the top boundary\n  if (cropboxData.top < canvas.top) {\n    return {\n      top: canvas.top,\n      height: prevCropbox.top + prevCropbox.height - canvas.top\n    };\n  }\n\n  // For the right boundary\n  if (cropboxData.left + cropboxData.width > canvas.left + canvas.width) {\n    return {\n      left: prevCropbox.left,\n      width: canvas.left + canvas.width - prevCropbox.left\n    };\n  }\n\n  // For the bottom boundary\n  if (cropboxData.top + cropboxData.height > canvas.top + canvas.height) {\n    return {\n      top: prevCropbox.top,\n      height: canvas.top + canvas.height - prevCropbox.top\n    };\n  }\n  return null;\n}\nexport default limitCropboxMovementOnResize;", "export default {\n  strings: {\n    revert: 'Reset',\n    rotate: 'Rotate 90\u00B0',\n    zoomIn: 'Zoom in',\n    zoomOut: 'Zoom out',\n    flipHorizontal: 'Flip horizontally',\n    aspectRatioSquare: 'Crop square',\n    aspectRatioLandscape: 'Crop landscape (16:9)',\n    aspectRatioPortrait: 'Crop portrait (9:16)'\n  }\n};", "import { UIPlugin } from '@uppy/core';\nimport { h } from 'preact';\nimport Editor from \"./Editor.js\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"3.0.0\"\n};\nimport locale from \"./locale.js\";\nconst defaultCropperOptions = {\n  viewMode: 0,\n  background: false,\n  autoCropArea: 1,\n  responsive: true,\n  minCropBoxWidth: 70,\n  minCropBoxHeight: 70,\n  croppedCanvasOptions: {},\n  initialAspectRatio: 0\n};\nconst defaultActions = {\n  revert: true,\n  rotate: true,\n  granularRotate: true,\n  flip: true,\n  zoomIn: true,\n  zoomOut: true,\n  cropSquare: true,\n  cropWidescreen: true,\n  cropWidescreenVertical: true\n};\nconst defaultOptions = {\n  // `quality: 1` increases the image size by orders of magnitude - 0.8 seems to be the sweet spot.\n  // see https://github.com/fengyuanchen/cropperjs/issues/538#issuecomment-1776279427\n  quality: 0.8,\n  actions: defaultActions,\n  cropperOptions: defaultCropperOptions\n};\nexport default class ImageEditor extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, {\n      ...defaultOptions,\n      ...opts,\n      actions: {\n        ...defaultActions,\n        ...(opts == null ? void 0 : opts.actions)\n      },\n      cropperOptions: {\n        ...defaultCropperOptions,\n        ...(opts == null ? void 0 : opts.cropperOptions)\n      }\n    });\n    this.save = () => {\n      const saveBlobCallback = blob => {\n        var _name;\n        const {\n          currentImage\n        } = this.getPluginState();\n        this.uppy.setFileState(currentImage.id, {\n          // Reinserting image's name and type, because .toBlob loses both.\n          data: new File([blob], (_name = currentImage.name) != null ? _name : this.i18n('unnamed'), {\n            type: blob.type\n          }),\n          size: blob.size,\n          preview: undefined\n        });\n        const updatedFile = this.uppy.getFile(currentImage.id);\n        this.uppy.emit('thumbnail:request', updatedFile);\n        this.setPluginState({\n          currentImage: updatedFile\n        });\n        this.uppy.emit('file-editor:complete', updatedFile);\n      };\n      const {\n        currentImage\n      } = this.getPluginState();\n\n      // Fixes black 1px lines on odd-width images.\n      // This should be removed when cropperjs fixes this issue.\n      // (See https://github.com/transloadit/uppy/issues/4305 and https://github.com/fengyuanchen/cropperjs/issues/551).\n      const croppedCanvas = this.cropper.getCroppedCanvas({});\n      if (croppedCanvas.width % 2 !== 0) {\n        this.cropper.setData({\n          width: croppedCanvas.width - 1\n        });\n      }\n      if (croppedCanvas.height % 2 !== 0) {\n        this.cropper.setData({\n          height: croppedCanvas.height - 1\n        });\n      }\n      this.cropper.getCroppedCanvas(this.opts.cropperOptions.croppedCanvasOptions).toBlob(saveBlobCallback, currentImage.type, this.opts.quality);\n    };\n    this.storeCropperInstance = cropper => {\n      this.cropper = cropper;\n    };\n    this.selectFile = file => {\n      this.uppy.emit('file-editor:start', file);\n      this.setPluginState({\n        currentImage: file\n      });\n    };\n    this.id = this.opts.id || 'ImageEditor';\n    this.title = 'Image Editor';\n    this.type = 'editor';\n    this.defaultLocale = locale;\n    this.i18nInit();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  canEditFile(file) {\n    if (!file.type || file.isRemote) {\n      return false;\n    }\n    const fileTypeSpecific = file.type.split('/')[1];\n    if (/^(jpe?g|gif|png|bmp|webp)$/.test(fileTypeSpecific)) {\n      return true;\n    }\n    return false;\n  }\n  install() {\n    this.setPluginState({\n      currentImage: null\n    });\n    const {\n      target\n    } = this.opts;\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n  uninstall() {\n    const {\n      currentImage\n    } = this.getPluginState();\n    if (currentImage) {\n      const file = this.uppy.getFile(currentImage.id);\n      this.uppy.emit('file-editor:cancel', file);\n    }\n    this.unmount();\n  }\n  render() {\n    const {\n      currentImage\n    } = this.getPluginState();\n    if (currentImage === null || currentImage.isRemote) {\n      return null;\n    }\n    return h(Editor, {\n      currentImage: currentImage,\n      storeCropperInstance: this.storeCropperInstance,\n      save: this.save,\n      opts: this.opts,\n      i18n: this.i18n\n    });\n  }\n}\nImageEditor.VERSION = packageJson.version;", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nvar _uppy = /*#__PURE__*/_classPrivateFieldLooseKey(\"uppy\");\nvar _events = /*#__PURE__*/_classPrivateFieldLooseKey(\"events\");\n/**\n * Create a wrapper around an event emitter with a `remove` method to remove\n * all events that were added using the wrapped emitter.\n */\nexport default class EventManager {\n  constructor(uppy) {\n    Object.defineProperty(this, _uppy, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _events, {\n      writable: true,\n      value: []\n    });\n    _classPrivateFieldLooseBase(this, _uppy)[_uppy] = uppy;\n  }\n  on(event, fn) {\n    _classPrivateFieldLooseBase(this, _events)[_events].push([event, fn]);\n    return _classPrivateFieldLooseBase(this, _uppy)[_uppy].on(event, fn);\n  }\n  remove() {\n    for (const [event, fn] of _classPrivateFieldLooseBase(this, _events)[_events].splice(0)) {\n      _classPrivateFieldLooseBase(this, _uppy)[_uppy].off(event, fn);\n    }\n  }\n  onFilePause(fileID, cb) {\n    this.on('upload-pause', (file, isPaused) => {\n      if (fileID === (file == null ? void 0 : file.id)) {\n        cb(isPaused);\n      }\n    });\n  }\n  onFileRemove(fileID, cb) {\n    this.on('file-removed', file => {\n      if (fileID === file.id) cb(file.id);\n    });\n  }\n  onPause(fileID, cb) {\n    this.on('upload-pause', (file, isPaused) => {\n      if (fileID === (file == null ? void 0 : file.id)) {\n        // const isPaused = this.#uppy.pauseResume(fileID)\n        cb(isPaused);\n      }\n    });\n  }\n  onRetry(fileID, cb) {\n    this.on('upload-retry', file => {\n      if (fileID === (file == null ? void 0 : file.id)) {\n        cb();\n      }\n    });\n  }\n  onRetryAll(fileID, cb) {\n    this.on('retry-all', () => {\n      if (!_classPrivateFieldLooseBase(this, _uppy)[_uppy].getFile(fileID)) return;\n      cb();\n    });\n  }\n  onPauseAll(fileID, cb) {\n    this.on('pause-all', () => {\n      if (!_classPrivateFieldLooseBase(this, _uppy)[_uppy].getFile(fileID)) return;\n      cb();\n    });\n  }\n  onCancelAll(fileID, eventHandler) {\n    var _this = this;\n    this.on('cancel-all', function () {\n      if (!_classPrivateFieldLooseBase(_this, _uppy)[_uppy].getFile(fileID)) return;\n      eventHandler(...arguments);\n    });\n  }\n  onResumeAll(fileID, cb) {\n    this.on('resume-all', () => {\n      if (!_classPrivateFieldLooseBase(this, _uppy)[_uppy].getFile(fileID)) return;\n      cb();\n    });\n  }\n}", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nfunction createCancelError(cause) {\n  return new Error('Cancelled', {\n    cause\n  });\n}\nfunction abortOn(signal) {\n  if (signal != null) {\n    var _this$then;\n    const abortPromise = () => this.abort(signal.reason);\n    signal.addEventListener('abort', abortPromise, {\n      once: true\n    });\n    const removeAbortListener = () => {\n      signal.removeEventListener('abort', abortPromise);\n    };\n    (_this$then = this.then) == null || _this$then.call(this, removeAbortListener, removeAbortListener);\n  }\n  return this;\n}\nvar _activeRequests = /*#__PURE__*/_classPrivateFieldLooseKey(\"activeRequests\");\nvar _queuedHandlers = /*#__PURE__*/_classPrivateFieldLooseKey(\"queuedHandlers\");\nvar _paused = /*#__PURE__*/_classPrivateFieldLooseKey(\"paused\");\nvar _pauseTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"pauseTimer\");\nvar _downLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"downLimit\");\nvar _upperLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"upperLimit\");\nvar _rateLimitingTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"rateLimitingTimer\");\nvar _call = /*#__PURE__*/_classPrivateFieldLooseKey(\"call\");\nvar _queueNext = /*#__PURE__*/_classPrivateFieldLooseKey(\"queueNext\");\nvar _next = /*#__PURE__*/_classPrivateFieldLooseKey(\"next\");\nvar _queue = /*#__PURE__*/_classPrivateFieldLooseKey(\"queue\");\nvar _dequeue = /*#__PURE__*/_classPrivateFieldLooseKey(\"dequeue\");\nvar _resume = /*#__PURE__*/_classPrivateFieldLooseKey(\"resume\");\nvar _increaseLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"increaseLimit\");\nexport class RateLimitedQueue {\n  constructor(limit) {\n    Object.defineProperty(this, _dequeue, {\n      value: _dequeue2\n    });\n    Object.defineProperty(this, _queue, {\n      value: _queue2\n    });\n    Object.defineProperty(this, _next, {\n      value: _next2\n    });\n    Object.defineProperty(this, _queueNext, {\n      value: _queueNext2\n    });\n    Object.defineProperty(this, _call, {\n      value: _call2\n    });\n    Object.defineProperty(this, _activeRequests, {\n      writable: true,\n      value: 0\n    });\n    Object.defineProperty(this, _queuedHandlers, {\n      writable: true,\n      value: []\n    });\n    Object.defineProperty(this, _paused, {\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, _pauseTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _downLimit, {\n      writable: true,\n      value: 1\n    });\n    Object.defineProperty(this, _upperLimit, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _rateLimitingTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _resume, {\n      writable: true,\n      value: () => this.resume()\n    });\n    Object.defineProperty(this, _increaseLimit, {\n      writable: true,\n      value: () => {\n        if (_classPrivateFieldLooseBase(this, _paused)[_paused]) {\n          _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], 0);\n          return;\n        }\n        _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] = this.limit;\n        this.limit = Math.ceil((_classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] + _classPrivateFieldLooseBase(this, _downLimit)[_downLimit]) / 2);\n        for (let i = _classPrivateFieldLooseBase(this, _downLimit)[_downLimit]; i <= this.limit; i++) {\n          _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n        }\n        if (_classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] - _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] > 3) {\n          _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], 2000);\n        } else {\n          _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] = Math.floor(_classPrivateFieldLooseBase(this, _downLimit)[_downLimit] / 2);\n        }\n      }\n    });\n    if (typeof limit !== 'number' || limit === 0) {\n      this.limit = Infinity;\n    } else {\n      this.limit = limit;\n    }\n  }\n  run(fn, queueOptions) {\n    if (!_classPrivateFieldLooseBase(this, _paused)[_paused] && _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] < this.limit) {\n      return _classPrivateFieldLooseBase(this, _call)[_call](fn);\n    }\n    return _classPrivateFieldLooseBase(this, _queue)[_queue](fn, queueOptions);\n  }\n  wrapSyncFunction(fn, queueOptions) {\n    var _this = this;\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      const queuedRequest = _this.run(() => {\n        fn(...args);\n        queueMicrotask(() => queuedRequest.done());\n        return () => {};\n      }, queueOptions);\n      return {\n        abortOn,\n        abort() {\n          queuedRequest.abort();\n        }\n      };\n    };\n  }\n  wrapPromiseFunction(fn, queueOptions) {\n    var _this2 = this;\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      let queuedRequest;\n      const outerPromise = new Promise((resolve, reject) => {\n        queuedRequest = _this2.run(() => {\n          let cancelError;\n          let innerPromise;\n          try {\n            innerPromise = Promise.resolve(fn(...args));\n          } catch (err) {\n            innerPromise = Promise.reject(err);\n          }\n          innerPromise.then(result => {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              resolve(result);\n            }\n          }, err => {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              reject(err);\n            }\n          });\n          return cause => {\n            cancelError = createCancelError(cause);\n          };\n        }, queueOptions);\n      });\n      outerPromise.abort = cause => {\n        queuedRequest.abort(cause);\n      };\n      outerPromise.abortOn = abortOn;\n      return outerPromise;\n    };\n  }\n  resume() {\n    _classPrivateFieldLooseBase(this, _paused)[_paused] = false;\n    clearTimeout(_classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer]);\n    for (let i = 0; i < this.limit; i++) {\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    }\n  }\n  /**\n   * Freezes the queue for a while or indefinitely.\n   *\n   * @param {number | null } [duration] Duration for the pause to happen, in milliseconds.\n   *                                    If omitted, the queue won't resume automatically.\n   */\n  pause(duration) {\n    if (duration === void 0) {\n      duration = null;\n    }\n    _classPrivateFieldLooseBase(this, _paused)[_paused] = true;\n    clearTimeout(_classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer]);\n    if (duration != null) {\n      _classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer] = setTimeout(_classPrivateFieldLooseBase(this, _resume)[_resume], duration);\n    }\n  }\n\n  /**\n   * Pauses the queue for a duration, and lower the limit of concurrent requests\n   * when the queue resumes. When the queue resumes, it tries to progressively\n   * increase the limit in `this.#increaseLimit` until another call is made to\n   * `this.rateLimit`.\n   * Call this function when using the RateLimitedQueue for network requests and\n   * the remote server responds with 429 HTTP code.\n   *\n   * @param {number} duration in milliseconds.\n   */\n  rateLimit(duration) {\n    clearTimeout(_classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer]);\n    this.pause(duration);\n    if (this.limit > 1 && Number.isFinite(this.limit)) {\n      _classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] = this.limit - 1;\n      this.limit = _classPrivateFieldLooseBase(this, _downLimit)[_downLimit];\n      _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], duration);\n    }\n  }\n  get isPaused() {\n    return _classPrivateFieldLooseBase(this, _paused)[_paused];\n  }\n}\nfunction _call2(fn) {\n  _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] += 1;\n  let done = false;\n  let cancelActive;\n  try {\n    cancelActive = fn();\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n    throw err;\n  }\n  return {\n    abort: cause => {\n      if (done) return;\n      done = true;\n      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n      cancelActive == null || cancelActive(cause);\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    },\n    done: () => {\n      if (done) return;\n      done = true;\n      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    }\n  };\n}\nfunction _queueNext2() {\n  // Do it soon but not immediately, this allows clearing out the entire queue synchronously\n  // one by one without continuously _advancing_ it (and starting new tasks before immediately\n  // aborting them)\n  queueMicrotask(() => _classPrivateFieldLooseBase(this, _next)[_next]());\n}\nfunction _next2() {\n  if (_classPrivateFieldLooseBase(this, _paused)[_paused] || _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] >= this.limit) {\n    return;\n  }\n  if (_classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].length === 0) {\n    return;\n  }\n\n  // Dispatch the next request, and update the abort/done handlers\n  // so that cancelling it does the Right Thing (and doesn't just try\n  // to dequeue an already-running request).\n  const next = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].shift();\n  if (next == null) {\n    throw new Error('Invariant violation: next is null');\n  }\n  const handler = _classPrivateFieldLooseBase(this, _call)[_call](next.fn);\n  next.abort = handler.abort;\n  next.done = handler.done;\n}\nfunction _queue2(fn, options) {\n  const handler = {\n    fn,\n    priority: (options == null ? void 0 : options.priority) || 0,\n    abort: () => {\n      _classPrivateFieldLooseBase(this, _dequeue)[_dequeue](handler);\n    },\n    done: () => {\n      throw new Error('Cannot mark a queued request as done: this indicates a bug');\n    }\n  };\n  const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].findIndex(other => {\n    return handler.priority > other.priority;\n  });\n  if (index === -1) {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].push(handler);\n  } else {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 0, handler);\n  }\n  return handler;\n}\nfunction _dequeue2(handler) {\n  const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].indexOf(handler);\n  if (index !== -1) {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 1);\n  }\n}\nexport const internalRateLimitedQueue = Symbol('__queue');", "class NetworkError extends Error {\n  constructor(error, xhr) {\n    if (xhr === void 0) {\n      xhr = null;\n    }\n    super(`This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.`);\n    this.cause = error;\n    this.isNetworkError = true;\n    this.request = xhr;\n  }\n}\nexport default NetworkError;", "function isNetworkError(xhr) {\n  if (!xhr) {\n    return false;\n  }\n  return xhr.readyState !== 0 && xhr.readyState !== 4 || xhr.status === 0;\n}\nexport default isNetworkError;", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nvar _aliveTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"aliveTimer\");\nvar _isDone = /*#__PURE__*/_classPrivateFieldLooseKey(\"isDone\");\nvar _onTimedOut = /*#__PURE__*/_classPrivateFieldLooseKey(\"onTimedOut\");\nvar _timeout = /*#__PURE__*/_classPrivateFieldLooseKey(\"timeout\");\n/**\n * Helper to abort upload requests if there has not been any progress for `timeout` ms.\n * Create an instance using `timer = new ProgressTimeout(10000, onTimeout)`\n * Call `timer.progress()` to signal that there has been progress of any kind.\n * Call `timer.done()` when the upload has completed.\n */\nclass ProgressTimeout {\n  constructor(timeout,\n  // eslint-disable-next-line no-shadow\n  timeoutHandler) {\n    Object.defineProperty(this, _aliveTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _isDone, {\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, _onTimedOut, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _timeout, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldLooseBase(this, _timeout)[_timeout] = timeout;\n    _classPrivateFieldLooseBase(this, _onTimedOut)[_onTimedOut] = () => timeoutHandler(timeout);\n  }\n  progress() {\n    // Some browsers fire another progress event when the upload is\n    // cancelled, so we have to ignore progress after the timer was\n    // told to stop.\n    if (_classPrivateFieldLooseBase(this, _isDone)[_isDone]) return;\n    if (_classPrivateFieldLooseBase(this, _timeout)[_timeout] > 0) {\n      clearTimeout(_classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer]);\n      _classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer] = setTimeout(_classPrivateFieldLooseBase(this, _onTimedOut)[_onTimedOut], _classPrivateFieldLooseBase(this, _timeout)[_timeout]);\n    }\n  }\n  done() {\n    if (!_classPrivateFieldLooseBase(this, _isDone)[_isDone]) {\n      clearTimeout(_classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer]);\n      _classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer] = undefined;\n      _classPrivateFieldLooseBase(this, _isDone)[_isDone] = true;\n    }\n  }\n}\nexport default ProgressTimeout;", "import NetworkError from \"./NetworkError.js\";\nimport ProgressTimeout from \"./ProgressTimeout.js\";\nconst noop = () => {};\n/**\n * Fetches data from a specified URL using XMLHttpRequest, with optional retry functionality and progress tracking.\n *\n * @param url The URL to send the request to.\n * @param options Optional settings for the fetch operation.\n */\nexport function fetcher(url, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    body = null,\n    headers = {},\n    method = 'GET',\n    onBeforeRequest = noop,\n    onUploadProgress = noop,\n    shouldRetry = () => true,\n    onAfterResponse = noop,\n    onTimeout = noop,\n    responseType,\n    retries = 3,\n    signal = null,\n    timeout = 30000,\n    withCredentials = false\n  } = options;\n\n  // 300 ms, 600 ms, 1200 ms, 2400 ms, 4800 ms\n  const delay = attempt => 0.3 * 2 ** (attempt - 1) * 1000;\n  const timer = new ProgressTimeout(timeout, onTimeout);\n  function requestWithRetry(retryCount) {\n    if (retryCount === void 0) {\n      retryCount = 0;\n    }\n    // eslint-disable-next-line no-async-promise-executor\n    return new Promise(async (resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open(method, url, true);\n      xhr.withCredentials = withCredentials;\n      if (responseType) {\n        xhr.responseType = responseType;\n      }\n      signal == null || signal.addEventListener('abort', () => {\n        xhr.abort();\n        // Using DOMException for abort errors aligns with\n        // the convention established by the Fetch API.\n        reject(new DOMException('Aborted', 'AbortError'));\n      });\n      xhr.onload = async () => {\n        await onAfterResponse(xhr, retryCount);\n        if (xhr.status >= 200 && xhr.status < 300) {\n          timer.done();\n          resolve(xhr);\n        } else if (shouldRetry(xhr) && retryCount < retries) {\n          setTimeout(() => {\n            requestWithRetry(retryCount + 1).then(resolve, reject);\n          }, delay(retryCount));\n        } else {\n          timer.done();\n          reject(new NetworkError(xhr.statusText, xhr));\n        }\n      };\n      xhr.onerror = () => {\n        if (shouldRetry(xhr) && retryCount < retries) {\n          setTimeout(() => {\n            requestWithRetry(retryCount + 1).then(resolve, reject);\n          }, delay(retryCount));\n        } else {\n          timer.done();\n          reject(new NetworkError(xhr.statusText, xhr));\n        }\n      };\n      xhr.upload.onprogress = event => {\n        timer.progress();\n        onUploadProgress(event);\n      };\n      if (headers) {\n        Object.keys(headers).forEach(key => {\n          xhr.setRequestHeader(key, headers[key]);\n        });\n      }\n      await onBeforeRequest(xhr, retryCount);\n      xhr.send(body);\n    });\n  }\n  return requestWithRetry();\n}", "export function filterNonFailedFiles(files) {\n  const hasError = file => 'error' in file && !!file.error;\n  return files.filter(file => !hasError(file));\n}\n\n// Don't double-emit upload-started for Golden Retriever-restored files that were already started\nexport function filterFilesToEmitUploadStarted(files) {\n  return files.filter(file => {\n    var _file$progress;\n    return !((_file$progress = file.progress) != null && _file$progress.uploadStarted) || !file.isRestored;\n  });\n}", "export default function getAllowedMetaFields(fields, meta) {\n  if (fields === true) {\n    return Object.keys(meta);\n  }\n  if (Array.isArray(fields)) {\n    return fields;\n  }\n  return [];\n}", "export default {\n  strings: {\n    // Shown in the Informer if an upload is being canceled because it stalled for too long.\n    uploadStalled: 'Upload has not made any progress for %{seconds} seconds. You may want to retry it.'\n  }\n};", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nimport BasePlugin from '@uppy/core/lib/BasePlugin.js';\nimport EventManager from '@uppy/core/lib/EventManager.js';\nimport { RateLimitedQueue, internalRateLimitedQueue\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\n} from '@uppy/utils/lib/RateLimitedQueue';\nimport NetworkError from '@uppy/utils/lib/NetworkError';\nimport isNetworkError from '@uppy/utils/lib/isNetworkError';\nimport { fetcher } from '@uppy/utils/lib/fetcher';\nimport { filterNonFailedFiles, filterFilesToEmitUploadStarted } from '@uppy/utils/lib/fileFilters';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\n\nimport getAllowedMetaFields from '@uppy/utils/lib/getAllowedMetaFields';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.0.2\"\n};\nimport locale from \"./locale.js\";\nfunction buildResponseError(xhr, err) {\n  let error = err;\n  // No error message\n  if (!error) error = new Error('Upload error');\n  // Got an error message string\n  if (typeof error === 'string') error = new Error(error);\n  // Got something else\n  if (!(error instanceof Error)) {\n    error = Object.assign(new Error('Upload error'), {\n      data: error\n    });\n  }\n  if (isNetworkError(xhr)) {\n    error = new NetworkError(error, xhr);\n    return error;\n  }\n\n  // @ts-expect-error request can only be set on NetworkError\n  // but we use NetworkError to distinguish between errors.\n  error.request = xhr;\n  return error;\n}\n\n/**\n * Set `data.type` in the blob to `file.meta.type`,\n * because we might have detected a more accurate file type in Uppy\n * https://stackoverflow.com/a/50875615\n */\nfunction setTypeInBlob(file) {\n  const dataWithUpdatedType = file.data.slice(0, file.data.size, file.meta.type);\n  return dataWithUpdatedType;\n}\nconst defaultOptions = {\n  formData: true,\n  fieldName: 'file',\n  method: 'post',\n  allowedMetaFields: true,\n  bundle: false,\n  headers: {},\n  timeout: 30 * 1000,\n  limit: 5,\n  withCredentials: false,\n  responseType: ''\n};\nvar _getFetcher = /*#__PURE__*/_classPrivateFieldLooseKey(\"getFetcher\");\nvar _uploadLocalFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploadLocalFile\");\nvar _uploadBundle = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploadBundle\");\nvar _getCompanionClientArgs = /*#__PURE__*/_classPrivateFieldLooseKey(\"getCompanionClientArgs\");\nvar _uploadFiles = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploadFiles\");\nvar _handleUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"handleUpload\");\nexport default class XHRUpload extends BasePlugin {\n  constructor(uppy, _opts) {\n    super(uppy, {\n      ...defaultOptions,\n      fieldName: _opts.bundle ? 'files[]' : 'file',\n      ..._opts\n    });\n    Object.defineProperty(this, _uploadFiles, {\n      value: _uploadFiles2\n    });\n    Object.defineProperty(this, _getCompanionClientArgs, {\n      value: _getCompanionClientArgs2\n    });\n    Object.defineProperty(this, _uploadBundle, {\n      value: _uploadBundle2\n    });\n    Object.defineProperty(this, _uploadLocalFile, {\n      value: _uploadLocalFile2\n    });\n    Object.defineProperty(this, _getFetcher, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _handleUpload, {\n      writable: true,\n      value: async fileIDs => {\n        if (fileIDs.length === 0) {\n          this.uppy.log('[XHRUpload] No files to upload!');\n          return;\n        }\n\n        // No limit configured by the user, and no RateLimitedQueue passed in by a \"parent\" plugin\n        // (basically just AwsS3) using the internal symbol\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore untyped internal\n        if (this.opts.limit === 0 && !this.opts[internalRateLimitedQueue]) {\n          this.uppy.log('[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0', 'warning');\n        }\n        this.uppy.log('[XHRUpload] Uploading...');\n        const files = this.uppy.getFilesByIds(fileIDs);\n        const filesFiltered = filterNonFailedFiles(files);\n        const filesToEmit = filterFilesToEmitUploadStarted(filesFiltered);\n        this.uppy.emit('upload-start', filesToEmit);\n        if (this.opts.bundle) {\n          // if bundle: true, we don\u2019t support remote uploads\n          const isSomeFileRemote = filesFiltered.some(file => file.isRemote);\n          if (isSomeFileRemote) {\n            throw new Error('Can\u2019t upload remote files when the `bundle: true` option is set');\n          }\n          if (typeof this.opts.headers === 'function') {\n            throw new TypeError('`headers` may not be a function when the `bundle: true` option is set');\n          }\n          await _classPrivateFieldLooseBase(this, _uploadBundle)[_uploadBundle](filesFiltered);\n        } else {\n          await _classPrivateFieldLooseBase(this, _uploadFiles)[_uploadFiles](filesFiltered);\n        }\n      }\n    });\n    this.type = 'uploader';\n    this.id = this.opts.id || 'XHRUpload';\n    this.defaultLocale = locale;\n    this.i18nInit();\n\n    // Simultaneous upload limiting is shared across all uploads with this plugin.\n    if (internalRateLimitedQueue in this.opts) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore untyped internal\n      this.requests = this.opts[internalRateLimitedQueue];\n    } else {\n      this.requests = new RateLimitedQueue(this.opts.limit);\n    }\n    if (this.opts.bundle && !this.opts.formData) {\n      throw new Error('`opts.formData` must be true when `opts.bundle` is enabled.');\n    }\n    if (this.opts.bundle && typeof this.opts.headers === 'function') {\n      throw new Error('`opts.headers` can not be a function when the `bundle: true` option is set.');\n    }\n    if ((_opts == null ? void 0 : _opts.allowedMetaFields) === undefined && 'metaFields' in this.opts) {\n      throw new Error('The `metaFields` option has been renamed to `allowedMetaFields`.');\n    }\n    this.uploaderEvents = Object.create(null);\n    /**\n     * xhr-upload wrapper for `fetcher` to handle user options\n     * `validateStatus`, `getResponseError`, `getResponseData`\n     * and to emit `upload-progress`, `upload-error`, and `upload-success` events.\n     */\n    _classPrivateFieldLooseBase(this, _getFetcher)[_getFetcher] = files => {\n      return async (url, options) => {\n        try {\n          var _this$opts$getRespons, _this$opts, _body2;\n          const res = await fetcher(url, {\n            ...options,\n            onBeforeRequest: this.opts.onBeforeRequest,\n            shouldRetry: this.opts.shouldRetry,\n            onAfterResponse: this.opts.onAfterResponse,\n            onTimeout: timeout => {\n              const seconds = Math.ceil(timeout / 1000);\n              const error = new Error(this.i18n('uploadStalled', {\n                seconds\n              }));\n              this.uppy.emit('upload-stalled', error, files);\n            },\n            onUploadProgress: event => {\n              if (event.lengthComputable) {\n                for (const file of files) {\n                  var _file$progress$upload;\n                  this.uppy.emit('upload-progress', file, {\n                    uploadStarted: (_file$progress$upload = file.progress.uploadStarted) != null ? _file$progress$upload : 0,\n                    bytesUploaded: event.loaded / event.total * file.size,\n                    bytesTotal: file.size\n                  });\n                }\n              }\n            }\n          });\n          let body = await ((_this$opts$getRespons = (_this$opts = this.opts).getResponseData) == null ? void 0 : _this$opts$getRespons.call(_this$opts, res));\n          try {\n            var _body;\n            (_body = body) != null ? _body : body = JSON.parse(res.responseText);\n          } catch (cause) {\n            throw new Error('@uppy/xhr-upload expects a JSON response (with a `url` property). To parse non-JSON responses, use `getResponseData` to turn your response into JSON.', {\n              cause\n            });\n          }\n          const uploadURL = typeof ((_body2 = body) == null ? void 0 : _body2.url) === 'string' ? body.url : undefined;\n          for (const file of files) {\n            this.uppy.emit('upload-success', file, {\n              status: res.status,\n              body,\n              uploadURL\n            });\n          }\n          return res;\n        } catch (error) {\n          if (error.name === 'AbortError') {\n            return undefined;\n          }\n          if (error instanceof NetworkError) {\n            const request = error.request;\n            for (const file of files) {\n              this.uppy.emit('upload-error', file, buildResponseError(request, error));\n            }\n          }\n          throw error;\n        }\n      };\n    };\n  }\n  getOptions(file) {\n    const overrides = this.uppy.getState().xhrUpload;\n    const {\n      headers\n    } = this.opts;\n    const opts = {\n      ...this.opts,\n      ...(overrides || {}),\n      ...(file.xhrUpload || {}),\n      headers: {}\n    };\n    // Support for `headers` as a function, only in the XHRUpload settings.\n    // Options set by other plugins in Uppy state or on the files themselves are still merged in afterward.\n    //\n    // ```js\n    // headers: (file) => ({ expires: file.meta.expires })\n    // ```\n    if (typeof headers === 'function') {\n      opts.headers = headers(file);\n    } else {\n      Object.assign(opts.headers, this.opts.headers);\n    }\n    if (overrides) {\n      Object.assign(opts.headers, overrides.headers);\n    }\n    if (file.xhrUpload) {\n      Object.assign(opts.headers, file.xhrUpload.headers);\n    }\n    return opts;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  addMetadata(formData, meta, opts) {\n    const allowedMetaFields = getAllowedMetaFields(opts.allowedMetaFields, meta);\n    allowedMetaFields.forEach(item => {\n      const value = meta[item];\n      if (Array.isArray(value)) {\n        // In this case we don't transform `item` to add brackets, it's up to\n        // the user to add the brackets so it won't be overridden.\n        value.forEach(subItem => formData.append(item, subItem));\n      } else {\n        formData.append(item, value);\n      }\n    });\n  }\n  createFormDataUpload(file, opts) {\n    const formPost = new FormData();\n    this.addMetadata(formPost, file.meta, opts);\n    const dataWithUpdatedType = setTypeInBlob(file);\n    if (file.name) {\n      formPost.append(opts.fieldName, dataWithUpdatedType, file.meta.name);\n    } else {\n      formPost.append(opts.fieldName, dataWithUpdatedType);\n    }\n    return formPost;\n  }\n  createBundledUpload(files, opts) {\n    const formPost = new FormData();\n    const {\n      meta\n    } = this.uppy.getState();\n    this.addMetadata(formPost, meta, opts);\n    files.forEach(file => {\n      const options = this.getOptions(file);\n      const dataWithUpdatedType = setTypeInBlob(file);\n      if (file.name) {\n        formPost.append(options.fieldName, dataWithUpdatedType, file.name);\n      } else {\n        formPost.append(options.fieldName, dataWithUpdatedType);\n      }\n    });\n    return formPost;\n  }\n  install() {\n    if (this.opts.bundle) {\n      const {\n        capabilities\n      } = this.uppy.getState();\n      this.uppy.setState({\n        capabilities: {\n          ...capabilities,\n          individualCancellation: false\n        }\n      });\n    }\n    this.uppy.addUploader(_classPrivateFieldLooseBase(this, _handleUpload)[_handleUpload]);\n  }\n  uninstall() {\n    if (this.opts.bundle) {\n      const {\n        capabilities\n      } = this.uppy.getState();\n      this.uppy.setState({\n        capabilities: {\n          ...capabilities,\n          individualCancellation: true\n        }\n      });\n    }\n    this.uppy.removeUploader(_classPrivateFieldLooseBase(this, _handleUpload)[_handleUpload]);\n  }\n}\nasync function _uploadLocalFile2(file) {\n  const events = new EventManager(this.uppy);\n  const controller = new AbortController();\n  const uppyFetch = this.requests.wrapPromiseFunction(async () => {\n    const opts = this.getOptions(file);\n    const fetch = _classPrivateFieldLooseBase(this, _getFetcher)[_getFetcher]([file]);\n    const body = opts.formData ? this.createFormDataUpload(file, opts) : file.data;\n    return fetch(opts.endpoint, {\n      ...opts,\n      body,\n      signal: controller.signal\n    });\n  });\n  events.onFileRemove(file.id, () => controller.abort());\n  events.onCancelAll(file.id, () => {\n    controller.abort();\n  });\n  try {\n    await uppyFetch().abortOn(controller.signal);\n  } catch (error) {\n    // TODO: create formal error with name 'AbortError' (this comes from RateLimitedQueue)\n    if (error.message !== 'Cancelled') {\n      throw error;\n    }\n  } finally {\n    events.remove();\n  }\n}\nasync function _uploadBundle2(files) {\n  const controller = new AbortController();\n  const uppyFetch = this.requests.wrapPromiseFunction(async () => {\n    var _this$uppy$getState$x;\n    const optsFromState = (_this$uppy$getState$x = this.uppy.getState().xhrUpload) != null ? _this$uppy$getState$x : {};\n    const fetch = _classPrivateFieldLooseBase(this, _getFetcher)[_getFetcher](files);\n    const body = this.createBundledUpload(files, {\n      ...this.opts,\n      ...optsFromState\n    });\n    return fetch(this.opts.endpoint, {\n      // headers can't be a function with bundle: true\n      ...this.opts,\n      body,\n      signal: controller.signal\n    });\n  });\n  function abort() {\n    controller.abort();\n  }\n\n  // We only need to abort on cancel all because\n  // individual cancellations are not possible with bundle: true\n  this.uppy.once('cancel-all', abort);\n  try {\n    await uppyFetch().abortOn(controller.signal);\n  } catch (error) {\n    // TODO: create formal error with name 'AbortError' (this comes from RateLimitedQueue)\n    if (error.message !== 'Cancelled') {\n      throw error;\n    }\n  } finally {\n    this.uppy.off('cancel-all', abort);\n  }\n}\nfunction _getCompanionClientArgs2(file) {\n  var _file$remote;\n  const opts = this.getOptions(file);\n  const allowedMetaFields = getAllowedMetaFields(opts.allowedMetaFields, file.meta);\n  return {\n    ...((_file$remote = file.remote) == null ? void 0 : _file$remote.body),\n    protocol: 'multipart',\n    endpoint: opts.endpoint,\n    size: file.data.size,\n    fieldname: opts.fieldName,\n    metadata: Object.fromEntries(allowedMetaFields.map(name => [name, file.meta[name]])),\n    httpMethod: opts.method,\n    useFormData: opts.formData,\n    headers: opts.headers\n  };\n}\nasync function _uploadFiles2(files) {\n  await Promise.allSettled(files.map(file => {\n    if (file.isRemote) {\n      const getQueue = () => this.requests;\n      const controller = new AbortController();\n      const removedHandler = removedFile => {\n        if (removedFile.id === file.id) controller.abort();\n      };\n      this.uppy.on('file-removed', removedHandler);\n      const uploadPromise = this.uppy.getRequestClientForFile(file).uploadRemoteFile(file, _classPrivateFieldLooseBase(this, _getCompanionClientArgs)[_getCompanionClientArgs](file), {\n        signal: controller.signal,\n        getQueue\n      });\n      this.requests.wrapSyncFunction(() => {\n        this.uppy.off('file-removed', removedHandler);\n      }, {\n        priority: -1\n      })();\n      return uploadPromise;\n    }\n    return _classPrivateFieldLooseBase(this, _uploadLocalFile)[_uploadLocalFile](file);\n  }));\n}\n// eslint-disable-next-line global-require\nXHRUpload.VERSION = packageJson.version;", "import { Controller } from \"@hotwired/stimulus\";\nimport Uppy from \"@uppy/core\"\nimport Dashboard from \"@uppy/dashboard\"\nimport ImageEditor from \"@uppy/image-editor\"\nimport XHRUpload from \"@uppy/xhr-upload\";\n\nexport default class extends Controller {\n\n  static targets = [\"dashboard\", \"preview\", \"imageUrl\"];\n\n  connect() {\n    this.initializeUppy();\n  }\n\n  initializeUppy() {\n    this.uppy = new Uppy({\n      id: 'uppy',\n      autoProceed: false,\n      restrictions: {\n        maxFileSize: 5000000, // 5 MB\n        maxNumberOfFiles: 1,\n        minNumberOfFiles: 1,\n        allowedFileTypes: ['image/*']\n      }\n    })\n        .use(Dashboard, {\n          inline: true,\n          target: this.dashboardTarget,\n          showProgressDetails: true,\n          height: 500\n        })\n        .use(ImageEditor, {\n          quality: 0.8\n        })\n        .use(XHRUpload, {\n          endpoint: '/upload',\n          formData: true,\n          fieldName: 'image_layer[layer]'\n        });\n\n    this.uppy.on('file-added', (file) => {\n      this.updatePreview(file);\n    });\n\n    this.uppy.on('upload-success', (file, response) => {\n      this.imageUrlTarget.value = response.body.url;\n      console.log('Upload successful:', response);\n    });\n  }\n\n  updatePreview(file) {\n    const reader = new FileReader();\n    reader.onload = () => {\n      const previewImage = this.previewTarget.querySelector('img');\n      previewImage.src = reader.result;\n    };\n    reader.readAsDataURL(file.data);\n  }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    static values = {\n        noImageUrl: String\n    };\n\n    connect() {\n        this.noImageUrlValue = window.location.origin + window.noimage_url;\n        this.processImages();\n    }\n\n    processImages() {\n        const divs = this.element.querySelectorAll('.game-img');\n        divs.forEach(div => {\n            const img = new Image();\n            img.src = div.style.backgroundImage.replace(/^url\\([\"']?/, '').replace(/[\"']?\\)$/, '');\n\n            img.addEventListener('error', () => this.handleImageError(div));\n        });\n    }\n\n    handleImageError(div) {\n        div.style.backgroundImage = `url(${this.noImageUrlValue})`;\n    }\n}", "// This file is auto-generated by ./bin/rails stimulus:manifest:update\n// Run that command whenever you add a new controller or create them with\n// ./bin/rails generate stimulus controllerName\n\nimport { application } from \"./application\"\n\nimport ConfirmController from \"./confirm_controller\"\napplication.register(\"confirm\", ConfirmController)\n\nimport BtnPreloaderController from \"./btn_preloader_controller\"\napplication.register(\"btn_preloader\", BtnPreloaderController)\n\nimport NoticesController from \"./notices_controller\"\napplication.register(\"notices\", NoticesController)\n\nimport ClearFormController from \"./clear_form_controller\"\napplication.register('clear-form', ClearFormController);\n\nimport FancyboxController from \"./fancybox_controller\"\napplication.register('fancybox', FancyboxController);\n\nimport PagyInitializerController from \"./pagy_initializer_controller\";\napplication.register('pagy_initializer', PagyInitializerController);\n\nimport MapController from \"./map_controller\";\napplication.register('map', MapController);\n\nimport SwiperController from \"./swiper_controller\";\napplication.register('swiper', SwiperController);\n\nimport ExpandTextController from \"./expand_text_controller\";\napplication.register('expand_text', ExpandTextController);\n\nimport CollapseController from \"./collapse_controller\";\napplication.register('collapse', CollapseController);\n\nimport LayerController from \"./layer_controller\";\napplication.register('layer', LayerController);\n\nimport NoImageController from \"./no_image_controller\";\napplication.register('no_image', NoImageController);\n", "// Entry point for the build script in your package.json\nimport \"@hotwired/turbo-rails\"\nimport \"./controllers\"\nimport \"bootstrap/dist/js/bootstrap\"\n\n//import \"./others/main\"\n\nimport \"trix\"\nimport \"@rails/actiontext\"\nimport \"@rails/actiontext/app/assets/javascripts/actiontext\"\n", "export const attachmentSelector = \"[data-trix-attachment]\"\n\nconst attachments = {\n  preview: {\n    presentation: \"gallery\",\n    caption: {\n      name: true,\n      size: true,\n    },\n  },\n  file: {\n    caption: {\n      size: true,\n    },\n  },\n}\nexport default attachments\n", "const attributes = {\n  default: {\n    tagName: \"div\",\n    parse: false,\n  },\n  quote: {\n    tagName: \"blockquote\",\n    nestable: true,\n  },\n  heading1: {\n    tagName: \"h1\",\n    terminal: true,\n    breakOnReturn: true,\n    group: false,\n  },\n  code: {\n    tagName: \"pre\",\n    terminal: true,\n    htmlAttributes: [ \"language\" ],\n    text: {\n      plaintext: true,\n    },\n  },\n  bulletList: {\n    tagName: \"ul\",\n    parse: false,\n  },\n  bullet: {\n    tagName: \"li\",\n    listAttribute: \"bulletList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  numberList: {\n    tagName: \"ol\",\n    parse: false,\n  },\n  number: {\n    tagName: \"li\",\n    listAttribute: \"numberList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  attachmentGallery: {\n    tagName: \"div\",\n    exclusive: true,\n    terminal: true,\n    parse: false,\n    group: false,\n  },\n}\n\nconst tagName = (element) => element?.tagName?.toLowerCase()\n\nexport default attributes\n", "const androidVersionMatch = navigator.userAgent.match(/android\\s([0-9]+.*Chrome)/i)\nconst androidVersion = androidVersionMatch && parseInt(androidVersionMatch[1])\n\nexport default {\n  // Android emits composition events when moving the cursor through existing text\n  // Introduced in Chrome 65: https://bugs.chromium.org/p/chromium/issues/detail?id=764439#c9\n  composesExistingText: /Android.*Chrome/.test(navigator.userAgent),\n\n  // Android 13, especially on Samsung keyboards, emits extra compositionend and beforeinput events\n  // that can make the input handler lose the current selection or enter an infinite input -> render -> input\n  // loop.\n  recentAndroid: androidVersion && androidVersion > 12,\n  samsungAndroid: androidVersion && navigator.userAgent.match(/Android.*SM-/),\n\n  // IE 11 activates resizing handles on editable elements that have \"layout\"\n  forcesObjectResizing: /Trident.*rv:11/.test(navigator.userAgent),\n  // https://www.w3.org/TR/input-events-1/ + https://www.w3.org/TR/input-events-2/\n  supportsInputEvents: typeof InputEvent !== \"undefined\" &&\n    [ \"data\", \"getTargetRanges\", \"inputType\" ].every(prop => prop in InputEvent.prototype),\n}\n", "export default {\n  attachFiles: \"Attach Files\",\n  bold: \"Bold\",\n  bullets: \"Bullets\",\n  byte: \"Byte\",\n  bytes: \"Bytes\",\n  captionPlaceholder: \"Add a caption…\",\n  code: \"Code\",\n  heading1: \"Heading\",\n  indent: \"Increase Level\",\n  italic: \"Italic\",\n  link: \"Link\",\n  numbers: \"Numbers\",\n  outdent: \"Decrease Level\",\n  quote: \"Quote\",\n  redo: \"Redo\",\n  remove: \"Remove\",\n  strike: \"Strikethrough\",\n  undo: \"Undo\",\n  unlink: \"Unlink\",\n  url: \"URL\",\n  urlPlaceholder: \"Enter a URL…\",\n  GB: \"GB\",\n  KB: \"KB\",\n  MB: \"MB\",\n  PB: \"PB\",\n  TB: \"TB\",\n}\n", "/* eslint-disable\n    no-case-declarations,\n*/\nimport lang from \"trix/config/lang\"\n\nconst sizes = [ lang.bytes, lang.KB, lang.MB, lang.GB, lang.TB, lang.PB ]\n\nexport default {\n  prefix: \"IEC\",\n  precision: 2,\n\n  formatter(number) {\n    switch (number) {\n      case 0:\n        return `0 ${lang.bytes}`\n      case 1:\n        return `1 ${lang.byte}`\n      default:\n        let base\n\n        if (this.prefix === \"SI\") {\n          base = 1000\n        } else if (this.prefix === \"IEC\") {\n          base = 1024\n        }\n\n        const exp = Math.floor(Math.log(number) / Math.log(base))\n        const humanSize = number / Math.pow(base, exp)\n        const string = humanSize.toFixed(this.precision)\n        const withoutInsignificantZeros = string.replace(/0*$/, \"\").replace(/\\.$/, \"\")\n        return `${withoutInsignificantZeros} ${sizes[exp]}`\n    }\n  },\n}\n", "export const ZERO_WIDTH_SPACE = \"\\uFEFF\"\nexport const NON_BREAKING_SPACE = \"\\u00A0\"\nexport const OBJECT_REPLACEMENT_CHARACTER = \"\\uFFFC\"\n", "export const extend = function(properties) {\n  for (const key in properties) {\n    const value = properties[key]\n    this[key] = value\n  }\n  return this\n}\n", "import blockAttributes from \"trix/config/block_attributes\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { extend } from \"./extend\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nconst html = document.documentElement\nconst match = html.matches\n\nexport const handleEvent = function(eventName, { onElement, matchingSelector, withCallback, inPhase, preventDefault, times } = {}) {\n  const element = onElement ? onElement : html\n  const selector = matchingSelector\n  const useCapture = inPhase === \"capturing\"\n\n  const handler = function(event) {\n    if (times != null && --times === 0) {\n      handler.destroy()\n    }\n    const target = findClosestElementFromNode(event.target, { matchingSelector: selector })\n    if (target != null) {\n      withCallback?.call(target, event, target)\n      if (preventDefault) {\n        event.preventDefault()\n      }\n    }\n  }\n\n  handler.destroy = () => element.removeEventListener(eventName, handler, useCapture)\n\n  element.addEventListener(eventName, handler, useCapture)\n  return handler\n}\n\nexport const handleEventOnce = function(eventName, options = {}) {\n  options.times = 1\n  return handleEvent(eventName, options)\n}\n\nexport const triggerEvent = function(eventName, { onElement, bubbles, cancelable, attributes } = {}) {\n  const element = onElement != null ? onElement : html\n  bubbles = bubbles !== false\n  cancelable = cancelable !== false\n\n  const event = document.createEvent(\"Events\")\n  event.initEvent(eventName, bubbles, cancelable)\n  if (attributes != null) {\n    extend.call(event, attributes)\n  }\n  return element.dispatchEvent(event)\n}\n\nexport const elementMatchesSelector = function(element, selector) {\n  if (element?.nodeType === 1) {\n    return match.call(element, selector)\n  }\n}\n\nexport const findClosestElementFromNode = function(node, { matchingSelector, untilNode } = {}) {\n  while (node && node.nodeType !== Node.ELEMENT_NODE) {\n    node = node.parentNode\n  }\n  if (node == null) {\n    return\n  }\n\n  if (matchingSelector != null) {\n    if (node.closest && untilNode == null) {\n      return node.closest(matchingSelector)\n    } else {\n      while (node && node !== untilNode) {\n        if (elementMatchesSelector(node, matchingSelector)) {\n          return node\n        }\n        node = node.parentNode\n      }\n    }\n  } else {\n    return node\n  }\n}\n\nexport const findInnerElement = function(element) {\n  while (element?.firstElementChild) {\n    element = element.firstElementChild\n  }\n  return element\n}\n\nexport const innerElementIsActive = (element) =>\n  document.activeElement !== element && elementContainsNode(element, document.activeElement)\n\nexport const elementContainsNode = function(element, node) {\n  if (!element || !node) {\n    return\n  }\n  while (node) {\n    if (node === element) {\n      return true\n    }\n    node = node.parentNode\n  }\n}\n\nexport const findNodeFromContainerAndOffset = function(container, offset) {\n  if (!container) {\n    return\n  }\n  if (container.nodeType === Node.TEXT_NODE) {\n    return container\n  } else if (offset === 0) {\n    return container.firstChild != null ? container.firstChild : container\n  } else {\n    return container.childNodes.item(offset - 1)\n  }\n}\n\nexport const findElementFromContainerAndOffset = function(container, offset) {\n  const node = findNodeFromContainerAndOffset(container, offset)\n  return findClosestElementFromNode(node)\n}\n\nexport const findChildIndexOfNode = function(node) {\n  if (!node?.parentNode) {\n    return\n  }\n  let childIndex = 0\n  node = node.previousSibling\n  while (node) {\n    childIndex++\n    node = node.previousSibling\n  }\n  return childIndex\n}\n\nexport const removeNode = (node) => node?.parentNode?.removeChild(node)\n\nexport const walkTree = function(tree, { onlyNodesOfType, usingFilter, expandEntityReferences } = {}) {\n  const whatToShow = (() => {\n    switch (onlyNodesOfType) {\n      case \"element\":\n        return NodeFilter.SHOW_ELEMENT\n      case \"text\":\n        return NodeFilter.SHOW_TEXT\n      case \"comment\":\n        return NodeFilter.SHOW_COMMENT\n      default:\n        return NodeFilter.SHOW_ALL\n    }\n  })()\n\n  return document.createTreeWalker(\n    tree,\n    whatToShow,\n    usingFilter != null ? usingFilter : null,\n    expandEntityReferences === true\n  )\n}\n\nexport const tagName = (element) => element?.tagName?.toLowerCase()\n\nexport const makeElement = function(tag, options = {}) {\n  let key, value\n  if (typeof tag === \"object\") {\n    options = tag\n    tag = options.tagName\n  } else {\n    options = { attributes: options }\n  }\n\n  const element = document.createElement(tag)\n\n  if (options.editable != null) {\n    if (options.attributes == null) {\n      options.attributes = {}\n    }\n    options.attributes.contenteditable = options.editable\n  }\n\n  if (options.attributes) {\n    for (key in options.attributes) {\n      value = options.attributes[key]\n      element.setAttribute(key, value)\n    }\n  }\n\n  if (options.style) {\n    for (key in options.style) {\n      value = options.style[key]\n      element.style[key] = value\n    }\n  }\n\n  if (options.data) {\n    for (key in options.data) {\n      value = options.data[key]\n      element.dataset[key] = value\n    }\n  }\n\n  if (options.className) {\n    options.className.split(\" \").forEach((className) => {\n      element.classList.add(className)\n    })\n  }\n\n  if (options.textContent) {\n    element.textContent = options.textContent\n  }\n\n  if (options.childNodes) {\n    [].concat(options.childNodes).forEach((childNode) => {\n      element.appendChild(childNode)\n    })\n  }\n\n  return element\n}\n\nlet blockTagNames = undefined\n\nexport const getBlockTagNames = function() {\n  if (blockTagNames != null) {\n    return blockTagNames\n  }\n\n  blockTagNames = []\n  for (const key in blockAttributes) {\n    const attributes = blockAttributes[key]\n    if (attributes.tagName) {\n      blockTagNames.push(attributes.tagName)\n    }\n  }\n\n  return blockTagNames\n}\n\nexport const nodeIsBlockContainer = (node) => nodeIsBlockStartComment(node?.firstChild)\n\nexport const nodeProbablyIsBlockContainer = function(node) {\n  return getBlockTagNames().includes(tagName(node)) && !getBlockTagNames().includes(tagName(node.firstChild))\n}\n\nexport const nodeIsBlockStart = function(node, { strict } = { strict: true }) {\n  if (strict) {\n    return nodeIsBlockStartComment(node)\n  } else {\n    return (\n      nodeIsBlockStartComment(node) || !nodeIsBlockStartComment(node.firstChild) && nodeProbablyIsBlockContainer(node)\n    )\n  }\n}\n\nexport const nodeIsBlockStartComment = (node) => nodeIsCommentNode(node) && node?.data === \"block\"\n\nexport const nodeIsCommentNode = (node) => node?.nodeType === Node.COMMENT_NODE\n\nexport const nodeIsCursorTarget = function(node, { name } = {}) {\n  if (!node) {\n    return\n  }\n  if (nodeIsTextNode(node)) {\n    if (node.data === ZERO_WIDTH_SPACE) {\n      if (name) {\n        return node.parentNode.dataset.trixCursorTarget === name\n      } else {\n        return true\n      }\n    }\n  } else {\n    return nodeIsCursorTarget(node.firstChild)\n  }\n}\n\nexport const nodeIsAttachmentElement = (node) => elementMatchesSelector(node, attachmentSelector)\n\nexport const nodeIsEmptyTextNode = (node) => nodeIsTextNode(node) && node?.data === \"\"\n\nexport const nodeIsTextNode = (node) => node?.nodeType === Node.TEXT_NODE\n", "import browser from \"trix/config/browser\"\nimport { makeElement, removeNode } from \"trix/core/helpers/dom\"\n\nconst input = {\n  level2Enabled: true,\n\n  getLevel() {\n    if (this.level2Enabled && browser.supportsInputEvents) {\n      return 2\n    } else {\n      return 0\n    }\n  },\n  pickFiles(callback) {\n    const input = makeElement(\"input\", { type: \"file\", multiple: true, hidden: true, id: this.fileInputId })\n\n    input.addEventListener(\"change\", () => {\n      callback(input.files)\n      removeNode(input)\n    })\n\n    removeNode(document.getElementById(this.fileInputId))\n    document.body.appendChild(input)\n    input.click()\n  }\n}\n\nexport default input\n", "export default {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"return\",\n  27: \"escape\",\n  37: \"left\",\n  39: \"right\",\n  46: \"delete\",\n  68: \"d\",\n  72: \"h\",\n  79: \"o\",\n}\n", "export default {\n  removeBlankTableCells: false,\n  tableCellSeparator: \" | \",\n  tableRowSeparator: \"\\n\",\n}\n", "import { attachmentSelector } from \"trix/config/attachments\"\n\nexport default {\n  bold: {\n    tagName: \"strong\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontWeight === \"bold\" || style.fontWeight >= 600\n    },\n  },\n  italic: {\n    tagName: \"em\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontStyle === \"italic\"\n    },\n  },\n  href: {\n    groupTagName: \"a\",\n    parser(element) {\n      const matchingSelector = `a:not(${attachmentSelector})`\n      const link = element.closest(matchingSelector)\n      if (link) {\n        return link.getAttribute(\"href\")\n      }\n    },\n  },\n  strike: {\n    tagName: \"del\",\n    inheritable: true,\n  },\n  frozen: {\n    style: { backgroundColor: \"highlight\" },\n  },\n}\n", "import lang from \"trix/config/lang\"\n\nexport default {\n  getDefaultHTML() {\n    return `<div class=\"trix-button-row\">\n      <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"${lang.bold}\" tabindex=\"-1\">${lang.bold}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"${lang.italic}\" tabindex=\"-1\">${lang.italic}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"${lang.strike}\" tabindex=\"-1\">${lang.strike}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"${lang.link}\" tabindex=\"-1\">${lang.link}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"${lang.heading1}\" tabindex=\"-1\">${lang.heading1}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"${lang.quote}\" tabindex=\"-1\">${lang.quote}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"${lang.code}\" tabindex=\"-1\">${lang.code}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"${lang.bullets}\" tabindex=\"-1\">${lang.bullets}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"${lang.numbers}\" tabindex=\"-1\">${lang.numbers}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"${lang.outdent}\" tabindex=\"-1\">${lang.outdent}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"${lang.indent}\" tabindex=\"-1\">${lang.indent}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"${lang.attachFiles}\" tabindex=\"-1\">${lang.attachFiles}</button>\n      </span>\n\n      <span class=\"trix-button-group-spacer\"></span>\n\n      <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"${lang.undo}\" tabindex=\"-1\">${lang.undo}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"${lang.redo}\" tabindex=\"-1\">${lang.redo}</button>\n      </span>\n    </div>\n\n    <div class=\"trix-dialogs\" data-trix-dialogs>\n      <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\n        <div class=\"trix-dialog__link-fields\">\n          <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"${lang.urlPlaceholder}\" aria-label=\"${lang.url}\" required data-trix-input>\n          <div class=\"trix-button-group\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.link}\" data-trix-method=\"setAttribute\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.unlink}\" data-trix-method=\"removeAttribute\">\n          </div>\n        </div>\n      </div>\n    </div>`\n  },\n}\n", "const undo = { interval: 5000 }\nexport default undo\n", "export default {\n  attachment: \"attachment\",\n  attachmentCaption: \"attachment__caption\",\n  attachmentCaptionEditor: \"attachment__caption-editor\",\n  attachmentMetadata: \"attachment__metadata\",\n  attachmentMetadataContainer: \"attachment__metadata-container\",\n  attachmentName: \"attachment__name\",\n  attachmentProgress: \"attachment__progress\",\n  attachmentSize: \"attachment__size\",\n  attachmentToolbar: \"attachment__toolbar\",\n  attachmentGallery: \"attachment-gallery\",\n}\n", "export default class BasicObject {\n  static proxyMethod(expression) {\n    const { name, toMethod, toProperty, optional } = parseProxyMethodExpression(expression)\n\n    this.prototype[name] = function() {\n      let subject\n      let object\n\n      if (toMethod) {\n        if (optional) {\n          object = this[toMethod]?.()\n        } else {\n          object = this[toMethod]()\n        }\n      } else if (toProperty) {\n        object = this[toProperty]\n      }\n\n      if (optional) {\n        subject = object?.[name]\n        if (subject) {\n          return apply.call(subject, object, arguments)\n        }\n      } else {\n        subject = object[name]\n        return apply.call(subject, object, arguments)\n      }\n    }\n  }\n}\n\nconst parseProxyMethodExpression = function(expression) {\n  const match = expression.match(proxyMethodExpressionPattern)\n  if (!match) {\n    throw new Error(`can't parse @proxyMethod expression: ${expression}`)\n  }\n\n  const args = { name: match[4] }\n\n  if (match[2] != null) {\n    args.toMethod = match[1]\n  } else {\n    args.toProperty = match[1]\n  }\n\n  if (match[3] != null) {\n    args.optional = true\n  }\n\n  return args\n}\n\nconst { apply } = Function.prototype\n\nconst proxyMethodExpressionPattern = new RegExp(\"\\\n^\\\n(.+?)\\\n(\\\\(\\\\))?\\\n(\\\\?)?\\\n\\\\.\\\n(.+?)\\\n$\\\n\")\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class UTF16String extends BasicObject {\n  static box(value = \"\") {\n    if (value instanceof this) {\n      return value\n    } else {\n      return this.fromUCS2String(value?.toString())\n    }\n  }\n\n  static fromUCS2String(ucs2String) {\n    return new this(ucs2String, ucs2decode(ucs2String))\n  }\n\n  static fromCodepoints(codepoints) {\n    return new this(ucs2encode(codepoints), codepoints)\n  }\n\n  constructor(ucs2String, codepoints) {\n    super(...arguments)\n    this.ucs2String = ucs2String\n    this.codepoints = codepoints\n    this.length = this.codepoints.length\n    this.ucs2Length = this.ucs2String.length\n  }\n\n  offsetToUCS2Offset(offset) {\n    return ucs2encode(this.codepoints.slice(0, Math.max(0, offset))).length\n  }\n\n  offsetFromUCS2Offset(ucs2Offset) {\n    return ucs2decode(this.ucs2String.slice(0, Math.max(0, ucs2Offset))).length\n  }\n\n  slice() {\n    return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))\n  }\n\n  charAt(offset) {\n    return this.slice(offset, offset + 1)\n  }\n\n  isEqualTo(value) {\n    return this.constructor.box(value).ucs2String === this.ucs2String\n  }\n\n  toJSON() {\n    return this.ucs2String\n  }\n\n  getCacheKey() {\n    return this.ucs2String\n  }\n\n  toString() {\n    return this.ucs2String\n  }\n}\n\nconst hasArrayFrom = Array.from?.(\"\\ud83d\\udc7c\").length === 1\nconst hasStringCodePointAt = \" \".codePointAt?.(0) != null\nconst hasStringFromCodePoint = String.fromCodePoint?.(32, 128124) === \" \\ud83d\\udc7c\"\n\n// UCS-2 conversion helpers ported from Mathias Bynens' Punycode.js:\n// https://github.com/bestiejs/punycode.js#punycodeucs2\n\nlet ucs2decode, ucs2encode\n\n// Creates an array containing the numeric code points of each Unicode\n// character in the string. While JavaScript uses UCS-2 internally,\n// this function will convert a pair of surrogate halves (each of which\n// UCS-2 exposes as separate characters) into a single code point,\n// matching UTF-16.\nif (hasArrayFrom && hasStringCodePointAt) {\n  ucs2decode = (string) => Array.from(string).map((char) => char.codePointAt(0))\n} else {\n  ucs2decode = function(string) {\n    const output = []\n    let counter = 0\n    const { length } = string\n\n    while (counter < length) {\n      let value = string.charCodeAt(counter++)\n      if (0xd800 <= value && value <= 0xdbff && counter < length) {\n        // high surrogate, and there is a next character\n        const extra = string.charCodeAt(counter++)\n        if ((extra & 0xfc00) === 0xdc00) {\n          // low surrogate\n          value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000\n        } else {\n          // unmatched surrogate; only append this code unit, in case the\n          // next code unit is the high surrogate of a surrogate pair\n          counter--\n        }\n      }\n      output.push(value)\n    }\n\n    return output\n  }\n}\n\n// Creates a string based on an array of numeric code points.\nif (hasStringFromCodePoint) {\n  ucs2encode = (array) => String.fromCodePoint(...Array.from(array || []))\n} else {\n  ucs2encode = function(array) {\n    const characters = (() => {\n      const result = []\n\n      Array.from(array).forEach((value) => {\n        let output = \"\"\n        if (value > 0xffff) {\n          value -= 0x10000\n          output += String.fromCharCode(value >>> 10 & 0x3ff | 0xd800)\n          value = 0xdc00 | value & 0x3ff\n        }\n        result.push(output + String.fromCharCode(value))\n      })\n\n      return result\n    })()\n\n    return characters.join(\"\")\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nlet id = 0\n\nexport default class TrixObject extends BasicObject {\n  static fromJSONString(jsonString) {\n    return this.fromJSON(JSON.parse(jsonString))\n  }\n\n  constructor() {\n    super(...arguments)\n    this.id = ++id\n  }\n\n  hasSameConstructorAs(object) {\n    return this.constructor === object?.constructor\n  }\n\n  isEqualTo(object) {\n    return this === object\n  }\n\n  inspect() {\n    const parts = []\n    const contents = this.contentsForInspection() || {}\n\n    for (const key in contents) {\n      const value = contents[key]\n      parts.push(`${key}=${value}`)\n    }\n\n    return `#<${this.constructor.name}:${this.id}${parts.length ? ` ${parts.join(\", \")}` : \"\"}>`\n  }\n\n  contentsForInspection() {}\n\n  toJSONString() {\n    return JSON.stringify(this)\n  }\n\n  toUTF16String() {\n    return UTF16String.box(this)\n  }\n\n  getCacheKey() {\n    return this.id.toString()\n  }\n}\n", "/* eslint-disable\n    id-length,\n*/\nexport const arraysAreEqual = function(a = [], b = []) {\n  if (a.length !== b.length) {\n    return false\n  }\n  for (let index = 0; index < a.length; index++) {\n    const value = a[index]\n    if (value !== b[index]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const arrayStartsWith = (a = [], b = []) => arraysAreEqual(a.slice(0, b.length), b)\n\nexport const spliceArray = function(array, ...args) {\n  const result = array.slice(0)\n  result.splice(...args)\n  return result\n}\n\nexport const summarizeArrayChange = function(oldArray = [], newArray = []) {\n  const added = []\n  const removed = []\n\n  const existingValues = new Set()\n\n  oldArray.forEach((value) => {\n    existingValues.add(value)\n  })\n\n  const currentValues = new Set()\n\n  newArray.forEach((value) => {\n    currentValues.add(value)\n    if (!existingValues.has(value)) {\n      added.push(value)\n    }\n  })\n\n  oldArray.forEach((value) => {\n    if (!currentValues.has(value)) {\n      removed.push(value)\n    }\n  })\n\n  return { added, removed }\n}\n", "import { makeElement } from \"trix/core/helpers/dom\"\n\n// https://github.com/mathiasbynens/unicode-2.1.8/blob/master/Bidi_Class/Right_To_Left/regex.js\nconst RTL_PATTERN =\n  /[\\u05BE\\u05C0\\u05C3\\u05D0-\\u05EA\\u05F0-\\u05F4\\u061B\\u061F\\u0621-\\u063A\\u0640-\\u064A\\u066D\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D5\\u06E5\\u06E6\\u200F\\u202B\\u202E\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE72\\uFE74\\uFE76-\\uFEFC]/\n\nexport const getDirection = (function() {\n  const input = makeElement(\"input\", { dir: \"auto\", name: \"x\", dirName: \"x.dir\" })\n  const textArea = makeElement(\"textarea\", { dir: \"auto\", name: \"y\", dirName: \"y.dir\" })\n  const form = makeElement(\"form\")\n  form.appendChild(input)\n  form.appendChild(textArea)\n\n  const supportsDirName = (function() {\n    try {\n      return new FormData(form).has(textArea.dirName)\n    } catch (error) {\n      return false\n    }\n  })()\n\n  const supportsDirSelector = (function() {\n    try {\n      return input.matches(\":dir(ltr),:dir(rtl)\")\n    } catch (error) {\n      return false\n    }\n  })()\n\n  if (supportsDirName) {\n    return function(string) {\n      textArea.value = string\n      return new FormData(form).get(textArea.dirName)\n    }\n  } else if (supportsDirSelector) {\n    return function(string) {\n      input.value = string\n      if (input.matches(\":dir(rtl)\")) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  } else {\n    return function(string) {\n      const char = string.trim().charAt(0)\n      if (RTL_PATTERN.test(char)) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  }\n})()\n", "import * as config from \"trix/config\"\n\nlet allAttributeNames = null\nlet blockAttributeNames = null\nlet textAttributeNames = null\nlet listAttributeNames = null\n\nexport const getAllAttributeNames = () => {\n  if (!allAttributeNames) {\n    allAttributeNames = getTextAttributeNames().concat(getBlockAttributeNames())\n  }\n  return allAttributeNames\n}\n\nexport const getBlockConfig = (attributeName) => config.blockAttributes[attributeName]\n\nexport const getBlockAttributeNames = () => {\n  if (!blockAttributeNames) {\n    blockAttributeNames = Object.keys(config.blockAttributes)\n  }\n  return blockAttributeNames\n}\n\nexport const getTextConfig = (attributeName) => config.textAttributes[attributeName]\n\nexport const getTextAttributeNames = () => {\n  if (!textAttributeNames) {\n    textAttributeNames = Object.keys(config.textAttributes)\n  }\n  return textAttributeNames\n}\n\nexport const getListAttributeNames = () => {\n  if (!listAttributeNames) {\n    listAttributeNames = []\n    for (const key in config.blockAttributes) {\n      const { listAttribute } = config.blockAttributes[key]\n      if (listAttribute != null) {\n        listAttributeNames.push(listAttribute)\n      }\n    }\n  }\n  return listAttributeNames\n}\n", "/* eslint-disable\n*/\nexport const installDefaultCSSForTagName = function(tagName, defaultCSS) {\n  const styleElement = insertStyleElementForTagName(tagName)\n  styleElement.textContent = defaultCSS.replace(/%t/g, tagName)\n}\n\nconst insertStyleElementForTagName = function(tagName) {\n  const element = document.createElement(\"style\")\n  element.setAttribute(\"type\", \"text/css\")\n  element.setAttribute(\"data-tag-name\", tagName.toLowerCase())\n  const nonce = getCSPNonce()\n  if (nonce) {\n    element.setAttribute(\"nonce\", nonce)\n  }\n  document.head.insertBefore(element, document.head.firstChild)\n  return element\n}\n\nconst getCSPNonce = function() {\n  const element = getMetaElement(\"trix-csp-nonce\") || getMetaElement(\"csp-nonce\")\n  if (element) {\n    return element.getAttribute(\"content\")\n  }\n}\n\nconst getMetaElement = (name) => document.head.querySelector(`meta[name=${name}]`)\n", "const testTransferData = { \"application/x-trix-feature-detection\": \"test\" }\n\nexport const dataTransferIsPlainText = function(dataTransfer) {\n  const text = dataTransfer.getData(\"text/plain\")\n  const html = dataTransfer.getData(\"text/html\")\n\n  if (text && html) {\n    const { body } = new DOMParser().parseFromString(html, \"text/html\")\n    if (body.textContent === text) {\n      return !body.querySelector(\"*\")\n    }\n  } else {\n    return text?.length\n  }\n}\n\nexport const dataTransferIsMsOfficePaste = ({ dataTransfer }) => {\n  return dataTransfer.types.includes(\"Files\") &&\n    dataTransfer.types.includes(\"text/html\") &&\n    dataTransfer.getData(\"text/html\").includes(\"urn:schemas-microsoft-com:office:office\")\n}\n\nexport const dataTransferIsWritable = function(dataTransfer) {\n  if (!dataTransfer?.setData) return false\n\n  for (const key in testTransferData) {\n    const value = testTransferData[key]\n\n    try {\n      dataTransfer.setData(key, value)\n      if (!dataTransfer.getData(key) === value) return false\n    } catch (error) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const keyEventIsKeyboardCommand = (function() {\n  if (/Mac|^iP/.test(navigator.platform)) {\n    return (event) => event.metaKey\n  } else {\n    return (event) => event.ctrlKey\n  }\n})()\n", "export const defer = (fn) => setTimeout(fn, 1)\n", "/* eslint-disable\n    id-length,\n*/\nexport const copyObject = function(object = {}) {\n  const result = {}\n  for (const key in object) {\n    const value = object[key]\n    result[key] = value\n  }\n  return result\n}\n\nexport const objectsAreEqual = function(a = {}, b = {}) {\n  if (Object.keys(a).length !== Object.keys(b).length) {\n    return false\n  }\n  for (const key in a) {\n    const value = a[key]\n    if (value !== b[key]) {\n      return false\n    }\n  }\n  return true\n}\n", "import { copyObject, objectsAreEqual } from \"trix/core/helpers/objects\"\n\nexport const normalizeRange = function(range) {\n  if (range == null) return\n\n  if (!Array.isArray(range)) {\n    range = [ range, range ]\n  }\n  return [ copyValue(range[0]), copyValue(range[1] != null ? range[1] : range[0]) ]\n}\n\nexport const rangeIsCollapsed = function(range) {\n  if (range == null) return\n\n  const [ start, end ] = normalizeRange(range)\n  return rangeValuesAreEqual(start, end)\n}\n\nexport const rangesAreEqual = function(leftRange, rightRange) {\n  if (leftRange == null || rightRange == null) return\n\n  const [ leftStart, leftEnd ] = normalizeRange(leftRange)\n  const [ rightStart, rightEnd ] = normalizeRange(rightRange)\n  return rangeValuesAreEqual(leftStart, rightStart) && rangeValuesAreEqual(leftEnd, rightEnd)\n}\n\nconst copyValue = function(value) {\n  if (typeof value === \"number\") {\n    return value\n  } else {\n    return copyObject(value)\n  }\n}\n\nconst rangeValuesAreEqual = function(left, right) {\n  if (typeof left === \"number\") {\n    return left === right\n  } else {\n    return objectsAreEqual(left, right)\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class SelectionChangeObserver extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.update = this.update.bind(this)\n    this.selectionManagers = []\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true\n      document.addEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false\n      return document.removeEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  registerSelectionManager(selectionManager) {\n    if (!this.selectionManagers.includes(selectionManager)) {\n      this.selectionManagers.push(selectionManager)\n      return this.start()\n    }\n  }\n\n  unregisterSelectionManager(selectionManager) {\n    this.selectionManagers = this.selectionManagers.filter((sm) => sm !== selectionManager)\n    if (this.selectionManagers.length === 0) {\n      return this.stop()\n    }\n  }\n\n  notifySelectionManagersOfSelectionChange() {\n    return this.selectionManagers.map((selectionManager) => selectionManager.selectionDidChange())\n  }\n\n  update() {\n    this.notifySelectionManagersOfSelectionChange()\n  }\n\n  reset() {\n    this.update()\n  }\n}\n\nexport const selectionChangeObserver = new SelectionChangeObserver()\n\nexport const getDOMSelection = function() {\n  const selection = window.getSelection()\n  if (selection.rangeCount > 0) {\n    return selection\n  }\n}\n\nexport const getDOMRange = function() {\n  const domRange = getDOMSelection()?.getRangeAt(0)\n  if (domRange) {\n    if (!domRangeIsPrivate(domRange)) {\n      return domRange\n    }\n  }\n}\n\nexport const setDOMRange = function(domRange) {\n  const selection = window.getSelection()\n  selection.removeAllRanges()\n  selection.addRange(domRange)\n  return selectionChangeObserver.update()\n}\n\n// In Firefox, clicking certain <input> elements changes the selection to a\n// private element used to draw its UI. Attempting to access properties of those\n// elements throws an error.\n// https://bugzilla.mozilla.org/show_bug.cgi?id=208427\nconst domRangeIsPrivate = (domRange) => nodeIsPrivate(domRange.startContainer) || nodeIsPrivate(domRange.endContainer)\n\nconst nodeIsPrivate = (node) => !Object.getPrototypeOf(node)\n", "/* eslint-disable\n    id-length,\n    no-useless-escape,\n*/\nimport { NON_BREAKING_SPACE, ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nexport const normalizeSpaces = (string) =>\n  string.replace(new RegExp(`${ZERO_WIDTH_SPACE}`, \"g\"), \"\").replace(new RegExp(`${NON_BREAKING_SPACE}`, \"g\"), \" \")\n\nexport const normalizeNewlines = (string) => string.replace(/\\r\\n?/g, \"\\n\")\n\nexport const breakableWhitespacePattern = new RegExp(`[^\\\\S${NON_BREAKING_SPACE}]`)\n\nexport const squishBreakableWhitespace = (string) =>\n  string\n    // Replace all breakable whitespace characters with a space\n    .replace(new RegExp(`${breakableWhitespacePattern.source}`, \"g\"), \" \")\n    // Replace two or more spaces with a single space\n    .replace(/\\ {2,}/g, \" \")\n\nexport const summarizeStringChange = function(oldString, newString) {\n  let added, removed\n  oldString = UTF16String.box(oldString)\n  newString = UTF16String.box(newString)\n\n  if (newString.length < oldString.length) {\n    [ removed, added ] = utf16StringDifferences(oldString, newString)\n  } else {\n    [ added, removed ] = utf16StringDifferences(newString, oldString)\n  }\n\n  return { added, removed }\n}\n\nconst utf16StringDifferences = function(a, b) {\n  if (a.isEqualTo(b)) {\n    return [ \"\", \"\" ]\n  }\n\n  const diffA = utf16StringDifference(a, b)\n  const { length } = diffA.utf16String\n\n  let diffB\n\n  if (length) {\n    const { offset } = diffA\n    const codepoints = a.codepoints.slice(0, offset).concat(a.codepoints.slice(offset + length))\n    diffB = utf16StringDifference(b, UTF16String.fromCodepoints(codepoints))\n  } else {\n    diffB = utf16StringDifference(b, a)\n  }\n\n  return [ diffA.utf16String.toString(), diffB.utf16String.toString() ]\n}\n\nconst utf16StringDifference = function(a, b) {\n  let leftIndex = 0\n  let rightIndexA = a.length\n  let rightIndexB = b.length\n\n  while (leftIndex < rightIndexA && a.charAt(leftIndex).isEqualTo(b.charAt(leftIndex))) {\n    leftIndex++\n  }\n\n  while (rightIndexA > leftIndex + 1 && a.charAt(rightIndexA - 1).isEqualTo(b.charAt(rightIndexB - 1))) {\n    rightIndexA--\n    rightIndexB--\n  }\n\n  return {\n    utf16String: a.slice(leftIndex, rightIndexA),\n    offset: leftIndex,\n  }\n}\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport { arraysAreEqual } from \"trix/core/helpers\"\n\nexport default class Hash extends TrixObject {\n  static fromCommonAttributesOfObjects(objects = []) {\n    if (!objects.length) {\n      return new this()\n    }\n    let hash = box(objects[0])\n    let keys = hash.getKeys()\n\n    objects.slice(1).forEach((object) => {\n      keys = hash.getKeysCommonToHash(box(object))\n      hash = hash.slice(keys)\n    })\n\n    return hash\n  }\n\n  static box(values) {\n    return box(values)\n  }\n\n  constructor(values = {}) {\n    super(...arguments)\n    this.values = copy(values)\n  }\n\n  add(key, value) {\n    return this.merge(object(key, value))\n  }\n\n  remove(key) {\n    return new Hash(copy(this.values, key))\n  }\n\n  get(key) {\n    return this.values[key]\n  }\n\n  has(key) {\n    return key in this.values\n  }\n\n  merge(values) {\n    return new Hash(merge(this.values, unbox(values)))\n  }\n\n  slice(keys) {\n    const values = {}\n\n    Array.from(keys).forEach((key) => {\n      if (this.has(key)) {\n        values[key] = this.values[key]\n      }\n    })\n\n    return new Hash(values)\n  }\n\n  getKeys() {\n    return Object.keys(this.values)\n  }\n\n  getKeysCommonToHash(hash) {\n    hash = box(hash)\n    return this.getKeys().filter((key) => this.values[key] === hash.values[key])\n  }\n\n  isEqualTo(values) {\n    return arraysAreEqual(this.toArray(), box(values).toArray())\n  }\n\n  isEmpty() {\n    return this.getKeys().length === 0\n  }\n\n  toArray() {\n    if (!this.array) {\n      const result = []\n      for (const key in this.values) {\n        const value = this.values[key]\n        result.push(result.push(key, value))\n      }\n      this.array = result.slice(0)\n    }\n\n    return this.array\n  }\n\n  toObject() {\n    return copy(this.values)\n  }\n\n  toJSON() {\n    return this.toObject()\n  }\n\n  contentsForInspection() {\n    return { values: JSON.stringify(this.values) }\n  }\n}\n\nconst object = function(key, value) {\n  const result = {}\n  result[key] = value\n  return result\n}\n\nconst merge = function(object, values) {\n  const result = copy(object)\n  for (const key in values) {\n    const value = values[key]\n    result[key] = value\n  }\n  return result\n}\n\nconst copy = function(object, keyToRemove) {\n  const result = {}\n  const sortedKeys = Object.keys(object).sort()\n\n  sortedKeys.forEach((key) => {\n    if (key !== keyToRemove) {\n      result[key] = object[key]\n    }\n  })\n\n  return result\n}\n\nconst box = function(object) {\n  if (object instanceof Hash) {\n    return object\n  } else {\n    return new Hash(object)\n  }\n}\n\nconst unbox = function(object) {\n  if (object instanceof Hash) {\n    return object.values\n  } else {\n    return object\n  }\n}\n", "export default class ObjectGroup {\n  static groupObjects(ungroupedObjects = [], { depth, asTree } = {}) {\n    let group\n    if (asTree) {\n      if (depth == null) {\n        depth = 0\n      }\n    }\n    const objects = []\n\n    Array.from(ungroupedObjects).forEach((object) => {\n      if (group) {\n        if (object.canBeGrouped?.(depth) && group[group.length - 1].canBeGroupedWith?.(object, depth)) {\n          group.push(object)\n          return\n        } else {\n          objects.push(new this(group, { depth, asTree }))\n          group = null\n        }\n      }\n\n      if (object.canBeGrouped?.(depth)) {\n        group = [ object ]\n      } else {\n        objects.push(object)\n      }\n    })\n\n    if (group) {\n      objects.push(new this(group, { depth, asTree }))\n    }\n    return objects\n  }\n\n  constructor(objects = [], { depth, asTree }) {\n    this.objects = objects\n    if (asTree) {\n      this.depth = depth\n      this.objects = this.constructor.groupObjects(this.objects, { asTree, depth: this.depth + 1 })\n    }\n  }\n\n  getObjects() {\n    return this.objects\n  }\n\n  getDepth() {\n    return this.depth\n  }\n\n  getCacheKey() {\n    const keys = [ \"objectGroup\" ]\n    Array.from(this.getObjects()).forEach((object) => {\n      keys.push(object.getCacheKey())\n    })\n    return keys.join(\"/\")\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class ObjectMap extends BasicObject {\n  constructor(objects = []) {\n    super(...arguments)\n    this.objects = {}\n\n    Array.from(objects).forEach((object) => {\n      const hash = JSON.stringify(object)\n      if (this.objects[hash] == null) {\n        this.objects[hash] = object\n      }\n    })\n  }\n\n  find(object) {\n    const hash = JSON.stringify(object)\n    return this.objects[hash]\n  }\n}\n", "export default class ElementStore {\n  constructor(elements) {\n    this.reset(elements)\n  }\n\n  add(element) {\n    const key = getKey(element)\n    this.elements[key] = element\n  }\n\n  remove(element) {\n    const key = getKey(element)\n    const value = this.elements[key]\n    if (value) {\n      delete this.elements[key]\n      return value\n    }\n  }\n\n  reset(elements = []) {\n    this.elements = {}\n    Array.from(elements).forEach((element) => {\n      this.add(element)\n    })\n    return elements\n  }\n}\n\nconst getKey = (element) => element.dataset.trixStoreKey\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class Operation extends BasicObject {\n  isPerforming() {\n    return this.performing === true\n  }\n\n  hasPerformed() {\n    return this.performed === true\n  }\n\n  hasSucceeded() {\n    return this.performed && this.succeeded\n  }\n\n  hasFailed() {\n    return this.performed && !this.succeeded\n  }\n\n  getPromise() {\n    if (!this.promise) {\n      this.promise = new Promise((resolve, reject) => {\n        this.performing = true\n        return this.perform((succeeded, result) => {\n          this.succeeded = succeeded\n          this.performing = false\n          this.performed = true\n\n          if (this.succeeded) {\n            resolve(result)\n          } else {\n            reject(result)\n          }\n        })\n      })\n    }\n\n    return this.promise\n  }\n\n  perform(callback) {\n    return callback(false)\n  }\n\n  release() {\n    this.promise?.cancel?.()\n    this.promise = null\n    this.performing = null\n    this.performed = null\n    this.succeeded = null\n  }\n}\n\nOperation.proxyMethod(\"getPromise().then\")\nOperation.proxyMethod(\"getPromise().catch\")\n", "import BasicObject from \"trix/core/basic_object\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\n\nexport default class ObjectView extends BasicObject {\n  constructor(object, options = {}) {\n    super(...arguments)\n    this.object = object\n    this.options = options\n    this.childViews = []\n    this.rootView = this\n  }\n\n  getNodes() {\n    if (!this.nodes) { this.nodes = this.createNodes() }\n    return this.nodes.map((node) => node.cloneNode(true))\n  }\n\n  invalidate() {\n    this.nodes = null\n    this.childViews = []\n    return this.parentView?.invalidate()\n  }\n\n  invalidateViewForObject(object) {\n    return this.findViewForObject(object)?.invalidate()\n  }\n\n  findOrCreateCachedChildView(viewClass, object, options) {\n    let view = this.getCachedViewForObject(object)\n    if (view) {\n      this.recordChildView(view)\n    } else {\n      view = this.createChildView(...arguments)\n      this.cacheViewForObject(view, object)\n    }\n    return view\n  }\n\n  createChildView(viewClass, object, options = {}) {\n    if (object instanceof ObjectGroup) {\n      options.viewClass = viewClass\n      viewClass = ObjectGroupView\n    }\n\n    const view = new viewClass(object, options)\n    return this.recordChildView(view)\n  }\n\n  recordChildView(view) {\n    view.parentView = this\n    view.rootView = this.rootView\n    this.childViews.push(view)\n    return view\n  }\n\n  getAllChildViews() {\n    let views = []\n\n    this.childViews.forEach((childView) => {\n      views.push(childView)\n      views = views.concat(childView.getAllChildViews())\n    })\n\n    return views\n  }\n\n  findElement() {\n    return this.findElementForObject(this.object)\n  }\n\n  findElementForObject(object) {\n    const id = object?.id\n    if (id) {\n      return this.rootView.element.querySelector(`[data-trix-id='${id}']`)\n    }\n  }\n\n  findViewForObject(object) {\n    for (const view of this.getAllChildViews()) {\n      if (view.object === object) {\n        return view\n      }\n    }\n  }\n\n  getViewCache() {\n    if (this.rootView === this) {\n      if (this.isViewCachingEnabled()) {\n        if (!this.viewCache) { this.viewCache = {} }\n        return this.viewCache\n      }\n    } else {\n      return this.rootView.getViewCache()\n    }\n  }\n\n  isViewCachingEnabled() {\n    return this.shouldCacheViews !== false\n  }\n\n  enableViewCaching() {\n    this.shouldCacheViews = true\n  }\n\n  disableViewCaching() {\n    this.shouldCacheViews = false\n  }\n\n  getCachedViewForObject(object) {\n    return this.getViewCache()?.[object.getCacheKey()]\n  }\n\n  cacheViewForObject(view, object) {\n    const cache = this.getViewCache()\n    if (cache) {\n      cache[object.getCacheKey()] = view\n    }\n  }\n\n  garbageCollectCachedViews() {\n    const cache = this.getViewCache()\n    if (cache) {\n      const views = this.getAllChildViews().concat(this)\n      const objectKeys = views.map((view) => view.object.getCacheKey())\n      for (const key in cache) {\n        if (!objectKeys.includes(key)) {\n          delete cache[key]\n        }\n      }\n    }\n  }\n}\n\nexport class ObjectGroupView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.objectGroup = this.object\n    this.viewClass = this.options.viewClass\n    delete this.options.viewClass\n  }\n\n  getChildViews() {\n    if (!this.childViews.length) {\n      Array.from(this.objectGroup.getObjects()).forEach((object) => {\n        this.findOrCreateCachedChildView(this.viewClass, object, this.options)\n      })\n    }\n    return this.childViews\n  }\n\n  createNodes() {\n    const element = this.createContainerElement()\n\n    this.getChildViews().forEach((view) => {\n      Array.from(view.getNodes()).forEach((node) => {\n        element.appendChild(node)\n      })\n    })\n\n    return [ element ]\n  }\n\n  createContainerElement(depth = this.objectGroup.getDepth()) {\n    return this.getChildViews()[0].createContainerElement(depth)\n  }\n}\n", "import * as config from \"trix/config\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { copyObject, makeElement } from \"trix/core/helpers\"\nimport ObjectView from \"trix/views/object_view\"\n\nconst { css } = config\n\nexport default class AttachmentView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.attachment = this.object\n    this.attachment.uploadProgressDelegate = this\n    this.attachmentPiece = this.options.piece\n  }\n\n  createContentNodes() {\n    return []\n  }\n\n  createNodes() {\n    let innerElement\n    const figure = innerElement = makeElement({\n      tagName: \"figure\",\n      className: this.getClassName(),\n      data: this.getData(),\n      editable: false,\n    })\n\n    const href = this.getHref()\n    if (href) {\n      innerElement = makeElement({ tagName: \"a\", editable: false, attributes: { href, tabindex: -1 } })\n      figure.appendChild(innerElement)\n    }\n\n    if (this.attachment.hasContent()) {\n      innerElement.innerHTML = this.attachment.getContent()\n    } else {\n      this.createContentNodes().forEach((node) => {\n        innerElement.appendChild(node)\n      })\n    }\n\n    innerElement.appendChild(this.createCaptionElement())\n\n    if (this.attachment.isPending()) {\n      this.progressElement = makeElement({\n        tagName: \"progress\",\n        attributes: {\n          class: css.attachmentProgress,\n          value: this.attachment.getUploadProgress(),\n          max: 100,\n        },\n        data: {\n          trixMutable: true,\n          trixStoreKey: [ \"progressElement\", this.attachment.id ].join(\"/\"),\n        },\n      })\n\n      figure.appendChild(this.progressElement)\n    }\n\n    return [ createCursorTarget(\"left\"), figure, createCursorTarget(\"right\") ]\n  }\n\n  createCaptionElement() {\n    const figcaption = makeElement({ tagName: \"figcaption\", className: css.attachmentCaption })\n    const caption = this.attachmentPiece.getCaption()\n    if (caption) {\n      figcaption.classList.add(`${css.attachmentCaption}--edited`)\n      figcaption.textContent = caption\n    } else {\n      let name, size\n      const captionConfig = this.getCaptionConfig()\n      if (captionConfig.name) {\n        name = this.attachment.getFilename()\n      }\n      if (captionConfig.size) {\n        size = this.attachment.getFormattedFilesize()\n      }\n\n      if (name) {\n        const nameElement = makeElement({ tagName: \"span\", className: css.attachmentName, textContent: name })\n        figcaption.appendChild(nameElement)\n      }\n\n      if (size) {\n        if (name) {\n          figcaption.appendChild(document.createTextNode(\" \"))\n        }\n        const sizeElement = makeElement({ tagName: \"span\", className: css.attachmentSize, textContent: size })\n        figcaption.appendChild(sizeElement)\n      }\n    }\n\n    return figcaption\n  }\n\n  getClassName() {\n    const names = [ css.attachment, `${css.attachment}--${this.attachment.getType()}` ]\n    const extension = this.attachment.getExtension()\n    if (extension) {\n      names.push(`${css.attachment}--${extension}`)\n    }\n    return names.join(\" \")\n  }\n\n  getData() {\n    const data = {\n      trixAttachment: JSON.stringify(this.attachment),\n      trixContentType: this.attachment.getContentType(),\n      trixId: this.attachment.id,\n    }\n\n    const { attributes } = this.attachmentPiece\n    if (!attributes.isEmpty()) {\n      data.trixAttributes = JSON.stringify(attributes)\n    }\n\n    if (this.attachment.isPending()) {\n      data.trixSerialize = false\n    }\n\n    return data\n  }\n\n  getHref() {\n    if (!htmlContainsTagName(this.attachment.getContent(), \"a\")) {\n      return this.attachment.getHref()\n    }\n  }\n\n  getCaptionConfig() {\n    const type = this.attachment.getType()\n    const captionConfig = copyObject(config.attachments[type]?.caption)\n    if (type === \"file\") {\n      captionConfig.name = true\n    }\n    return captionConfig\n  }\n\n  findProgressElement() {\n    return this.findElement()?.querySelector(\"progress\")\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeUploadProgress() {\n    const value = this.attachment.getUploadProgress()\n    const progressElement = this.findProgressElement()\n    if (progressElement) {\n      progressElement.value = value\n    }\n  }\n}\n\nconst createCursorTarget = (name) =>\n  makeElement({\n    tagName: \"span\",\n    textContent: ZERO_WIDTH_SPACE,\n    data: {\n      trixCursorTarget: name,\n      trixSerialize: false,\n    },\n  })\n\nconst htmlContainsTagName = function(html, tagName) {\n  const div = makeElement(\"div\")\n  div.innerHTML = html || \"\"\n  return div.querySelector(tagName)\n}\n", "import * as config from \"trix/config\"\nimport { makeElement } from \"trix/core/helpers\"\n\nimport AttachmentView from \"trix/views/attachment_view\"\n\nexport default class PreviewableAttachmentView extends AttachmentView {\n  constructor() {\n    super(...arguments)\n    this.attachment.previewDelegate = this\n  }\n\n  createContentNodes() {\n    this.image = makeElement({\n      tagName: \"img\",\n      attributes: {\n        src: \"\",\n      },\n      data: {\n        trixMutable: true,\n      },\n    })\n\n    this.refresh(this.image)\n    return [ this.image ]\n  }\n\n  createCaptionElement() {\n    const figcaption = super.createCaptionElement(...arguments)\n    if (!figcaption.textContent) {\n      figcaption.setAttribute(\"data-trix-placeholder\", config.lang.captionPlaceholder)\n    }\n    return figcaption\n  }\n\n  refresh(image) {\n    if (!image) { image = this.findElement()?.querySelector(\"img\") }\n    if (image) {\n      return this.updateAttributesForImage(image)\n    }\n  }\n\n  updateAttributesForImage(image) {\n    const url = this.attachment.getURL()\n    const previewURL = this.attachment.getPreviewURL()\n    image.src = previewURL || url\n\n    if (previewURL === url) {\n      image.removeAttribute(\"data-trix-serialized-attributes\")\n    } else {\n      const serializedAttributes = JSON.stringify({ src: url })\n      image.setAttribute(\"data-trix-serialized-attributes\", serializedAttributes)\n    }\n\n    const width = this.attachment.getWidth()\n    const height = this.attachment.getHeight()\n\n    if (width != null) {\n      image.width = width\n    }\n    if (height != null) {\n      image.height = height\n    }\n\n    const storeKey = [ \"imageElement\", this.attachment.id, image.src, image.width, image.height ].join(\"/\")\n    image.dataset.trixStoreKey = storeKey\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeAttributes() {\n    this.refresh(this.image)\n    return this.refresh()\n  }\n}\n", "/* eslint-disable\n    no-useless-escape,\n    no-var,\n*/\nimport { NON_BREAKING_SPACE } from \"trix/constants\"\n\nimport ObjectView from \"trix/views/object_view\"\nimport AttachmentView from \"trix/views/attachment_view\"\nimport PreviewableAttachmentView from \"trix/views/previewable_attachment_view\"\n\nimport { findInnerElement, getTextConfig, makeElement } from \"trix/core/helpers\"\n\nexport default class PieceView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.piece = this.object\n    this.attributes = this.piece.getAttributes()\n    this.textConfig = this.options.textConfig\n    this.context = this.options.context\n\n    if (this.piece.attachment) {\n      this.attachment = this.piece.attachment\n    } else {\n      this.string = this.piece.toString()\n    }\n  }\n\n  createNodes() {\n    let nodes = this.attachment ? this.createAttachmentNodes() : this.createStringNodes()\n    const element = this.createElement()\n    if (element) {\n      const innerElement = findInnerElement(element)\n      Array.from(nodes).forEach((node) => {\n        innerElement.appendChild(node)\n      })\n      nodes = [ element ]\n    }\n    return nodes\n  }\n\n  createAttachmentNodes() {\n    const constructor = this.attachment.isPreviewable() ? PreviewableAttachmentView : AttachmentView\n\n    const view = this.createChildView(constructor, this.piece.attachment, { piece: this.piece })\n    return view.getNodes()\n  }\n\n  createStringNodes() {\n    if (this.textConfig?.plaintext) {\n      return [ document.createTextNode(this.string) ]\n    } else {\n      const nodes = []\n      const iterable = this.string.split(\"\\n\")\n      for (let index = 0; index < iterable.length; index++) {\n        const substring = iterable[index]\n        if (index > 0) {\n          const element = makeElement(\"br\")\n          nodes.push(element)\n        }\n\n        if (substring.length) {\n          const node = document.createTextNode(this.preserveSpaces(substring))\n          nodes.push(node)\n        }\n      }\n      return nodes\n    }\n  }\n\n  createElement() {\n    let element, key, value\n    const styles = {}\n\n    for (key in this.attributes) {\n      value = this.attributes[key]\n      const config = getTextConfig(key)\n      if (config) {\n        if (config.tagName) {\n          var innerElement\n          const pendingElement = makeElement(config.tagName)\n\n          if (innerElement) {\n            innerElement.appendChild(pendingElement)\n            innerElement = pendingElement\n          } else {\n            element = innerElement = pendingElement\n          }\n        }\n\n        if (config.styleProperty) {\n          styles[config.styleProperty] = value\n        }\n\n        if (config.style) {\n          for (key in config.style) {\n            value = config.style[key]\n            styles[key] = value\n          }\n        }\n      }\n    }\n\n    if (Object.keys(styles).length) {\n      if (!element) { element = makeElement(\"span\") }\n      for (key in styles) {\n        value = styles[key]\n        element.style[key] = value\n      }\n    }\n    return element\n  }\n\n  createContainerElement() {\n    for (const key in this.attributes) {\n      const value = this.attributes[key]\n      const config = getTextConfig(key)\n      if (config) {\n        if (config.groupTagName) {\n          const attributes = {}\n          attributes[key] = value\n          return makeElement(config.groupTagName, attributes)\n        }\n      }\n    }\n  }\n\n  preserveSpaces(string) {\n    if (this.context.isLast) {\n      string = string.replace(/\\ $/, NON_BREAKING_SPACE)\n    }\n\n    string = string\n      .replace(/(\\S)\\ {3}(\\S)/g, `$1 ${NON_BREAKING_SPACE} $2`)\n      .replace(/\\ {2}/g, `${NON_BREAKING_SPACE} `)\n      .replace(/\\ {2}/g, ` ${NON_BREAKING_SPACE}`)\n\n    if (this.context.isFirst || this.context.followsWhitespace) {\n      string = string.replace(/^\\ /, NON_BREAKING_SPACE)\n    }\n\n    return string\n  }\n}\n", "/* eslint-disable\n    no-var,\n*/\nimport ObjectView from \"trix/views/object_view\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\nimport PieceView from \"trix/views/piece_view\"\n\nexport default class TextView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.text = this.object\n    this.textConfig = this.options.textConfig\n  }\n\n  createNodes() {\n    const nodes = []\n    const pieces = ObjectGroup.groupObjects(this.getPieces())\n    const lastIndex = pieces.length - 1\n\n    for (let index = 0; index < pieces.length; index++) {\n      const piece = pieces[index]\n      const context = {}\n      if (index === 0) {\n        context.isFirst = true\n      }\n      if (index === lastIndex) {\n        context.isLast = true\n      }\n      if (endsWithWhitespace(previousPiece)) {\n        context.followsWhitespace = true\n      }\n\n      const view = this.findOrCreateCachedChildView(PieceView, piece, { textConfig: this.textConfig, context })\n      nodes.push(...Array.from(view.getNodes() || []))\n\n      var previousPiece = piece\n    }\n    return nodes\n  }\n\n  getPieces() {\n    return Array.from(this.text.getPieces()).filter((piece) => !piece.hasAttribute(\"blockBreak\"))\n  }\n}\n\nconst endsWithWhitespace = (piece) => /\\s$/.test(piece?.toString())\n", "import * as config from \"trix/config\"\nimport ObjectView from \"trix/views/object_view\"\nimport TextView from \"trix/views/text_view\"\n\nimport { getBlockConfig, makeElement } from \"trix/core/helpers\"\nconst { css } = config\n\nexport default class BlockView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.block = this.object\n    this.attributes = this.block.getAttributes()\n  }\n\n  createNodes() {\n    const comment = document.createComment(\"block\")\n    const nodes = [ comment ]\n    if (this.block.isEmpty()) {\n      nodes.push(makeElement(\"br\"))\n    } else {\n      const textConfig = getBlockConfig(this.block.getLastAttribute())?.text\n      const textView = this.findOrCreateCachedChildView(TextView, this.block.text, { textConfig })\n      nodes.push(...Array.from(textView.getNodes() || []))\n      if (this.shouldAddExtraNewlineElement()) {\n        nodes.push(makeElement(\"br\"))\n      }\n    }\n\n    if (this.attributes.length) {\n      return nodes\n    } else {\n      let attributes\n      const { tagName } = config.blockAttributes.default\n      if (this.block.isRTL()) {\n        attributes = { dir: \"rtl\" }\n      }\n\n      const element = makeElement({ tagName, attributes })\n      nodes.forEach((node) => element.appendChild(node))\n      return [ element ]\n    }\n  }\n\n  createContainerElement(depth) {\n    const attributes = {}\n    let className\n    const attributeName = this.attributes[depth]\n\n    const { tagName, htmlAttributes = [] } = getBlockConfig(attributeName)\n\n    if (depth === 0 && this.block.isRTL()) {\n      Object.assign(attributes, { dir: \"rtl\" })\n    }\n\n    if (attributeName === \"attachmentGallery\") {\n      const size = this.block.getBlockBreakPosition()\n      className = `${css.attachmentGallery} ${css.attachmentGallery}--${size}`\n    }\n\n    Object.entries(this.block.htmlAttributes).forEach(([ name, value ]) => {\n      if (htmlAttributes.includes(name)) {\n        attributes[name] = value\n      }\n    })\n\n    return makeElement({ tagName, className, attributes })\n  }\n\n  // A single <br> at the end of a block element has no visual representation\n  // so add an extra one.\n  shouldAddExtraNewlineElement() {\n    return /\\n\\n$/.test(this.block.toString())\n  }\n}\n", "import { makeElement } from \"trix/core/helpers\"\n\nimport ElementStore from \"trix/core/collections/element_store\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\nimport ObjectView from \"trix/views/object_view\"\nimport BlockView from \"trix/views/block_view\"\n\nimport { defer } from \"trix/core/helpers\"\n\nexport default class DocumentView extends ObjectView {\n  static render(document) {\n    const element = makeElement(\"div\")\n    const view = new this(document, { element })\n    view.render()\n    view.sync()\n    return element\n  }\n\n  constructor() {\n    super(...arguments)\n    this.element = this.options.element\n    this.elementStore = new ElementStore()\n    this.setDocument(this.object)\n  }\n\n  setDocument(document) {\n    if (!document.isEqualTo(this.document)) {\n      this.document = this.object = document\n    }\n  }\n\n  render() {\n    this.childViews = []\n\n    this.shadowElement = makeElement(\"div\")\n\n    if (!this.document.isEmpty()) {\n      const objects = ObjectGroup.groupObjects(this.document.getBlocks(), { asTree: true })\n\n      Array.from(objects).forEach((object) => {\n        const view = this.findOrCreateCachedChildView(BlockView, object)\n        Array.from(view.getNodes()).map((node) => this.shadowElement.appendChild(node))\n      })\n    }\n  }\n\n  isSynced() {\n    return elementsHaveEqualHTML(this.shadowElement, this.element)\n  }\n\n  sync() {\n    const fragment = this.createDocumentFragmentForSync()\n    while (this.element.lastChild) {\n      this.element.removeChild(this.element.lastChild)\n    }\n    this.element.appendChild(fragment)\n    return this.didSync()\n  }\n\n  // Private\n\n  didSync() {\n    this.elementStore.reset(findStoredElements(this.element))\n    return defer(() => this.garbageCollectCachedViews())\n  }\n\n  createDocumentFragmentForSync() {\n    const fragment = document.createDocumentFragment()\n\n    Array.from(this.shadowElement.childNodes).forEach((node) => {\n      fragment.appendChild(node.cloneNode(true))\n    })\n\n    Array.from(findStoredElements(fragment)).forEach((element) => {\n      const storedElement = this.elementStore.remove(element)\n      if (storedElement) {\n        element.parentNode.replaceChild(storedElement, element)\n      }\n    })\n\n    return fragment\n  }\n}\n\nconst findStoredElements = (element) => element.querySelectorAll(\"[data-trix-store-key]\")\n\nconst elementsHaveEqualHTML = (element, otherElement) =>\n  ignoreSpaces(element.innerHTML) === ignoreSpaces(otherElement.innerHTML)\n\nconst ignoreSpaces = (html) => html.replace(/&nbsp;/g, \" \")\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Hash from \"trix/core/collections/hash\"\n\nexport default class Piece extends TrixObject {\n  static types = {}\n\n  static registerType(type, constructor) {\n    constructor.type = type\n    this.types[type] = constructor\n  }\n\n  static fromJSON(pieceJSON) {\n    const constructor = this.types[pieceJSON.type]\n    if (constructor) {\n      return constructor.fromJSON(pieceJSON)\n    }\n  }\n\n  constructor(value, attributes = {}) {\n    super(...arguments)\n    this.attributes = Hash.box(attributes)\n  }\n\n  copyWithAttributes(attributes) {\n    return new this.constructor(this.getValue(), attributes)\n  }\n\n  copyWithAdditionalAttributes(attributes) {\n    return this.copyWithAttributes(this.attributes.merge(attributes))\n  }\n\n  copyWithoutAttribute(attribute) {\n    return this.copyWithAttributes(this.attributes.remove(attribute))\n  }\n\n  copy() {\n    return this.copyWithAttributes(this.attributes)\n  }\n\n  getAttribute(attribute) {\n    return this.attributes.get(attribute)\n  }\n\n  getAttributesHash() {\n    return this.attributes\n  }\n\n  getAttributes() {\n    return this.attributes.toObject()\n  }\n\n  hasAttribute(attribute) {\n    return this.attributes.has(attribute)\n  }\n\n  hasSameStringValueAsPiece(piece) {\n    return piece && this.toString() === piece.toString()\n  }\n\n  hasSameAttributesAsPiece(piece) {\n    return piece && (this.attributes === piece.attributes || this.attributes.isEqualTo(piece.attributes))\n  }\n\n  isBlockBreak() {\n    return false\n  }\n\n  isEqualTo(piece) {\n    return (\n      super.isEqualTo(...arguments) ||\n      this.hasSameConstructorAs(piece) &&\n        this.hasSameStringValueAsPiece(piece) &&\n        this.hasSameAttributesAsPiece(piece)\n    )\n  }\n\n  isEmpty() {\n    return this.length === 0\n  }\n\n  isSerializable() {\n    return true\n  }\n\n  toJSON() {\n    return {\n      type: this.constructor.type,\n      attributes: this.getAttributes(),\n    }\n  }\n\n  contentsForInspection() {\n    return {\n      type: this.constructor.type,\n      attributes: this.attributes.inspect(),\n    }\n  }\n\n  // Grouping\n\n  canBeGrouped() {\n    return this.hasAttribute(\"href\")\n  }\n\n  canBeGroupedWith(piece) {\n    return this.getAttribute(\"href\") === piece.getAttribute(\"href\")\n  }\n\n  // Splittable\n\n  getLength() {\n    return this.length\n  }\n\n  canBeConsolidatedWith(piece) {\n    return false\n  }\n}\n", "import Operation from \"trix/core/utilities/operation\"\n\nexport default class ImagePreloadOperation extends Operation {\n  constructor(url) {\n    super(...arguments)\n    this.url = url\n  }\n\n  perform(callback) {\n    const image = new Image()\n\n    image.onload = () => {\n      image.width = this.width = image.naturalWidth\n      image.height = this.height = image.naturalHeight\n      return callback(true, image)\n    }\n\n    image.onerror = () => callback(false)\n\n    image.src = this.url\n  }\n}\n", "import * as config from \"trix/config\"\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Hash from \"trix/core/collections/hash\"\nimport ImagePreloadOperation from \"trix/operations/image_preload_operation\"\n\nexport default class Attachment extends TrixObject {\n  static previewablePattern = /^image(\\/(gif|png|webp|jpe?g)|$)/\n\n  static attachmentForFile(file) {\n    const attributes = this.attributesForFile(file)\n    const attachment = new this(attributes)\n    attachment.setFile(file)\n    return attachment\n  }\n\n  static attributesForFile(file) {\n    return new Hash({\n      filename: file.name,\n      filesize: file.size,\n      contentType: file.type,\n    })\n  }\n\n  static fromJSON(attachmentJSON) {\n    return new this(attachmentJSON)\n  }\n\n  constructor(attributes = {}) {\n    super(attributes)\n    this.releaseFile = this.releaseFile.bind(this)\n    this.attributes = Hash.box(attributes)\n    this.didChangeAttributes()\n  }\n\n  getAttribute(attribute) {\n    return this.attributes.get(attribute)\n  }\n\n  hasAttribute(attribute) {\n    return this.attributes.has(attribute)\n  }\n\n  getAttributes() {\n    return this.attributes.toObject()\n  }\n\n  setAttributes(attributes = {}) {\n    const newAttributes = this.attributes.merge(attributes)\n    if (!this.attributes.isEqualTo(newAttributes)) {\n      this.attributes = newAttributes\n      this.didChangeAttributes()\n      this.previewDelegate?.attachmentDidChangeAttributes?.(this)\n      return this.delegate?.attachmentDidChangeAttributes?.(this)\n    }\n  }\n\n  didChangeAttributes() {\n    if (this.isPreviewable()) {\n      return this.preloadURL()\n    }\n  }\n\n  isPending() {\n    return this.file != null && !(this.getURL() || this.getHref())\n  }\n\n  isPreviewable() {\n    if (this.attributes.has(\"previewable\")) {\n      return this.attributes.get(\"previewable\")\n    } else {\n      return Attachment.previewablePattern.test(this.getContentType())\n    }\n  }\n\n  getType() {\n    if (this.hasContent()) {\n      return \"content\"\n    } else if (this.isPreviewable()) {\n      return \"preview\"\n    } else {\n      return \"file\"\n    }\n  }\n\n  getURL() {\n    return this.attributes.get(\"url\")\n  }\n\n  getHref() {\n    return this.attributes.get(\"href\")\n  }\n\n  getFilename() {\n    return this.attributes.get(\"filename\") || \"\"\n  }\n\n  getFilesize() {\n    return this.attributes.get(\"filesize\")\n  }\n\n  getFormattedFilesize() {\n    const filesize = this.attributes.get(\"filesize\")\n    if (typeof filesize === \"number\") {\n      return config.fileSize.formatter(filesize)\n    } else {\n      return \"\"\n    }\n  }\n\n  getExtension() {\n    return this.getFilename()\n      .match(/\\.(\\w+)$/)?.[1]\n      .toLowerCase()\n  }\n\n  getContentType() {\n    return this.attributes.get(\"contentType\")\n  }\n\n  hasContent() {\n    return this.attributes.has(\"content\")\n  }\n\n  getContent() {\n    return this.attributes.get(\"content\")\n  }\n\n  getWidth() {\n    return this.attributes.get(\"width\")\n  }\n\n  getHeight() {\n    return this.attributes.get(\"height\")\n  }\n\n  getFile() {\n    return this.file\n  }\n\n  setFile(file) {\n    this.file = file\n    if (this.isPreviewable()) {\n      return this.preloadFile()\n    }\n  }\n\n  releaseFile() {\n    this.releasePreloadedFile()\n    this.file = null\n  }\n\n  getUploadProgress() {\n    return this.uploadProgress != null ? this.uploadProgress : 0\n  }\n\n  setUploadProgress(value) {\n    if (this.uploadProgress !== value) {\n      this.uploadProgress = value\n      return this.uploadProgressDelegate?.attachmentDidChangeUploadProgress?.(this)\n    }\n  }\n\n  toJSON() {\n    return this.getAttributes()\n  }\n\n  getCacheKey() {\n    return [ super.getCacheKey(...arguments), this.attributes.getCacheKey(), this.getPreviewURL() ].join(\"/\")\n  }\n\n  // Previewable\n\n  getPreviewURL() {\n    return this.previewURL || this.preloadingURL\n  }\n\n  setPreviewURL(url) {\n    if (url !== this.getPreviewURL()) {\n      this.previewURL = url\n      this.previewDelegate?.attachmentDidChangeAttributes?.(this)\n      return this.delegate?.attachmentDidChangePreviewURL?.(this)\n    }\n  }\n\n  preloadURL() {\n    return this.preload(this.getURL(), this.releaseFile)\n  }\n\n  preloadFile() {\n    if (this.file) {\n      this.fileObjectURL = URL.createObjectURL(this.file)\n      return this.preload(this.fileObjectURL)\n    }\n  }\n\n  releasePreloadedFile() {\n    if (this.fileObjectURL) {\n      URL.revokeObjectURL(this.fileObjectURL)\n      this.fileObjectURL = null\n    }\n  }\n\n  preload(url, callback) {\n    if (url && url !== this.getPreviewURL()) {\n      this.preloadingURL = url\n      const operation = new ImagePreloadOperation(url)\n      return operation\n        .then(({ width, height }) => {\n          if (!this.getWidth() || !this.getHeight()) {\n            this.setAttributes({ width, height })\n          }\n          this.preloadingURL = null\n          this.setPreviewURL(url)\n          return callback?.()\n        })\n        .catch(() => {\n          this.preloadingURL = null\n          return callback?.()\n        })\n    }\n  }\n}\n", "import { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport Attachment from \"trix/models/attachment\"\nimport Piece from \"trix/models/piece\"\n\nexport default class AttachmentPiece extends Piece {\n  static permittedAttributes = [ \"caption\", \"presentation\" ]\n\n  static fromJSON(pieceJSON) {\n    return new this(Attachment.fromJSON(pieceJSON.attachment), pieceJSON.attributes)\n  }\n\n  constructor(attachment) {\n    super(...arguments)\n    this.attachment = attachment\n    this.length = 1\n    this.ensureAttachmentExclusivelyHasAttribute(\"href\")\n    if (!this.attachment.hasContent()) {\n      this.removeProhibitedAttributes()\n    }\n  }\n\n  ensureAttachmentExclusivelyHasAttribute(attribute) {\n    if (this.hasAttribute(attribute)) {\n      if (!this.attachment.hasAttribute(attribute)) {\n        this.attachment.setAttributes(this.attributes.slice([ attribute ]))\n      }\n      this.attributes = this.attributes.remove(attribute)\n    }\n  }\n\n  removeProhibitedAttributes() {\n    const attributes = this.attributes.slice(AttachmentPiece.permittedAttributes)\n    if (!attributes.isEqualTo(this.attributes)) {\n      this.attributes = attributes\n    }\n  }\n\n  getValue() {\n    return this.attachment\n  }\n\n  isSerializable() {\n    return !this.attachment.isPending()\n  }\n\n  getCaption() {\n    return this.attributes.get(\"caption\") || \"\"\n  }\n\n  isEqualTo(piece) {\n    return super.isEqualTo(piece) && this.attachment.id === piece?.attachment?.id\n  }\n\n  toString() {\n    return OBJECT_REPLACEMENT_CHARACTER\n  }\n\n  toJSON() {\n    const json = super.toJSON(...arguments)\n    json.attachment = this.attachment\n    return json\n  }\n\n  getCacheKey() {\n    return [ super.getCacheKey(...arguments), this.attachment.getCacheKey() ].join(\"/\")\n  }\n\n  toConsole() {\n    return JSON.stringify(this.toString())\n  }\n}\n\nPiece.registerType(\"attachment\", AttachmentPiece)\n", "import Piece from \"trix/models/piece\"\n\nimport { normalizeNewlines } from \"trix/core/helpers\"\n\nexport default class StringPiece extends Piece {\n  static fromJSON(pieceJSON) {\n    return new this(pieceJSON.string, pieceJSON.attributes)\n  }\n\n  constructor(string) {\n    super(...arguments)\n    this.string = normalizeNewlines(string)\n    this.length = this.string.length\n  }\n\n  getValue() {\n    return this.string\n  }\n\n  toString() {\n    return this.string.toString()\n  }\n\n  isBlockBreak() {\n    return this.toString() === \"\\n\" && this.getAttribute(\"blockBreak\") === true\n  }\n\n  toJSON() {\n    const result = super.toJSON(...arguments)\n    result.string = this.string\n    return result\n  }\n\n  // Splittable\n\n  canBeConsolidatedWith(piece) {\n    return piece && this.hasSameConstructorAs(piece) && this.hasSameAttributesAsPiece(piece)\n  }\n\n  consolidateWith(piece) {\n    return new this.constructor(this.toString() + piece.toString(), this.attributes)\n  }\n\n  splitAtOffset(offset) {\n    let left, right\n    if (offset === 0) {\n      left = null\n      right = this\n    } else if (offset === this.length) {\n      left = this\n      right = null\n    } else {\n      left = new this.constructor(this.string.slice(0, offset), this.attributes)\n      right = new this.constructor(this.string.slice(offset), this.attributes)\n    }\n    return [ left, right ]\n  }\n\n  toConsole() {\n    let { string } = this\n    if (string.length > 15) {\n      string = string.slice(0, 14) + \"…\"\n    }\n    return JSON.stringify(string.toString())\n  }\n}\n\nPiece.registerType(\"string\", StringPiece)\n", "/* eslint-disable\n    prefer-const,\n*/\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport { spliceArray } from \"trix/core/helpers\"\n\nexport default class SplittableList extends TrixObject {\n  static box(objects) {\n    if (objects instanceof this) {\n      return objects\n    } else {\n      return new this(objects)\n    }\n  }\n\n  constructor(objects = []) {\n    super(...arguments)\n    this.objects = objects.slice(0)\n    this.length = this.objects.length\n  }\n\n  indexOf(object) {\n    return this.objects.indexOf(object)\n  }\n\n  splice(...args) {\n    return new this.constructor(spliceArray(this.objects, ...args))\n  }\n\n  eachObject(callback) {\n    return this.objects.map((object, index) => callback(object, index))\n  }\n\n  insertObjectAtIndex(object, index) {\n    return this.splice(index, 0, object)\n  }\n\n  insertSplittableListAtIndex(splittableList, index) {\n    return this.splice(index, 0, ...splittableList.objects)\n  }\n\n  insertSplittableListAtPosition(splittableList, position) {\n    const [ objects, index ] = this.splitObjectAtPosition(position)\n    return new this.constructor(objects).insertSplittableListAtIndex(splittableList, index)\n  }\n\n  editObjectAtIndex(index, callback) {\n    return this.replaceObjectAtIndex(callback(this.objects[index]), index)\n  }\n\n  replaceObjectAtIndex(object, index) {\n    return this.splice(index, 1, object)\n  }\n\n  removeObjectAtIndex(index) {\n    return this.splice(index, 1)\n  }\n\n  getObjectAtIndex(index) {\n    return this.objects[index]\n  }\n\n  getSplittableListInRange(range) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    return new this.constructor(objects.slice(leftIndex, rightIndex + 1))\n  }\n\n  selectSplittableList(test) {\n    const objects = this.objects.filter((object) => test(object))\n    return new this.constructor(objects)\n  }\n\n  removeObjectsInRange(range) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    return new this.constructor(objects).splice(leftIndex, rightIndex - leftIndex + 1)\n  }\n\n  transformObjectsInRange(range, transform) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    const transformedObjects = objects.map((object, index) =>\n      leftIndex <= index && index <= rightIndex ? transform(object) : object\n    )\n    return new this.constructor(transformedObjects)\n  }\n\n  splitObjectsAtRange(range) {\n    let rightOuterIndex\n    let [ objects, leftInnerIndex, offset ] = this.splitObjectAtPosition(startOfRange(range))\n    ;[ objects, rightOuterIndex ] = new this.constructor(objects).splitObjectAtPosition(endOfRange(range) + offset)\n\n    return [ objects, leftInnerIndex, rightOuterIndex - 1 ]\n  }\n\n  getObjectAtPosition(position) {\n    const { index } = this.findIndexAndOffsetAtPosition(position)\n    return this.objects[index]\n  }\n\n  splitObjectAtPosition(position) {\n    let splitIndex, splitOffset\n    const { index, offset } = this.findIndexAndOffsetAtPosition(position)\n    const objects = this.objects.slice(0)\n    if (index != null) {\n      if (offset === 0) {\n        splitIndex = index\n        splitOffset = 0\n      } else {\n        const object = this.getObjectAtIndex(index)\n        const [ leftObject, rightObject ] = object.splitAtOffset(offset)\n        objects.splice(index, 1, leftObject, rightObject)\n        splitIndex = index + 1\n        splitOffset = leftObject.getLength() - offset\n      }\n    } else {\n      splitIndex = objects.length\n      splitOffset = 0\n    }\n\n    return [ objects, splitIndex, splitOffset ]\n  }\n\n  consolidate() {\n    const objects = []\n    let pendingObject = this.objects[0]\n\n    this.objects.slice(1).forEach((object) => {\n      if (pendingObject.canBeConsolidatedWith?.(object)) {\n        pendingObject = pendingObject.consolidateWith(object)\n      } else {\n        objects.push(pendingObject)\n        pendingObject = object\n      }\n    })\n\n    if (pendingObject) {\n      objects.push(pendingObject)\n    }\n\n    return new this.constructor(objects)\n  }\n\n  consolidateFromIndexToIndex(startIndex, endIndex) {\n    const objects = this.objects.slice(0)\n    const objectsInRange = objects.slice(startIndex, endIndex + 1)\n    const consolidatedInRange = new this.constructor(objectsInRange).consolidate().toArray()\n    return this.splice(startIndex, objectsInRange.length, ...consolidatedInRange)\n  }\n\n  findIndexAndOffsetAtPosition(position) {\n    let index\n    let currentPosition = 0\n    for (index = 0; index < this.objects.length; index++) {\n      const object = this.objects[index]\n      const nextPosition = currentPosition + object.getLength()\n      if (currentPosition <= position && position < nextPosition) {\n        return { index, offset: position - currentPosition }\n      }\n      currentPosition = nextPosition\n    }\n    return { index: null, offset: null }\n  }\n\n  findPositionAtIndexAndOffset(index, offset) {\n    let position = 0\n    for (let currentIndex = 0; currentIndex < this.objects.length; currentIndex++) {\n      const object = this.objects[currentIndex]\n      if (currentIndex < index) {\n        position += object.getLength()\n      } else if (currentIndex === index) {\n        position += offset\n        break\n      }\n    }\n    return position\n  }\n\n  getEndPosition() {\n    if (this.endPosition == null) {\n      this.endPosition = 0\n      this.objects.forEach((object) => this.endPosition += object.getLength())\n    }\n\n    return this.endPosition\n  }\n\n  toString() {\n    return this.objects.join(\"\")\n  }\n\n  toArray() {\n    return this.objects.slice(0)\n  }\n\n  toJSON() {\n    return this.toArray()\n  }\n\n  isEqualTo(splittableList) {\n    return super.isEqualTo(...arguments) || objectArraysAreEqual(this.objects, splittableList?.objects)\n  }\n\n  contentsForInspection() {\n    return {\n      objects: `[${this.objects.map((object) => object.inspect()).join(\", \")}]`,\n    }\n  }\n}\n\nconst objectArraysAreEqual = function(left, right = []) {\n  if (left.length !== right.length) {\n    return false\n  }\n  let result = true\n  for (let index = 0; index < left.length; index++) {\n    const object = left[index]\n    if (result && !object.isEqualTo(right[index])) {\n      result = false\n    }\n  }\n  return result\n}\n\nconst startOfRange = (range) => range[0]\n\nconst endOfRange = (range) => range[1]\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport { getDirection } from \"trix/core/helpers\"\n\nimport Piece from \"trix/models/piece\"\nimport AttachmentPiece from \"trix/models/attachment_piece\"\nimport StringPiece from \"trix/models/string_piece\"\nimport SplittableList from \"trix/models/splittable_list\"\n\nimport Hash from \"trix/core/collections/hash\"\n\nexport default class Text extends TrixObject {\n  static textForAttachmentWithAttributes(attachment, attributes) {\n    const piece = new AttachmentPiece(attachment, attributes)\n    return new this([ piece ])\n  }\n\n  static textForStringWithAttributes(string, attributes) {\n    const piece = new StringPiece(string, attributes)\n    return new this([ piece ])\n  }\n\n  static fromJSON(textJSON) {\n    const pieces = Array.from(textJSON).map((pieceJSON) => Piece.fromJSON(pieceJSON))\n    return new this(pieces)\n  }\n\n  constructor(pieces = []) {\n    super(...arguments)\n    const notEmpty = pieces.filter((piece) => !piece.isEmpty())\n    this.pieceList = new SplittableList(notEmpty)\n  }\n\n  copy() {\n    return this.copyWithPieceList(this.pieceList)\n  }\n\n  copyWithPieceList(pieceList) {\n    return new this.constructor(pieceList.consolidate().toArray())\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const pieces = this.getPieces().map((piece) => objectMap.find(piece) || piece)\n    return new this.constructor(pieces)\n  }\n\n  appendText(text) {\n    return this.insertTextAtPosition(text, this.getLength())\n  }\n\n  insertTextAtPosition(text, position) {\n    return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(text.pieceList, position))\n  }\n\n  removeTextAtRange(range) {\n    return this.copyWithPieceList(this.pieceList.removeObjectsInRange(range))\n  }\n\n  replaceTextAtRange(text, range) {\n    return this.removeTextAtRange(range).insertTextAtPosition(text, range[0])\n  }\n\n  moveTextFromRangeToPosition(range, position) {\n    if (range[0] <= position && position <= range[1]) return\n    const text = this.getTextAtRange(range)\n    const length = text.getLength()\n    if (range[0] < position) {\n      position -= length\n    }\n    return this.removeTextAtRange(range).insertTextAtPosition(text, position)\n  }\n\n  addAttributeAtRange(attribute, value, range) {\n    const attributes = {}\n    attributes[attribute] = value\n    return this.addAttributesAtRange(attributes, range)\n  }\n\n  addAttributesAtRange(attributes, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithAdditionalAttributes(attributes))\n    )\n  }\n\n  removeAttributeAtRange(attribute, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithoutAttribute(attribute))\n    )\n  }\n\n  setAttributesAtRange(attributes, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithAttributes(attributes))\n    )\n  }\n\n  getAttributesAtPosition(position) {\n    return this.pieceList.getObjectAtPosition(position)?.getAttributes() || {}\n  }\n\n  getCommonAttributes() {\n    const objects = Array.from(this.pieceList.toArray()).map((piece) => piece.getAttributes())\n    return Hash.fromCommonAttributesOfObjects(objects).toObject()\n  }\n\n  getCommonAttributesAtRange(range) {\n    return this.getTextAtRange(range).getCommonAttributes() || {}\n  }\n\n  getExpandedRangeForAttributeAtOffset(attributeName, offset) {\n    let right\n    let left = right = offset\n    const length = this.getLength()\n\n    while (left > 0 && this.getCommonAttributesAtRange([ left - 1, right ])[attributeName]) {\n      left--\n    }\n    while (right < length && this.getCommonAttributesAtRange([ offset, right + 1 ])[attributeName]) {\n      right++\n    }\n\n    return [ left, right ]\n  }\n\n  getTextAtRange(range) {\n    return this.copyWithPieceList(this.pieceList.getSplittableListInRange(range))\n  }\n\n  getStringAtRange(range) {\n    return this.pieceList.getSplittableListInRange(range).toString()\n  }\n\n  getStringAtPosition(position) {\n    return this.getStringAtRange([ position, position + 1 ])\n  }\n\n  startsWithString(string) {\n    return this.getStringAtRange([ 0, string.length ]) === string\n  }\n\n  endsWithString(string) {\n    const length = this.getLength()\n    return this.getStringAtRange([ length - string.length, length ]) === string\n  }\n\n  getAttachmentPieces() {\n    return this.pieceList.toArray().filter((piece) => !!piece.attachment)\n  }\n\n  getAttachments() {\n    return this.getAttachmentPieces().map((piece) => piece.attachment)\n  }\n\n  getAttachmentAndPositionById(attachmentId) {\n    let position = 0\n    for (const piece of this.pieceList.toArray()) {\n      if (piece.attachment?.id === attachmentId) {\n        return { attachment: piece.attachment, position }\n      }\n      position += piece.length\n    }\n    return { attachment: null, position: null }\n  }\n\n  getAttachmentById(attachmentId) {\n    const { attachment } = this.getAttachmentAndPositionById(attachmentId)\n    return attachment\n  }\n\n  getRangeOfAttachment(attachment) {\n    const attachmentAndPosition = this.getAttachmentAndPositionById(attachment.id)\n    const position = attachmentAndPosition.position\n    attachment = attachmentAndPosition.attachment\n    if (attachment) {\n      return [ position, position + 1 ]\n    }\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    if (range) {\n      return this.addAttributesAtRange(attributes, range)\n    } else {\n      return this\n    }\n  }\n\n  getLength() {\n    return this.pieceList.getEndPosition()\n  }\n\n  isEmpty() {\n    return this.getLength() === 0\n  }\n\n  isEqualTo(text) {\n    return super.isEqualTo(text) || text?.pieceList?.isEqualTo(this.pieceList)\n  }\n\n  isBlockBreak() {\n    return this.getLength() === 1 && this.pieceList.getObjectAtIndex(0).isBlockBreak()\n  }\n\n  eachPiece(callback) {\n    return this.pieceList.eachObject(callback)\n  }\n\n  getPieces() {\n    return this.pieceList.toArray()\n  }\n\n  getPieceAtPosition(position) {\n    return this.pieceList.getObjectAtPosition(position)\n  }\n\n  contentsForInspection() {\n    return { pieceList: this.pieceList.inspect() }\n  }\n\n  toSerializableText() {\n    const pieceList = this.pieceList.selectSplittableList((piece) => piece.isSerializable())\n    return this.copyWithPieceList(pieceList)\n  }\n\n  toString() {\n    return this.pieceList.toString()\n  }\n\n  toJSON() {\n    return this.pieceList.toJSON()\n  }\n\n  toConsole() {\n    return JSON.stringify(this.pieceList.toArray().map((piece) => JSON.parse(piece.toConsole())))\n  }\n\n  // BIDI\n\n  getDirection() {\n    return getDirection(this.toString())\n  }\n\n  isRTL() {\n    return this.getDirection() === \"rtl\"\n  }\n}\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Text from \"trix/models/text\"\n\nimport {\n  arraysAreEqual,\n  getBlockConfig,\n  getListAttributeNames,\n  objectsAreEqual,\n  spliceArray,\n} from \"trix/core/helpers\"\n\nexport default class Block extends TrixObject {\n  static fromJSON(blockJSON) {\n    const text = Text.fromJSON(blockJSON.text)\n    return new this(text, blockJSON.attributes, blockJSON.htmlAttributes)\n  }\n\n  constructor(text, attributes, htmlAttributes) {\n    super(...arguments)\n    this.text = applyBlockBreakToText(text || new Text())\n    this.attributes = attributes || []\n    this.htmlAttributes = htmlAttributes || {}\n  }\n\n  isEmpty() {\n    return this.text.isBlockBreak()\n  }\n\n  isEqualTo(block) {\n    if (super.isEqualTo(block)) return true\n\n    return this.text.isEqualTo(block?.text) && arraysAreEqual(this.attributes, block?.attributes) && objectsAreEqual(this.htmlAttributes, block?.htmlAttributes)\n  }\n\n  copyWithText(text) {\n    return new Block(text, this.attributes, this.htmlAttributes)\n  }\n\n  copyWithoutText() {\n    return this.copyWithText(null)\n  }\n\n  copyWithAttributes(attributes) {\n    return new Block(this.text, attributes, this.htmlAttributes)\n  }\n\n  copyWithoutAttributes() {\n    return this.copyWithAttributes(null)\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const mappedText = objectMap.find(this.text)\n    if (mappedText) {\n      return this.copyWithText(mappedText)\n    } else {\n      return this.copyWithText(this.text.copyUsingObjectMap(objectMap))\n    }\n  }\n\n  addAttribute(attribute) {\n    const attributes = this.attributes.concat(expandAttribute(attribute))\n    return this.copyWithAttributes(attributes)\n  }\n\n  addHTMLAttribute(attribute, value) {\n    const htmlAttributes = Object.assign({}, this.htmlAttributes, { [attribute]: value })\n    return new Block(this.text, this.attributes, htmlAttributes)\n  }\n\n  removeAttribute(attribute) {\n    const { listAttribute } = getBlockConfig(attribute)\n    const attributes = removeLastValue(removeLastValue(this.attributes, attribute), listAttribute)\n    return this.copyWithAttributes(attributes)\n  }\n\n  removeLastAttribute() {\n    return this.removeAttribute(this.getLastAttribute())\n  }\n\n  getLastAttribute() {\n    return getLastElement(this.attributes)\n  }\n\n  getAttributes() {\n    return this.attributes.slice(0)\n  }\n\n  getAttributeLevel() {\n    return this.attributes.length\n  }\n\n  getAttributeAtLevel(level) {\n    return this.attributes[level - 1]\n  }\n\n  hasAttribute(attributeName) {\n    return this.attributes.includes(attributeName)\n  }\n\n  hasAttributes() {\n    return this.getAttributeLevel() > 0\n  }\n\n  getLastNestableAttribute() {\n    return getLastElement(this.getNestableAttributes())\n  }\n\n  getNestableAttributes() {\n    return this.attributes.filter((attribute) => getBlockConfig(attribute).nestable)\n  }\n\n  getNestingLevel() {\n    return this.getNestableAttributes().length\n  }\n\n  decreaseNestingLevel() {\n    const attribute = this.getLastNestableAttribute()\n    if (attribute) {\n      return this.removeAttribute(attribute)\n    } else {\n      return this\n    }\n  }\n\n  increaseNestingLevel() {\n    const attribute = this.getLastNestableAttribute()\n    if (attribute) {\n      const index = this.attributes.lastIndexOf(attribute)\n      const attributes = spliceArray(this.attributes, index + 1, 0, ...expandAttribute(attribute))\n      return this.copyWithAttributes(attributes)\n    } else {\n      return this\n    }\n  }\n\n  getListItemAttributes() {\n    return this.attributes.filter((attribute) => getBlockConfig(attribute).listAttribute)\n  }\n\n  isListItem() {\n    return getBlockConfig(this.getLastAttribute())?.listAttribute\n  }\n\n  isTerminalBlock() {\n    return getBlockConfig(this.getLastAttribute())?.terminal\n  }\n\n  breaksOnReturn() {\n    return getBlockConfig(this.getLastAttribute())?.breakOnReturn\n  }\n\n  findLineBreakInDirectionFromPosition(direction, position) {\n    const string = this.toString()\n    let result\n    switch (direction) {\n      case \"forward\":\n        result = string.indexOf(\"\\n\", position)\n        break\n      case \"backward\":\n        result = string.slice(0, position).lastIndexOf(\"\\n\")\n    }\n\n    if (result !== -1) {\n      return result\n    }\n  }\n\n  contentsForInspection() {\n    return {\n      text: this.text.inspect(),\n      attributes: this.attributes,\n    }\n  }\n\n  toString() {\n    return this.text.toString()\n  }\n\n  toJSON() {\n    return {\n      text: this.text,\n      attributes: this.attributes,\n      htmlAttributes: this.htmlAttributes,\n    }\n  }\n\n  // BIDI\n\n  getDirection() {\n    return this.text.getDirection()\n  }\n\n  isRTL() {\n    return this.text.isRTL()\n  }\n\n  // Splittable\n\n  getLength() {\n    return this.text.getLength()\n  }\n\n  canBeConsolidatedWith(block) {\n    return !this.hasAttributes() && !block.hasAttributes() && this.getDirection() === block.getDirection()\n  }\n\n  consolidateWith(block) {\n    const newlineText = Text.textForStringWithAttributes(\"\\n\")\n    const text = this.getTextWithoutBlockBreak().appendText(newlineText)\n    return this.copyWithText(text.appendText(block.text))\n  }\n\n  splitAtOffset(offset) {\n    let left, right\n    if (offset === 0) {\n      left = null\n      right = this\n    } else if (offset === this.getLength()) {\n      left = this\n      right = null\n    } else {\n      left = this.copyWithText(this.text.getTextAtRange([ 0, offset ]))\n      right = this.copyWithText(this.text.getTextAtRange([ offset, this.getLength() ]))\n    }\n    return [ left, right ]\n  }\n\n  getBlockBreakPosition() {\n    return this.text.getLength() - 1\n  }\n\n  getTextWithoutBlockBreak() {\n    if (textEndsInBlockBreak(this.text)) {\n      return this.text.getTextAtRange([ 0, this.getBlockBreakPosition() ])\n    } else {\n      return this.text.copy()\n    }\n  }\n\n  // Grouping\n\n  canBeGrouped(depth) {\n    return this.attributes[depth]\n  }\n\n  canBeGroupedWith(otherBlock, depth) {\n    const otherAttributes = otherBlock.getAttributes()\n    const otherAttribute = otherAttributes[depth]\n    const attribute = this.attributes[depth]\n\n    return (\n      attribute === otherAttribute &&\n      !(getBlockConfig(attribute).group === false && !getListAttributeNames().includes(otherAttributes[depth + 1])) &&\n      (this.getDirection() === otherBlock.getDirection() || otherBlock.isEmpty())\n    )\n  }\n}\n\n// Block breaks\n\nconst applyBlockBreakToText = function(text) {\n  text = unmarkExistingInnerBlockBreaksInText(text)\n  text = addBlockBreakToText(text)\n  return text\n}\n\nconst unmarkExistingInnerBlockBreaksInText = function(text) {\n  let modified = false\n  const pieces = text.getPieces()\n\n  let innerPieces = pieces.slice(0, pieces.length - 1)\n  const lastPiece = pieces[pieces.length - 1]\n\n  if (!lastPiece) return text\n\n  innerPieces = innerPieces.map((piece) => {\n    if (piece.isBlockBreak()) {\n      modified = true\n      return unmarkBlockBreakPiece(piece)\n    } else {\n      return piece\n    }\n  })\n\n  if (modified) {\n    return new Text([ ...innerPieces, lastPiece ])\n  } else {\n    return text\n  }\n}\n\nconst blockBreakText = Text.textForStringWithAttributes(\"\\n\", { blockBreak: true })\n\nconst addBlockBreakToText = function(text) {\n  if (textEndsInBlockBreak(text)) {\n    return text\n  } else {\n    return text.appendText(blockBreakText)\n  }\n}\n\nconst textEndsInBlockBreak = function(text) {\n  const length = text.getLength()\n  if (length === 0) {\n    return false\n  }\n  const endText = text.getTextAtRange([ length - 1, length ])\n  return endText.isBlockBreak()\n}\n\nconst unmarkBlockBreakPiece = (piece) => piece.copyWithoutAttribute(\"blockBreak\")\n\n// Attributes\n\nconst expandAttribute = function(attribute) {\n  const { listAttribute } = getBlockConfig(attribute)\n  if (listAttribute) {\n    return [ listAttribute, attribute ]\n  } else {\n    return [ attribute ]\n  }\n}\n\n// Array helpers\n\nconst getLastElement = (array) => array.slice(-1)[0]\n\nconst removeLastValue = function(array, value) {\n  const index = array.lastIndexOf(value)\n  if (index === -1) {\n    return array\n  } else {\n    return spliceArray(array, index, 1)\n  }\n}\n", "import * as config from \"trix/config\"\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport SplittableList from \"trix/models/splittable_list\"\nimport Hash from \"trix/core/collections/hash\"\nimport ObjectMap from \"trix/core/collections/object_map\"\n\nimport { arraysAreEqual, getBlockConfig, normalizeRange, rangeIsCollapsed } from \"trix/core/helpers\"\n\nexport default class Document extends TrixObject {\n  static fromJSON(documentJSON) {\n    const blocks = Array.from(documentJSON).map((blockJSON) => Block.fromJSON(blockJSON))\n    return new this(blocks)\n  }\n\n  static fromString(string, textAttributes) {\n    const text = Text.textForStringWithAttributes(string, textAttributes)\n    return new this([ new Block(text) ])\n  }\n\n  constructor(blocks = []) {\n    super(...arguments)\n    if (blocks.length === 0) {\n      blocks = [ new Block() ]\n    }\n    this.blockList = SplittableList.box(blocks)\n  }\n\n  isEmpty() {\n    const block = this.getBlockAtIndex(0)\n    return this.blockList.length === 1 && block.isEmpty() && !block.hasAttributes()\n  }\n\n  copy(options = {}) {\n    const blocks = options.consolidateBlocks ? this.blockList.consolidate().toArray() : this.blockList.toArray()\n\n    return new this.constructor(blocks)\n  }\n\n  copyUsingObjectsFromDocument(sourceDocument) {\n    const objectMap = new ObjectMap(sourceDocument.getObjects())\n    return this.copyUsingObjectMap(objectMap)\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const blocks = this.getBlocks().map((block) => {\n      const mappedBlock = objectMap.find(block)\n      return mappedBlock || block.copyUsingObjectMap(objectMap)\n    })\n    return new this.constructor(blocks)\n  }\n\n  copyWithBaseBlockAttributes(blockAttributes = []) {\n    const blocks = this.getBlocks().map((block) => {\n      const attributes = blockAttributes.concat(block.getAttributes())\n      return block.copyWithAttributes(attributes)\n    })\n\n    return new this.constructor(blocks)\n  }\n\n  replaceBlock(oldBlock, newBlock) {\n    const index = this.blockList.indexOf(oldBlock)\n    if (index === -1) {\n      return this\n    }\n    return new this.constructor(this.blockList.replaceObjectAtIndex(newBlock, index))\n  }\n\n  insertDocumentAtRange(document, range) {\n    const { blockList } = document\n    range = normalizeRange(range)\n    let [ position ] = range\n    const { index, offset } = this.locationFromPosition(position)\n\n    let result = this\n    const block = this.getBlockAtPosition(position)\n\n    if (rangeIsCollapsed(range) && block.isEmpty() && !block.hasAttributes()) {\n      result = new this.constructor(result.blockList.removeObjectAtIndex(index))\n    } else if (block.getBlockBreakPosition() === offset) {\n      position++\n    }\n\n    result = result.removeTextAtRange(range)\n    return new this.constructor(result.blockList.insertSplittableListAtPosition(blockList, position))\n  }\n\n  mergeDocumentAtRange(document, range) {\n    let formattedDocument, result\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const blockAttributes = this.getBlockAtIndex(startLocation.index).getAttributes()\n    const baseBlockAttributes = document.getBaseBlockAttributes()\n    const trailingBlockAttributes = blockAttributes.slice(-baseBlockAttributes.length)\n\n    if (arraysAreEqual(baseBlockAttributes, trailingBlockAttributes)) {\n      const leadingBlockAttributes = blockAttributes.slice(0, -baseBlockAttributes.length)\n      formattedDocument = document.copyWithBaseBlockAttributes(leadingBlockAttributes)\n    } else {\n      formattedDocument = document.copy({ consolidateBlocks: true }).copyWithBaseBlockAttributes(blockAttributes)\n    }\n\n    const blockCount = formattedDocument.getBlockCount()\n    const firstBlock = formattedDocument.getBlockAtIndex(0)\n\n    if (arraysAreEqual(blockAttributes, firstBlock.getAttributes())) {\n      const firstText = firstBlock.getTextWithoutBlockBreak()\n      result = this.insertTextAtRange(firstText, range)\n\n      if (blockCount > 1) {\n        formattedDocument = new this.constructor(formattedDocument.getBlocks().slice(1))\n        const position = startPosition + firstText.getLength()\n        result = result.insertDocumentAtRange(formattedDocument, position)\n      }\n    } else {\n      result = this.insertDocumentAtRange(formattedDocument, range)\n    }\n\n    return result\n  }\n\n  insertTextAtRange(text, range) {\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const { index, offset } = this.locationFromPosition(startPosition)\n\n    const document = this.removeTextAtRange(range)\n    return new this.constructor(\n      document.blockList.editObjectAtIndex(index, (block) =>\n        block.copyWithText(block.text.insertTextAtPosition(text, offset))\n      )\n    )\n  }\n\n  removeTextAtRange(range) {\n    let blocks\n    range = normalizeRange(range)\n    const [ leftPosition, rightPosition ] = range\n    if (rangeIsCollapsed(range)) {\n      return this\n    }\n    const [ leftLocation, rightLocation ] = Array.from(this.locationRangeFromRange(range))\n\n    const leftIndex = leftLocation.index\n    const leftOffset = leftLocation.offset\n    const leftBlock = this.getBlockAtIndex(leftIndex)\n\n    const rightIndex = rightLocation.index\n    const rightOffset = rightLocation.offset\n    const rightBlock = this.getBlockAtIndex(rightIndex)\n\n    const removeRightNewline =\n      rightPosition - leftPosition === 1 &&\n      leftBlock.getBlockBreakPosition() === leftOffset &&\n      rightBlock.getBlockBreakPosition() !== rightOffset &&\n      rightBlock.text.getStringAtPosition(rightOffset) === \"\\n\"\n\n    if (removeRightNewline) {\n      blocks = this.blockList.editObjectAtIndex(rightIndex, (block) =>\n        block.copyWithText(block.text.removeTextAtRange([ rightOffset, rightOffset + 1 ]))\n      )\n    } else {\n      let block\n      const leftText = leftBlock.text.getTextAtRange([ 0, leftOffset ])\n      const rightText = rightBlock.text.getTextAtRange([ rightOffset, rightBlock.getLength() ])\n      const text = leftText.appendText(rightText)\n\n      const removingLeftBlock = leftIndex !== rightIndex && leftOffset === 0\n      const useRightBlock = removingLeftBlock && leftBlock.getAttributeLevel() >= rightBlock.getAttributeLevel()\n\n      if (useRightBlock) {\n        block = rightBlock.copyWithText(text)\n      } else {\n        block = leftBlock.copyWithText(text)\n      }\n\n      const affectedBlockCount = rightIndex + 1 - leftIndex\n      blocks = this.blockList.splice(leftIndex, affectedBlockCount, block)\n    }\n\n    return new this.constructor(blocks)\n  }\n\n  moveTextFromRangeToPosition(range, position) {\n    let text\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    if (startPosition <= position && position <= endPosition) {\n      return this\n    }\n\n    let document = this.getDocumentAtRange(range)\n    let result = this.removeTextAtRange(range)\n\n    const movingRightward = startPosition < position\n    if (movingRightward) {\n      position -= document.getLength()\n    }\n\n    const [ firstBlock, ...blocks ] = document.getBlocks()\n    if (blocks.length === 0) {\n      text = firstBlock.getTextWithoutBlockBreak()\n      if (movingRightward) {\n        position += 1\n      }\n    } else {\n      text = firstBlock.text\n    }\n\n    result = result.insertTextAtRange(text, position)\n    if (blocks.length === 0) {\n      return result\n    }\n\n    document = new this.constructor(blocks)\n    position += text.getLength()\n\n    return result.insertDocumentAtRange(document, position)\n  }\n\n  addAttributeAtRange(attribute, value, range) {\n    let { blockList } = this\n    this.eachBlockAtRange(\n      range,\n      (block, textRange, index) =>\n        blockList = blockList.editObjectAtIndex(index, function() {\n          if (getBlockConfig(attribute)) {\n            return block.addAttribute(attribute, value)\n          } else {\n            if (textRange[0] === textRange[1]) {\n              return block\n            } else {\n              return block.copyWithText(block.text.addAttributeAtRange(attribute, value, textRange))\n            }\n          }\n        })\n    )\n    return new this.constructor(blockList)\n  }\n\n  addAttribute(attribute, value) {\n    let { blockList } = this\n    this.eachBlock(\n      (block, index) => blockList = blockList.editObjectAtIndex(index, () => block.addAttribute(attribute, value))\n    )\n    return new this.constructor(blockList)\n  }\n\n  removeAttributeAtRange(attribute, range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      if (getBlockConfig(attribute)) {\n        blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(attribute))\n      } else if (textRange[0] !== textRange[1]) {\n        blockList = blockList.editObjectAtIndex(index, () =>\n          block.copyWithText(block.text.removeAttributeAtRange(attribute, textRange))\n        )\n      }\n    })\n    return new this.constructor(blockList)\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    const [ startPosition ] = Array.from(range)\n    const { index } = this.locationFromPosition(startPosition)\n    const text = this.getTextAtIndex(index)\n\n    return new this.constructor(\n      this.blockList.editObjectAtIndex(index, (block) =>\n        block.copyWithText(text.updateAttributesForAttachment(attributes, attachment))\n      )\n    )\n  }\n\n  removeAttributeForAttachment(attribute, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    return this.removeAttributeAtRange(attribute, range)\n  }\n\n  setHTMLAttributeAtPosition(position, name, value) {\n    const block = this.getBlockAtPosition(position)\n    const updatedBlock = block.addHTMLAttribute(name, value)\n    return this.replaceBlock(block, updatedBlock)\n  }\n\n  insertBlockBreakAtRange(range) {\n    let blocks\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const { offset } = this.locationFromPosition(startPosition)\n\n    const document = this.removeTextAtRange(range)\n    if (offset === 0) {\n      blocks = [ new Block() ]\n    }\n    return new this.constructor(\n      document.blockList.insertSplittableListAtPosition(new SplittableList(blocks), startPosition)\n    )\n  }\n\n  applyBlockAttributeAtRange(attributeName, value, range) {\n    const expanded = this.expandRangeToLineBreaksAndSplitBlocks(range)\n    let document = expanded.document\n    range = expanded.range\n    const blockConfig = getBlockConfig(attributeName)\n\n    if (blockConfig.listAttribute) {\n      document = document.removeLastListAttributeAtRange(range, { exceptAttributeName: attributeName })\n      const converted = document.convertLineBreaksToBlockBreaksInRange(range)\n      document = converted.document\n      range = converted.range\n    } else if (blockConfig.exclusive) {\n      document = document.removeBlockAttributesAtRange(range)\n    } else if (blockConfig.terminal) {\n      document = document.removeLastTerminalAttributeAtRange(range)\n    } else {\n      document = document.consolidateBlocksAtRange(range)\n    }\n\n    return document.addAttributeAtRange(attributeName, value, range)\n  }\n\n  removeLastListAttributeAtRange(range, options = {}) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      const lastAttributeName = block.getLastAttribute()\n      if (!lastAttributeName) {\n        return\n      }\n      if (!getBlockConfig(lastAttributeName).listAttribute) {\n        return\n      }\n      if (lastAttributeName === options.exceptAttributeName) {\n        return\n      }\n      blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(lastAttributeName))\n    })\n    return new this.constructor(blockList)\n  }\n\n  removeLastTerminalAttributeAtRange(range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      const lastAttributeName = block.getLastAttribute()\n      if (!lastAttributeName) {\n        return\n      }\n      if (!getBlockConfig(lastAttributeName).terminal) {\n        return\n      }\n      blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(lastAttributeName))\n    })\n    return new this.constructor(blockList)\n  }\n\n  removeBlockAttributesAtRange(range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      if (block.hasAttributes()) {\n        blockList = blockList.editObjectAtIndex(index, () => block.copyWithoutAttributes())\n      }\n    })\n    return new this.constructor(blockList)\n  }\n\n  expandRangeToLineBreaksAndSplitBlocks(range) {\n    let position\n    range = normalizeRange(range)\n    let [ startPosition, endPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n    let document = this\n\n    const startBlock = document.getBlockAtIndex(startLocation.index)\n    startLocation.offset = startBlock.findLineBreakInDirectionFromPosition(\"backward\", startLocation.offset)\n    if (startLocation.offset != null) {\n      position = document.positionFromLocation(startLocation)\n      document = document.insertBlockBreakAtRange([ position, position + 1 ])\n      endLocation.index += 1\n      endLocation.offset -= document.getBlockAtIndex(startLocation.index).getLength()\n      startLocation.index += 1\n    }\n    startLocation.offset = 0\n\n    if (endLocation.offset === 0 && endLocation.index > startLocation.index) {\n      endLocation.index -= 1\n      endLocation.offset = document.getBlockAtIndex(endLocation.index).getBlockBreakPosition()\n    } else {\n      const endBlock = document.getBlockAtIndex(endLocation.index)\n      if (endBlock.text.getStringAtRange([ endLocation.offset - 1, endLocation.offset ]) === \"\\n\") {\n        endLocation.offset -= 1\n      } else {\n        endLocation.offset = endBlock.findLineBreakInDirectionFromPosition(\"forward\", endLocation.offset)\n      }\n      if (endLocation.offset !== endBlock.getBlockBreakPosition()) {\n        position = document.positionFromLocation(endLocation)\n        document = document.insertBlockBreakAtRange([ position, position + 1 ])\n      }\n    }\n\n    startPosition = document.positionFromLocation(startLocation)\n    endPosition = document.positionFromLocation(endLocation)\n    range = normalizeRange([ startPosition, endPosition ])\n\n    return { document, range }\n  }\n\n  convertLineBreaksToBlockBreaksInRange(range) {\n    range = normalizeRange(range)\n    let [ position ] = range\n    const string = this.getStringAtRange(range).slice(0, -1)\n    let document = this\n\n    string.replace(/.*?\\n/g, function(match) {\n      position += match.length\n      document = document.insertBlockBreakAtRange([ position - 1, position ])\n    })\n\n    return { document, range }\n  }\n\n  consolidateBlocksAtRange(range) {\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    const startIndex = this.locationFromPosition(startPosition).index\n    const endIndex = this.locationFromPosition(endPosition).index\n    return new this.constructor(this.blockList.consolidateFromIndexToIndex(startIndex, endIndex))\n  }\n\n  getDocumentAtRange(range) {\n    range = normalizeRange(range)\n    const blocks = this.blockList.getSplittableListInRange(range).toArray()\n    return new this.constructor(blocks)\n  }\n\n  getStringAtRange(range) {\n    let endIndex\n    const array = range = normalizeRange(range),\n      endPosition = array[array.length - 1]\n    if (endPosition !== this.getLength()) {\n      endIndex = -1\n    }\n    return this.getDocumentAtRange(range).toString().slice(0, endIndex)\n  }\n\n  getBlockAtIndex(index) {\n    return this.blockList.getObjectAtIndex(index)\n  }\n\n  getBlockAtPosition(position) {\n    const { index } = this.locationFromPosition(position)\n    return this.getBlockAtIndex(index)\n  }\n\n  getTextAtIndex(index) {\n    return this.getBlockAtIndex(index)?.text\n  }\n\n  getTextAtPosition(position) {\n    const { index } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index)\n  }\n\n  getPieceAtPosition(position) {\n    const { index, offset } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index).getPieceAtPosition(offset)\n  }\n\n  getCharacterAtPosition(position) {\n    const { index, offset } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index).getStringAtRange([ offset, offset + 1 ])\n  }\n\n  getLength() {\n    return this.blockList.getEndPosition()\n  }\n\n  getBlocks() {\n    return this.blockList.toArray()\n  }\n\n  getBlockCount() {\n    return this.blockList.length\n  }\n\n  getEditCount() {\n    return this.editCount\n  }\n\n  eachBlock(callback) {\n    return this.blockList.eachObject(callback)\n  }\n\n  eachBlockAtRange(range, callback) {\n    let block, textRange\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n\n    if (startLocation.index === endLocation.index) {\n      block = this.getBlockAtIndex(startLocation.index)\n      textRange = [ startLocation.offset, endLocation.offset ]\n      return callback(block, textRange, startLocation.index)\n    } else {\n      for (let index = startLocation.index; index <= endLocation.index; index++) {\n        block = this.getBlockAtIndex(index)\n        if (block) {\n          switch (index) {\n            case startLocation.index:\n              textRange = [ startLocation.offset, block.text.getLength() ]\n              break\n            case endLocation.index:\n              textRange = [ 0, endLocation.offset ]\n              break\n            default:\n              textRange = [ 0, block.text.getLength() ]\n          }\n          callback(block, textRange, index)\n        }\n      }\n    }\n  }\n\n  getCommonAttributesAtRange(range) {\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    if (rangeIsCollapsed(range)) {\n      return this.getCommonAttributesAtPosition(startPosition)\n    } else {\n      const textAttributes = []\n      const blockAttributes = []\n\n      this.eachBlockAtRange(range, function(block, textRange) {\n        if (textRange[0] !== textRange[1]) {\n          textAttributes.push(block.text.getCommonAttributesAtRange(textRange))\n          return blockAttributes.push(attributesForBlock(block))\n        }\n      })\n\n      return Hash.fromCommonAttributesOfObjects(textAttributes)\n        .merge(Hash.fromCommonAttributesOfObjects(blockAttributes))\n        .toObject()\n    }\n  }\n\n  getCommonAttributesAtPosition(position) {\n    let key, value\n    const { index, offset } = this.locationFromPosition(position)\n    const block = this.getBlockAtIndex(index)\n    if (!block) {\n      return {}\n    }\n\n    const commonAttributes = attributesForBlock(block)\n    const attributes = block.text.getAttributesAtPosition(offset)\n    const attributesLeft = block.text.getAttributesAtPosition(offset - 1)\n    const inheritableAttributes = Object.keys(config.textAttributes).filter((key) => {\n      return config.textAttributes[key].inheritable\n    })\n\n    for (key in attributesLeft) {\n      value = attributesLeft[key]\n      if (value === attributes[key] || inheritableAttributes.includes(key)) {\n        commonAttributes[key] = value\n      }\n    }\n\n    return commonAttributes\n  }\n\n  getRangeOfCommonAttributeAtPosition(attributeName, position) {\n    const { index, offset } = this.locationFromPosition(position)\n    const text = this.getTextAtIndex(index)\n    const [ startOffset, endOffset ] = Array.from(text.getExpandedRangeForAttributeAtOffset(attributeName, offset))\n\n    const start = this.positionFromLocation({ index, offset: startOffset })\n    const end = this.positionFromLocation({ index, offset: endOffset })\n    return normalizeRange([ start, end ])\n  }\n\n  getBaseBlockAttributes() {\n    let baseBlockAttributes = this.getBlockAtIndex(0).getAttributes()\n\n    for (let blockIndex = 1; blockIndex < this.getBlockCount(); blockIndex++) {\n      const blockAttributes = this.getBlockAtIndex(blockIndex).getAttributes()\n      const lastAttributeIndex = Math.min(baseBlockAttributes.length, blockAttributes.length)\n\n      baseBlockAttributes = (() => {\n        const result = []\n        for (let index = 0; index < lastAttributeIndex; index++) {\n          if (blockAttributes[index] !== baseBlockAttributes[index]) {\n            break\n          }\n          result.push(blockAttributes[index])\n        }\n        return result\n      })()\n    }\n\n    return baseBlockAttributes\n  }\n\n  getAttachmentById(attachmentId) {\n    for (const attachment of this.getAttachments()) {\n      if (attachment.id === attachmentId) {\n        return attachment\n      }\n    }\n  }\n\n  getAttachmentPieces() {\n    let attachmentPieces = []\n    this.blockList.eachObject(({ text }) => attachmentPieces = attachmentPieces.concat(text.getAttachmentPieces()))\n    return attachmentPieces\n  }\n\n  getAttachments() {\n    return this.getAttachmentPieces().map((piece) => piece.attachment)\n  }\n\n  getRangeOfAttachment(attachment) {\n    let position = 0\n    const iterable = this.blockList.toArray()\n    for (let index = 0; index < iterable.length; index++) {\n      const { text } = iterable[index]\n      const textRange = text.getRangeOfAttachment(attachment)\n      if (textRange) {\n        return normalizeRange([ position + textRange[0], position + textRange[1] ])\n      }\n      position += text.getLength()\n    }\n  }\n\n  getLocationRangeOfAttachment(attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    return this.locationRangeFromRange(range)\n  }\n\n  getAttachmentPieceForAttachment(attachment) {\n    for (const piece of this.getAttachmentPieces()) {\n      if (piece.attachment === attachment) {\n        return piece\n      }\n    }\n  }\n\n  findRangesForBlockAttribute(attributeName) {\n    let position = 0\n    const ranges = []\n\n    this.getBlocks().forEach((block) => {\n      const length = block.getLength()\n      if (block.hasAttribute(attributeName)) {\n        ranges.push([ position, position + length ])\n      }\n      position += length\n    })\n\n    return ranges\n  }\n\n  findRangesForTextAttribute(attributeName, { withValue } = {}) {\n    let position = 0\n    let range = []\n    const ranges = []\n\n    const match = function(piece) {\n      if (withValue) {\n        return piece.getAttribute(attributeName) === withValue\n      } else {\n        return piece.hasAttribute(attributeName)\n      }\n    }\n\n    this.getPieces().forEach((piece) => {\n      const length = piece.getLength()\n      if (match(piece)) {\n        if (range[1] === position) {\n          range[1] = position + length\n        } else {\n          ranges.push(range = [ position, position + length ])\n        }\n      }\n      position += length\n    })\n\n    return ranges\n  }\n\n  locationFromPosition(position) {\n    const location = this.blockList.findIndexAndOffsetAtPosition(Math.max(0, position))\n    if (location.index != null) {\n      return location\n    } else {\n      const blocks = this.getBlocks()\n      return { index: blocks.length - 1, offset: blocks[blocks.length - 1].getLength() }\n    }\n  }\n\n  positionFromLocation(location) {\n    return this.blockList.findPositionAtIndexAndOffset(location.index, location.offset)\n  }\n\n  locationRangeFromPosition(position) {\n    return normalizeRange(this.locationFromPosition(position))\n  }\n\n  locationRangeFromRange(range) {\n    range = normalizeRange(range)\n    if (!range) return\n\n    const [ startPosition, endPosition ] = Array.from(range)\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n    return normalizeRange([ startLocation, endLocation ])\n  }\n\n  rangeFromLocationRange(locationRange) {\n    let rightPosition\n    locationRange = normalizeRange(locationRange)\n    const leftPosition = this.positionFromLocation(locationRange[0])\n    if (!rangeIsCollapsed(locationRange)) {\n      rightPosition = this.positionFromLocation(locationRange[1])\n    }\n    return normalizeRange([ leftPosition, rightPosition ])\n  }\n\n  isEqualTo(document) {\n    return this.blockList.isEqualTo(document?.blockList)\n  }\n\n  getTexts() {\n    return this.getBlocks().map((block) => block.text)\n  }\n\n  getPieces() {\n    const pieces = []\n\n    Array.from(this.getTexts()).forEach((text) => {\n      pieces.push(...Array.from(text.getPieces() || []))\n    })\n\n    return pieces\n  }\n\n  getObjects() {\n    return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())\n  }\n\n  toSerializableDocument() {\n    const blocks = []\n    this.blockList.eachObject((block) => blocks.push(block.copyWithText(block.text.toSerializableText())))\n    return new this.constructor(blocks)\n  }\n\n  toString() {\n    return this.blockList.toString()\n  }\n\n  toJSON() {\n    return this.blockList.toJSON()\n  }\n\n  toConsole() {\n    return JSON.stringify(this.blockList.toArray().map((block) => JSON.parse(block.text.toConsole())))\n  }\n}\n\nconst attributesForBlock = function(block) {\n  const attributes = {}\n  const attributeName = block.getLastAttribute()\n  if (attributeName) {\n    attributes[attributeName] = true\n  }\n  return attributes\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport { nodeIsAttachmentElement, removeNode, tagName, walkTree } from \"trix/core/helpers\"\n\nconst DEFAULT_ALLOWED_ATTRIBUTES = \"style href src width height language class\".split(\" \")\nconst DEFAULT_FORBIDDEN_PROTOCOLS = \"javascript:\".split(\" \")\nconst DEFAULT_FORBIDDEN_ELEMENTS = \"script iframe form noscript\".split(\" \")\n\nexport default class HTMLSanitizer extends BasicObject {\n  static sanitize(html, options) {\n    const sanitizer = new this(html, options)\n    sanitizer.sanitize()\n    return sanitizer\n  }\n\n  constructor(html, { allowedAttributes, forbiddenProtocols, forbiddenElements } = {}) {\n    super(...arguments)\n    this.allowedAttributes = allowedAttributes || DEFAULT_ALLOWED_ATTRIBUTES\n    this.forbiddenProtocols = forbiddenProtocols || DEFAULT_FORBIDDEN_PROTOCOLS\n    this.forbiddenElements = forbiddenElements || DEFAULT_FORBIDDEN_ELEMENTS\n    this.body = createBodyElementForHTML(html)\n  }\n\n  sanitize() {\n    this.sanitizeElements()\n    return this.normalizeListElementNesting()\n  }\n\n  getHTML() {\n    return this.body.innerHTML\n  }\n\n  getBody() {\n    return this.body\n  }\n\n  // Private\n\n  sanitizeElements() {\n    const walker = walkTree(this.body)\n    const nodesToRemove = []\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n      switch (node.nodeType) {\n        case Node.ELEMENT_NODE:\n          if (this.elementIsRemovable(node)) {\n            nodesToRemove.push(node)\n          } else {\n            this.sanitizeElement(node)\n          }\n          break\n        case Node.COMMENT_NODE:\n          nodesToRemove.push(node)\n          break\n      }\n    }\n\n    nodesToRemove.forEach((node) => removeNode(node))\n\n    return this.body\n  }\n\n  sanitizeElement(element) {\n    if (element.hasAttribute(\"href\")) {\n      if (this.forbiddenProtocols.includes(element.protocol)) {\n        element.removeAttribute(\"href\")\n      }\n    }\n\n    Array.from(element.attributes).forEach(({ name }) => {\n      if (!this.allowedAttributes.includes(name) && name.indexOf(\"data-trix\") !== 0) {\n        element.removeAttribute(name)\n      }\n    })\n\n    return element\n  }\n\n  normalizeListElementNesting() {\n    Array.from(this.body.querySelectorAll(\"ul,ol\")).forEach((listElement) => {\n      const previousElement = listElement.previousElementSibling\n      if (previousElement) {\n        if (tagName(previousElement) === \"li\") {\n          previousElement.appendChild(listElement)\n        }\n      }\n    })\n\n    return this.body\n  }\n\n  elementIsRemovable(element) {\n    if (element?.nodeType !== Node.ELEMENT_NODE) return\n    return this.elementIsForbidden(element) || this.elementIsntSerializable(element)\n  }\n\n  elementIsForbidden(element) {\n    return this.forbiddenElements.includes(tagName(element))\n  }\n\n  elementIsntSerializable(element) {\n    return element.getAttribute(\"data-trix-serialize\") === \"false\" && !nodeIsAttachmentElement(element)\n  }\n}\n\nconst createBodyElementForHTML = function(html = \"\") {\n  // Remove everything after </html>\n  html = html.replace(/<\\/html[^>]*>[^]*$/i, \"</html>\")\n  const doc = document.implementation.createHTMLDocument(\"\")\n  doc.documentElement.innerHTML = html\n\n  Array.from(doc.head.querySelectorAll(\"style\")).forEach((element) => {\n    doc.body.appendChild(element)\n  })\n\n  return doc.body\n}\n", "/* eslint-disable\n    no-case-declarations,\n    no-irregular-whitespace,\n*/\nimport * as config from \"trix/config\"\nimport BasicObject from \"trix/core/basic_object\"\nimport Document from \"trix/models/document\"\nimport HTMLSanitizer from \"trix/models/html_sanitizer\"\n\nimport {\n  arraysAreEqual,\n  breakableWhitespacePattern,\n  elementContainsNode,\n  findClosestElementFromNode,\n  getBlockTagNames,\n  makeElement,\n  nodeIsAttachmentElement,\n  normalizeSpaces,\n  removeNode,\n  squishBreakableWhitespace,\n  tagName,\n  walkTree,\n} from \"trix/core/helpers\"\n\nconst pieceForString = (string, attributes = {}) => {\n  const type = \"string\"\n  string = normalizeSpaces(string)\n  return { string, attributes, type }\n}\n\nconst pieceForAttachment = (attachment, attributes = {}) => {\n  const type = \"attachment\"\n  return { attachment, attributes, type }\n}\n\nconst blockForAttributes = (attributes = {}, htmlAttributes = {}) => {\n  const text = []\n  return { text, attributes, htmlAttributes }\n}\n\nconst parseTrixDataAttribute = (element, name) => {\n  try {\n    const data = JSON.parse(element.getAttribute(`data-trix-${name}`))\n\n    if (data.contentType === \"text/html\" && data.content) {\n      data.content = HTMLSanitizer.sanitize(data.content).getHTML()\n    }\n\n    return data\n  } catch (error) {\n    return {}\n  }\n}\n\nconst getImageDimensions = (element) => {\n  const width = element.getAttribute(\"width\")\n  const height = element.getAttribute(\"height\")\n  const dimensions = {}\n  if (width) {\n    dimensions.width = parseInt(width, 10)\n  }\n  if (height) {\n    dimensions.height = parseInt(height, 10)\n  }\n  return dimensions\n}\n\nexport default class HTMLParser extends BasicObject {\n  static parse(html, options) {\n    const parser = new this(html, options)\n    parser.parse()\n    return parser\n  }\n\n  constructor(html, { referenceElement } = {}) {\n    super(...arguments)\n    this.html = html\n    this.referenceElement = referenceElement\n    this.blocks = []\n    this.blockElements = []\n    this.processedElements = []\n  }\n\n  getDocument() {\n    return Document.fromJSON(this.blocks)\n  }\n\n  // HTML parsing\n\n  parse() {\n    try {\n      this.createHiddenContainer()\n      const html = HTMLSanitizer.sanitize(this.html).getHTML()\n      this.containerElement.innerHTML = html\n      const walker = walkTree(this.containerElement, { usingFilter: nodeFilter })\n      while (walker.nextNode()) {\n        this.processNode(walker.currentNode)\n      }\n      return this.translateBlockElementMarginsToNewlines()\n    } finally {\n      this.removeHiddenContainer()\n    }\n  }\n\n  createHiddenContainer() {\n    if (this.referenceElement) {\n      this.containerElement = this.referenceElement.cloneNode(false)\n      this.containerElement.removeAttribute(\"id\")\n      this.containerElement.setAttribute(\"data-trix-internal\", \"\")\n      this.containerElement.style.display = \"none\"\n      return this.referenceElement.parentNode.insertBefore(this.containerElement, this.referenceElement.nextSibling)\n    } else {\n      this.containerElement = makeElement({ tagName: \"div\", style: { display: \"none\" } })\n      return document.body.appendChild(this.containerElement)\n    }\n  }\n\n  removeHiddenContainer() {\n    return removeNode(this.containerElement)\n  }\n\n  processNode(node) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        if (!this.isInsignificantTextNode(node)) {\n          this.appendBlockForTextNode(node)\n          return this.processTextNode(node)\n        }\n        break\n      case Node.ELEMENT_NODE:\n        this.appendBlockForElement(node)\n        return this.processElement(node)\n    }\n  }\n\n  appendBlockForTextNode(node) {\n    const element = node.parentNode\n    if (element === this.currentBlockElement && this.isBlockElement(node.previousSibling)) {\n      return this.appendStringWithAttributes(\"\\n\")\n    } else if (element === this.containerElement || this.isBlockElement(element)) {\n      const attributes = this.getBlockAttributes(element)\n      const htmlAttributes = this.getBlockHTMLAttributes(element)\n      if (!arraysAreEqual(attributes, this.currentBlock?.attributes)) {\n        this.currentBlock = this.appendBlockForAttributesWithElement(attributes, element, htmlAttributes)\n        this.currentBlockElement = element\n      }\n    }\n  }\n\n  appendBlockForElement(element) {\n    const elementIsBlockElement = this.isBlockElement(element)\n    const currentBlockContainsElement = elementContainsNode(this.currentBlockElement, element)\n\n    if (elementIsBlockElement && !this.isBlockElement(element.firstChild)) {\n      if (!this.isInsignificantTextNode(element.firstChild) || !this.isBlockElement(element.firstElementChild)) {\n        const attributes = this.getBlockAttributes(element)\n        const htmlAttributes = this.getBlockHTMLAttributes(element)\n        if (element.firstChild) {\n          if (!(currentBlockContainsElement && arraysAreEqual(attributes, this.currentBlock.attributes))) {\n            this.currentBlock = this.appendBlockForAttributesWithElement(attributes, element, htmlAttributes)\n            this.currentBlockElement = element\n          } else {\n            return this.appendStringWithAttributes(\"\\n\")\n          }\n        }\n      }\n    } else if (this.currentBlockElement && !currentBlockContainsElement && !elementIsBlockElement) {\n      const parentBlockElement = this.findParentBlockElement(element)\n      if (parentBlockElement) {\n        return this.appendBlockForElement(parentBlockElement)\n      } else {\n        this.currentBlock = this.appendEmptyBlock()\n        this.currentBlockElement = null\n      }\n    }\n  }\n\n  findParentBlockElement(element) {\n    let { parentElement } = element\n    while (parentElement && parentElement !== this.containerElement) {\n      if (this.isBlockElement(parentElement) && this.blockElements.includes(parentElement)) {\n        return parentElement\n      } else {\n        parentElement = parentElement.parentElement\n      }\n    }\n    return null\n  }\n\n  processTextNode(node) {\n    let string = node.data\n    if (!elementCanDisplayPreformattedText(node.parentNode)) {\n      string = squishBreakableWhitespace(string)\n      if (stringEndsWithWhitespace(node.previousSibling?.textContent)) {\n        string = leftTrimBreakableWhitespace(string)\n      }\n    }\n    return this.appendStringWithAttributes(string, this.getTextAttributes(node.parentNode))\n  }\n\n  processElement(element) {\n    let attributes\n    if (nodeIsAttachmentElement(element)) {\n      attributes = parseTrixDataAttribute(element, \"attachment\")\n      if (Object.keys(attributes).length) {\n        const textAttributes = this.getTextAttributes(element)\n        this.appendAttachmentWithAttributes(attributes, textAttributes)\n        // We have everything we need so avoid processing inner nodes\n        element.innerHTML = \"\"\n      }\n      return this.processedElements.push(element)\n    } else {\n      switch (tagName(element)) {\n        case \"br\":\n          if (!this.isExtraBR(element) && !this.isBlockElement(element.nextSibling)) {\n            this.appendStringWithAttributes(\"\\n\", this.getTextAttributes(element))\n          }\n          return this.processedElements.push(element)\n        case \"img\":\n          attributes = { url: element.getAttribute(\"src\"), contentType: \"image\" }\n          const object = getImageDimensions(element)\n          for (const key in object) {\n            const value = object[key]\n            attributes[key] = value\n          }\n          this.appendAttachmentWithAttributes(attributes, this.getTextAttributes(element))\n          return this.processedElements.push(element)\n        case \"tr\":\n          if (this.needsTableSeparator(element)) {\n            return this.appendStringWithAttributes(config.parser.tableRowSeparator)\n          }\n          break\n        case \"td\":\n          if (this.needsTableSeparator(element)) {\n            return this.appendStringWithAttributes(config.parser.tableCellSeparator)\n          }\n          break\n      }\n    }\n  }\n\n  // Document construction\n\n  appendBlockForAttributesWithElement(attributes, element, htmlAttributes = {}) {\n    this.blockElements.push(element)\n    const block = blockForAttributes(attributes, htmlAttributes)\n    this.blocks.push(block)\n    return block\n  }\n\n  appendEmptyBlock() {\n    return this.appendBlockForAttributesWithElement([], null)\n  }\n\n  appendStringWithAttributes(string, attributes) {\n    return this.appendPiece(pieceForString(string, attributes))\n  }\n\n  appendAttachmentWithAttributes(attachment, attributes) {\n    return this.appendPiece(pieceForAttachment(attachment, attributes))\n  }\n\n  appendPiece(piece) {\n    if (this.blocks.length === 0) {\n      this.appendEmptyBlock()\n    }\n    return this.blocks[this.blocks.length - 1].text.push(piece)\n  }\n\n  appendStringToTextAtIndex(string, index) {\n    const { text } = this.blocks[index]\n    const piece = text[text.length - 1]\n\n    if (piece?.type === \"string\") {\n      piece.string += string\n    } else {\n      return text.push(pieceForString(string))\n    }\n  }\n\n  prependStringToTextAtIndex(string, index) {\n    const { text } = this.blocks[index]\n    const piece = text[0]\n\n    if (piece?.type === \"string\") {\n      piece.string = string + piece.string\n    } else {\n      return text.unshift(pieceForString(string))\n    }\n  }\n\n  // Attribute parsing\n\n  getTextAttributes(element) {\n    let value\n    const attributes = {}\n    for (const attribute in config.textAttributes) {\n      const configAttr = config.textAttributes[attribute]\n      if (\n        configAttr.tagName &&\n        findClosestElementFromNode(element, {\n          matchingSelector: configAttr.tagName,\n          untilNode: this.containerElement,\n        })\n      ) {\n        attributes[attribute] = true\n      } else if (configAttr.parser) {\n        value = configAttr.parser(element)\n        if (value) {\n          let attributeInheritedFromBlock = false\n          for (const blockElement of this.findBlockElementAncestors(element)) {\n            if (configAttr.parser(blockElement) === value) {\n              attributeInheritedFromBlock = true\n              break\n            }\n          }\n          if (!attributeInheritedFromBlock) {\n            attributes[attribute] = value\n          }\n        }\n      } else if (configAttr.styleProperty) {\n        value = element.style[configAttr.styleProperty]\n        if (value) {\n          attributes[attribute] = value\n        }\n      }\n    }\n\n    if (nodeIsAttachmentElement(element)) {\n      const object = parseTrixDataAttribute(element, \"attributes\")\n      for (const key in object) {\n        value = object[key]\n        attributes[key] = value\n      }\n    }\n\n    return attributes\n  }\n\n  getBlockAttributes(element) {\n    const attributes = []\n    while (element && element !== this.containerElement) {\n      for (const attribute in config.blockAttributes) {\n        const attrConfig = config.blockAttributes[attribute]\n        if (attrConfig.parse !== false) {\n          if (tagName(element) === attrConfig.tagName) {\n            if (attrConfig.test?.(element) || !attrConfig.test) {\n              attributes.push(attribute)\n              if (attrConfig.listAttribute) {\n                attributes.push(attrConfig.listAttribute)\n              }\n            }\n          }\n        }\n      }\n      element = element.parentNode\n    }\n    return attributes.reverse()\n  }\n\n  getBlockHTMLAttributes(element) {\n    const attributes = {}\n    const blockConfig = Object.values(config.blockAttributes).find(settings => settings.tagName === tagName(element))\n    const allowedAttributes = blockConfig?.htmlAttributes || []\n\n    allowedAttributes.forEach((attribute) => {\n      if (element.hasAttribute(attribute)) {\n        attributes[attribute] = element.getAttribute(attribute)\n      }\n    })\n\n    return attributes\n  }\n\n  findBlockElementAncestors(element) {\n    const ancestors = []\n    while (element && element !== this.containerElement) {\n      const tag = tagName(element)\n      if (getBlockTagNames().includes(tag)) {\n        ancestors.push(element)\n      }\n      element = element.parentNode\n    }\n    return ancestors\n  }\n\n  // Element inspection\n\n  isBlockElement(element) {\n    if (element?.nodeType !== Node.ELEMENT_NODE) return\n    if (nodeIsAttachmentElement(element)) return\n    if (findClosestElementFromNode(element, { matchingSelector: \"td\", untilNode: this.containerElement })) return\n\n    return getBlockTagNames().includes(tagName(element)) ||\n      window.getComputedStyle(element).display === \"block\"\n  }\n\n  isInsignificantTextNode(node) {\n    if (node?.nodeType !== Node.TEXT_NODE) return\n    if (!stringIsAllBreakableWhitespace(node.data)) return\n    const { parentNode, previousSibling, nextSibling } = node\n    if (nodeEndsWithNonWhitespace(parentNode.previousSibling) && !this.isBlockElement(parentNode.previousSibling)) return\n    if (elementCanDisplayPreformattedText(parentNode)) return\n    return !previousSibling || this.isBlockElement(previousSibling) || !nextSibling || this.isBlockElement(nextSibling)\n  }\n\n  isExtraBR(element) {\n    return tagName(element) === \"br\" && this.isBlockElement(element.parentNode) && element.parentNode.lastChild === element\n  }\n\n  needsTableSeparator(element) {\n    if (config.parser.removeBlankTableCells) {\n      const content = element.previousSibling?.textContent\n      return content && /\\S/.test(content)\n    } else {\n      return element.previousSibling\n    }\n  }\n\n  // Margin translation\n\n  translateBlockElementMarginsToNewlines() {\n    const defaultMargin = this.getMarginOfDefaultBlockElement()\n\n    for (let index = 0; index < this.blocks.length; index++) {\n      const margin = this.getMarginOfBlockElementAtIndex(index)\n      if (margin) {\n        if (margin.top > defaultMargin.top * 2) {\n          this.prependStringToTextAtIndex(\"\\n\", index)\n        }\n\n        if (margin.bottom > defaultMargin.bottom * 2) {\n          this.appendStringToTextAtIndex(\"\\n\", index)\n        }\n      }\n    }\n  }\n\n  getMarginOfBlockElementAtIndex(index) {\n    const element = this.blockElements[index]\n    if (element) {\n      if (element.textContent) {\n        if (!getBlockTagNames().includes(tagName(element)) && !this.processedElements.includes(element)) {\n          return getBlockElementMargin(element)\n        }\n      }\n    }\n  }\n\n  getMarginOfDefaultBlockElement() {\n    const element = makeElement(config.blockAttributes.default.tagName)\n    this.containerElement.appendChild(element)\n    return getBlockElementMargin(element)\n  }\n}\n\n// Helpers\n\nconst elementCanDisplayPreformattedText = function(element) {\n  const { whiteSpace } = window.getComputedStyle(element)\n  return [ \"pre\", \"pre-wrap\", \"pre-line\" ].includes(whiteSpace)\n}\n\nconst nodeEndsWithNonWhitespace = (node) => node && !stringEndsWithWhitespace(node.textContent)\n\nconst getBlockElementMargin = function(element) {\n  const style = window.getComputedStyle(element)\n  if (style.display === \"block\") {\n    return { top: parseInt(style.marginTop), bottom: parseInt(style.marginBottom) }\n  }\n}\n\nconst nodeFilter = function(node) {\n  if (tagName(node) === \"style\") {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n\n// Whitespace\n\nconst leftTrimBreakableWhitespace = (string) => string.replace(new RegExp(`^${breakableWhitespacePattern.source}+`), \"\")\n\nconst stringIsAllBreakableWhitespace = (string) => new RegExp(`^${breakableWhitespacePattern.source}*$`).test(string)\n\nconst stringEndsWithWhitespace = (string) => /\\s$/.test(string)\n", "/* eslint-disable\n    no-empty,\n*/\nimport { removeNode } from \"trix/core/helpers\"\n\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\nconst unserializableElementSelector = \"[data-trix-serialize=false]\"\nconst unserializableAttributeNames = [\n  \"contenteditable\",\n  \"data-trix-id\",\n  \"data-trix-store-key\",\n  \"data-trix-mutable\",\n  \"data-trix-placeholder\",\n  \"tabindex\",\n]\nconst serializedAttributesAttribute = \"data-trix-serialized-attributes\"\nconst serializedAttributesSelector = `[${serializedAttributesAttribute}]`\n\nconst blockCommentPattern = new RegExp(\"<!--block-->\", \"g\")\n\nconst serializers = {\n  \"application/json\": function(serializable) {\n    let document\n    if (serializable instanceof Document) {\n      document = serializable\n    } else if (serializable instanceof HTMLElement) {\n      document = HTMLParser.parse(serializable.innerHTML).getDocument()\n    } else {\n      throw new Error(\"unserializable object\")\n    }\n\n    return document.toSerializableDocument().toJSONString()\n  },\n\n  \"text/html\": function(serializable) {\n    let element\n    if (serializable instanceof Document) {\n      element = DocumentView.render(serializable)\n    } else if (serializable instanceof HTMLElement) {\n      element = serializable.cloneNode(true)\n    } else {\n      throw new Error(\"unserializable object\")\n    }\n\n    // Remove unserializable elements\n    Array.from(element.querySelectorAll(unserializableElementSelector)).forEach((el) => {\n      removeNode(el)\n    })\n\n    // Remove unserializable attributes\n    unserializableAttributeNames.forEach((attribute) => {\n      Array.from(element.querySelectorAll(`[${attribute}]`)).forEach((el) => {\n        el.removeAttribute(attribute)\n      })\n    })\n\n    // Rewrite elements with serialized attribute overrides\n    Array.from(element.querySelectorAll(serializedAttributesSelector)).forEach((el) => {\n      try {\n        const attributes = JSON.parse(el.getAttribute(serializedAttributesAttribute))\n        el.removeAttribute(serializedAttributesAttribute)\n        for (const name in attributes) {\n          const value = attributes[name]\n          el.setAttribute(name, value)\n        }\n      } catch (error) {}\n    })\n\n    return element.innerHTML.replace(blockCommentPattern, \"\")\n  },\n}\n\nconst deserializers = {\n  \"application/json\": function(string) {\n    return Document.fromJSONString(string)\n  },\n\n  \"text/html\": function(string) {\n    return HTMLParser.parse(string).getDocument()\n  },\n}\n\nexport const serializeToContentType = function(serializable, contentType) {\n  const serializer = serializers[contentType]\n  if (serializer) {\n    return serializer(serializable)\n  } else {\n    throw new Error(`unknown content type: ${contentType}`)\n  }\n}\n\nexport const deserializeFromContentType = function(string, contentType) {\n  const deserializer = deserializers[contentType]\n  if (deserializer) {\n    return deserializer(string)\n  } else {\n    throw new Error(`unknown content type: ${contentType}`)\n  }\n}\n", "import \"trix/models/attachment\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class ManagedAttachment extends BasicObject {\n  constructor(attachmentManager, attachment) {\n    super(...arguments)\n    this.attachmentManager = attachmentManager\n    this.attachment = attachment\n    this.id = this.attachment.id\n    this.file = this.attachment.file\n  }\n\n  remove() {\n    return this.attachmentManager.requestRemovalOfAttachment(this.attachment)\n  }\n}\n\nManagedAttachment.proxyMethod(\"attachment.getAttribute\")\nManagedAttachment.proxyMethod(\"attachment.hasAttribute\")\nManagedAttachment.proxyMethod(\"attachment.setAttribute\")\nManagedAttachment.proxyMethod(\"attachment.getAttributes\")\nManagedAttachment.proxyMethod(\"attachment.setAttributes\")\nManagedAttachment.proxyMethod(\"attachment.isPending\")\nManagedAttachment.proxyMethod(\"attachment.isPreviewable\")\nManagedAttachment.proxyMethod(\"attachment.getURL\")\nManagedAttachment.proxyMethod(\"attachment.getHref\")\nManagedAttachment.proxyMethod(\"attachment.getFilename\")\nManagedAttachment.proxyMethod(\"attachment.getFilesize\")\nManagedAttachment.proxyMethod(\"attachment.getFormattedFilesize\")\nManagedAttachment.proxyMethod(\"attachment.getExtension\")\nManagedAttachment.proxyMethod(\"attachment.getContentType\")\nManagedAttachment.proxyMethod(\"attachment.getFile\")\nManagedAttachment.proxyMethod(\"attachment.setFile\")\nManagedAttachment.proxyMethod(\"attachment.releaseFile\")\nManagedAttachment.proxyMethod(\"attachment.getUploadProgress\")\nManagedAttachment.proxyMethod(\"attachment.setUploadProgress\")\n\n", "import ManagedAttachment from \"trix/models/managed_attachment\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class AttachmentManager extends BasicObject {\n  constructor(attachments = []) {\n    super(...arguments)\n    this.managedAttachments = {}\n    Array.from(attachments).forEach((attachment) => {\n      this.manageAttachment(attachment)\n    })\n  }\n\n  getAttachments() {\n    const result = []\n    for (const id in this.managedAttachments) {\n      const attachment = this.managedAttachments[id]\n      result.push(attachment)\n    }\n    return result\n  }\n\n  manageAttachment(attachment) {\n    if (!this.managedAttachments[attachment.id]) {\n      this.managedAttachments[attachment.id] = new ManagedAttachment(this, attachment)\n    }\n    return this.managedAttachments[attachment.id]\n  }\n\n  attachmentIsManaged(attachment) {\n    return attachment.id in this.managedAttachments\n  }\n\n  requestRemovalOfAttachment(attachment) {\n    if (this.attachmentIsManaged(attachment)) {\n      return this.delegate?.attachmentManagerDidRequestRemovalOfAttachment?.(attachment)\n    }\n  }\n\n  unmanageAttachment(attachment) {\n    const managedAttachment = this.managedAttachments[attachment.id]\n    delete this.managedAttachments[attachment.id]\n    return managedAttachment\n  }\n}\n", "export default class LineBreakInsertion {\n  constructor(composition) {\n    this.composition = composition\n    this.document = this.composition.document\n    const selectedRange = this.composition.getSelectedRange()\n    this.startPosition = selectedRange[0]\n    this.endPosition = selectedRange[1]\n\n    this.startLocation = this.document.locationFromPosition(this.startPosition)\n    this.endLocation = this.document.locationFromPosition(this.endPosition)\n\n    this.block = this.document.getBlockAtIndex(this.endLocation.index)\n    this.breaksOnReturn = this.block.breaksOnReturn()\n    this.previousCharacter = this.block.text.getStringAtPosition(this.endLocation.offset - 1)\n    this.nextCharacter = this.block.text.getStringAtPosition(this.endLocation.offset)\n  }\n\n  shouldInsertBlockBreak() {\n    if (this.block.hasAttributes() && this.block.isListItem() && !this.block.isEmpty()) {\n      return this.startLocation.offset !== 0\n    } else {\n      return this.breaksOnReturn && this.nextCharacter !== \"\\n\"\n    }\n  }\n\n  shouldBreakFormattedBlock() {\n    return (\n      this.block.hasAttributes() &&\n      !this.block.isListItem() &&\n      (this.breaksOnReturn && this.nextCharacter === \"\\n\" || this.previousCharacter === \"\\n\")\n    )\n  }\n\n  shouldDecreaseListLevel() {\n    return this.block.hasAttributes() && this.block.isListItem() && this.block.isEmpty()\n  }\n\n  shouldPrependListItem() {\n    return this.block.isListItem() && this.startLocation.offset === 0 && !this.block.isEmpty()\n  }\n\n  shouldRemoveLastBlockAttribute() {\n    return this.block.hasAttributes() && !this.block.isListItem() && this.block.isEmpty()\n  }\n}\n", "import * as config from \"trix/config\"\nimport { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport BasicObject from \"trix/core/basic_object\"\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport Attachment from \"trix/models/attachment\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\nimport LineBreakInsertion from \"trix/models/line_break_insertion\"\n\nimport {\n  arrayStartsWith,\n  extend,\n  getAllAttributeNames,\n  getBlockConfig,\n  getTextConfig,\n  normalizeRange,\n  objectsAreEqual,\n  rangeIsCollapsed,\n  rangesAreEqual,\n  summarizeArrayChange,\n} from \"trix/core/helpers\"\n\nconst PLACEHOLDER = \" \"\n\nexport default class Composition extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.document = new Document()\n    this.attachments = []\n    this.currentAttributes = {}\n    this.revision = 0\n  }\n\n  setDocument(document) {\n    if (!document.isEqualTo(this.document)) {\n      this.document = document\n      this.refreshAttachments()\n      this.revision++\n      return this.delegate?.compositionDidChangeDocument?.(document)\n    }\n  }\n\n  // Snapshots\n\n  getSnapshot() {\n    return {\n      document: this.document,\n      selectedRange: this.getSelectedRange(),\n    }\n  }\n\n  loadSnapshot({ document, selectedRange }) {\n    this.delegate?.compositionWillLoadSnapshot?.()\n    this.setDocument(document != null ? document : new Document())\n    this.setSelection(selectedRange != null ? selectedRange : [ 0, 0 ])\n    return this.delegate?.compositionDidLoadSnapshot?.()\n  }\n\n  // Responder protocol\n\n  insertText(text, { updatePosition } = { updatePosition: true }) {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertTextAtRange(text, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + text.getLength()\n\n    if (updatePosition) {\n      this.setSelection(endPosition)\n    }\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertBlock(block = new Block()) {\n    const document = new Document([ block ])\n    return this.insertDocument(document)\n  }\n\n  insertDocument(document = new Document()) {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertDocumentAtRange(document, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + document.getLength()\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertString(string, options) {\n    const attributes = this.getCurrentTextAttributes()\n    const text = Text.textForStringWithAttributes(string, attributes)\n    return this.insertText(text, options)\n  }\n\n  insertBlockBreak() {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertBlockBreakAtRange(selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + 1\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertLineBreak() {\n    const insertion = new LineBreakInsertion(this)\n\n    if (insertion.shouldDecreaseListLevel()) {\n      this.decreaseListLevel()\n      return this.setSelection(insertion.startPosition)\n    } else if (insertion.shouldPrependListItem()) {\n      const document = new Document([ insertion.block.copyWithoutText() ])\n      return this.insertDocument(document)\n    } else if (insertion.shouldInsertBlockBreak()) {\n      return this.insertBlockBreak()\n    } else if (insertion.shouldRemoveLastBlockAttribute()) {\n      return this.removeLastBlockAttribute()\n    } else if (insertion.shouldBreakFormattedBlock()) {\n      return this.breakFormattedBlock(insertion)\n    } else {\n      return this.insertString(\"\\n\")\n    }\n  }\n\n  insertHTML(html) {\n    const document = HTMLParser.parse(html).getDocument()\n    const selectedRange = this.getSelectedRange()\n\n    this.setDocument(this.document.mergeDocumentAtRange(document, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + document.getLength() - 1\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  replaceHTML(html) {\n    const document = HTMLParser.parse(html).getDocument().copyUsingObjectsFromDocument(this.document)\n    const locationRange = this.getLocationRange({ strict: false })\n    const selectedRange = this.document.rangeFromLocationRange(locationRange)\n    this.setDocument(document)\n    return this.setSelection(selectedRange)\n  }\n\n  insertFile(file) {\n    return this.insertFiles([ file ])\n  }\n\n  insertFiles(files) {\n    const attachments = []\n\n    Array.from(files).forEach((file) => {\n      if (this.delegate?.compositionShouldAcceptFile(file)) {\n        const attachment = Attachment.attachmentForFile(file)\n        attachments.push(attachment)\n      }\n    })\n\n    return this.insertAttachments(attachments)\n  }\n\n  insertAttachment(attachment) {\n    return this.insertAttachments([ attachment ])\n  }\n\n  insertAttachments(attachments) {\n    let text = new Text()\n\n    Array.from(attachments).forEach((attachment) => {\n      const type = attachment.getType()\n      const presentation = config.attachments[type]?.presentation\n\n      const attributes = this.getCurrentTextAttributes()\n      if (presentation) {\n        attributes.presentation = presentation\n      }\n\n      const attachmentText = Text.textForAttachmentWithAttributes(attachment, attributes)\n      text = text.appendText(attachmentText)\n    })\n\n    return this.insertText(text)\n  }\n\n  shouldManageDeletingInDirection(direction) {\n    const locationRange = this.getLocationRange()\n    if (rangeIsCollapsed(locationRange)) {\n      if (direction === \"backward\" && locationRange[0].offset === 0) {\n        return true\n      }\n      if (this.shouldManageMovingCursorInDirection(direction)) {\n        return true\n      }\n    } else {\n      if (locationRange[0].index !== locationRange[1].index) {\n        return true\n      }\n    }\n    return false\n  }\n\n  deleteInDirection(direction, { length } = {}) {\n    let attachment, deletingIntoPreviousBlock, selectionSpansBlocks\n    const locationRange = this.getLocationRange()\n    let range = this.getSelectedRange()\n    const selectionIsCollapsed = rangeIsCollapsed(range)\n\n    if (selectionIsCollapsed) {\n      deletingIntoPreviousBlock = direction === \"backward\" && locationRange[0].offset === 0\n    } else {\n      selectionSpansBlocks = locationRange[0].index !== locationRange[1].index\n    }\n\n    if (deletingIntoPreviousBlock) {\n      if (this.canDecreaseBlockAttributeLevel()) {\n        const block = this.getBlock()\n\n        if (block.isListItem()) {\n          this.decreaseListLevel()\n        } else {\n          this.decreaseBlockAttributeLevel()\n        }\n\n        this.setSelection(range[0])\n        if (block.isEmpty()) {\n          return false\n        }\n      }\n    }\n\n    if (selectionIsCollapsed) {\n      range = this.getExpandedRangeInDirection(direction, { length })\n      if (direction === \"backward\") {\n        attachment = this.getAttachmentAtRange(range)\n      }\n    }\n\n    if (attachment) {\n      this.editAttachment(attachment)\n      return false\n    } else {\n      this.setDocument(this.document.removeTextAtRange(range))\n      this.setSelection(range[0])\n      if (deletingIntoPreviousBlock || selectionSpansBlocks) {\n        return false\n      }\n    }\n  }\n\n  moveTextFromRange(range) {\n    const [ position ] = Array.from(this.getSelectedRange())\n    this.setDocument(this.document.moveTextFromRangeToPosition(range, position))\n    return this.setSelection(position)\n  }\n\n  removeAttachment(attachment) {\n    const range = this.document.getRangeOfAttachment(attachment)\n    if (range) {\n      this.stopEditingAttachment()\n      this.setDocument(this.document.removeTextAtRange(range))\n      return this.setSelection(range[0])\n    }\n  }\n\n  removeLastBlockAttribute() {\n    const [ startPosition, endPosition ] = Array.from(this.getSelectedRange())\n    const block = this.document.getBlockAtPosition(endPosition)\n    this.removeCurrentAttribute(block.getLastAttribute())\n    return this.setSelection(startPosition)\n  }\n\n  insertPlaceholder() {\n    this.placeholderPosition = this.getPosition()\n    return this.insertString(PLACEHOLDER)\n  }\n\n  selectPlaceholder() {\n    if (this.placeholderPosition != null) {\n      this.setSelectedRange([ this.placeholderPosition, this.placeholderPosition + PLACEHOLDER.length ])\n      return this.getSelectedRange()\n    }\n  }\n\n  forgetPlaceholder() {\n    this.placeholderPosition = null\n  }\n\n  // Current attributes\n\n  hasCurrentAttribute(attributeName) {\n    const value = this.currentAttributes[attributeName]\n    return value != null && value !== false\n  }\n\n  toggleCurrentAttribute(attributeName) {\n    const value = !this.currentAttributes[attributeName]\n    if (value) {\n      return this.setCurrentAttribute(attributeName, value)\n    } else {\n      return this.removeCurrentAttribute(attributeName)\n    }\n  }\n\n  canSetCurrentAttribute(attributeName) {\n    if (getBlockConfig(attributeName)) {\n      return this.canSetCurrentBlockAttribute(attributeName)\n    } else {\n      return this.canSetCurrentTextAttribute(attributeName)\n    }\n  }\n\n  canSetCurrentTextAttribute(attributeName) {\n    const document = this.getSelectedDocument()\n    if (!document) return\n    for (const attachment of Array.from(document.getAttachments())) {\n      if (!attachment.hasContent()) {\n        return false\n      }\n    }\n    return true\n  }\n\n  canSetCurrentBlockAttribute(attributeName) {\n    const block = this.getBlock()\n    if (!block) return\n    return !block.isTerminalBlock()\n  }\n\n  setCurrentAttribute(attributeName, value) {\n    if (getBlockConfig(attributeName)) {\n      return this.setBlockAttribute(attributeName, value)\n    } else {\n      this.setTextAttribute(attributeName, value)\n      this.currentAttributes[attributeName] = value\n      return this.notifyDelegateOfCurrentAttributesChange()\n    }\n  }\n\n  setHTMLAtributeAtPosition(position, attributeName, value) {\n    const block = this.document.getBlockAtPosition(position)\n    const allowedHTMLAttributes = getBlockConfig(block.getLastAttribute())?.htmlAttributes\n\n    if (block && allowedHTMLAttributes?.includes(attributeName)) {\n      const newDocument = this.document.setHTMLAttributeAtPosition(position, attributeName, value)\n      this.setDocument(newDocument)\n    }\n  }\n\n  setTextAttribute(attributeName, value) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n\n    const [ startPosition, endPosition ] = Array.from(selectedRange)\n    if (startPosition === endPosition) {\n      if (attributeName === \"href\") {\n        const text = Text.textForStringWithAttributes(value, { href: value })\n        return this.insertText(text)\n      }\n    } else {\n      return this.setDocument(this.document.addAttributeAtRange(attributeName, value, selectedRange))\n    }\n  }\n\n  setBlockAttribute(attributeName, value) {\n    const selectedRange = this.getSelectedRange()\n    if (this.canSetCurrentAttribute(attributeName)) {\n      this.setDocument(this.document.applyBlockAttributeAtRange(attributeName, value, selectedRange))\n      return this.setSelection(selectedRange)\n    }\n  }\n\n  removeCurrentAttribute(attributeName) {\n    if (getBlockConfig(attributeName)) {\n      this.removeBlockAttribute(attributeName)\n      return this.updateCurrentAttributes()\n    } else {\n      this.removeTextAttribute(attributeName)\n      delete this.currentAttributes[attributeName]\n      return this.notifyDelegateOfCurrentAttributesChange()\n    }\n  }\n\n  removeTextAttribute(attributeName) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n    return this.setDocument(this.document.removeAttributeAtRange(attributeName, selectedRange))\n  }\n\n  removeBlockAttribute(attributeName) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n    return this.setDocument(this.document.removeAttributeAtRange(attributeName, selectedRange))\n  }\n\n  canDecreaseNestingLevel() {\n    return this.getBlock()?.getNestingLevel() > 0\n  }\n\n  canIncreaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    if (getBlockConfig(block.getLastNestableAttribute())?.listAttribute) {\n      const previousBlock = this.getPreviousBlock()\n      if (previousBlock) {\n        return arrayStartsWith(previousBlock.getListItemAttributes(), block.getListItemAttributes())\n      }\n    } else {\n      return block.getNestingLevel() > 0\n    }\n  }\n\n  decreaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    return this.setDocument(this.document.replaceBlock(block, block.decreaseNestingLevel()))\n  }\n\n  increaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    return this.setDocument(this.document.replaceBlock(block, block.increaseNestingLevel()))\n  }\n\n  canDecreaseBlockAttributeLevel() {\n    return this.getBlock()?.getAttributeLevel() > 0\n  }\n\n  decreaseBlockAttributeLevel() {\n    const attribute = this.getBlock()?.getLastAttribute()\n    if (attribute) {\n      return this.removeCurrentAttribute(attribute)\n    }\n  }\n\n  decreaseListLevel() {\n    let [ startPosition ] = Array.from(this.getSelectedRange())\n    const { index } = this.document.locationFromPosition(startPosition)\n    let endIndex = index\n    const attributeLevel = this.getBlock().getAttributeLevel()\n\n    let block = this.document.getBlockAtIndex(endIndex + 1)\n    while (block) {\n      if (!block.isListItem() || block.getAttributeLevel() <= attributeLevel) {\n        break\n      }\n      endIndex++\n      block = this.document.getBlockAtIndex(endIndex + 1)\n    }\n\n    startPosition = this.document.positionFromLocation({ index, offset: 0 })\n    const endPosition = this.document.positionFromLocation({ index: endIndex, offset: 0 })\n    return this.setDocument(this.document.removeLastListAttributeAtRange([ startPosition, endPosition ]))\n  }\n\n  updateCurrentAttributes() {\n    const selectedRange = this.getSelectedRange({ ignoreLock: true })\n    if (selectedRange) {\n      const currentAttributes = this.document.getCommonAttributesAtRange(selectedRange)\n\n      Array.from(getAllAttributeNames()).forEach((attributeName) => {\n        if (!currentAttributes[attributeName]) {\n          if (!this.canSetCurrentAttribute(attributeName)) {\n            currentAttributes[attributeName] = false\n          }\n        }\n      })\n\n      if (!objectsAreEqual(currentAttributes, this.currentAttributes)) {\n        this.currentAttributes = currentAttributes\n        return this.notifyDelegateOfCurrentAttributesChange()\n      }\n    }\n  }\n\n  getCurrentAttributes() {\n    return extend.call({}, this.currentAttributes)\n  }\n\n  getCurrentTextAttributes() {\n    const attributes = {}\n    for (const key in this.currentAttributes) {\n      const value = this.currentAttributes[key]\n      if (value !== false) {\n        if (getTextConfig(key)) {\n          attributes[key] = value\n        }\n      }\n    }\n    return attributes\n  }\n\n  // Selection freezing\n\n  freezeSelection() {\n    return this.setCurrentAttribute(\"frozen\", true)\n  }\n\n  thawSelection() {\n    return this.removeCurrentAttribute(\"frozen\")\n  }\n\n  hasFrozenSelection() {\n    return this.hasCurrentAttribute(\"frozen\")\n  }\n\n  setSelection(selectedRange) {\n    const locationRange = this.document.locationRangeFromRange(selectedRange)\n    return this.delegate?.compositionDidRequestChangingSelectionToLocationRange(locationRange)\n  }\n\n  getSelectedRange() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.rangeFromLocationRange(locationRange)\n    }\n  }\n\n  setSelectedRange(selectedRange) {\n    const locationRange = this.document.locationRangeFromRange(selectedRange)\n    return this.getSelectionManager().setLocationRange(locationRange)\n  }\n\n  getPosition() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.positionFromLocation(locationRange[0])\n    }\n  }\n\n  getLocationRange(options) {\n    if (this.targetLocationRange) {\n      return this.targetLocationRange\n    } else {\n      return this.getSelectionManager().getLocationRange(options) || normalizeRange({ index: 0, offset: 0 })\n    }\n  }\n\n  withTargetLocationRange(locationRange, fn) {\n    let result\n    this.targetLocationRange = locationRange\n    try {\n      result = fn()\n    } finally {\n      this.targetLocationRange = null\n    }\n    return result\n  }\n\n  withTargetRange(range, fn) {\n    const locationRange = this.document.locationRangeFromRange(range)\n    return this.withTargetLocationRange(locationRange, fn)\n  }\n\n  withTargetDOMRange(domRange, fn) {\n    const locationRange = this.createLocationRangeFromDOMRange(domRange, { strict: false })\n    return this.withTargetLocationRange(locationRange, fn)\n  }\n\n  getExpandedRangeInDirection(direction, { length } = {}) {\n    let [ startPosition, endPosition ] = Array.from(this.getSelectedRange())\n    if (direction === \"backward\") {\n      if (length) {\n        startPosition -= length\n      } else {\n        startPosition = this.translateUTF16PositionFromOffset(startPosition, -1)\n      }\n    } else {\n      if (length) {\n        endPosition += length\n      } else {\n        endPosition = this.translateUTF16PositionFromOffset(endPosition, 1)\n      }\n    }\n    return normalizeRange([ startPosition, endPosition ])\n  }\n\n  shouldManageMovingCursorInDirection(direction) {\n    if (this.editingAttachment) {\n      return true\n    }\n    const range = this.getExpandedRangeInDirection(direction)\n    return this.getAttachmentAtRange(range) != null\n  }\n\n  moveCursorInDirection(direction) {\n    let canEditAttachment, range\n    if (this.editingAttachment) {\n      range = this.document.getRangeOfAttachment(this.editingAttachment)\n    } else {\n      const selectedRange = this.getSelectedRange()\n      range = this.getExpandedRangeInDirection(direction)\n      canEditAttachment = !rangesAreEqual(selectedRange, range)\n    }\n\n    if (direction === \"backward\") {\n      this.setSelectedRange(range[0])\n    } else {\n      this.setSelectedRange(range[1])\n    }\n\n    if (canEditAttachment) {\n      const attachment = this.getAttachmentAtRange(range)\n      if (attachment) {\n        return this.editAttachment(attachment)\n      }\n    }\n  }\n\n  expandSelectionInDirection(direction, { length } = {}) {\n    const range = this.getExpandedRangeInDirection(direction, { length })\n    return this.setSelectedRange(range)\n  }\n\n  expandSelectionForEditing() {\n    if (this.hasCurrentAttribute(\"href\")) {\n      return this.expandSelectionAroundCommonAttribute(\"href\")\n    }\n  }\n\n  expandSelectionAroundCommonAttribute(attributeName) {\n    const position = this.getPosition()\n    const range = this.document.getRangeOfCommonAttributeAtPosition(attributeName, position)\n    return this.setSelectedRange(range)\n  }\n\n  selectionContainsAttachments() {\n    return this.getSelectedAttachments()?.length > 0\n  }\n\n  selectionIsInCursorTarget() {\n    return this.editingAttachment || this.positionIsCursorTarget(this.getPosition())\n  }\n\n  positionIsCursorTarget(position) {\n    const location = this.document.locationFromPosition(position)\n    if (location) {\n      return this.locationIsCursorTarget(location)\n    }\n  }\n\n  positionIsBlockBreak(position) {\n    return this.document.getPieceAtPosition(position)?.isBlockBreak()\n  }\n\n  getSelectedDocument() {\n    const selectedRange = this.getSelectedRange()\n    if (selectedRange) {\n      return this.document.getDocumentAtRange(selectedRange)\n    }\n  }\n\n  getSelectedAttachments() {\n    return this.getSelectedDocument()?.getAttachments()\n  }\n\n  // Attachments\n\n  getAttachments() {\n    return this.attachments.slice(0)\n  }\n\n  refreshAttachments() {\n    const attachments = this.document.getAttachments()\n    const { added, removed } = summarizeArrayChange(this.attachments, attachments)\n    this.attachments = attachments\n\n    Array.from(removed).forEach((attachment) => {\n      attachment.delegate = null\n      this.delegate?.compositionDidRemoveAttachment?.(attachment)\n    })\n\n    return (() => {\n      const result = []\n\n      Array.from(added).forEach((attachment) => {\n        attachment.delegate = this\n        result.push(this.delegate?.compositionDidAddAttachment?.(attachment))\n      })\n\n      return result\n    })()\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeAttributes(attachment) {\n    this.revision++\n    return this.delegate?.compositionDidEditAttachment?.(attachment)\n  }\n\n  attachmentDidChangePreviewURL(attachment) {\n    this.revision++\n    return this.delegate?.compositionDidChangeAttachmentPreviewURL?.(attachment)\n  }\n\n  // Attachment editing\n\n  editAttachment(attachment, options) {\n    if (attachment === this.editingAttachment) return\n    this.stopEditingAttachment()\n    this.editingAttachment = attachment\n    return this.delegate?.compositionDidStartEditingAttachment?.(this.editingAttachment, options)\n  }\n\n  stopEditingAttachment() {\n    if (!this.editingAttachment) return\n    this.delegate?.compositionDidStopEditingAttachment?.(this.editingAttachment)\n    this.editingAttachment = null\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    return this.setDocument(this.document.updateAttributesForAttachment(attributes, attachment))\n  }\n\n  removeAttributeForAttachment(attribute, attachment) {\n    return this.setDocument(this.document.removeAttributeForAttachment(attribute, attachment))\n  }\n\n  // Private\n\n  breakFormattedBlock(insertion) {\n    let { document } = insertion\n    const { block } = insertion\n    let position = insertion.startPosition\n    let range = [ position - 1, position ]\n\n    if (block.getBlockBreakPosition() === insertion.startLocation.offset) {\n      if (block.breaksOnReturn() && insertion.nextCharacter === \"\\n\") {\n        position += 1\n      } else {\n        document = document.removeTextAtRange(range)\n      }\n      range = [ position, position ]\n    } else if (insertion.nextCharacter === \"\\n\") {\n      if (insertion.previousCharacter === \"\\n\") {\n        range = [ position - 1, position + 1 ]\n      } else {\n        range = [ position, position + 1 ]\n        position += 1\n      }\n    } else if (insertion.startLocation.offset - 1 !== 0) {\n      position += 1\n    }\n\n    const newDocument = new Document([ block.removeLastAttribute().copyWithoutText() ])\n    this.setDocument(document.insertDocumentAtRange(newDocument, range))\n    return this.setSelection(position)\n  }\n\n  getPreviousBlock() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      const { index } = locationRange[0]\n      if (index > 0) {\n        return this.document.getBlockAtIndex(index - 1)\n      }\n    }\n  }\n\n  getBlock() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.getBlockAtIndex(locationRange[0].index)\n    }\n  }\n\n  getAttachmentAtRange(range) {\n    const document = this.document.getDocumentAtRange(range)\n    if (document.toString() === `${OBJECT_REPLACEMENT_CHARACTER}\\n`) {\n      return document.getAttachments()[0]\n    }\n  }\n\n  notifyDelegateOfCurrentAttributesChange() {\n    return this.delegate?.compositionDidChangeCurrentAttributes?.(this.currentAttributes)\n  }\n\n  notifyDelegateOfInsertionAtRange(range) {\n    return this.delegate?.compositionDidPerformInsertionAtRange?.(range)\n  }\n\n  translateUTF16PositionFromOffset(position, offset) {\n    const utf16string = this.document.toUTF16String()\n    const utf16position = utf16string.offsetFromUCS2Offset(position)\n    return utf16string.offsetToUCS2Offset(utf16position + offset)\n  }\n}\n\nComposition.proxyMethod(\"getSelectionManager().getPointRange\")\nComposition.proxyMethod(\"getSelectionManager().setLocationRangeFromPointRange\")\nComposition.proxyMethod(\"getSelectionManager().createLocationRangeFromDOMRange\")\nComposition.proxyMethod(\"getSelectionManager().locationIsCursorTarget\")\nComposition.proxyMethod(\"getSelectionManager().selectionIsExpanded\")\nComposition.proxyMethod(\"delegate?.getSelectionManager\")\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class UndoManager extends BasicObject {\n  constructor(composition) {\n    super(...arguments)\n    this.composition = composition\n    this.undoEntries = []\n    this.redoEntries = []\n  }\n\n  recordUndoEntry(description, { context, consolidatable } = {}) {\n    const previousEntry = this.undoEntries.slice(-1)[0]\n\n    if (!consolidatable || !entryHasDescriptionAndContext(previousEntry, description, context)) {\n      const undoEntry = this.createEntry({ description, context })\n      this.undoEntries.push(undoEntry)\n      this.redoEntries = []\n    }\n  }\n\n  undo() {\n    const undoEntry = this.undoEntries.pop()\n    if (undoEntry) {\n      const redoEntry = this.createEntry(undoEntry)\n      this.redoEntries.push(redoEntry)\n      return this.composition.loadSnapshot(undoEntry.snapshot)\n    }\n  }\n\n  redo() {\n    const redoEntry = this.redoEntries.pop()\n    if (redoEntry) {\n      const undoEntry = this.createEntry(redoEntry)\n      this.undoEntries.push(undoEntry)\n      return this.composition.loadSnapshot(redoEntry.snapshot)\n    }\n  }\n\n  canUndo() {\n    return this.undoEntries.length > 0\n  }\n\n  canRedo() {\n    return this.redoEntries.length > 0\n  }\n\n  // Private\n\n  createEntry({ description, context } = {}) {\n    return {\n      description: description?.toString(),\n      context: JSON.stringify(context),\n      snapshot: this.composition.getSnapshot(),\n    }\n  }\n}\n\nconst entryHasDescriptionAndContext = (entry, description, context) =>\n  entry?.description === description?.toString() && entry?.context === JSON.stringify(context)\n", "const BLOCK_ATTRIBUTE_NAME = \"attachmentGallery\"\nconst TEXT_ATTRIBUTE_NAME = \"presentation\"\nconst TEXT_ATTRIBUTE_VALUE = \"gallery\"\n\nexport default class Filter {\n  constructor(snapshot) {\n    this.document = snapshot.document\n    this.selectedRange = snapshot.selectedRange\n  }\n\n  perform() {\n    this.removeBlockAttribute()\n    return this.applyBlockAttribute()\n  }\n\n  getSnapshot() {\n    return { document: this.document, selectedRange: this.selectedRange }\n  }\n\n  // Private\n\n  removeBlockAttribute() {\n    return this.findRangesOfBlocks().map((range) => this.document = this.document.removeAttributeAtRange(BLOCK_ATTRIBUTE_NAME, range))\n  }\n\n  applyBlockAttribute() {\n    let offset = 0\n\n    this.findRangesOfPieces().forEach((range) => {\n      if (range[1] - range[0] > 1) {\n        range[0] += offset\n        range[1] += offset\n\n        if (this.document.getCharacterAtPosition(range[1]) !== \"\\n\") {\n          this.document = this.document.insertBlockBreakAtRange(range[1])\n          if (range[1] < this.selectedRange[1]) {\n            this.moveSelectedRangeForward()\n          }\n          range[1]++\n          offset++\n        }\n\n        if (range[0] !== 0) {\n          if (this.document.getCharacterAtPosition(range[0] - 1) !== \"\\n\") {\n            this.document = this.document.insertBlockBreakAtRange(range[0])\n            if (range[0] < this.selectedRange[0]) {\n              this.moveSelectedRangeForward()\n            }\n            range[0]++\n            offset++\n          }\n        }\n\n        this.document = this.document.applyBlockAttributeAtRange(BLOCK_ATTRIBUTE_NAME, true, range)\n      }\n    })\n  }\n\n  findRangesOfBlocks() {\n    return this.document.findRangesForBlockAttribute(BLOCK_ATTRIBUTE_NAME)\n  }\n\n  findRangesOfPieces() {\n    return this.document.findRangesForTextAttribute(TEXT_ATTRIBUTE_NAME, { withValue: TEXT_ATTRIBUTE_VALUE })\n  }\n\n  moveSelectedRangeForward() {\n    this.selectedRange[0] += 1\n    this.selectedRange[1] += 1\n  }\n}\n", "import Filter from \"./filter\"\n\nexport const attachmentGalleryFilter = function(snapshot) {\n  const filter = new Filter(snapshot)\n  filter.perform()\n  return filter.getSnapshot()\n}\n\n", "import Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\nimport UndoManager from \"trix/models/undo_manager\"\nimport { attachmentGalleryFilter } from \"trix/filters/attachment_gallery_filter\"\nconst DEFAULT_FILTERS = [ attachmentGalleryFilter ]\n\nexport default class Editor {\n  constructor(composition, selectionManager, element) {\n    this.insertFiles = this.insertFiles.bind(this)\n    this.composition = composition\n    this.selectionManager = selectionManager\n    this.element = element\n    this.undoManager = new UndoManager(this.composition)\n    this.filters = DEFAULT_FILTERS.slice(0)\n  }\n\n  loadDocument(document) {\n    return this.loadSnapshot({ document, selectedRange: [ 0, 0 ] })\n  }\n\n  loadHTML(html = \"\") {\n    const document = HTMLParser.parse(html, { referenceElement: this.element }).getDocument()\n    return this.loadDocument(document)\n  }\n\n  loadJSON({ document, selectedRange }) {\n    document = Document.fromJSON(document)\n    return this.loadSnapshot({ document, selectedRange })\n  }\n\n  loadSnapshot(snapshot) {\n    this.undoManager = new UndoManager(this.composition)\n    return this.composition.loadSnapshot(snapshot)\n  }\n\n  getDocument() {\n    return this.composition.document\n  }\n\n  getSelectedDocument() {\n    return this.composition.getSelectedDocument()\n  }\n\n  getSnapshot() {\n    return this.composition.getSnapshot()\n  }\n\n  toJSON() {\n    return this.getSnapshot()\n  }\n\n  // Document manipulation\n\n  deleteInDirection(direction) {\n    return this.composition.deleteInDirection(direction)\n  }\n\n  insertAttachment(attachment) {\n    return this.composition.insertAttachment(attachment)\n  }\n\n  insertAttachments(attachments) {\n    return this.composition.insertAttachments(attachments)\n  }\n\n  insertDocument(document) {\n    return this.composition.insertDocument(document)\n  }\n\n  insertFile(file) {\n    return this.composition.insertFile(file)\n  }\n\n  insertFiles(files) {\n    return this.composition.insertFiles(files)\n  }\n\n  insertHTML(html) {\n    return this.composition.insertHTML(html)\n  }\n\n  insertString(string) {\n    return this.composition.insertString(string)\n  }\n\n  insertText(text) {\n    return this.composition.insertText(text)\n  }\n\n  insertLineBreak() {\n    return this.composition.insertLineBreak()\n  }\n\n  // Selection\n\n  getSelectedRange() {\n    return this.composition.getSelectedRange()\n  }\n\n  getPosition() {\n    return this.composition.getPosition()\n  }\n\n  getClientRectAtPosition(position) {\n    const locationRange = this.getDocument().locationRangeFromRange([ position, position + 1 ])\n    return this.selectionManager.getClientRectAtLocationRange(locationRange)\n  }\n\n  expandSelectionInDirection(direction) {\n    return this.composition.expandSelectionInDirection(direction)\n  }\n\n  moveCursorInDirection(direction) {\n    return this.composition.moveCursorInDirection(direction)\n  }\n\n  setSelectedRange(selectedRange) {\n    return this.composition.setSelectedRange(selectedRange)\n  }\n\n  // Attributes\n\n  activateAttribute(name, value = true) {\n    return this.composition.setCurrentAttribute(name, value)\n  }\n\n  attributeIsActive(name) {\n    return this.composition.hasCurrentAttribute(name)\n  }\n\n  canActivateAttribute(name) {\n    return this.composition.canSetCurrentAttribute(name)\n  }\n\n  deactivateAttribute(name) {\n    return this.composition.removeCurrentAttribute(name)\n  }\n\n  // HTML attributes\n  setHTMLAtributeAtPosition(position, name, value) {\n    this.composition.setHTMLAtributeAtPosition(position, name, value)\n  }\n\n  // Nesting level\n\n  canDecreaseNestingLevel() {\n    return this.composition.canDecreaseNestingLevel()\n  }\n\n  canIncreaseNestingLevel() {\n    return this.composition.canIncreaseNestingLevel()\n  }\n\n  decreaseNestingLevel() {\n    if (this.canDecreaseNestingLevel()) {\n      return this.composition.decreaseNestingLevel()\n    }\n  }\n\n  increaseNestingLevel() {\n    if (this.canIncreaseNestingLevel()) {\n      return this.composition.increaseNestingLevel()\n    }\n  }\n\n  // Undo/redo\n\n  canRedo() {\n    return this.undoManager.canRedo()\n  }\n\n  canUndo() {\n    return this.undoManager.canUndo()\n  }\n\n  recordUndoEntry(description, { context, consolidatable } = {}) {\n    return this.undoManager.recordUndoEntry(description, { context, consolidatable })\n  }\n\n  redo() {\n    if (this.canRedo()) {\n      return this.undoManager.redo()\n    }\n  }\n\n  undo() {\n    if (this.canUndo()) {\n      return this.undoManager.undo()\n    }\n  }\n}\n", "/* eslint-disable\n    no-var,\n    prefer-const,\n*/\nimport {\n  elementContainsNode,\n  findChildIndexOfNode,\n  nodeIsAttachmentElement,\n  nodeIsBlockContainer,\n  nodeIsBlockStart,\n  nodeIsBlockStartComment,\n  nodeIsCursorTarget,\n  nodeIsEmptyTextNode,\n  nodeIsTextNode,\n  tagName,\n  walkTree,\n} from \"trix/core/helpers\"\n\nexport default class LocationMapper {\n  constructor(element) {\n    this.element = element\n  }\n\n  findLocationFromContainerAndOffset(container, offset, { strict } = { strict: true }) {\n    let childIndex = 0\n    let foundBlock = false\n    const location = { index: 0, offset: 0 }\n    const attachmentElement = this.findAttachmentElementParentForNode(container)\n\n    if (attachmentElement) {\n      container = attachmentElement.parentNode\n      offset = findChildIndexOfNode(attachmentElement)\n    }\n\n    const walker = walkTree(this.element, { usingFilter: rejectAttachmentContents })\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n\n      if (node === container && nodeIsTextNode(container)) {\n        if (!nodeIsCursorTarget(node)) {\n          location.offset += offset\n        }\n        break\n      } else {\n        if (node.parentNode === container) {\n          if (childIndex++ === offset) {\n            break\n          }\n        } else if (!elementContainsNode(container, node)) {\n          if (childIndex > 0) {\n            break\n          }\n        }\n\n        if (nodeIsBlockStart(node, { strict })) {\n          if (foundBlock) {\n            location.index++\n          }\n          location.offset = 0\n          foundBlock = true\n        } else {\n          location.offset += nodeLength(node)\n        }\n      }\n    }\n\n    return location\n  }\n\n  findContainerAndOffsetFromLocation(location) {\n    let container, offset\n    if (location.index === 0 && location.offset === 0) {\n      container = this.element\n      offset = 0\n\n      while (container.firstChild) {\n        container = container.firstChild\n        if (nodeIsBlockContainer(container)) {\n          offset = 1\n          break\n        }\n      }\n\n      return [ container, offset ]\n    }\n\n    let [ node, nodeOffset ] = this.findNodeAndOffsetFromLocation(location)\n    if (!node) return\n\n    if (nodeIsTextNode(node)) {\n      if (nodeLength(node) === 0) {\n        container = node.parentNode.parentNode\n        offset = findChildIndexOfNode(node.parentNode)\n        if (nodeIsCursorTarget(node, { name: \"right\" })) {\n          offset++\n        }\n      } else {\n        container = node\n        offset = location.offset - nodeOffset\n      }\n    } else {\n      container = node.parentNode\n\n      if (!nodeIsBlockStart(node.previousSibling)) {\n        if (!nodeIsBlockContainer(container)) {\n          while (node === container.lastChild) {\n            node = container\n            container = container.parentNode\n            if (nodeIsBlockContainer(container)) {\n              break\n            }\n          }\n        }\n      }\n\n      offset = findChildIndexOfNode(node)\n      if (location.offset !== 0) {\n        offset++\n      }\n    }\n\n    return [ container, offset ]\n  }\n\n  findNodeAndOffsetFromLocation(location) {\n    let node, nodeOffset\n    let offset = 0\n\n    for (const currentNode of this.getSignificantNodesForIndex(location.index)) {\n      const length = nodeLength(currentNode)\n\n      if (location.offset <= offset + length) {\n        if (nodeIsTextNode(currentNode)) {\n          node = currentNode\n          nodeOffset = offset\n          if (location.offset === nodeOffset && nodeIsCursorTarget(node)) {\n            break\n          }\n        } else if (!node) {\n          node = currentNode\n          nodeOffset = offset\n        }\n      }\n\n      offset += length\n      if (offset > location.offset) {\n        break\n      }\n    }\n\n    return [ node, nodeOffset ]\n  }\n\n  // Private\n\n  findAttachmentElementParentForNode(node) {\n    while (node && node !== this.element) {\n      if (nodeIsAttachmentElement(node)) {\n        return node\n      }\n      node = node.parentNode\n    }\n  }\n\n  getSignificantNodesForIndex(index) {\n    const nodes = []\n    const walker = walkTree(this.element, { usingFilter: acceptSignificantNodes })\n    let recordingNodes = false\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n      if (nodeIsBlockStartComment(node)) {\n        var blockIndex\n        if (blockIndex != null) {\n          blockIndex++\n        } else {\n          blockIndex = 0\n        }\n\n        if (blockIndex === index) {\n          recordingNodes = true\n        } else if (recordingNodes) {\n          break\n        }\n      } else if (recordingNodes) {\n        nodes.push(node)\n      }\n    }\n\n    return nodes\n  }\n}\n\nconst nodeLength = function(node) {\n  if (node.nodeType === Node.TEXT_NODE) {\n    if (nodeIsCursorTarget(node)) {\n      return 0\n    } else {\n      const string = node.textContent\n      return string.length\n    }\n  } else if (tagName(node) === \"br\" || nodeIsAttachmentElement(node)) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nconst acceptSignificantNodes = function(node) {\n  if (rejectEmptyTextNodes(node) === NodeFilter.FILTER_ACCEPT) {\n    return rejectAttachmentContents(node)\n  } else {\n    return NodeFilter.FILTER_REJECT\n  }\n}\n\nconst rejectEmptyTextNodes = function(node) {\n  if (nodeIsEmptyTextNode(node)) {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n\nconst rejectAttachmentContents = function(node) {\n  if (nodeIsAttachmentElement(node.parentNode)) {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n", "/* eslint-disable\n    id-length,\n    no-empty,\n*/\nimport { getDOMRange, setDOMRange } from \"trix/core/helpers\"\n\nexport default class PointMapper {\n  createDOMRangeFromPoint({ x, y }) {\n    let domRange\n    if (document.caretPositionFromPoint) {\n      const { offsetNode, offset } = document.caretPositionFromPoint(x, y)\n      domRange = document.createRange()\n      domRange.setStart(offsetNode, offset)\n      return domRange\n    } else if (document.caretRangeFromPoint) {\n      return document.caretRangeFromPoint(x, y)\n    } else if (document.body.createTextRange) {\n      const originalDOMRange = getDOMRange()\n      try {\n        // IE 11 throws \"Unspecified error\" when using moveToPoint\n        // during a drag-and-drop operation.\n        const textRange = document.body.createTextRange()\n        textRange.moveToPoint(x, y)\n        textRange.select()\n      } catch (error) {}\n      domRange = getDOMRange()\n      setDOMRange(originalDOMRange)\n      return domRange\n    }\n  }\n\n  getClientRectsForDOMRange(domRange) {\n    const array = Array.from(domRange.getClientRects())\n    const start = array[0]\n    const end = array[array.length - 1]\n\n    return [ start, end ]\n  }\n}\n", "/* eslint-disable\n*/\nimport BasicObject from \"trix/core/basic_object\"\n\nimport LocationMapper from \"trix/models/location_mapper\"\nimport PointMapper from \"trix/models/point_mapper\"\n\nimport {\n  elementContainsNode,\n  getDOMRange,\n  getDOMSelection,\n  handleEvent,\n  innerElementIsActive,\n  nodeIsCursorTarget,\n  normalizeRange,\n  rangeIsCollapsed,\n  rangesAreEqual,\n  setDOMRange,\n} from \"trix/core/helpers\"\n\nexport default class SelectionManager extends BasicObject {\n  constructor(element) {\n    super(...arguments)\n    this.didMouseDown = this.didMouseDown.bind(this)\n    this.selectionDidChange = this.selectionDidChange.bind(this)\n    this.element = element\n    this.locationMapper = new LocationMapper(this.element)\n    this.pointMapper = new PointMapper()\n    this.lockCount = 0\n    handleEvent(\"mousedown\", { onElement: this.element, withCallback: this.didMouseDown })\n  }\n\n  getLocationRange(options = {}) {\n    if (options.strict === false) {\n      return this.createLocationRangeFromDOMRange(getDOMRange())\n    } else if (options.ignoreLock) {\n      return this.currentLocationRange\n    } else if (this.lockedLocationRange) {\n      return this.lockedLocationRange\n    } else {\n      return this.currentLocationRange\n    }\n  }\n\n  setLocationRange(locationRange) {\n    if (this.lockedLocationRange) return\n    locationRange = normalizeRange(locationRange)\n\n    const domRange = this.createDOMRangeFromLocationRange(locationRange)\n    if (domRange) {\n      setDOMRange(domRange)\n      this.updateCurrentLocationRange(locationRange)\n    }\n  }\n\n  setLocationRangeFromPointRange(pointRange) {\n    pointRange = normalizeRange(pointRange)\n    const startLocation = this.getLocationAtPoint(pointRange[0])\n    const endLocation = this.getLocationAtPoint(pointRange[1])\n    this.setLocationRange([ startLocation, endLocation ])\n  }\n\n  getClientRectAtLocationRange(locationRange) {\n    const domRange = this.createDOMRangeFromLocationRange(locationRange)\n    if (domRange) {\n      return this.getClientRectsForDOMRange(domRange)[1]\n    }\n  }\n\n  locationIsCursorTarget(location) {\n    const node = Array.from(this.findNodeAndOffsetFromLocation(location))[0]\n    return nodeIsCursorTarget(node)\n  }\n\n  lock() {\n    if (this.lockCount++ === 0) {\n      this.updateCurrentLocationRange()\n      this.lockedLocationRange = this.getLocationRange()\n    }\n  }\n\n  unlock() {\n    if (--this.lockCount === 0) {\n      const { lockedLocationRange } = this\n      this.lockedLocationRange = null\n      if (lockedLocationRange != null) {\n        return this.setLocationRange(lockedLocationRange)\n      }\n    }\n  }\n\n  clearSelection() {\n    return getDOMSelection()?.removeAllRanges()\n  }\n\n  selectionIsCollapsed() {\n    return getDOMRange()?.collapsed === true\n  }\n\n  selectionIsExpanded() {\n    return !this.selectionIsCollapsed()\n  }\n\n  createLocationRangeFromDOMRange(domRange, options) {\n    if (domRange == null || !this.domRangeWithinElement(domRange)) return\n\n    const start = this.findLocationFromContainerAndOffset(domRange.startContainer, domRange.startOffset, options)\n    if (!start) return\n\n    const end = domRange.collapsed\n      ? undefined\n      : this.findLocationFromContainerAndOffset(domRange.endContainer, domRange.endOffset, options)\n\n    return normalizeRange([ start, end ])\n  }\n\n  didMouseDown() {\n    return this.pauseTemporarily()\n  }\n\n  pauseTemporarily() {\n    let resumeHandlers\n    this.paused = true\n\n    const resume = () => {\n      this.paused = false\n      clearTimeout(resumeTimeout)\n\n      Array.from(resumeHandlers).forEach((handler) => {\n        handler.destroy()\n      })\n\n      if (elementContainsNode(document, this.element)) {\n        return this.selectionDidChange()\n      }\n    }\n\n    const resumeTimeout = setTimeout(resume, 200)\n\n    resumeHandlers = [ \"mousemove\", \"keydown\" ].map((eventName) =>\n      handleEvent(eventName, { onElement: document, withCallback: resume })\n    )\n  }\n\n  selectionDidChange() {\n    if (!this.paused && !innerElementIsActive(this.element)) {\n      return this.updateCurrentLocationRange()\n    }\n  }\n\n  updateCurrentLocationRange(locationRange) {\n    if (locationRange != null ? locationRange : locationRange = this.createLocationRangeFromDOMRange(getDOMRange())) {\n      if (!rangesAreEqual(locationRange, this.currentLocationRange)) {\n        this.currentLocationRange = locationRange\n        return this.delegate?.locationRangeDidChange?.(this.currentLocationRange.slice(0))\n      }\n    }\n  }\n\n  createDOMRangeFromLocationRange(locationRange) {\n    const rangeStart = this.findContainerAndOffsetFromLocation(locationRange[0])\n    const rangeEnd = rangeIsCollapsed(locationRange)\n      ? rangeStart\n      : this.findContainerAndOffsetFromLocation(locationRange[1]) || rangeStart\n\n    if (rangeStart != null && rangeEnd != null) {\n      const domRange = document.createRange()\n      domRange.setStart(...Array.from(rangeStart || []))\n      domRange.setEnd(...Array.from(rangeEnd || []))\n      return domRange\n    }\n  }\n\n  getLocationAtPoint(point) {\n    const domRange = this.createDOMRangeFromPoint(point)\n    if (domRange) {\n      return this.createLocationRangeFromDOMRange(domRange)?.[0]\n    }\n  }\n\n  domRangeWithinElement(domRange) {\n    if (domRange.collapsed) {\n      return elementContainsNode(this.element, domRange.startContainer)\n    } else {\n      return (\n        elementContainsNode(this.element, domRange.startContainer) &&\n        elementContainsNode(this.element, domRange.endContainer)\n      )\n    }\n  }\n}\n\nSelectionManager.proxyMethod(\"locationMapper.findLocationFromContainerAndOffset\")\nSelectionManager.proxyMethod(\"locationMapper.findContainerAndOffsetFromLocation\")\nSelectionManager.proxyMethod(\"locationMapper.findNodeAndOffsetFromLocation\")\nSelectionManager.proxyMethod(\"pointMapper.createDOMRangeFromPoint\")\nSelectionManager.proxyMethod(\"pointMapper.getClientRectsForDOMRange\")\n\n", "import { removeNode } from \"trix/core/helpers\"\n\nimport * as config from \"trix/config\"\nimport BasicObject from \"trix/core/basic_object\"\n\nimport { defer, handleEvent, makeElement, tagName, triggerEvent } from \"trix/core/helpers\"\nconst { lang, css, keyNames } = config\n\nconst undoable = function(fn) {\n  return function() {\n    const commands = fn.apply(this, arguments)\n    commands.do()\n    if (!this.undos) {\n      this.undos = []\n    }\n    this.undos.push(commands.undo)\n  }\n}\n\nexport default class AttachmentEditorController extends BasicObject {\n  constructor(attachmentPiece, element, container, options = {}) {\n    super(...arguments)\n    this.didClickToolbar = this.didClickToolbar.bind(this)\n    this.didClickActionButton = this.didClickActionButton.bind(this)\n    this.didKeyDownCaption = this.didKeyDownCaption.bind(this)\n    this.didInputCaption = this.didInputCaption.bind(this)\n    this.didChangeCaption = this.didChangeCaption.bind(this)\n    this.didBlurCaption = this.didBlurCaption.bind(this)\n    this.attachmentPiece = attachmentPiece\n    this.element = element\n    this.container = container\n    this.options = options\n    this.attachment = this.attachmentPiece.attachment\n    if (tagName(this.element) === \"a\") {\n      this.element = this.element.firstChild\n    }\n    this.install()\n  }\n\n  install() {\n    this.makeElementMutable()\n    this.addToolbar()\n    if (this.attachment.isPreviewable()) {\n      this.installCaptionEditor()\n    }\n  }\n\n  uninstall() {\n    let undo = this.undos.pop()\n    this.savePendingCaption()\n    while (undo) {\n      undo()\n      undo = this.undos.pop()\n    }\n    this.delegate?.didUninstallAttachmentEditor(this)\n  }\n\n  // Private\n\n  savePendingCaption() {\n    if (this.pendingCaption != null) {\n      const caption = this.pendingCaption\n      this.pendingCaption = null\n      if (caption) {\n        this.delegate?.attachmentEditorDidRequestUpdatingAttributesForAttachment?.({ caption }, this.attachment)\n      } else {\n        this.delegate?.attachmentEditorDidRequestRemovingAttributeForAttachment?.(\"caption\", this.attachment)\n      }\n    }\n  }\n\n  // Installing and uninstalling\n\n  makeElementMutable = undoable(() => {\n    return {\n      do: () => {\n        this.element.dataset.trixMutable = true\n      },\n      undo: () => delete this.element.dataset.trixMutable,\n    }\n  })\n\n  addToolbar = undoable(() => {\n    // <div class=\"#{css.attachmentMetadataContainer}\" data-trix-mutable=\"true\">\n    //   <div class=\"trix-button-row\">\n    //     <span class=\"trix-button-group trix-button-group--actions\">\n    //       <button type=\"button\" class=\"trix-button trix-button--remove\" title=\"#{lang.remove}\" data-trix-action=\"remove\">#{lang.remove}</button>\n    //     </span>\n    //   </div>\n    // </div>\n    const element = makeElement({\n      tagName: \"div\",\n      className: css.attachmentToolbar,\n      data: { trixMutable: true },\n      childNodes: makeElement({\n        tagName: \"div\",\n        className: \"trix-button-row\",\n        childNodes: makeElement({\n          tagName: \"span\",\n          className: \"trix-button-group trix-button-group--actions\",\n          childNodes: makeElement({\n            tagName: \"button\",\n            className: \"trix-button trix-button--remove\",\n            textContent: lang.remove,\n            attributes: { title: lang.remove },\n            data: { trixAction: \"remove\" },\n          }),\n        }),\n      }),\n    })\n\n    if (this.attachment.isPreviewable()) {\n      // <div class=\"#{css.attachmentMetadataContainer}\">\n      //   <span class=\"#{css.attachmentMetadata}\">\n      //     <span class=\"#{css.attachmentName}\" title=\"#{name}\">#{name}</span>\n      //     <span class=\"#{css.attachmentSize}\">#{size}</span>\n      //   </span>\n      // </div>\n      element.appendChild(\n        makeElement({\n          tagName: \"div\",\n          className: css.attachmentMetadataContainer,\n          childNodes: makeElement({\n            tagName: \"span\",\n            className: css.attachmentMetadata,\n            childNodes: [\n              makeElement({\n                tagName: \"span\",\n                className: css.attachmentName,\n                textContent: this.attachment.getFilename(),\n                attributes: { title: this.attachment.getFilename() },\n              }),\n              makeElement({\n                tagName: \"span\",\n                className: css.attachmentSize,\n                textContent: this.attachment.getFormattedFilesize(),\n              }),\n            ],\n          }),\n        })\n      )\n    }\n\n    handleEvent(\"click\", { onElement: element, withCallback: this.didClickToolbar })\n    handleEvent(\"click\", {\n      onElement: element,\n      matchingSelector: \"[data-trix-action]\",\n      withCallback: this.didClickActionButton,\n    })\n\n    triggerEvent(\"trix-attachment-before-toolbar\", { onElement: this.element, attributes: { toolbar: element, attachment: this.attachment } })\n\n    return {\n      do: () => this.element.appendChild(element),\n      undo: () => removeNode(element),\n    }\n  })\n\n  installCaptionEditor = undoable(() => {\n    const textarea = makeElement({\n      tagName: \"textarea\",\n      className: css.attachmentCaptionEditor,\n      attributes: { placeholder: lang.captionPlaceholder },\n      data: { trixMutable: true },\n    })\n    textarea.value = this.attachmentPiece.getCaption()\n\n    const textareaClone = textarea.cloneNode()\n    textareaClone.classList.add(\"trix-autoresize-clone\")\n    textareaClone.tabIndex = -1\n\n    const autoresize = function() {\n      textareaClone.value = textarea.value\n      textarea.style.height = textareaClone.scrollHeight + \"px\"\n    }\n\n    handleEvent(\"input\", { onElement: textarea, withCallback: autoresize })\n    handleEvent(\"input\", { onElement: textarea, withCallback: this.didInputCaption })\n    handleEvent(\"keydown\", { onElement: textarea, withCallback: this.didKeyDownCaption })\n    handleEvent(\"change\", { onElement: textarea, withCallback: this.didChangeCaption })\n    handleEvent(\"blur\", { onElement: textarea, withCallback: this.didBlurCaption })\n\n    const figcaption = this.element.querySelector(\"figcaption\")\n    const editingFigcaption = figcaption.cloneNode()\n\n    return {\n      do: () => {\n        figcaption.style.display = \"none\"\n        editingFigcaption.appendChild(textarea)\n        editingFigcaption.appendChild(textareaClone)\n        editingFigcaption.classList.add(`${css.attachmentCaption}--editing`)\n        figcaption.parentElement.insertBefore(editingFigcaption, figcaption)\n        autoresize()\n        if (this.options.editCaption) {\n          return defer(() => textarea.focus())\n        }\n      },\n      undo() {\n        removeNode(editingFigcaption)\n        figcaption.style.display = null\n      },\n    }\n  })\n\n  // Event handlers\n\n  didClickToolbar(event) {\n    event.preventDefault()\n    return event.stopPropagation()\n  }\n\n  didClickActionButton(event) {\n    const action = event.target.getAttribute(\"data-trix-action\")\n    switch (action) {\n      case \"remove\":\n        return this.delegate?.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)\n    }\n  }\n\n  didKeyDownCaption(event) {\n    if (keyNames[event.keyCode] === \"return\") {\n      event.preventDefault()\n      this.savePendingCaption()\n      return this.delegate?.attachmentEditorDidRequestDeselectingAttachment?.(this.attachment)\n    }\n  }\n\n  didInputCaption(event) {\n    this.pendingCaption = event.target.value.replace(/\\s/g, \" \").trim()\n  }\n\n  didChangeCaption(event) {\n    return this.savePendingCaption()\n  }\n\n  didBlurCaption(event) {\n    return this.savePendingCaption()\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\nimport DocumentView from \"trix/views/document_view\"\nimport AttachmentEditorController from \"trix/controllers/attachment_editor_controller\"\n\nimport { defer, findClosestElementFromNode, handleEvent, innerElementIsActive } from \"trix/core/helpers\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nexport default class CompositionController extends BasicObject {\n  constructor(element, composition) {\n    super(...arguments)\n    this.didFocus = this.didFocus.bind(this)\n    this.didBlur = this.didBlur.bind(this)\n    this.didClickAttachment = this.didClickAttachment.bind(this)\n\n    this.element = element\n    this.composition = composition\n    this.documentView = new DocumentView(this.composition.document, { element: this.element })\n\n    handleEvent(\"focus\", { onElement: this.element, withCallback: this.didFocus })\n    handleEvent(\"blur\", { onElement: this.element, withCallback: this.didBlur })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"a[contenteditable=false]\",\n      preventDefault: true,\n    })\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: attachmentSelector,\n      withCallback: this.didClickAttachment,\n    })\n    handleEvent(\"click\", { onElement: this.element, matchingSelector: `a${attachmentSelector}`, preventDefault: true })\n  }\n\n  didFocus(event) {\n    const perform = () => {\n      if (!this.focused) {\n        this.focused = true\n        return this.delegate?.compositionControllerDidFocus?.()\n      }\n    }\n\n    return this.blurPromise?.then(perform) || perform()\n  }\n\n  didBlur(event) {\n    this.blurPromise = new Promise((resolve) => {\n      return defer(() => {\n        if (!innerElementIsActive(this.element)) {\n          this.focused = null\n          this.delegate?.compositionControllerDidBlur?.()\n        }\n        this.blurPromise = null\n        return resolve()\n      })\n    })\n  }\n\n  didClickAttachment(event, target) {\n    const attachment = this.findAttachmentForElement(target)\n    const editCaption = !!findClosestElementFromNode(event.target, { matchingSelector: \"figcaption\" })\n    return this.delegate?.compositionControllerDidSelectAttachment?.(attachment, { editCaption })\n  }\n\n  getSerializableElement() {\n    if (this.isEditingAttachment()) {\n      return this.documentView.shadowElement\n    } else {\n      return this.element\n    }\n  }\n\n  render() {\n    if (this.revision !== this.composition.revision) {\n      this.documentView.setDocument(this.composition.document)\n      this.documentView.render()\n      this.revision = this.composition.revision\n    }\n\n    if (this.canSyncDocumentView() && !this.documentView.isSynced()) {\n      this.delegate?.compositionControllerWillSyncDocumentView?.()\n      this.documentView.sync()\n      this.delegate?.compositionControllerDidSyncDocumentView?.()\n    }\n\n    return this.delegate?.compositionControllerDidRender?.()\n  }\n\n  rerenderViewForObject(object) {\n    this.invalidateViewForObject(object)\n    return this.render()\n  }\n\n  invalidateViewForObject(object) {\n    return this.documentView.invalidateViewForObject(object)\n  }\n\n  isViewCachingEnabled() {\n    return this.documentView.isViewCachingEnabled()\n  }\n\n  enableViewCaching() {\n    return this.documentView.enableViewCaching()\n  }\n\n  disableViewCaching() {\n    return this.documentView.disableViewCaching()\n  }\n\n  refreshViewCache() {\n    return this.documentView.garbageCollectCachedViews()\n  }\n\n  // Attachment editor management\n\n  isEditingAttachment() {\n    return !!this.attachmentEditor\n  }\n\n  installAttachmentEditorForAttachment(attachment, options) {\n    if (this.attachmentEditor?.attachment === attachment) return\n    const element = this.documentView.findElementForObject(attachment)\n    if (!element) return\n\n    this.uninstallAttachmentEditor()\n    const attachmentPiece = this.composition.document.getAttachmentPieceForAttachment(attachment)\n    this.attachmentEditor = new AttachmentEditorController(attachmentPiece, element, this.element, options)\n    this.attachmentEditor.delegate = this\n  }\n\n  uninstallAttachmentEditor() {\n    return this.attachmentEditor?.uninstall()\n  }\n\n  // Attachment controller delegate\n\n  didUninstallAttachmentEditor() {\n    this.attachmentEditor = null\n    return this.render()\n  }\n\n  attachmentEditorDidRequestUpdatingAttributesForAttachment(attributes, attachment) {\n    this.delegate?.compositionControllerWillUpdateAttachment?.(attachment)\n    return this.composition.updateAttributesForAttachment(attributes, attachment)\n  }\n\n  attachmentEditorDidRequestRemovingAttributeForAttachment(attribute, attachment) {\n    this.delegate?.compositionControllerWillUpdateAttachment?.(attachment)\n    return this.composition.removeAttributeForAttachment(attribute, attachment)\n  }\n\n  attachmentEditorDidRequestRemovalOfAttachment(attachment) {\n    return this.delegate?.compositionControllerDidRequestRemovalOfAttachment?.(attachment)\n  }\n\n  attachmentEditorDidRequestDeselectingAttachment(attachment) {\n    return this.delegate?.compositionControllerDidRequestDeselectingAttachment?.(attachment)\n  }\n\n  // Private\n\n  canSyncDocumentView() {\n    return !this.isEditingAttachment()\n  }\n\n  findAttachmentForElement(element) {\n    return this.composition.document.getAttachmentById(parseInt(element.dataset.trixId, 10))\n  }\n}\n", "import \"trix/views/object_view\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class Controller extends BasicObject {}\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport {\n  findClosestElementFromNode,\n  nodeIsBlockStartComment,\n  nodeIsEmptyTextNode,\n  normalizeSpaces,\n  summarizeStringChange,\n  tagName,\n} from \"trix/core/helpers\"\n\nconst mutableAttributeName = \"data-trix-mutable\"\nconst mutableSelector = `[${mutableAttributeName}]`\n\nconst options = {\n  attributes: true,\n  childList: true,\n  characterData: true,\n  characterDataOldValue: true,\n  subtree: true,\n}\n\nexport default class MutationObserver extends BasicObject {\n  constructor(element) {\n    super(element)\n    this.didMutate = this.didMutate.bind(this)\n    this.element = element\n    this.observer = new window.MutationObserver(this.didMutate)\n    this.start()\n  }\n\n  start() {\n    this.reset()\n    return this.observer.observe(this.element, options)\n  }\n\n  stop() {\n    return this.observer.disconnect()\n  }\n\n  didMutate(mutations) {\n    this.mutations.push(...Array.from(this.findSignificantMutations(mutations) || []))\n\n    if (this.mutations.length) {\n      this.delegate?.elementDidMutate?.(this.getMutationSummary())\n      return this.reset()\n    }\n  }\n\n  // Private\n\n  reset() {\n    this.mutations = []\n  }\n\n  findSignificantMutations(mutations) {\n    return mutations.filter((mutation) => {\n      return this.mutationIsSignificant(mutation)\n    })\n  }\n\n  mutationIsSignificant(mutation) {\n    if (this.nodeIsMutable(mutation.target)) {\n      return false\n    }\n    for (const node of Array.from(this.nodesModifiedByMutation(mutation))) {\n      if (this.nodeIsSignificant(node)) return true\n    }\n    return false\n  }\n\n  nodeIsSignificant(node) {\n    return node !== this.element && !this.nodeIsMutable(node) && !nodeIsEmptyTextNode(node)\n  }\n\n  nodeIsMutable(node) {\n    return findClosestElementFromNode(node, { matchingSelector: mutableSelector })\n  }\n\n  nodesModifiedByMutation(mutation) {\n    const nodes = []\n    switch (mutation.type) {\n      case \"attributes\":\n        if (mutation.attributeName !== mutableAttributeName) {\n          nodes.push(mutation.target)\n        }\n        break\n      case \"characterData\":\n        // Changes to text nodes should consider the parent element\n        nodes.push(mutation.target.parentNode)\n        nodes.push(mutation.target)\n        break\n      case \"childList\":\n        // Consider each added or removed node\n        nodes.push(...Array.from(mutation.addedNodes || []))\n        nodes.push(...Array.from(mutation.removedNodes || []))\n        break\n    }\n    return nodes\n  }\n\n  getMutationSummary() {\n    return this.getTextMutationSummary()\n  }\n\n  getTextMutationSummary() {\n    const { additions, deletions } = this.getTextChangesFromCharacterData()\n    const textChanges = this.getTextChangesFromChildList()\n\n    Array.from(textChanges.additions).forEach((addition) => {\n      if (!Array.from(additions).includes(addition)) {\n        additions.push(addition)\n      }\n    })\n\n    deletions.push(...Array.from(textChanges.deletions || []))\n\n    const summary = {}\n\n    const added = additions.join(\"\")\n    if (added) {\n      summary.textAdded = added\n    }\n\n    const deleted = deletions.join(\"\")\n    if (deleted) {\n      summary.textDeleted = deleted\n    }\n\n    return summary\n  }\n\n  getMutationsByType(type) {\n    return Array.from(this.mutations).filter((mutation) => mutation.type === type)\n  }\n\n  getTextChangesFromChildList() {\n    let textAdded, textRemoved\n    const addedNodes = []\n    const removedNodes = []\n\n    Array.from(this.getMutationsByType(\"childList\")).forEach((mutation) => {\n      addedNodes.push(...Array.from(mutation.addedNodes || []))\n      removedNodes.push(...Array.from(mutation.removedNodes || []))\n    })\n\n    const singleBlockCommentRemoved =\n      addedNodes.length === 0 && removedNodes.length === 1 && nodeIsBlockStartComment(removedNodes[0])\n\n    if (singleBlockCommentRemoved) {\n      textAdded = []\n      textRemoved = [ \"\\n\" ]\n    } else {\n      textAdded = getTextForNodes(addedNodes)\n      textRemoved = getTextForNodes(removedNodes)\n    }\n\n    const additions = textAdded.filter((text, index) => text !== textRemoved[index]).map(normalizeSpaces)\n    const deletions = textRemoved.filter((text, index) => text !== textAdded[index]).map(normalizeSpaces)\n\n    return { additions, deletions }\n  }\n\n  getTextChangesFromCharacterData() {\n    let added, removed\n    const characterMutations = this.getMutationsByType(\"characterData\")\n\n    if (characterMutations.length) {\n      const startMutation = characterMutations[0],\n        endMutation = characterMutations[characterMutations.length - 1]\n\n      const oldString = normalizeSpaces(startMutation.oldValue)\n      const newString = normalizeSpaces(endMutation.target.data)\n      const summarized = summarizeStringChange(oldString, newString)\n      added = summarized.added\n      removed = summarized.removed\n    }\n\n    return {\n      additions: added ? [ added ] : [],\n      deletions: removed ? [ removed ] : [],\n    }\n  }\n}\n\nconst getTextForNodes = function(nodes = []) {\n  const text = []\n  for (const node of Array.from(nodes)) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        text.push(node.data)\n        break\n      case Node.ELEMENT_NODE:\n        if (tagName(node) === \"br\") {\n          text.push(\"\\n\")\n        } else {\n          text.push(...Array.from(getTextForNodes(node.childNodes) || []))\n        }\n        break\n    }\n  }\n  return text\n}\n", "/* eslint-disable\n    no-empty,\n*/\nimport Operation from \"trix/core/utilities/operation\"\n\nexport default class FileVerificationOperation extends Operation {\n  constructor(file) {\n    super(...arguments)\n    this.file = file\n  }\n\n  perform(callback) {\n    const reader = new FileReader()\n\n    reader.onerror = () => callback(false)\n\n    reader.onload = () => {\n      reader.onerror = null\n      try {\n        reader.abort()\n      } catch (error) {}\n      return callback(true, this.file)\n    }\n\n    return reader.readAsArrayBuffer(this.file)\n  }\n}\n", "import * as config from \"trix/config\"\nimport { NON_BREAKING_SPACE, OBJECT_REPLACEMENT_CHARACTER, ZERO_WIDTH_SPACE } from \"trix/constants\"\n\n// Each software keyboard on Android emits its own set of events and some of them can be buggy.\n// This class detects when some buggy events are being emitted and lets know the input controller\n// that they should be ignored.\nexport default class FlakyAndroidKeyboardDetector {\n  constructor(element) {\n    this.element = element\n  }\n\n  shouldIgnore(event) {\n    if (!config.browser.samsungAndroid) return false\n\n    this.previousEvent = this.event\n    this.event = event\n\n    this.checkSamsungKeyboardBuggyModeStart()\n    this.checkSamsungKeyboardBuggyModeEnd()\n\n    return this.buggyMode\n  }\n\n  // private\n\n  // The Samsung keyboard on Android can enter a buggy state in which it emits a flurry of confused events that,\n  // if processed, corrupts the editor. The buggy mode always starts with an insertText event, right after a\n  // keydown event with for an \"Unidentified\" key, with the same text as the editor element, except for a few\n  // extra whitespace, or exotic utf8, characters.\n  checkSamsungKeyboardBuggyModeStart() {\n    if (this.insertingLongTextAfterUnidentifiedChar() && differsInWhitespace(this.element.innerText, this.event.data)) {\n      this.buggyMode = true\n      this.event.preventDefault()\n    }\n  }\n\n  // The flurry of buggy events are always insertText. If we see any other type, it means it's over.\n  checkSamsungKeyboardBuggyModeEnd() {\n    if (this.buggyMode && this.event.inputType !== \"insertText\") {\n      this.buggyMode = false\n    }\n  }\n\n  insertingLongTextAfterUnidentifiedChar() {\n    return this.isBeforeInputInsertText() && this.previousEventWasUnidentifiedKeydown() && this.event.data?.length > 50\n  }\n\n  isBeforeInputInsertText() {\n    return this.event.type === \"beforeinput\" && this.event.inputType === \"insertText\"\n  }\n\n  previousEventWasUnidentifiedKeydown() {\n    return this.previousEvent?.type === \"keydown\" && this.previousEvent?.key === \"Unidentified\"\n  }\n}\n\nconst differsInWhitespace = (text1, text2) => {\n  return normalize(text1) === normalize(text2)\n}\n\nconst whiteSpaceNormalizerRegexp = new RegExp(`(${OBJECT_REPLACEMENT_CHARACTER}|${ZERO_WIDTH_SPACE}|${NON_BREAKING_SPACE}|\\\\s)+`, \"g\")\nconst normalize = (text) => text.replace(whiteSpaceNormalizerRegexp, \" \").trim()\n", "import BasicObject from \"trix/core/basic_object\"\nimport MutationObserver from \"trix/observers/mutation_observer\"\nimport FileVerificationOperation from \"trix/operations/file_verification_operation\"\nimport FlakyAndroidKeyboardDetector from \"../models/flaky_android_keyboard_detector\"\n\nimport { handleEvent, innerElementIsActive } from \"trix/core/helpers\"\n\nexport default class InputController extends BasicObject {\n\n  static events = {}\n\n  constructor(element) {\n    super(...arguments)\n    this.element = element\n    this.mutationObserver = new MutationObserver(this.element)\n    this.mutationObserver.delegate = this\n    this.flakyKeyboardDetector = new FlakyAndroidKeyboardDetector(this.element)\n    for (const eventName in this.constructor.events) {\n      handleEvent(eventName, { onElement: this.element, withCallback: this.handlerFor(eventName) })\n    }\n  }\n\n  elementDidMutate(mutationSummary) {}\n\n  editorWillSyncDocumentView() {\n    return this.mutationObserver.stop()\n  }\n\n  editorDidSyncDocumentView() {\n    return this.mutationObserver.start()\n  }\n\n  requestRender() {\n    return this.delegate?.inputControllerDidRequestRender?.()\n  }\n\n  requestReparse() {\n    this.delegate?.inputControllerDidRequestReparse?.()\n    return this.requestRender()\n  }\n\n  attachFiles(files) {\n    const operations = Array.from(files).map((file) => new FileVerificationOperation(file))\n    return Promise.all(operations).then((files) => {\n      this.handleInput(function() {\n        this.delegate?.inputControllerWillAttachFiles()\n        this.responder?.insertFiles(files)\n        return this.requestRender()\n      })\n    })\n  }\n\n  // Private\n\n  handlerFor(eventName) {\n    return (event) => {\n      if (!event.defaultPrevented) {\n        this.handleInput(() => {\n          if (!innerElementIsActive(this.element)) {\n            if (this.flakyKeyboardDetector.shouldIgnore(event)) return\n\n            this.eventName = eventName\n            this.constructor.events[eventName].call(this, event)\n          }\n        })\n      }\n    }\n  }\n\n  handleInput(callback) {\n    try {\n      this.delegate?.inputControllerWillHandleInput()\n      callback.call(this)\n    } finally {\n      this.delegate?.inputControllerDidHandleInput()\n    }\n  }\n\n  createLinkHTML(href, text) {\n    const link = document.createElement(\"a\")\n    link.href = href\n    link.textContent = text ? text : href\n    return link.outerHTML\n  }\n}\n\n", "import * as config from \"trix/config\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\nimport BasicObject from \"trix/core/basic_object\"\nimport InputController from \"trix/controllers/input_controller\"\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\n\nimport {\n  dataTransferIsPlainText,\n  dataTransferIsWritable,\n  keyEventIsKeyboardCommand,\n  makeElement,\n  objectsAreEqual,\n  removeNode,\n  squishBreakableWhitespace,\n} from \"trix/core/helpers\"\n\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nconst { browser, keyNames } = config\nlet pastedFileCount = 0\n\nexport default class Level0InputController extends InputController {\n\n  static events = {\n    keydown(event) {\n      if (!this.isComposing()) {\n        this.resetInputSummary()\n      }\n      this.inputSummary.didInput = true\n\n      const keyName = keyNames[event.keyCode]\n      if (keyName) {\n        let context = this.keys\n\n        ;[ \"ctrl\", \"alt\", \"shift\", \"meta\" ].forEach((modifier) => {\n          if (event[`${modifier}Key`]) {\n            if (modifier === \"ctrl\") {\n              modifier = \"control\"\n            }\n            context = context?.[modifier]\n          }\n        })\n\n        if (context?.[keyName] != null) {\n          this.setInputSummary({ keyName })\n          selectionChangeObserver.reset()\n          context[keyName].call(this, event)\n        }\n      }\n\n      if (keyEventIsKeyboardCommand(event)) {\n        const character = String.fromCharCode(event.keyCode).toLowerCase()\n        if (character) {\n          const keys = [ \"alt\", \"shift\" ].map((modifier) => {\n            if (event[`${modifier}Key`]) {\n              return modifier\n            }\n          }).filter(key => key)\n          keys.push(character)\n          if (this.delegate?.inputControllerDidReceiveKeyboardCommand(keys)) {\n            event.preventDefault()\n          }\n        }\n      }\n    },\n\n    keypress(event) {\n      if (this.inputSummary.eventName != null) return\n      if (event.metaKey) return\n      if (event.ctrlKey && !event.altKey) return\n\n      const string = stringFromKeyEvent(event)\n      if (string) {\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(string)\n        return this.setInputSummary({ textAdded: string, didDelete: this.selectionIsExpanded() })\n      }\n    },\n\n    textInput(event) {\n      // Handle autocapitalization\n      const { data } = event\n      const { textAdded } = this.inputSummary\n      if (textAdded && textAdded !== data && textAdded.toUpperCase() === data) {\n        const range = this.getSelectedRange()\n        this.setSelectedRange([ range[0], range[1] + textAdded.length ])\n        this.responder?.insertString(data)\n        this.setInputSummary({ textAdded: data })\n        return this.setSelectedRange(range)\n      }\n    },\n\n    dragenter(event) {\n      event.preventDefault()\n    },\n\n    dragstart(event) {\n      this.serializeSelectionToDataTransfer(event.dataTransfer)\n      this.draggedRange = this.getSelectedRange()\n      return this.delegate?.inputControllerDidStartDrag?.()\n    },\n\n    dragover(event) {\n      if (this.draggedRange || this.canAcceptDataTransfer(event.dataTransfer)) {\n        event.preventDefault()\n        const draggingPoint = { x: event.clientX, y: event.clientY }\n        if (!objectsAreEqual(draggingPoint, this.draggingPoint)) {\n          this.draggingPoint = draggingPoint\n          return this.delegate?.inputControllerDidReceiveDragOverPoint?.(this.draggingPoint)\n        }\n      }\n    },\n\n    dragend(event) {\n      this.delegate?.inputControllerDidCancelDrag?.()\n      this.draggedRange = null\n      this.draggingPoint = null\n    },\n\n    drop(event) {\n      event.preventDefault()\n      const files = event.dataTransfer?.files\n      const documentJSON = event.dataTransfer.getData(\"application/x-trix-document\")\n\n      const point = { x: event.clientX, y: event.clientY }\n      this.responder?.setLocationRangeFromPointRange(point)\n\n      if (files?.length) {\n        this.attachFiles(files)\n      } else if (this.draggedRange) {\n        this.delegate?.inputControllerWillMoveText()\n        this.responder?.moveTextFromRange(this.draggedRange)\n        this.draggedRange = null\n        this.requestRender()\n      } else if (documentJSON) {\n        const document = Document.fromJSONString(documentJSON)\n        this.responder?.insertDocument(document)\n        this.requestRender()\n      }\n\n      this.draggedRange = null\n      this.draggingPoint = null\n    },\n\n    cut(event) {\n      if (this.responder?.selectionIsExpanded()) {\n        if (this.serializeSelectionToDataTransfer(event.clipboardData)) {\n          event.preventDefault()\n        }\n\n        this.delegate?.inputControllerWillCutText()\n        this.deleteInDirection(\"backward\")\n        if (event.defaultPrevented) {\n          return this.requestRender()\n        }\n      }\n    },\n\n    copy(event) {\n      if (this.responder?.selectionIsExpanded()) {\n        if (this.serializeSelectionToDataTransfer(event.clipboardData)) {\n          event.preventDefault()\n        }\n      }\n    },\n\n    paste(event) {\n      const clipboard = event.clipboardData || event.testClipboardData\n      const paste = { clipboard }\n\n      if (!clipboard || pasteEventIsCrippledSafariHTMLPaste(event)) {\n        this.getPastedHTMLUsingHiddenElement((html) => {\n          paste.type = \"text/html\"\n          paste.html = html\n          this.delegate?.inputControllerWillPaste(paste)\n          this.responder?.insertHTML(paste.html)\n          this.requestRender()\n          return this.delegate?.inputControllerDidPaste(paste)\n        })\n        return\n      }\n\n      const href = clipboard.getData(\"URL\")\n      const html = clipboard.getData(\"text/html\")\n      const name = clipboard.getData(\"public.url-name\")\n\n      if (href) {\n        let string\n        paste.type = \"text/html\"\n        if (name) {\n          string = squishBreakableWhitespace(name).trim()\n        } else {\n          string = href\n        }\n        paste.html = this.createLinkHTML(href, string)\n        this.delegate?.inputControllerWillPaste(paste)\n        this.setInputSummary({ textAdded: string, didDelete: this.selectionIsExpanded() })\n        this.responder?.insertHTML(paste.html)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (dataTransferIsPlainText(clipboard)) {\n        paste.type = \"text/plain\"\n        paste.string = clipboard.getData(\"text/plain\")\n        this.delegate?.inputControllerWillPaste(paste)\n        this.setInputSummary({ textAdded: paste.string, didDelete: this.selectionIsExpanded() })\n        this.responder?.insertString(paste.string)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (html) {\n        paste.type = \"text/html\"\n        paste.html = html\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertHTML(paste.html)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (Array.from(clipboard.types).includes(\"Files\")) {\n        const file = clipboard.items?.[0]?.getAsFile?.()\n        if (file) {\n          const extension = extensionForFile(file)\n          if (!file.name && extension) {\n            file.name = `pasted-file-${++pastedFileCount}.${extension}`\n          }\n          paste.type = \"File\"\n          paste.file = file\n          this.delegate?.inputControllerWillAttachFiles()\n          this.responder?.insertFile(paste.file)\n          this.requestRender()\n          this.delegate?.inputControllerDidPaste(paste)\n        }\n      }\n\n      event.preventDefault()\n    },\n\n    compositionstart(event) {\n      return this.getCompositionInput().start(event.data)\n    },\n\n    compositionupdate(event) {\n      return this.getCompositionInput().update(event.data)\n    },\n\n    compositionend(event) {\n      return this.getCompositionInput().end(event.data)\n    },\n\n    beforeinput(event) {\n      this.inputSummary.didInput = true\n    },\n\n    input(event) {\n      this.inputSummary.didInput = true\n      return event.stopPropagation()\n    },\n  }\n\n  static keys = {\n    backspace(event) {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.deleteInDirection(\"backward\", event)\n    },\n\n    delete(event) {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.deleteInDirection(\"forward\", event)\n    },\n\n    return(event) {\n      this.setInputSummary({ preferDocument: true })\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.responder?.insertLineBreak()\n    },\n\n    tab(event) {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        this.responder?.increaseNestingLevel()\n        this.requestRender()\n        event.preventDefault()\n      }\n    },\n\n    left(event) {\n      if (this.selectionIsInCursorTarget()) {\n        event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"backward\")\n      }\n    },\n\n    right(event) {\n      if (this.selectionIsInCursorTarget()) {\n        event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"forward\")\n      }\n    },\n\n    control: {\n      d(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        return this.deleteInDirection(\"forward\", event)\n      },\n\n      h(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        return this.deleteInDirection(\"backward\", event)\n      },\n\n      o(event) {\n        event.preventDefault()\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(\"\\n\", { updatePosition: false })\n        return this.requestRender()\n      },\n    },\n\n    shift: {\n      return(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(\"\\n\")\n        this.requestRender()\n        event.preventDefault()\n      },\n\n      tab(event) {\n        if (this.responder?.canDecreaseNestingLevel()) {\n          this.responder?.decreaseNestingLevel()\n          this.requestRender()\n          event.preventDefault()\n        }\n      },\n\n      left(event) {\n        if (this.selectionIsInCursorTarget()) {\n          event.preventDefault()\n          return this.expandSelectionInDirection(\"backward\")\n        }\n      },\n\n      right(event) {\n        if (this.selectionIsInCursorTarget()) {\n          event.preventDefault()\n          return this.expandSelectionInDirection(\"forward\")\n        }\n      },\n    },\n\n    alt: {\n      backspace(event) {\n        this.setInputSummary({ preferDocument: false })\n        return this.delegate?.inputControllerWillPerformTyping()\n      },\n    },\n\n    meta: {\n      backspace(event) {\n        this.setInputSummary({ preferDocument: false })\n        return this.delegate?.inputControllerWillPerformTyping()\n      },\n    },\n  }\n\n  constructor() {\n    super(...arguments)\n    this.resetInputSummary()\n  }\n\n  setInputSummary(summary = {}) {\n    this.inputSummary.eventName = this.eventName\n    for (const key in summary) {\n      const value = summary[key]\n      this.inputSummary[key] = value\n    }\n    return this.inputSummary\n  }\n\n  resetInputSummary() {\n    this.inputSummary = {}\n  }\n\n  reset() {\n    this.resetInputSummary()\n    return selectionChangeObserver.reset()\n  }\n\n  // Mutation observer delegate\n\n  elementDidMutate(mutationSummary) {\n    if (this.isComposing()) {\n      return this.delegate?.inputControllerDidAllowUnhandledInput?.()\n    } else {\n      return this.handleInput(function() {\n        if (this.mutationIsSignificant(mutationSummary)) {\n          if (this.mutationIsExpected(mutationSummary)) {\n            this.requestRender()\n          } else {\n            this.requestReparse()\n          }\n        }\n        return this.reset()\n      })\n    }\n  }\n\n  mutationIsExpected({ textAdded, textDeleted }) {\n    if (this.inputSummary.preferDocument) {\n      return true\n    }\n\n    const mutationAdditionMatchesSummary =\n      textAdded != null ? textAdded === this.inputSummary.textAdded : !this.inputSummary.textAdded\n    const mutationDeletionMatchesSummary =\n      textDeleted != null ? this.inputSummary.didDelete : !this.inputSummary.didDelete\n\n    const unexpectedNewlineAddition = [ \"\\n\", \" \\n\" ].includes(textAdded) && !mutationAdditionMatchesSummary\n    const unexpectedNewlineDeletion = textDeleted === \"\\n\" && !mutationDeletionMatchesSummary\n    const singleUnexpectedNewline =\n      unexpectedNewlineAddition && !unexpectedNewlineDeletion ||\n      unexpectedNewlineDeletion && !unexpectedNewlineAddition\n\n    if (singleUnexpectedNewline) {\n      const range = this.getSelectedRange()\n      if (range) {\n        const offset = unexpectedNewlineAddition ? textAdded.replace(/\\n$/, \"\").length || -1 : textAdded?.length || 1\n        if (this.responder?.positionIsBlockBreak(range[1] + offset)) {\n          return true\n        }\n      }\n    }\n\n    return mutationAdditionMatchesSummary && mutationDeletionMatchesSummary\n  }\n\n  mutationIsSignificant(mutationSummary) {\n    const textChanged = Object.keys(mutationSummary).length > 0\n    const composedEmptyString = this.compositionInput?.getEndData() === \"\"\n    return textChanged || !composedEmptyString\n  }\n\n  // Private\n\n  getCompositionInput() {\n    if (this.isComposing()) {\n      return this.compositionInput\n    } else {\n      this.compositionInput = new CompositionInput(this)\n    }\n  }\n\n  isComposing() {\n    return this.compositionInput && !this.compositionInput.isEnded()\n  }\n\n  deleteInDirection(direction, event) {\n    if (this.responder?.deleteInDirection(direction) === false) {\n      if (event) {\n        event.preventDefault()\n        return this.requestRender()\n      }\n    } else {\n      return this.setInputSummary({ didDelete: true })\n    }\n  }\n\n  serializeSelectionToDataTransfer(dataTransfer) {\n    if (!dataTransferIsWritable(dataTransfer)) return\n    const document = this.responder?.getSelectedDocument().toSerializableDocument()\n\n    dataTransfer.setData(\"application/x-trix-document\", JSON.stringify(document))\n    dataTransfer.setData(\"text/html\", DocumentView.render(document).innerHTML)\n    dataTransfer.setData(\"text/plain\", document.toString().replace(/\\n$/, \"\"))\n    return true\n  }\n\n  canAcceptDataTransfer(dataTransfer) {\n    const types = {}\n    Array.from(dataTransfer?.types || []).forEach((type) => {\n      types[type] = true\n    })\n    return types.Files || types[\"application/x-trix-document\"] || types[\"text/html\"] || types[\"text/plain\"]\n  }\n\n  getPastedHTMLUsingHiddenElement(callback) {\n    const selectedRange = this.getSelectedRange()\n\n    const style = {\n      position: \"absolute\",\n      left: `${window.pageXOffset}px`,\n      top: `${window.pageYOffset}px`,\n      opacity: 0,\n    }\n\n    const element = makeElement({ style, tagName: \"div\", editable: true })\n    document.body.appendChild(element)\n    element.focus()\n\n    return requestAnimationFrame(() => {\n      const html = element.innerHTML\n      removeNode(element)\n      this.setSelectedRange(selectedRange)\n      return callback(html)\n    })\n  }\n}\n\nLevel0InputController.proxyMethod(\"responder?.getSelectedRange\")\nLevel0InputController.proxyMethod(\"responder?.setSelectedRange\")\nLevel0InputController.proxyMethod(\"responder?.expandSelectionInDirection\")\nLevel0InputController.proxyMethod(\"responder?.selectionIsInCursorTarget\")\nLevel0InputController.proxyMethod(\"responder?.selectionIsExpanded\")\n\nconst extensionForFile = (file) => file.type?.match(/\\/(\\w+)$/)?.[1]\n\nconst hasStringCodePointAt = !!\" \".codePointAt?.(0)\n\nconst stringFromKeyEvent = function(event) {\n  if (event.key && hasStringCodePointAt && event.key.codePointAt(0) === event.keyCode) {\n    return event.key\n  } else {\n    let code\n    if (event.which === null) {\n      code = event.keyCode\n    } else if (event.which !== 0 && event.charCode !== 0) {\n      code = event.charCode\n    }\n\n    if (code != null && keyNames[code] !== \"escape\") {\n      return UTF16String.fromCodepoints([ code ]).toString()\n    }\n  }\n}\n\nconst pasteEventIsCrippledSafariHTMLPaste = function(event) {\n  const paste = event.clipboardData\n  if (paste) {\n    if (paste.types.includes(\"text/html\")) {\n      // Answer is yes if there's any possibility of Paste and Match Style in Safari,\n      // which is nearly impossible to detect confidently: https://bugs.webkit.org/show_bug.cgi?id=174165\n      for (const type of paste.types) {\n        const hasPasteboardFlavor = /^CorePasteboardFlavorType/.test(type)\n        const hasReadableDynamicData = /^dyn\\./.test(type) && paste.getData(type)\n        const mightBePasteAndMatchStyle = hasPasteboardFlavor || hasReadableDynamicData\n        if (mightBePasteAndMatchStyle) {\n          return true\n        }\n      }\n      return false\n    } else {\n      const isExternalHTMLPaste = paste.types.includes(\"com.apple.webarchive\")\n      const isExternalRichTextPaste = paste.types.includes(\"com.apple.flat-rtfd\")\n      return isExternalHTMLPaste || isExternalRichTextPaste\n    }\n  }\n}\n\nclass CompositionInput extends BasicObject {\n  constructor(inputController) {\n    super(...arguments)\n    this.inputController = inputController\n    this.responder = this.inputController.responder\n    this.delegate = this.inputController.delegate\n    this.inputSummary = this.inputController.inputSummary\n    this.data = {}\n  }\n\n  start(data) {\n    this.data.start = data\n\n    if (this.isSignificant()) {\n      if (this.inputSummary.eventName === \"keypress\" && this.inputSummary.textAdded) {\n        this.responder?.deleteInDirection(\"left\")\n      }\n\n      if (!this.selectionIsExpanded()) {\n        this.insertPlaceholder()\n        this.requestRender()\n      }\n\n      this.range = this.responder?.getSelectedRange()\n    }\n  }\n\n  update(data) {\n    this.data.update = data\n\n    if (this.isSignificant()) {\n      const range = this.selectPlaceholder()\n      if (range) {\n        this.forgetPlaceholder()\n        this.range = range\n      }\n    }\n  }\n\n  end(data) {\n    this.data.end = data\n\n    if (this.isSignificant()) {\n      this.forgetPlaceholder()\n\n      if (this.canApplyToDocument()) {\n        this.setInputSummary({ preferDocument: true, didInput: false })\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.setSelectedRange(this.range)\n        this.responder?.insertString(this.data.end)\n        return this.responder?.setSelectedRange(this.range[0] + this.data.end.length)\n      } else if (this.data.start != null || this.data.update != null) {\n        this.requestReparse()\n        return this.inputController.reset()\n      }\n    } else {\n      return this.inputController.reset()\n    }\n  }\n\n  getEndData() {\n    return this.data.end\n  }\n\n  isEnded() {\n    return this.getEndData() != null\n  }\n\n  isSignificant() {\n    if (browser.composesExistingText) {\n      return this.inputSummary.didInput\n    } else {\n      return true\n    }\n  }\n\n  // Private\n\n  canApplyToDocument() {\n    return this.data.start?.length === 0 && this.data.end?.length > 0 && this.range\n  }\n}\n\nCompositionInput.proxyMethod(\"inputController.setInputSummary\")\nCompositionInput.proxyMethod(\"inputController.requestRender\")\nCompositionInput.proxyMethod(\"inputController.requestReparse\")\nCompositionInput.proxyMethod(\"responder?.selectionIsExpanded\")\nCompositionInput.proxyMethod(\"responder?.insertPlaceholder\")\nCompositionInput.proxyMethod(\"responder?.selectPlaceholder\")\nCompositionInput.proxyMethod(\"responder?.forgetPlaceholder\")\n", "import { getAllAttributeNames, squishBreakableWhitespace } from \"trix/core/helpers\"\nimport InputController from \"trix/controllers/input_controller\"\nimport * as config from \"trix/config\"\n\nimport { dataTransferIsMsOfficePaste, dataTransferIsPlainText, keyEventIsKeyboardCommand, objectsAreEqual } from \"trix/core/helpers\"\n\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nexport default class Level2InputController extends InputController {\n  constructor(...args) {\n    super(...args)\n    this.render = this.render.bind(this)\n  }\n\n  static events = {\n    keydown(event) {\n      if (keyEventIsKeyboardCommand(event)) {\n        const command = keyboardCommandFromKeyEvent(event)\n        if (this.delegate?.inputControllerDidReceiveKeyboardCommand(command)) {\n          event.preventDefault()\n        }\n      } else {\n        let name = event.key\n        if (event.altKey) {\n          name += \"+Alt\"\n        }\n        if (event.shiftKey) {\n          name += \"+Shift\"\n        }\n        const handler = this.constructor.keys[name]\n        if (handler) {\n          return this.withEvent(event, handler)\n        }\n      }\n    },\n\n    // Handle paste event to work around beforeinput.insertFromPaste browser bugs.\n    // Safe to remove each condition once fixed upstream.\n    paste(event) {\n      // https://bugs.webkit.org/show_bug.cgi?id=194921\n      let paste\n      const href = event.clipboardData?.getData(\"URL\")\n      if (pasteEventHasFilesOnly(event)) {\n        event.preventDefault()\n        return this.attachFiles(event.clipboardData.files)\n\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=934448\n      } else if (pasteEventHasPlainTextOnly(event)) {\n        event.preventDefault()\n        paste = {\n          type: \"text/plain\",\n          string: event.clipboardData.getData(\"text/plain\"),\n        }\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertString(paste.string)\n        this.render()\n        return this.delegate?.inputControllerDidPaste(paste)\n\n        // https://bugs.webkit.org/show_bug.cgi?id=196702\n      } else if (href) {\n        event.preventDefault()\n        paste = {\n          type: \"text/html\",\n          html: this.createLinkHTML(href),\n        }\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertHTML(paste.html)\n        this.render()\n        return this.delegate?.inputControllerDidPaste(paste)\n      }\n    },\n\n    beforeinput(event) {\n      const handler = this.constructor.inputTypes[event.inputType]\n\n      if (handler) {\n        this.withEvent(event, handler)\n        this.scheduleRender()\n      }\n    },\n\n    input(event) {\n      selectionChangeObserver.reset()\n    },\n\n    dragstart(event) {\n      if (this.responder?.selectionContainsAttachments()) {\n        event.dataTransfer.setData(\"application/x-trix-dragging\", true)\n\n        this.dragging = {\n          range: this.responder?.getSelectedRange(),\n          point: pointFromEvent(event),\n        }\n      }\n    },\n\n    dragenter(event) {\n      if (dragEventHasFiles(event)) {\n        event.preventDefault()\n      }\n    },\n\n    dragover(event) {\n      if (this.dragging) {\n        event.preventDefault()\n        const point = pointFromEvent(event)\n        if (!objectsAreEqual(point, this.dragging.point)) {\n          this.dragging.point = point\n          return this.responder?.setLocationRangeFromPointRange(point)\n        }\n      } else if (dragEventHasFiles(event)) {\n        event.preventDefault()\n      }\n    },\n\n    drop(event) {\n      if (this.dragging) {\n        event.preventDefault()\n        this.delegate?.inputControllerWillMoveText()\n        this.responder?.moveTextFromRange(this.dragging.range)\n        this.dragging = null\n        return this.scheduleRender()\n      } else if (dragEventHasFiles(event)) {\n        event.preventDefault()\n        const point = pointFromEvent(event)\n        this.responder?.setLocationRangeFromPointRange(point)\n        return this.attachFiles(event.dataTransfer.files)\n      }\n    },\n\n    dragend() {\n      if (this.dragging) {\n        this.responder?.setSelectedRange(this.dragging.range)\n        this.dragging = null\n      }\n    },\n\n    compositionend(event) {\n      if (this.composing) {\n        this.composing = false\n        if (!config.browser.recentAndroid) this.scheduleRender()\n      }\n    },\n  }\n\n  static keys = {\n    ArrowLeft() {\n      if (this.responder?.shouldManageMovingCursorInDirection(\"backward\")) {\n        this.event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"backward\")\n      }\n    },\n\n    ArrowRight() {\n      if (this.responder?.shouldManageMovingCursorInDirection(\"forward\")) {\n        this.event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"forward\")\n      }\n    },\n\n    Backspace() {\n      if (this.responder?.shouldManageDeletingInDirection(\"backward\")) {\n        this.event.preventDefault()\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.deleteInDirection(\"backward\")\n        return this.render()\n      }\n    },\n\n    Tab() {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        this.event.preventDefault()\n        this.responder?.increaseNestingLevel()\n        return this.render()\n      }\n    },\n\n    \"Tab+Shift\"() {\n      if (this.responder?.canDecreaseNestingLevel()) {\n        this.event.preventDefault()\n        this.responder?.decreaseNestingLevel()\n        return this.render()\n      }\n    },\n  }\n\n  static inputTypes = {\n    deleteByComposition() {\n      return this.deleteInDirection(\"backward\", { recordUndoEntry: false })\n    },\n\n    deleteByCut() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteByDrag() {\n      this.event.preventDefault()\n      return this.withTargetDOMRange(function() {\n        this.deleteByDragRange = this.responder?.getSelectedRange()\n      })\n    },\n\n    deleteCompositionText() {\n      return this.deleteInDirection(\"backward\", { recordUndoEntry: false })\n    },\n\n    deleteContent() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteContentBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteContentForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteEntireSoftLine() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteHardLineBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteHardLineForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteSoftLineBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteSoftLineForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteWordBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteWordForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    formatBackColor() {\n      return this.activateAttributeIfSupported(\"backgroundColor\", this.event.data)\n    },\n\n    formatBold() {\n      return this.toggleAttributeIfSupported(\"bold\")\n    },\n\n    formatFontColor() {\n      return this.activateAttributeIfSupported(\"color\", this.event.data)\n    },\n\n    formatFontName() {\n      return this.activateAttributeIfSupported(\"font\", this.event.data)\n    },\n\n    formatIndent() {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        return this.withTargetDOMRange(function() {\n          return this.responder?.increaseNestingLevel()\n        })\n      }\n    },\n\n    formatItalic() {\n      return this.toggleAttributeIfSupported(\"italic\")\n    },\n\n    formatJustifyCenter() {\n      return this.toggleAttributeIfSupported(\"justifyCenter\")\n    },\n\n    formatJustifyFull() {\n      return this.toggleAttributeIfSupported(\"justifyFull\")\n    },\n\n    formatJustifyLeft() {\n      return this.toggleAttributeIfSupported(\"justifyLeft\")\n    },\n\n    formatJustifyRight() {\n      return this.toggleAttributeIfSupported(\"justifyRight\")\n    },\n\n    formatOutdent() {\n      if (this.responder?.canDecreaseNestingLevel()) {\n        return this.withTargetDOMRange(function() {\n          return this.responder?.decreaseNestingLevel()\n        })\n      }\n    },\n\n    formatRemove() {\n      this.withTargetDOMRange(function() {\n        for (const attributeName in this.responder?.getCurrentAttributes()) {\n          this.responder?.removeCurrentAttribute(attributeName)\n        }\n      })\n    },\n\n    formatSetBlockTextDirection() {\n      return this.activateAttributeIfSupported(\"blockDir\", this.event.data)\n    },\n\n    formatSetInlineTextDirection() {\n      return this.activateAttributeIfSupported(\"textDir\", this.event.data)\n    },\n\n    formatStrikeThrough() {\n      return this.toggleAttributeIfSupported(\"strike\")\n    },\n\n    formatSubscript() {\n      return this.toggleAttributeIfSupported(\"sub\")\n    },\n\n    formatSuperscript() {\n      return this.toggleAttributeIfSupported(\"sup\")\n    },\n\n    formatUnderline() {\n      return this.toggleAttributeIfSupported(\"underline\")\n    },\n\n    historyRedo() {\n      return this.delegate?.inputControllerWillPerformRedo()\n    },\n\n    historyUndo() {\n      return this.delegate?.inputControllerWillPerformUndo()\n    },\n\n    insertCompositionText() {\n      this.composing = true\n      return this.insertString(this.event.data)\n    },\n\n    insertFromComposition() {\n      this.composing = false\n      return this.insertString(this.event.data)\n    },\n\n    insertFromDrop() {\n      const range = this.deleteByDragRange\n      if (range) {\n        this.deleteByDragRange = null\n        this.delegate?.inputControllerWillMoveText()\n        return this.withTargetDOMRange(function() {\n          return this.responder?.moveTextFromRange(range)\n        })\n      }\n    },\n\n    insertFromPaste() {\n      const { dataTransfer } = this.event\n      const paste = { dataTransfer }\n\n      const href = dataTransfer.getData(\"URL\")\n      const html = dataTransfer.getData(\"text/html\")\n\n      if (href) {\n        let string\n        this.event.preventDefault()\n        paste.type = \"text/html\"\n        const name = dataTransfer.getData(\"public.url-name\")\n        if (name) {\n          string = squishBreakableWhitespace(name).trim()\n        } else {\n          string = href\n        }\n        paste.html = this.createLinkHTML(href, string)\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertHTML(paste.html)\n        })\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (dataTransferIsPlainText(dataTransfer)) {\n        paste.type = \"text/plain\"\n        paste.string = dataTransfer.getData(\"text/plain\")\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertString(paste.string)\n        })\n\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (processableFilePaste(this.event)) {\n        paste.type = \"File\"\n        paste.file = dataTransfer.files[0]\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertFile(paste.file)\n        })\n\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (html) {\n        this.event.preventDefault()\n        paste.type = \"text/html\"\n        paste.html = html\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertHTML(paste.html)\n        })\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      }\n    },\n\n    insertFromYank() {\n      return this.insertString(this.event.data)\n    },\n\n    insertLineBreak() {\n      return this.insertString(\"\\n\")\n    },\n\n    insertLink() {\n      return this.activateAttributeIfSupported(\"href\", this.event.data)\n    },\n\n    insertOrderedList() {\n      return this.toggleAttributeIfSupported(\"number\")\n    },\n\n    insertParagraph() {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.withTargetDOMRange(function() {\n        return this.responder?.insertLineBreak()\n      })\n    },\n\n    insertReplacementText() {\n      const replacement = this.event.dataTransfer.getData(\"text/plain\")\n      const domRange = this.event.getTargetRanges()[0]\n\n      this.withTargetDOMRange(domRange, () => {\n        this.insertString(replacement, { updatePosition: false })\n      })\n    },\n\n    insertText() {\n      return this.insertString(this.event.data || this.event.dataTransfer?.getData(\"text/plain\"))\n    },\n\n    insertTranspose() {\n      return this.insertString(this.event.data)\n    },\n\n    insertUnorderedList() {\n      return this.toggleAttributeIfSupported(\"bullet\")\n    },\n  }\n\n  elementDidMutate() {\n    if (this.scheduledRender) {\n      if (this.composing) {\n        return this.delegate?.inputControllerDidAllowUnhandledInput?.()\n      }\n    } else {\n      return this.reparse()\n    }\n  }\n\n  scheduleRender() {\n    return this.scheduledRender ? this.scheduledRender : this.scheduledRender = requestAnimationFrame(this.render)\n  }\n\n  render() {\n    cancelAnimationFrame(this.scheduledRender)\n    this.scheduledRender = null\n    if (!this.composing) {\n      this.delegate?.render()\n    }\n    this.afterRender?.()\n    this.afterRender = null\n  }\n\n  reparse() {\n    return this.delegate?.reparse()\n  }\n\n  // Responder helpers\n\n  insertString(string = \"\", options) {\n    this.delegate?.inputControllerWillPerformTyping()\n    return this.withTargetDOMRange(function() {\n      return this.responder?.insertString(string, options)\n    })\n  }\n\n  toggleAttributeIfSupported(attributeName) {\n    if (getAllAttributeNames().includes(attributeName)) {\n      this.delegate?.inputControllerWillPerformFormatting(attributeName)\n      return this.withTargetDOMRange(function() {\n        return this.responder?.toggleCurrentAttribute(attributeName)\n      })\n    }\n  }\n\n  activateAttributeIfSupported(attributeName, value) {\n    if (getAllAttributeNames().includes(attributeName)) {\n      this.delegate?.inputControllerWillPerformFormatting(attributeName)\n      return this.withTargetDOMRange(function() {\n        return this.responder?.setCurrentAttribute(attributeName, value)\n      })\n    }\n  }\n\n  deleteInDirection(direction, { recordUndoEntry } = { recordUndoEntry: true }) {\n    if (recordUndoEntry) {\n      this.delegate?.inputControllerWillPerformTyping()\n    }\n    const perform = () => this.responder?.deleteInDirection(direction)\n    const domRange = this.getTargetDOMRange({ minLength: this.composing ? 1 : 2 })\n    if (domRange) {\n      return this.withTargetDOMRange(domRange, perform)\n    } else {\n      return perform()\n    }\n  }\n\n  // Selection helpers\n\n  withTargetDOMRange(domRange, fn) {\n    if (typeof domRange === \"function\") {\n      fn = domRange\n      domRange = this.getTargetDOMRange()\n    }\n    if (domRange) {\n      return this.responder?.withTargetDOMRange(domRange, fn.bind(this))\n    } else {\n      selectionChangeObserver.reset()\n      return fn.call(this)\n    }\n  }\n\n  getTargetDOMRange({ minLength } = { minLength: 0 }) {\n    const targetRanges = this.event.getTargetRanges?.()\n    if (targetRanges) {\n      if (targetRanges.length) {\n        const domRange = staticRangeToRange(targetRanges[0])\n        if (minLength === 0 || domRange.toString().length >= minLength) {\n          return domRange\n        }\n      }\n    }\n  }\n\n  withEvent(event, fn) {\n    let result\n    this.event = event\n    try {\n      result = fn.call(this)\n    } finally {\n      this.event = null\n    }\n    return result\n  }\n}\n\nconst staticRangeToRange = function(staticRange) {\n  const range = document.createRange()\n  range.setStart(staticRange.startContainer, staticRange.startOffset)\n  range.setEnd(staticRange.endContainer, staticRange.endOffset)\n  return range\n}\n\n// Event helpers\n\nconst dragEventHasFiles = (event) => Array.from(event.dataTransfer?.types || []).includes(\"Files\")\n\nconst processableFilePaste = (event) => {\n  // Paste events that only have files are handled by the paste event handler,\n  // to work around Safari not supporting beforeinput.insertFromPaste for files.\n\n  // MS Office text pastes include a file with a screenshot of the text, but we should\n  // handle them as text pastes.\n  return event.dataTransfer.files?.[0] && !pasteEventHasFilesOnly(event) && !dataTransferIsMsOfficePaste(event)\n}\n\nconst pasteEventHasFilesOnly = function(event) {\n  const clipboard = event.clipboardData\n  if (clipboard) {\n    const fileTypes = Array.from(clipboard.types).filter((type) => type.match(/file/i)) // \"Files\", \"application/x-moz-file\"\n    return fileTypes.length === clipboard.types.length && clipboard.files.length >= 1\n  }\n}\n\nconst pasteEventHasPlainTextOnly = function(event) {\n  const clipboard = event.clipboardData\n  if (clipboard) {\n    return clipboard.types.includes(\"text/plain\") && clipboard.types.length === 1\n  }\n}\n\nconst keyboardCommandFromKeyEvent = function(event) {\n  const command = []\n  if (event.altKey) {\n    command.push(\"alt\")\n  }\n  if (event.shiftKey) {\n    command.push(\"shift\")\n  }\n  command.push(event.key)\n  return command\n}\n\nconst pointFromEvent = (event) => ({\n  x: event.clientX,\n  y: event.clientY,\n})\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport { findClosestElementFromNode, handleEvent, triggerEvent } from \"trix/core/helpers\"\n\nconst attributeButtonSelector = \"[data-trix-attribute]\"\nconst actionButtonSelector = \"[data-trix-action]\"\nconst toolbarButtonSelector = `${attributeButtonSelector}, ${actionButtonSelector}`\nconst dialogSelector = \"[data-trix-dialog]\"\nconst activeDialogSelector = `${dialogSelector}[data-trix-active]`\nconst dialogButtonSelector = `${dialogSelector} [data-trix-method]`\nconst dialogInputSelector = `${dialogSelector} [data-trix-input]`\nconst getInputForDialog = (element, attributeName) => {\n  if (!attributeName) { attributeName = getAttributeName(element) }\n  return element.querySelector(`[data-trix-input][name='${attributeName}']`)\n}\nconst getActionName = (element) => element.getAttribute(\"data-trix-action\")\nconst getAttributeName = (element) => {\n  return element.getAttribute(\"data-trix-attribute\") || element.getAttribute(\"data-trix-dialog-attribute\")\n}\nconst getDialogName = (element) => element.getAttribute(\"data-trix-dialog\")\n\nexport default class ToolbarController extends BasicObject {\n  constructor(element) {\n    super(element)\n    this.didClickActionButton = this.didClickActionButton.bind(this)\n    this.didClickAttributeButton = this.didClickAttributeButton.bind(this)\n    this.didClickDialogButton = this.didClickDialogButton.bind(this)\n    this.didKeyDownDialogInput = this.didKeyDownDialogInput.bind(this)\n    this.element = element\n    this.attributes = {}\n    this.actions = {}\n    this.resetDialogInputs()\n\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: actionButtonSelector,\n      withCallback: this.didClickActionButton,\n    })\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: attributeButtonSelector,\n      withCallback: this.didClickAttributeButton,\n    })\n    handleEvent(\"click\", { onElement: this.element, matchingSelector: toolbarButtonSelector, preventDefault: true })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: dialogButtonSelector,\n      withCallback: this.didClickDialogButton,\n    })\n    handleEvent(\"keydown\", {\n      onElement: this.element,\n      matchingSelector: dialogInputSelector,\n      withCallback: this.didKeyDownDialogInput,\n    })\n  }\n\n  // Event handlers\n\n  didClickActionButton(event, element) {\n    this.delegate?.toolbarDidClickButton()\n    event.preventDefault()\n    const actionName = getActionName(element)\n\n    if (this.getDialog(actionName)) {\n      return this.toggleDialog(actionName)\n    } else {\n      return this.delegate?.toolbarDidInvokeAction(actionName, element)\n    }\n  }\n\n  didClickAttributeButton(event, element) {\n    this.delegate?.toolbarDidClickButton()\n    event.preventDefault()\n    const attributeName = getAttributeName(element)\n\n    if (this.getDialog(attributeName)) {\n      this.toggleDialog(attributeName)\n    } else {\n      this.delegate?.toolbarDidToggleAttribute(attributeName)\n    }\n\n    return this.refreshAttributeButtons()\n  }\n\n  didClickDialogButton(event, element) {\n    const dialogElement = findClosestElementFromNode(element, { matchingSelector: dialogSelector })\n    const method = element.getAttribute(\"data-trix-method\")\n    return this[method].call(this, dialogElement)\n  }\n\n  didKeyDownDialogInput(event, element) {\n    if (event.keyCode === 13) {\n      // Enter key\n      event.preventDefault()\n      const attribute = element.getAttribute(\"name\")\n      const dialog = this.getDialog(attribute)\n      this.setAttribute(dialog)\n    }\n    if (event.keyCode === 27) {\n      // Escape key\n      event.preventDefault()\n      return this.hideDialog()\n    }\n  }\n\n  // Action buttons\n\n  updateActions(actions) {\n    this.actions = actions\n    return this.refreshActionButtons()\n  }\n\n  refreshActionButtons() {\n    return this.eachActionButton((element, actionName) => {\n      element.disabled = this.actions[actionName] === false\n    })\n  }\n\n  eachActionButton(callback) {\n    return Array.from(this.element.querySelectorAll(actionButtonSelector)).map((element) =>\n      callback(element, getActionName(element))\n    )\n  }\n\n  // Attribute buttons\n\n  updateAttributes(attributes) {\n    this.attributes = attributes\n    return this.refreshAttributeButtons()\n  }\n\n  refreshAttributeButtons() {\n    return this.eachAttributeButton((element, attributeName) => {\n      element.disabled = this.attributes[attributeName] === false\n      if (this.attributes[attributeName] || this.dialogIsVisible(attributeName)) {\n        element.setAttribute(\"data-trix-active\", \"\")\n        return element.classList.add(\"trix-active\")\n      } else {\n        element.removeAttribute(\"data-trix-active\")\n        return element.classList.remove(\"trix-active\")\n      }\n    })\n  }\n\n  eachAttributeButton(callback) {\n    return Array.from(this.element.querySelectorAll(attributeButtonSelector)).map((element) =>\n      callback(element, getAttributeName(element))\n    )\n  }\n\n  applyKeyboardCommand(keys) {\n    const keyString = JSON.stringify(keys.sort())\n    for (const button of Array.from(this.element.querySelectorAll(\"[data-trix-key]\"))) {\n      const buttonKeys = button.getAttribute(\"data-trix-key\").split(\"+\")\n      const buttonKeyString = JSON.stringify(buttonKeys.sort())\n      if (buttonKeyString === keyString) {\n        triggerEvent(\"mousedown\", { onElement: button })\n        return true\n      }\n    }\n    return false\n  }\n\n  // Dialogs\n\n  dialogIsVisible(dialogName) {\n    const element = this.getDialog(dialogName)\n    if (element) {\n      return element.hasAttribute(\"data-trix-active\")\n    }\n  }\n\n  toggleDialog(dialogName) {\n    if (this.dialogIsVisible(dialogName)) {\n      return this.hideDialog()\n    } else {\n      return this.showDialog(dialogName)\n    }\n  }\n\n  showDialog(dialogName) {\n    this.hideDialog()\n    this.delegate?.toolbarWillShowDialog()\n\n    const element = this.getDialog(dialogName)\n    element.setAttribute(\"data-trix-active\", \"\")\n    element.classList.add(\"trix-active\")\n\n    Array.from(element.querySelectorAll(\"input[disabled]\")).forEach((disabledInput) => {\n      disabledInput.removeAttribute(\"disabled\")\n    })\n\n    const attributeName = getAttributeName(element)\n    if (attributeName) {\n      const input = getInputForDialog(element, dialogName)\n      if (input) {\n        input.value = this.attributes[attributeName] || \"\"\n        input.select()\n      }\n    }\n\n    return this.delegate?.toolbarDidShowDialog(dialogName)\n  }\n\n  setAttribute(dialogElement) {\n    const attributeName = getAttributeName(dialogElement)\n    const input = getInputForDialog(dialogElement, attributeName)\n    if (input.willValidate && !input.checkValidity()) {\n      input.setAttribute(\"data-trix-validate\", \"\")\n      input.classList.add(\"trix-validate\")\n      return input.focus()\n    } else {\n      this.delegate?.toolbarDidUpdateAttribute(attributeName, input.value)\n      return this.hideDialog()\n    }\n  }\n\n  removeAttribute(dialogElement) {\n    const attributeName = getAttributeName(dialogElement)\n    this.delegate?.toolbarDidRemoveAttribute(attributeName)\n    return this.hideDialog()\n  }\n\n  hideDialog() {\n    const element = this.element.querySelector(activeDialogSelector)\n    if (element) {\n      element.removeAttribute(\"data-trix-active\")\n      element.classList.remove(\"trix-active\")\n      this.resetDialogInputs()\n      return this.delegate?.toolbarDidHideDialog(getDialogName(element))\n    }\n  }\n\n  resetDialogInputs() {\n    Array.from(this.element.querySelectorAll(dialogInputSelector)).forEach((input) => {\n      input.setAttribute(\"disabled\", \"disabled\")\n      input.removeAttribute(\"data-trix-validate\")\n      input.classList.remove(\"trix-validate\")\n    })\n  }\n\n  getDialog(dialogName) {\n    return this.element.querySelector(`[data-trix-dialog=${dialogName}]`)\n  }\n}\n", "/* eslint-disable\n    id-length,\n*/\nimport * as config from \"trix/config\"\n\nimport { serializeToContentType } from \"trix/core/serialization\"\n\nimport Controller from \"trix/controllers/controller\"\nimport Level0InputController from \"trix/controllers/level_0_input_controller\"\nimport Level2InputController from \"trix/controllers/level_2_input_controller\"\nimport CompositionController from \"trix/controllers/composition_controller\"\nimport ToolbarController from \"trix/controllers/toolbar_controller\"\nimport Composition from \"trix/models/composition\"\nimport Editor from \"trix/models/editor\"\nimport AttachmentManager from \"trix/models/attachment_manager\"\nimport SelectionManager from \"trix/models/selection_manager\"\n\nimport { getBlockConfig, objectsAreEqual, rangeIsCollapsed, rangesAreEqual } from \"trix/core/helpers\"\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nconst snapshotsAreEqual = (a, b) => rangesAreEqual(a.selectedRange, b.selectedRange) && a.document.isEqualTo(b.document)\n\nexport default class EditorController extends Controller {\n  static actions = {\n    undo: {\n      test() {\n        return this.editor.canUndo()\n      },\n      perform() {\n        return this.editor.undo()\n      },\n    },\n    redo: {\n      test() {\n        return this.editor.canRedo()\n      },\n      perform() {\n        return this.editor.redo()\n      },\n    },\n    link: {\n      test() {\n        return this.editor.canActivateAttribute(\"href\")\n      },\n    },\n    increaseNestingLevel: {\n      test() {\n        return this.editor.canIncreaseNestingLevel()\n      },\n      perform() {\n        return this.editor.increaseNestingLevel() && this.render()\n      },\n    },\n    decreaseNestingLevel: {\n      test() {\n        return this.editor.canDecreaseNestingLevel()\n      },\n      perform() {\n        return this.editor.decreaseNestingLevel() && this.render()\n      },\n    },\n    attachFiles: {\n      test() {\n        return true\n      },\n      perform() {\n        return config.input.pickFiles(this.editor.insertFiles)\n      },\n    },\n  }\n\n  constructor({ editorElement, document, html }) {\n    super(...arguments)\n    this.editorElement = editorElement\n    this.selectionManager = new SelectionManager(this.editorElement)\n    this.selectionManager.delegate = this\n\n    this.composition = new Composition()\n    this.composition.delegate = this\n\n    this.attachmentManager = new AttachmentManager(this.composition.getAttachments())\n    this.attachmentManager.delegate = this\n\n    this.inputController =\n      config.input.getLevel() === 2\n        ? new Level2InputController(this.editorElement)\n        : new Level0InputController(this.editorElement)\n\n    this.inputController.delegate = this\n    this.inputController.responder = this.composition\n\n    this.compositionController = new CompositionController(this.editorElement, this.composition)\n    this.compositionController.delegate = this\n\n    this.toolbarController = new ToolbarController(this.editorElement.toolbarElement)\n    this.toolbarController.delegate = this\n\n    this.editor = new Editor(this.composition, this.selectionManager, this.editorElement)\n    if (document) {\n      this.editor.loadDocument(document)\n    } else {\n      this.editor.loadHTML(html)\n    }\n  }\n\n  registerSelectionManager() {\n    return selectionChangeObserver.registerSelectionManager(this.selectionManager)\n  }\n\n  unregisterSelectionManager() {\n    return selectionChangeObserver.unregisterSelectionManager(this.selectionManager)\n  }\n\n  render() {\n    return this.compositionController.render()\n  }\n\n  reparse() {\n    return this.composition.replaceHTML(this.editorElement.innerHTML)\n  }\n\n  // Composition delegate\n\n  compositionDidChangeDocument(document) {\n    this.notifyEditorElement(\"document-change\")\n    if (!this.handlingInput) {\n      return this.render()\n    }\n  }\n\n  compositionDidChangeCurrentAttributes(currentAttributes) {\n    this.currentAttributes = currentAttributes\n    this.toolbarController.updateAttributes(this.currentAttributes)\n    this.updateCurrentActions()\n    return this.notifyEditorElement(\"attributes-change\", { attributes: this.currentAttributes })\n  }\n\n  compositionDidPerformInsertionAtRange(range) {\n    if (this.pasting) {\n      this.pastedRange = range\n    }\n  }\n\n  compositionShouldAcceptFile(file) {\n    return this.notifyEditorElement(\"file-accept\", { file })\n  }\n\n  compositionDidAddAttachment(attachment) {\n    const managedAttachment = this.attachmentManager.manageAttachment(attachment)\n    return this.notifyEditorElement(\"attachment-add\", { attachment: managedAttachment })\n  }\n\n  compositionDidEditAttachment(attachment) {\n    this.compositionController.rerenderViewForObject(attachment)\n    const managedAttachment = this.attachmentManager.manageAttachment(attachment)\n    this.notifyEditorElement(\"attachment-edit\", { attachment: managedAttachment })\n    return this.notifyEditorElement(\"change\")\n  }\n\n  compositionDidChangeAttachmentPreviewURL(attachment) {\n    this.compositionController.invalidateViewForObject(attachment)\n    return this.notifyEditorElement(\"change\")\n  }\n\n  compositionDidRemoveAttachment(attachment) {\n    const managedAttachment = this.attachmentManager.unmanageAttachment(attachment)\n    return this.notifyEditorElement(\"attachment-remove\", { attachment: managedAttachment })\n  }\n\n  compositionDidStartEditingAttachment(attachment, options) {\n    this.attachmentLocationRange = this.composition.document.getLocationRangeOfAttachment(attachment)\n    this.compositionController.installAttachmentEditorForAttachment(attachment, options)\n    return this.selectionManager.setLocationRange(this.attachmentLocationRange)\n  }\n\n  compositionDidStopEditingAttachment(attachment) {\n    this.compositionController.uninstallAttachmentEditor()\n    this.attachmentLocationRange = null\n  }\n\n  compositionDidRequestChangingSelectionToLocationRange(locationRange) {\n    if (this.loadingSnapshot && !this.isFocused()) return\n    this.requestedLocationRange = locationRange\n    this.compositionRevisionWhenLocationRangeRequested = this.composition.revision\n    if (!this.handlingInput) {\n      return this.render()\n    }\n  }\n\n  compositionWillLoadSnapshot() {\n    this.loadingSnapshot = true\n  }\n\n  compositionDidLoadSnapshot() {\n    this.compositionController.refreshViewCache()\n    this.render()\n    this.loadingSnapshot = false\n  }\n\n  getSelectionManager() {\n    return this.selectionManager\n  }\n\n  // Attachment manager delegate\n\n  attachmentManagerDidRequestRemovalOfAttachment(attachment) {\n    return this.removeAttachment(attachment)\n  }\n\n  // Document controller delegate\n\n  compositionControllerWillSyncDocumentView() {\n    this.inputController.editorWillSyncDocumentView()\n    this.selectionManager.lock()\n    return this.selectionManager.clearSelection()\n  }\n\n  compositionControllerDidSyncDocumentView() {\n    this.inputController.editorDidSyncDocumentView()\n    this.selectionManager.unlock()\n    this.updateCurrentActions()\n    return this.notifyEditorElement(\"sync\")\n  }\n\n  compositionControllerDidRender() {\n    if (this.requestedLocationRange) {\n      if (this.compositionRevisionWhenLocationRangeRequested === this.composition.revision) {\n        this.selectionManager.setLocationRange(this.requestedLocationRange)\n      }\n      this.requestedLocationRange = null\n      this.compositionRevisionWhenLocationRangeRequested = null\n    }\n\n    if (this.renderedCompositionRevision !== this.composition.revision) {\n      this.runEditorFilters()\n      this.composition.updateCurrentAttributes()\n      this.notifyEditorElement(\"render\")\n    }\n\n    this.renderedCompositionRevision = this.composition.revision\n  }\n\n  compositionControllerDidFocus() {\n    if (this.isFocusedInvisibly()) {\n      this.setLocationRange({ index: 0, offset: 0 })\n    }\n    this.toolbarController.hideDialog()\n    return this.notifyEditorElement(\"focus\")\n  }\n\n  compositionControllerDidBlur() {\n    return this.notifyEditorElement(\"blur\")\n  }\n\n  compositionControllerDidSelectAttachment(attachment, options) {\n    this.toolbarController.hideDialog()\n    return this.composition.editAttachment(attachment, options)\n  }\n\n  compositionControllerDidRequestDeselectingAttachment(attachment) {\n    const locationRange = this.attachmentLocationRange || this.composition.document.getLocationRangeOfAttachment(attachment)\n    return this.selectionManager.setLocationRange(locationRange[1])\n  }\n\n  compositionControllerWillUpdateAttachment(attachment) {\n    return this.editor.recordUndoEntry(\"Edit Attachment\", { context: attachment.id, consolidatable: true })\n  }\n\n  compositionControllerDidRequestRemovalOfAttachment(attachment) {\n    return this.removeAttachment(attachment)\n  }\n\n  // Input controller delegate\n\n  inputControllerWillHandleInput() {\n    this.handlingInput = true\n    this.requestedRender = false\n  }\n\n  inputControllerDidRequestRender() {\n    this.requestedRender = true\n  }\n\n  inputControllerDidHandleInput() {\n    this.handlingInput = false\n    if (this.requestedRender) {\n      this.requestedRender = false\n      return this.render()\n    }\n  }\n\n  inputControllerDidAllowUnhandledInput() {\n    return this.notifyEditorElement(\"change\")\n  }\n\n  inputControllerDidRequestReparse() {\n    return this.reparse()\n  }\n\n  inputControllerWillPerformTyping() {\n    return this.recordTypingUndoEntry()\n  }\n\n  inputControllerWillPerformFormatting(attributeName) {\n    return this.recordFormattingUndoEntry(attributeName)\n  }\n\n  inputControllerWillCutText() {\n    return this.editor.recordUndoEntry(\"Cut\")\n  }\n\n  inputControllerWillPaste(paste) {\n    this.editor.recordUndoEntry(\"Paste\")\n    this.pasting = true\n    return this.notifyEditorElement(\"before-paste\", { paste })\n  }\n\n  inputControllerDidPaste(paste) {\n    paste.range = this.pastedRange\n    this.pastedRange = null\n    this.pasting = null\n    return this.notifyEditorElement(\"paste\", { paste })\n  }\n\n  inputControllerWillMoveText() {\n    return this.editor.recordUndoEntry(\"Move\")\n  }\n\n  inputControllerWillAttachFiles() {\n    return this.editor.recordUndoEntry(\"Drop Files\")\n  }\n\n  inputControllerWillPerformUndo() {\n    return this.editor.undo()\n  }\n\n  inputControllerWillPerformRedo() {\n    return this.editor.redo()\n  }\n\n  inputControllerDidReceiveKeyboardCommand(keys) {\n    return this.toolbarController.applyKeyboardCommand(keys)\n  }\n\n  inputControllerDidStartDrag() {\n    this.locationRangeBeforeDrag = this.selectionManager.getLocationRange()\n  }\n\n  inputControllerDidReceiveDragOverPoint(point) {\n    return this.selectionManager.setLocationRangeFromPointRange(point)\n  }\n\n  inputControllerDidCancelDrag() {\n    this.selectionManager.setLocationRange(this.locationRangeBeforeDrag)\n    this.locationRangeBeforeDrag = null\n  }\n\n  // Selection manager delegate\n\n  locationRangeDidChange(locationRange) {\n    this.composition.updateCurrentAttributes()\n    this.updateCurrentActions()\n    if (this.attachmentLocationRange && !rangesAreEqual(this.attachmentLocationRange, locationRange)) {\n      this.composition.stopEditingAttachment()\n    }\n    return this.notifyEditorElement(\"selection-change\")\n  }\n\n  // Toolbar controller delegate\n\n  toolbarDidClickButton() {\n    if (!this.getLocationRange()) {\n      return this.setLocationRange({ index: 0, offset: 0 })\n    }\n  }\n\n  toolbarDidInvokeAction(actionName, invokingElement) {\n    return this.invokeAction(actionName, invokingElement)\n  }\n\n  toolbarDidToggleAttribute(attributeName) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.toggleCurrentAttribute(attributeName)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarDidUpdateAttribute(attributeName, value) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.setCurrentAttribute(attributeName, value)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarDidRemoveAttribute(attributeName) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.removeCurrentAttribute(attributeName)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarWillShowDialog(dialogElement) {\n    this.composition.expandSelectionForEditing()\n    return this.freezeSelection()\n  }\n\n  toolbarDidShowDialog(dialogName) {\n    return this.notifyEditorElement(\"toolbar-dialog-show\", { dialogName })\n  }\n\n  toolbarDidHideDialog(dialogName) {\n    this.thawSelection()\n    this.editorElement.focus()\n    return this.notifyEditorElement(\"toolbar-dialog-hide\", { dialogName })\n  }\n\n  // Selection\n\n  freezeSelection() {\n    if (!this.selectionFrozen) {\n      this.selectionManager.lock()\n      this.composition.freezeSelection()\n      this.selectionFrozen = true\n      return this.render()\n    }\n  }\n\n  thawSelection() {\n    if (this.selectionFrozen) {\n      this.composition.thawSelection()\n      this.selectionManager.unlock()\n      this.selectionFrozen = false\n      return this.render()\n    }\n  }\n\n  canInvokeAction(actionName) {\n    if (this.actionIsExternal(actionName)) {\n      return true\n    } else {\n      return !!this.actions[actionName]?.test?.call(this)\n    }\n  }\n\n  invokeAction(actionName, invokingElement) {\n    if (this.actionIsExternal(actionName)) {\n      return this.notifyEditorElement(\"action-invoke\", { actionName, invokingElement })\n    } else {\n      return this.actions[actionName]?.perform?.call(this)\n    }\n  }\n\n  actionIsExternal(actionName) {\n    return /^x-./.test(actionName)\n  }\n\n  getCurrentActions() {\n    const result = {}\n    for (const actionName in this.actions) {\n      result[actionName] = this.canInvokeAction(actionName)\n    }\n    return result\n  }\n\n  updateCurrentActions() {\n    const currentActions = this.getCurrentActions()\n    if (!objectsAreEqual(currentActions, this.currentActions)) {\n      this.currentActions = currentActions\n      this.toolbarController.updateActions(this.currentActions)\n      return this.notifyEditorElement(\"actions-change\", { actions: this.currentActions })\n    }\n  }\n\n  // Editor filters\n\n  runEditorFilters() {\n    let snapshot = this.composition.getSnapshot()\n\n    Array.from(this.editor.filters).forEach((filter) => {\n      const { document, selectedRange } = snapshot\n      snapshot = filter.call(this.editor, snapshot) || {}\n      if (!snapshot.document) {\n        snapshot.document = document\n      }\n      if (!snapshot.selectedRange) {\n        snapshot.selectedRange = selectedRange\n      }\n    })\n\n    if (!snapshotsAreEqual(snapshot, this.composition.getSnapshot())) {\n      return this.composition.loadSnapshot(snapshot)\n    }\n  }\n\n  // Private\n\n  updateInputElement() {\n    const element = this.compositionController.getSerializableElement()\n    const value = serializeToContentType(element, \"text/html\")\n    return this.editorElement.setInputElementValue(value)\n  }\n\n  notifyEditorElement(message, data) {\n    switch (message) {\n      case \"document-change\":\n        this.documentChangedSinceLastRender = true\n        break\n      case \"render\":\n        if (this.documentChangedSinceLastRender) {\n          this.documentChangedSinceLastRender = false\n          this.notifyEditorElement(\"change\")\n        }\n        break\n      case \"change\":\n      case \"attachment-add\":\n      case \"attachment-edit\":\n      case \"attachment-remove\":\n        this.updateInputElement()\n        break\n    }\n\n    return this.editorElement.notify(message, data)\n  }\n\n  removeAttachment(attachment) {\n    this.editor.recordUndoEntry(\"Delete Attachment\")\n    this.composition.removeAttachment(attachment)\n    return this.render()\n  }\n\n  recordFormattingUndoEntry(attributeName) {\n    const blockConfig = getBlockConfig(attributeName)\n    const locationRange = this.selectionManager.getLocationRange()\n    if (blockConfig || !rangeIsCollapsed(locationRange)) {\n      return this.editor.recordUndoEntry(\"Formatting\", { context: this.getUndoContext(), consolidatable: true })\n    }\n  }\n\n  recordTypingUndoEntry() {\n    return this.editor.recordUndoEntry(\"Typing\", {\n      context: this.getUndoContext(this.currentAttributes),\n      consolidatable: true,\n    })\n  }\n\n  getUndoContext(...context) {\n    return [ this.getLocationContext(), this.getTimeContext(), ...Array.from(context) ]\n  }\n\n  getLocationContext() {\n    const locationRange = this.selectionManager.getLocationRange()\n    if (rangeIsCollapsed(locationRange)) {\n      return locationRange[0].index\n    } else {\n      return locationRange\n    }\n  }\n\n  getTimeContext() {\n    if (config.undo.interval > 0) {\n      return Math.floor(new Date().getTime() / config.undo.interval)\n    } else {\n      return 0\n    }\n  }\n\n  isFocused() {\n    return this.editorElement === this.editorElement.ownerDocument?.activeElement\n  }\n\n  // Detect \"Cursor disappears sporadically\" Firefox bug.\n  // - https://bugzilla.mozilla.org/show_bug.cgi?id=226301\n  isFocusedInvisibly() {\n    return this.isFocused() && !this.getLocationRange()\n  }\n\n  get actions() {\n    return this.constructor.actions\n  }\n}\n\nEditorController.proxyMethod(\"getSelectionManager().setLocationRange\")\nEditorController.proxyMethod(\"getSelectionManager().getLocationRange\")\n", "import * as config from \"trix/config\"\n\nimport { installDefaultCSSForTagName } from \"trix/core/helpers\"\n\ninstallDefaultCSSForTagName(\"trix-toolbar\", `\\\n%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}`)\n\nexport default class TrixToolbarElement extends HTMLElement {\n\n  // Element lifecycle\n\n  connectedCallback() {\n    if (this.innerHTML === \"\") {\n      this.innerHTML = config.toolbar.getDefaultHTML()\n    }\n  }\n}\n", "import * as config from \"trix/config\"\n\nimport {\n  findClosestElementFromNode,\n  handleEvent,\n  handleEventOnce,\n  installDefaultCSSForTagName,\n  makeElement,\n  triggerEvent,\n} from \"trix/core/helpers\"\n\nimport { attachmentSelector } from \"trix/config/attachments\"\nimport EditorController from \"trix/controllers/editor_controller\"\nimport \"trix/elements/trix_toolbar_element\"\n\nlet id = 0\n\n// Contenteditable support helpers\n\nconst autofocus = function(element) {\n  if (!document.querySelector(\":focus\")) {\n    if (element.hasAttribute(\"autofocus\") && document.querySelector(\"[autofocus]\") === element) {\n      return element.focus()\n    }\n  }\n}\n\nconst makeEditable = function(element) {\n  if (element.hasAttribute(\"contenteditable\")) {\n    return\n  }\n  element.setAttribute(\"contenteditable\", \"\")\n  return handleEventOnce(\"focus\", {\n    onElement: element,\n    withCallback() {\n      return configureContentEditable(element)\n    },\n  })\n}\n\nconst configureContentEditable = function(element) {\n  disableObjectResizing(element)\n  return setDefaultParagraphSeparator(element)\n}\n\nconst disableObjectResizing = function(element) {\n  if (document.queryCommandSupported?.(\"enableObjectResizing\")) {\n    document.execCommand(\"enableObjectResizing\", false, false)\n    return handleEvent(\"mscontrolselect\", { onElement: element, preventDefault: true })\n  }\n}\n\nconst setDefaultParagraphSeparator = function(element) {\n  if (document.queryCommandSupported?.(\"DefaultParagraphSeparator\")) {\n    const { tagName } = config.blockAttributes.default\n    if ([ \"div\", \"p\" ].includes(tagName)) {\n      return document.execCommand(\"DefaultParagraphSeparator\", false, tagName)\n    }\n  }\n}\n\n// Accessibility helpers\n\nconst addAccessibilityRole = function(element) {\n  if (element.hasAttribute(\"role\")) {\n    return\n  }\n  return element.setAttribute(\"role\", \"textbox\")\n}\n\nconst ensureAriaLabel = function(element) {\n  if (element.hasAttribute(\"aria-label\") || element.hasAttribute(\"aria-labelledby\")) {\n    return\n  }\n\n  const update = function() {\n    const texts = Array.from(element.labels).map((label) => {\n      if (!label.contains(element)) return label.textContent\n    }).filter(text => text)\n\n    const text = texts.join(\" \")\n    if (text) {\n      return element.setAttribute(\"aria-label\", text)\n    } else {\n      return element.removeAttribute(\"aria-label\")\n    }\n  }\n  update()\n  return handleEvent(\"focus\", { onElement: element, withCallback: update })\n}\n\n// Style\n\nconst cursorTargetStyles = (function() {\n  if (config.browser.forcesObjectResizing) {\n    return {\n      display: \"inline\",\n      width: \"auto\",\n    }\n  } else {\n    return {\n      display: \"inline-block\",\n      width: \"1px\",\n    }\n  }\n})()\n\ninstallDefaultCSSForTagName(\"trix-editor\", `\\\n%t {\n    display: block;\n}\n\n%t:empty:not(:focus)::before {\n    content: attr(placeholder);\n    color: graytext;\n    cursor: text;\n    pointer-events: none;\n    white-space: pre-line;\n}\n\n%t a[contenteditable=false] {\n    cursor: text;\n}\n\n%t img {\n    max-width: 100%;\n    height: auto;\n}\n\n%t ${attachmentSelector} figcaption textarea {\n    resize: none;\n}\n\n%t ${attachmentSelector} figcaption textarea.trix-autoresize-clone {\n    position: absolute;\n    left: -9999px;\n    max-height: 0px;\n}\n\n%t ${attachmentSelector} figcaption[data-trix-placeholder]:empty::before {\n    content: attr(data-trix-placeholder);\n    color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n    display: ${cursorTargetStyles.display} !important;\n    width: ${cursorTargetStyles.width} !important;\n    padding: 0 !important;\n    margin: 0 !important;\n    border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n    vertical-align: top !important;\n    margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n    vertical-align: bottom !important;\n    margin-right: -1px !important;\n}`)\n\nexport default class TrixEditorElement extends HTMLElement {\n\n  // Properties\n\n  get trixId() {\n    if (this.hasAttribute(\"trix-id\")) {\n      return this.getAttribute(\"trix-id\")\n    } else {\n      this.setAttribute(\"trix-id\", ++id)\n      return this.trixId\n    }\n  }\n\n  get labels() {\n    const labels = []\n    if (this.id && this.ownerDocument) {\n      labels.push(...Array.from(this.ownerDocument.querySelectorAll(`label[for='${this.id}']`) || []))\n    }\n\n    const label = findClosestElementFromNode(this, { matchingSelector: \"label\" })\n    if (label) {\n      if ([ this, null ].includes(label.control)) {\n        labels.push(label)\n      }\n    }\n\n    return labels\n  }\n\n  get toolbarElement() {\n    if (this.hasAttribute(\"toolbar\")) {\n      return this.ownerDocument?.getElementById(this.getAttribute(\"toolbar\"))\n    } else if (this.parentNode) {\n      const toolbarId = `trix-toolbar-${this.trixId}`\n      this.setAttribute(\"toolbar\", toolbarId)\n      const element = makeElement(\"trix-toolbar\", { id: toolbarId })\n      this.parentNode.insertBefore(element, this)\n      return element\n    } else {\n      return undefined\n    }\n  }\n\n  get form() {\n    return this.inputElement?.form\n  }\n\n  get inputElement() {\n    if (this.hasAttribute(\"input\")) {\n      return this.ownerDocument?.getElementById(this.getAttribute(\"input\"))\n    } else if (this.parentNode) {\n      const inputId = `trix-input-${this.trixId}`\n      this.setAttribute(\"input\", inputId)\n      const element = makeElement(\"input\", { type: \"hidden\", id: inputId })\n      this.parentNode.insertBefore(element, this.nextElementSibling)\n      return element\n    } else {\n      return undefined\n    }\n  }\n\n  get editor() {\n    return this.editorController?.editor\n  }\n\n  get name() {\n    return this.inputElement?.name\n  }\n\n  get value() {\n    return this.inputElement?.value\n  }\n\n  set value(defaultValue) {\n    this.defaultValue = defaultValue\n    this.editor?.loadHTML(this.defaultValue)\n  }\n\n  // Controller delegate methods\n\n  notify(message, data) {\n    if (this.editorController) {\n      return triggerEvent(`trix-${message}`, { onElement: this, attributes: data })\n    }\n  }\n\n  setInputElementValue(value) {\n    if (this.inputElement) {\n      this.inputElement.value = value\n    }\n  }\n\n  // Element lifecycle\n\n  connectedCallback() {\n    if (!this.hasAttribute(\"data-trix-internal\")) {\n      makeEditable(this)\n      addAccessibilityRole(this)\n      ensureAriaLabel(this)\n\n      if (!this.editorController) {\n        triggerEvent(\"trix-before-initialize\", { onElement: this })\n        this.editorController = new EditorController({\n          editorElement: this,\n          html: this.defaultValue = this.value,\n        })\n        requestAnimationFrame(() => triggerEvent(\"trix-initialize\", { onElement: this }))\n      }\n      this.editorController.registerSelectionManager()\n      this.registerResetListener()\n      this.registerClickListener()\n      autofocus(this)\n    }\n  }\n\n  disconnectedCallback() {\n    this.editorController?.unregisterSelectionManager()\n    this.unregisterResetListener()\n    return this.unregisterClickListener()\n  }\n\n  // Form support\n\n  registerResetListener() {\n    this.resetListener = this.resetBubbled.bind(this)\n    return window.addEventListener(\"reset\", this.resetListener, false)\n  }\n\n  unregisterResetListener() {\n    return window.removeEventListener(\"reset\", this.resetListener, false)\n  }\n\n  registerClickListener() {\n    this.clickListener = this.clickBubbled.bind(this)\n    return window.addEventListener(\"click\", this.clickListener, false)\n  }\n\n  unregisterClickListener() {\n    return window.removeEventListener(\"click\", this.clickListener, false)\n  }\n\n  resetBubbled(event) {\n    if (event.defaultPrevented) return\n    if (event.target !== this.form) return\n    return this.reset()\n  }\n\n  clickBubbled(event) {\n    if (event.defaultPrevented) return\n    if (this.contains(event.target)) return\n\n    const label = findClosestElementFromNode(event.target, { matchingSelector: \"label\" })\n    if (!label) return\n\n    if (!Array.from(this.labels).includes(label)) return\n\n    return this.focus()\n  }\n\n  reset() {\n    this.value = this.defaultValue\n  }\n}\n", "import { version } from \"../../package.json\"\n\nimport * as config from \"trix/config\"\nimport * as core from \"trix/core\"\nimport * as models from \"trix/models\"\nimport * as views from \"trix/views\"\nimport * as controllers from \"trix/controllers\"\nimport * as observers from \"trix/observers\"\nimport * as operations from \"trix/operations\"\nimport * as elements from \"trix/elements\"\nimport * as filters from \"trix/filters\"\n\nconst Trix = {\n  VERSION: version,\n  config,\n  core,\n  models,\n  views,\n  controllers,\n  observers,\n  operations,\n  elements,\n  filters\n}\n\n// Expose models under the Trix constant for compatibility with v1\nObject.assign(Trix, models)\n\nfunction start() {\n  if (!customElements.get(\"trix-toolbar\")) {\n    customElements.define(\"trix-toolbar\", elements.TrixToolbarElement)\n  }\n\n  if (!customElements.get(\"trix-editor\")) {\n    customElements.define(\"trix-editor\", elements.TrixEditorElement)\n  }\n}\n\nwindow.Trix = Trix\nsetTimeout(start, 0)\n\nexport default Trix\n", "(function(factory) {\n  typeof define === \"function\" && define.amd ? define(factory) : factory();\n})((function() {\n  \"use strict\";\n  var sparkMd5 = {\n    exports: {}\n  };\n  (function(module, exports) {\n    (function(factory) {\n      {\n        module.exports = factory();\n      }\n    })((function(undefined$1) {\n      var hex_chr = [ \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\" ];\n      function md5cycle(x, k) {\n        var a = x[0], b = x[1], c = x[2], d = x[3];\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n      }\n      function md5blk(s) {\n        var md5blks = [], i;\n        for (i = 0; i < 64; i += 4) {\n          md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n      }\n      function md5blk_array(a) {\n        var md5blks = [], i;\n        for (i = 0; i < 64; i += 4) {\n          md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n      }\n      function md51(s) {\n        var n = s.length, state = [ 1732584193, -271733879, -1732584194, 271733878 ], i, length, tail, tmp, lo, hi;\n        for (i = 64; i <= n; i += 64) {\n          md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n        }\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n        if (i > 55) {\n          md5cycle(state, tail);\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(state, tail);\n        return state;\n      }\n      function md51_array(a) {\n        var n = a.length, state = [ 1732584193, -271733879, -1732584194, 271733878 ], i, length, tail, tmp, lo, hi;\n        for (i = 64; i <= n; i += 64) {\n          md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n        a = i - 64 < n ? a.subarray(i - 64) : new Uint8Array(0);\n        length = a.length;\n        tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= a[i] << (i % 4 << 3);\n        }\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n        if (i > 55) {\n          md5cycle(state, tail);\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(state, tail);\n        return state;\n      }\n      function rhex(n) {\n        var s = \"\", j;\n        for (j = 0; j < 4; j += 1) {\n          s += hex_chr[n >> j * 8 + 4 & 15] + hex_chr[n >> j * 8 & 15];\n        }\n        return s;\n      }\n      function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n          x[i] = rhex(x[i]);\n        }\n        return x.join(\"\");\n      }\n      if (hex(md51(\"hello\")) !== \"5d41402abc4b2a76b9719d911017c592\") ;\n      if (typeof ArrayBuffer !== \"undefined\" && !ArrayBuffer.prototype.slice) {\n        (function() {\n          function clamp(val, length) {\n            val = val | 0 || 0;\n            if (val < 0) {\n              return Math.max(val + length, 0);\n            }\n            return Math.min(val, length);\n          }\n          ArrayBuffer.prototype.slice = function(from, to) {\n            var length = this.byteLength, begin = clamp(from, length), end = length, num, target, targetArray, sourceArray;\n            if (to !== undefined$1) {\n              end = clamp(to, length);\n            }\n            if (begin > end) {\n              return new ArrayBuffer(0);\n            }\n            num = end - begin;\n            target = new ArrayBuffer(num);\n            targetArray = new Uint8Array(target);\n            sourceArray = new Uint8Array(this, begin, num);\n            targetArray.set(sourceArray);\n            return target;\n          };\n        })();\n      }\n      function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n          str = unescape(encodeURIComponent(str));\n        }\n        return str;\n      }\n      function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length, buff = new ArrayBuffer(length), arr = new Uint8Array(buff), i;\n        for (i = 0; i < length; i += 1) {\n          arr[i] = str.charCodeAt(i);\n        }\n        return returnUInt8Array ? arr : buff;\n      }\n      function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n      }\n      function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n        return returnUInt8Array ? result : result.buffer;\n      }\n      function hexToBinaryString(hex) {\n        var bytes = [], length = hex.length, x;\n        for (x = 0; x < length - 1; x += 2) {\n          bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n        return String.fromCharCode.apply(String, bytes);\n      }\n      function SparkMD5() {\n        this.reset();\n      }\n      SparkMD5.prototype.append = function(str) {\n        this.appendBinary(toUtf8(str));\n        return this;\n      };\n      SparkMD5.prototype.appendBinary = function(contents) {\n        this._buff += contents;\n        this._length += contents.length;\n        var length = this._buff.length, i;\n        for (i = 64; i <= length; i += 64) {\n          md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n        this._buff = this._buff.substring(i - 64);\n        return this;\n      };\n      SparkMD5.prototype.end = function(raw) {\n        var buff = this._buff, length = buff.length, i, tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], ret;\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= buff.charCodeAt(i) << (i % 4 << 3);\n        }\n        this._finish(tail, length);\n        ret = hex(this._hash);\n        if (raw) {\n          ret = hexToBinaryString(ret);\n        }\n        this.reset();\n        return ret;\n      };\n      SparkMD5.prototype.reset = function() {\n        this._buff = \"\";\n        this._length = 0;\n        this._hash = [ 1732584193, -271733879, -1732584194, 271733878 ];\n        return this;\n      };\n      SparkMD5.prototype.getState = function() {\n        return {\n          buff: this._buff,\n          length: this._length,\n          hash: this._hash.slice()\n        };\n      };\n      SparkMD5.prototype.setState = function(state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n        return this;\n      };\n      SparkMD5.prototype.destroy = function() {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n      };\n      SparkMD5.prototype._finish = function(tail, length) {\n        var i = length, tmp, lo, hi;\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n        if (i > 55) {\n          md5cycle(this._hash, tail);\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n      };\n      SparkMD5.hash = function(str, raw) {\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n      };\n      SparkMD5.hashBinary = function(content, raw) {\n        var hash = md51(content), ret = hex(hash);\n        return raw ? hexToBinaryString(ret) : ret;\n      };\n      SparkMD5.ArrayBuffer = function() {\n        this.reset();\n      };\n      SparkMD5.ArrayBuffer.prototype.append = function(arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true), length = buff.length, i;\n        this._length += arr.byteLength;\n        for (i = 64; i <= length; i += 64) {\n          md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n        this._buff = i - 64 < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n        return this;\n      };\n      SparkMD5.ArrayBuffer.prototype.end = function(raw) {\n        var buff = this._buff, length = buff.length, tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], i, ret;\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= buff[i] << (i % 4 << 3);\n        }\n        this._finish(tail, length);\n        ret = hex(this._hash);\n        if (raw) {\n          ret = hexToBinaryString(ret);\n        }\n        this.reset();\n        return ret;\n      };\n      SparkMD5.ArrayBuffer.prototype.reset = function() {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [ 1732584193, -271733879, -1732584194, 271733878 ];\n        return this;\n      };\n      SparkMD5.ArrayBuffer.prototype.getState = function() {\n        var state = SparkMD5.prototype.getState.call(this);\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n        return state;\n      };\n      SparkMD5.ArrayBuffer.prototype.setState = function(state) {\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n        return SparkMD5.prototype.setState.call(this, state);\n      };\n      SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n      SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n      SparkMD5.ArrayBuffer.hash = function(arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)), ret = hex(hash);\n        return raw ? hexToBinaryString(ret) : ret;\n      };\n      return SparkMD5;\n    }));\n  })(sparkMd5);\n  var SparkMD5 = sparkMd5.exports;\n  const fileSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\n  class FileChecksum {\n    static create(file, callback) {\n      const instance = new FileChecksum(file);\n      instance.create(callback);\n    }\n    constructor(file) {\n      this.file = file;\n      this.chunkSize = 2097152;\n      this.chunkCount = Math.ceil(this.file.size / this.chunkSize);\n      this.chunkIndex = 0;\n    }\n    create(callback) {\n      this.callback = callback;\n      this.md5Buffer = new SparkMD5.ArrayBuffer;\n      this.fileReader = new FileReader;\n      this.fileReader.addEventListener(\"load\", (event => this.fileReaderDidLoad(event)));\n      this.fileReader.addEventListener(\"error\", (event => this.fileReaderDidError(event)));\n      this.readNextChunk();\n    }\n    fileReaderDidLoad(event) {\n      this.md5Buffer.append(event.target.result);\n      if (!this.readNextChunk()) {\n        const binaryDigest = this.md5Buffer.end(true);\n        const base64digest = btoa(binaryDigest);\n        this.callback(null, base64digest);\n      }\n    }\n    fileReaderDidError(event) {\n      this.callback(`Error reading ${this.file.name}`);\n    }\n    readNextChunk() {\n      if (this.chunkIndex < this.chunkCount || this.chunkIndex == 0 && this.chunkCount == 0) {\n        const start = this.chunkIndex * this.chunkSize;\n        const end = Math.min(start + this.chunkSize, this.file.size);\n        const bytes = fileSlice.call(this.file, start, end);\n        this.fileReader.readAsArrayBuffer(bytes);\n        this.chunkIndex++;\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n  function getMetaValue(name) {\n    const element = findElement(document.head, `meta[name=\"${name}\"]`);\n    if (element) {\n      return element.getAttribute(\"content\");\n    }\n  }\n  function findElements(root, selector) {\n    if (typeof root == \"string\") {\n      selector = root;\n      root = document;\n    }\n    const elements = root.querySelectorAll(selector);\n    return toArray(elements);\n  }\n  function findElement(root, selector) {\n    if (typeof root == \"string\") {\n      selector = root;\n      root = document;\n    }\n    return root.querySelector(selector);\n  }\n  function dispatchEvent(element, type, eventInit = {}) {\n    const {disabled: disabled} = element;\n    const {bubbles: bubbles, cancelable: cancelable, detail: detail} = eventInit;\n    const event = document.createEvent(\"Event\");\n    event.initEvent(type, bubbles || true, cancelable || true);\n    event.detail = detail || {};\n    try {\n      element.disabled = false;\n      element.dispatchEvent(event);\n    } finally {\n      element.disabled = disabled;\n    }\n    return event;\n  }\n  function toArray(value) {\n    if (Array.isArray(value)) {\n      return value;\n    } else if (Array.from) {\n      return Array.from(value);\n    } else {\n      return [].slice.call(value);\n    }\n  }\n  class BlobRecord {\n    constructor(file, checksum, url, customHeaders = {}) {\n      this.file = file;\n      this.attributes = {\n        filename: file.name,\n        content_type: file.type || \"application/octet-stream\",\n        byte_size: file.size,\n        checksum: checksum\n      };\n      this.xhr = new XMLHttpRequest;\n      this.xhr.open(\"POST\", url, true);\n      this.xhr.responseType = \"json\";\n      this.xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n      this.xhr.setRequestHeader(\"Accept\", \"application/json\");\n      this.xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n      Object.keys(customHeaders).forEach((headerKey => {\n        this.xhr.setRequestHeader(headerKey, customHeaders[headerKey]);\n      }));\n      const csrfToken = getMetaValue(\"csrf-token\");\n      if (csrfToken != undefined) {\n        this.xhr.setRequestHeader(\"X-CSRF-Token\", csrfToken);\n      }\n      this.xhr.addEventListener(\"load\", (event => this.requestDidLoad(event)));\n      this.xhr.addEventListener(\"error\", (event => this.requestDidError(event)));\n    }\n    get status() {\n      return this.xhr.status;\n    }\n    get response() {\n      const {responseType: responseType, response: response} = this.xhr;\n      if (responseType == \"json\") {\n        return response;\n      } else {\n        return JSON.parse(response);\n      }\n    }\n    create(callback) {\n      this.callback = callback;\n      this.xhr.send(JSON.stringify({\n        blob: this.attributes\n      }));\n    }\n    requestDidLoad(event) {\n      if (this.status >= 200 && this.status < 300) {\n        const {response: response} = this;\n        const {direct_upload: direct_upload} = response;\n        delete response.direct_upload;\n        this.attributes = response;\n        this.directUploadData = direct_upload;\n        this.callback(null, this.toJSON());\n      } else {\n        this.requestDidError(event);\n      }\n    }\n    requestDidError(event) {\n      this.callback(`Error creating Blob for \"${this.file.name}\". Status: ${this.status}`);\n    }\n    toJSON() {\n      const result = {};\n      for (const key in this.attributes) {\n        result[key] = this.attributes[key];\n      }\n      return result;\n    }\n  }\n  class BlobUpload {\n    constructor(blob) {\n      this.blob = blob;\n      this.file = blob.file;\n      const {url: url, headers: headers} = blob.directUploadData;\n      this.xhr = new XMLHttpRequest;\n      this.xhr.open(\"PUT\", url, true);\n      this.xhr.responseType = \"text\";\n      for (const key in headers) {\n        this.xhr.setRequestHeader(key, headers[key]);\n      }\n      this.xhr.addEventListener(\"load\", (event => this.requestDidLoad(event)));\n      this.xhr.addEventListener(\"error\", (event => this.requestDidError(event)));\n    }\n    create(callback) {\n      this.callback = callback;\n      this.xhr.send(this.file.slice());\n    }\n    requestDidLoad(event) {\n      const {status: status, response: response} = this.xhr;\n      if (status >= 200 && status < 300) {\n        this.callback(null, response);\n      } else {\n        this.requestDidError(event);\n      }\n    }\n    requestDidError(event) {\n      this.callback(`Error storing \"${this.file.name}\". Status: ${this.xhr.status}`);\n    }\n  }\n  let id = 0;\n  class DirectUpload {\n    constructor(file, url, delegate, customHeaders = {}) {\n      this.id = ++id;\n      this.file = file;\n      this.url = url;\n      this.delegate = delegate;\n      this.customHeaders = customHeaders;\n    }\n    create(callback) {\n      FileChecksum.create(this.file, ((error, checksum) => {\n        if (error) {\n          callback(error);\n          return;\n        }\n        const blob = new BlobRecord(this.file, checksum, this.url, this.customHeaders);\n        notify(this.delegate, \"directUploadWillCreateBlobWithXHR\", blob.xhr);\n        blob.create((error => {\n          if (error) {\n            callback(error);\n          } else {\n            const upload = new BlobUpload(blob);\n            notify(this.delegate, \"directUploadWillStoreFileWithXHR\", upload.xhr);\n            upload.create((error => {\n              if (error) {\n                callback(error);\n              } else {\n                callback(null, blob.toJSON());\n              }\n            }));\n          }\n        }));\n      }));\n    }\n  }\n  function notify(object, methodName, ...messages) {\n    if (object && typeof object[methodName] == \"function\") {\n      return object[methodName](...messages);\n    }\n  }\n  class DirectUploadController {\n    constructor(input, file) {\n      this.input = input;\n      this.file = file;\n      this.directUpload = new DirectUpload(this.file, this.url, this);\n      this.dispatch(\"initialize\");\n    }\n    start(callback) {\n      const hiddenInput = document.createElement(\"input\");\n      hiddenInput.type = \"hidden\";\n      hiddenInput.name = this.input.name;\n      this.input.insertAdjacentElement(\"beforebegin\", hiddenInput);\n      this.dispatch(\"start\");\n      this.directUpload.create(((error, attributes) => {\n        if (error) {\n          hiddenInput.parentNode.removeChild(hiddenInput);\n          this.dispatchError(error);\n        } else {\n          hiddenInput.value = attributes.signed_id;\n        }\n        this.dispatch(\"end\");\n        callback(error);\n      }));\n    }\n    uploadRequestDidProgress(event) {\n      const progress = event.loaded / event.total * 100;\n      if (progress) {\n        this.dispatch(\"progress\", {\n          progress: progress\n        });\n      }\n    }\n    get url() {\n      return this.input.getAttribute(\"data-direct-upload-url\");\n    }\n    dispatch(name, detail = {}) {\n      detail.file = this.file;\n      detail.id = this.directUpload.id;\n      return dispatchEvent(this.input, `direct-upload:${name}`, {\n        detail: detail\n      });\n    }\n    dispatchError(error) {\n      const event = this.dispatch(\"error\", {\n        error: error\n      });\n      if (!event.defaultPrevented) {\n        alert(error);\n      }\n    }\n    directUploadWillCreateBlobWithXHR(xhr) {\n      this.dispatch(\"before-blob-request\", {\n        xhr: xhr\n      });\n    }\n    directUploadWillStoreFileWithXHR(xhr) {\n      this.dispatch(\"before-storage-request\", {\n        xhr: xhr\n      });\n      xhr.upload.addEventListener(\"progress\", (event => this.uploadRequestDidProgress(event)));\n    }\n  }\n  const inputSelector = \"input[type=file][data-direct-upload-url]:not([disabled])\";\n  class DirectUploadsController {\n    constructor(form) {\n      this.form = form;\n      this.inputs = findElements(form, inputSelector).filter((input => input.files.length));\n    }\n    start(callback) {\n      const controllers = this.createDirectUploadControllers();\n      const startNextController = () => {\n        const controller = controllers.shift();\n        if (controller) {\n          controller.start((error => {\n            if (error) {\n              callback(error);\n              this.dispatch(\"end\");\n            } else {\n              startNextController();\n            }\n          }));\n        } else {\n          callback();\n          this.dispatch(\"end\");\n        }\n      };\n      this.dispatch(\"start\");\n      startNextController();\n    }\n    createDirectUploadControllers() {\n      const controllers = [];\n      this.inputs.forEach((input => {\n        toArray(input.files).forEach((file => {\n          const controller = new DirectUploadController(input, file);\n          controllers.push(controller);\n        }));\n      }));\n      return controllers;\n    }\n    dispatch(name, detail = {}) {\n      return dispatchEvent(this.form, `direct-uploads:${name}`, {\n        detail: detail\n      });\n    }\n  }\n  const processingAttribute = \"data-direct-uploads-processing\";\n  const submitButtonsByForm = new WeakMap;\n  let started = false;\n  function start() {\n    if (!started) {\n      started = true;\n      document.addEventListener(\"click\", didClick, true);\n      document.addEventListener(\"submit\", didSubmitForm, true);\n      document.addEventListener(\"ajax:before\", didSubmitRemoteElement);\n    }\n  }\n  function didClick(event) {\n    const button = event.target.closest(\"button, input\");\n    if (button && button.type === \"submit\" && button.form) {\n      submitButtonsByForm.set(button.form, button);\n    }\n  }\n  function didSubmitForm(event) {\n    handleFormSubmissionEvent(event);\n  }\n  function didSubmitRemoteElement(event) {\n    if (event.target.tagName == \"FORM\") {\n      handleFormSubmissionEvent(event);\n    }\n  }\n  function handleFormSubmissionEvent(event) {\n    const form = event.target;\n    if (form.hasAttribute(processingAttribute)) {\n      event.preventDefault();\n      return;\n    }\n    const controller = new DirectUploadsController(form);\n    const {inputs: inputs} = controller;\n    if (inputs.length) {\n      event.preventDefault();\n      form.setAttribute(processingAttribute, \"\");\n      inputs.forEach(disable);\n      controller.start((error => {\n        form.removeAttribute(processingAttribute);\n        if (error) {\n          inputs.forEach(enable);\n        } else {\n          submitForm(form);\n        }\n      }));\n    }\n  }\n  function submitForm(form) {\n    let button = submitButtonsByForm.get(form) || findElement(form, \"input[type=submit], button[type=submit]\");\n    if (button) {\n      const {disabled: disabled} = button;\n      button.disabled = false;\n      button.focus();\n      button.click();\n      button.disabled = disabled;\n    } else {\n      button = document.createElement(\"input\");\n      button.type = \"submit\";\n      button.style.display = \"none\";\n      form.appendChild(button);\n      button.click();\n      form.removeChild(button);\n    }\n    submitButtonsByForm.delete(form);\n  }\n  function disable(input) {\n    input.disabled = true;\n  }\n  function enable(input) {\n    input.disabled = false;\n  }\n  function autostart() {\n    if (window.ActiveStorage) {\n      start();\n    }\n  }\n  setTimeout(autostart, 1);\n  class AttachmentUpload {\n    constructor(attachment, element) {\n      this.attachment = attachment;\n      this.element = element;\n      this.directUpload = new DirectUpload(attachment.file, this.directUploadUrl, this);\n    }\n    start() {\n      this.directUpload.create(this.directUploadDidComplete.bind(this));\n    }\n    directUploadWillStoreFileWithXHR(xhr) {\n      xhr.upload.addEventListener(\"progress\", (event => {\n        const progress = event.loaded / event.total * 100;\n        this.attachment.setUploadProgress(progress);\n      }));\n    }\n    directUploadDidComplete(error, attributes) {\n      if (error) {\n        throw new Error(`Direct upload failed: ${error}`);\n      }\n      this.attachment.setAttributes({\n        sgid: attributes.attachable_sgid,\n        url: this.createBlobUrl(attributes.signed_id, attributes.filename)\n      });\n    }\n    createBlobUrl(signedId, filename) {\n      return this.blobUrlTemplate.replace(\":signed_id\", signedId).replace(\":filename\", encodeURIComponent(filename));\n    }\n    get directUploadUrl() {\n      return this.element.dataset.directUploadUrl;\n    }\n    get blobUrlTemplate() {\n      return this.element.dataset.blobUrlTemplate;\n    }\n  }\n  addEventListener(\"trix-attachment-add\", (event => {\n    const {attachment: attachment, target: target} = event;\n    if (attachment.file) {\n      const upload = new AttachmentUpload(attachment, target);\n      upload.start();\n    }\n  }));\n}));\n"],
  "mappings": "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",
  "names": ["adapters_default", "init_adapters", "__esmMin", "logger_default", "init_logger", "__esmMin", "init_adapters", "messages", "adapters_default", "now", "secondsSince", "ConnectionMonitor", "connection_monitor_default", "init_connection_monitor", "__esmMin", "init_logger", "time", "connection", "logger_default", "staleThreshold", "reconnectionBackoffRate", "backoff", "jitter", "internal_default", "init_internal", "__esmMin", "message_types", "protocols", "supportedProtocols", "indexOf", "Connection", "connection_default", "init_connection", "__esmMin", "init_adapters", "init_connection_monitor", "init_internal", "init_logger", "internal_default", "consumer", "connection_monitor_default", "data", "logger_default", "socketProtocols", "adapters_default", "allowReconnect", "error", "states", "state", "eventName", "handler", "event", "identifier", "message", "reason", "reconnect", "type", "extend", "Subscription", "init_subscription", "__esmMin", "object", "properties", "key", "value", "consumer", "params", "mixin", "action", "data", "SubscriptionGuarantor", "subscription_guarantor_default", "init_subscription_guarantor", "__esmMin", "init_logger", "subscriptions", "subscription", "logger_default", "s", "Subscriptions", "init_subscriptions", "__esmMin", "init_subscription", "init_subscription_guarantor", "init_logger", "consumer", "subscription_guarantor_default", "channelName", "mixin", "channel", "params", "subscription", "Subscription", "identifier", "s", "callbackName", "args", "subscriptions", "logger_default", "command", "createWebSocketURL", "url", "a", "Consumer", "init_consumer", "__esmMin", "init_connection", "init_subscriptions", "Subscriptions", "connection_default", "data", "subprotocol", "src_exports", "__export", "connection_default", "connection_monitor_default", "Consumer", "internal_default", "Subscription", "subscription_guarantor_default", "Subscriptions", "adapters_default", "createConsumer", "createWebSocketURL", "getConfig", "logger_default", "url", "name", "element", "init_src", "__esmMin", "init_connection", "init_connection_monitor", "init_consumer", "init_internal", "init_subscription", "init_subscriptions", "init_subscription_guarantor", "init_adapters", "init_logger", "require_namespace_emitter", "__commonJSMin", "exports", "module", "emitter", "_fns", "event", "arg1", "arg2", "arg3", "arg4", "arg5", "arg6", "toEmit", "getListeners", "emitAll", "fn", "one", "keep", "fns", "i", "l", "e", "out", "idx", "args", "keys", "key", "require_isObject", "__commonJSMin", "exports", "module", "isObject", "value", "type", "require_freeGlobal", "__commonJSMin", "exports", "module", "freeGlobal", "require_root", "__commonJSMin", "exports", "module", "freeGlobal", "freeSelf", "root", "require_now", "__commonJSMin", "exports", "module", "root", "now", "require_trimmedEndIndex", "__commonJSMin", "exports", "module", "reWhitespace", "trimmedEndIndex", "string", "index", "require_baseTrim", "__commonJSMin", "exports", "module", "trimmedEndIndex", "reTrimStart", "baseTrim", "string", "require_Symbol", "__commonJSMin", "exports", "module", "root", "Symbol", "require_getRawTag", "__commonJSMin", "exports", "module", "Symbol", "objectProto", "hasOwnProperty", "nativeObjectToString", "symToStringTag", "getRawTag", "value", "isOwn", "tag", "unmasked", "result", "require_objectToString", "__commonJSMin", "exports", "module", "objectProto", "nativeObjectToString", "objectToString", "value", "require_baseGetTag", "__commonJSMin", "exports", "module", "Symbol", "getRawTag", "objectToString", "nullTag", "undefinedTag", "symToStringTag", "baseGetTag", "value", "require_isObjectLike", "__commonJSMin", "exports", "module", "isObjectLike", "value", "require_isSymbol", "__commonJSMin", "exports", "module", "baseGetTag", "isObjectLike", "symbolTag", "isSymbol", "value", "require_toNumber", "__commonJSMin", "exports", "module", "baseTrim", "isObject", "isSymbol", "NAN", "reIsBadHex", "reIsBinary", "reIsOctal", "freeParseInt", "toNumber", "value", "other", "isBinary", "require_debounce", "__commonJSMin", "exports", "module", "isObject", "now", "toNumber", "FUNC_ERROR_TEXT", "nativeMax", "nativeMin", "debounce", "func", "wait", "options", "lastArgs", "lastThis", "maxWait", "result", "timerId", "lastCallTime", "lastInvokeTime", "leading", "maxing", "trailing", "invokeFunc", "time", "args", "thisArg", "leadingEdge", "timerExpired", "remainingWait", "timeSinceLastCall", "timeSinceLastInvoke", "timeWaiting", "shouldInvoke", "trailingEdge", "cancel", "flush", "debounced", "isInvoking", "require_throttle", "__commonJSMin", "exports", "module", "debounce", "isObject", "FUNC_ERROR_TEXT", "throttle", "func", "wait", "options", "leading", "trailing", "module", "num", "neg", "units", "exponent", "unit", "require_wildcard", "__commonJSMin", "exports", "module", "WildcardMatcher", "text", "separator", "input", "matches", "parts", "ii", "partsCount", "testParts", "key", "test", "matcher", "require_mime_match", "__commonJSMin", "exports", "module", "wildcard", "reMimePartSplit", "target", "pattern", "test", "result", "require_classnames", "__commonJSMin", "exports", "module", "hasOwn", "classNames", "classes", "i", "arg", "appendClass", "parseValue", "key", "value", "newClass", "require_eventemitter3", "__commonJSMin", "exports", "module", "has", "prefix", "Events", "EE", "fn", "context", "once", "addListener", "emitter", "event", "listener", "evt", "clearEvent", "EventEmitter", "names", "events", "name", "handlers", "i", "l", "ee", "listeners", "a1", "a2", "a3", "a4", "a5", "len", "args", "length", "j", "require_cropper", "__commonJSMin", "exports", "module", "global", "factory", "_typeof", "obj", "_classCallCheck", "instance", "Constructor", "_defineProperties", "target", "props", "i", "descriptor", "_createClass", "protoProps", "staticProps", "_defineProperty", "key", "value", "ownKeys", "object", "enumerableOnly", "keys", "symbols", "sym", "_objectSpread2", "source", "_toConsumableArray", "arr", "_arrayWithoutHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableSpread", "_arrayLikeToArray", "iter", "o", "minLen", "n", "len", "arr2", "IS_BROWSER", "WINDOW", "IS_TOUCH_DEVICE", "HAS_POINTER_EVENT", "NAMESPACE", "ACTION_ALL", "ACTION_CROP", "ACTION_MOVE", "ACTION_ZOOM", "ACTION_EAST", "ACTION_WEST", "ACTION_SOUTH", "ACTION_NORTH", "ACTION_NORTH_EAST", "ACTION_NORTH_WEST", "ACTION_SOUTH_EAST", "ACTION_SOUTH_WEST", "CLASS_CROP", "CLASS_DISABLED", "CLASS_HIDDEN", "CLASS_HIDE", "CLASS_INVISIBLE", "CLASS_MODAL", "CLASS_MOVE", "DATA_ACTION", "DATA_PREVIEW", "DRAG_MODE_CROP", "DRAG_MODE_MOVE", "DRAG_MODE_NONE", "EVENT_CROP", "EVENT_CROP_END", "EVENT_CROP_MOVE", "EVENT_CROP_START", "EVENT_DBLCLICK", "EVENT_TOUCH_START", "EVENT_TOUCH_MOVE", "EVENT_TOUCH_END", "EVENT_POINTER_DOWN", "EVENT_POINTER_MOVE", "EVENT_POINTER_UP", "EVENT_READY", "EVENT_RESIZE", "EVENT_WHEEL", "EVENT_ZOOM", "MIME_TYPE_JPEG", "REGEXP_ACTIONS", "REGEXP_DATA_URL", "REGEXP_DATA_URL_JPEG", "REGEXP_TAG_NAME", "DEFAULTS", "TEMPLATE", "isNaN", "isNumber", "isPositiveNumber", "isUndefined", "isObject", "hasOwnProperty", "isPlainObject", "_constructor", "prototype", "isFunction", "slice", "toArray", "forEach", "data", "callback", "assign", "_len", "args", "_key", "arg", "REGEXP_DECIMALS", "normalizeDecimalNumber", "times", "REGEXP_SUFFIX", "setStyle", "element", "styles", "style", "property", "hasClass", "addClass", "elem", "className", "removeClass", "toggleClass", "added", "REGEXP_CAMEL_CASE", "toParamCase", "getData", "name", "setData", "removeData", "REGEXP_SPACES", "onceSupported", "supported", "once", "listener", "options", "removeListener", "type", "handler", "event", "listeners", "addListener", "_handler", "_element$listeners", "_len2", "_key2", "dispatchEvent", "getOffset", "box", "location", "REGEXP_ORIGINS", "isCrossOriginURL", "url", "parts", "addTimestamp", "timestamp", "getTransforms", "_ref", "rotate", "scaleX", "scaleY", "translateX", "translateY", "values", "transform", "getMaxZoomRatio", "pointers", "pointers2", "ratios", "pointer", "pointerId", "pointer2", "x1", "y1", "x2", "y2", "z1", "z2", "ratio", "a", "b", "getPointer", "_ref2", "endOnly", "pageX", "pageY", "end", "getPointersCenter", "count", "_ref3", "startX", "startY", "getAdjustedSizes", "_ref4", "aspectRatio", "height", "width", "isValidWidth", "isValidHeight", "adjustedWidth", "getRotatedSizes", "_ref5", "degree", "arc", "sinArc", "cosArc", "newWidth", "newHeight", "getSourceCanvas", "image", "_ref6", "_ref7", "_ref8", "imageAspectRatio", "imageNaturalWidth", "imageNaturalHeight", "_ref6$rotate", "_ref6$scaleX", "_ref6$scaleY", "naturalWidth", "naturalHeight", "_ref8$fillColor", "fillColor", "_ref8$imageSmoothingE", "imageSmoothingEnabled", "_ref8$imageSmoothingQ", "imageSmoothingQuality", "_ref8$maxWidth", "maxWidth", "_ref8$maxHeight", "maxHeight", "_ref8$minWidth", "minWidth", "_ref8$minHeight", "minHeight", "canvas", "context", "maxSizes", "minSizes", "destMaxSizes", "destMinSizes", "destWidth", "destHeight", "params", "param", "fromCharCode", "getStringFromCharCode", "dataView", "start", "length", "str", "REGEXP_DATA_URL_HEAD", "dataURLToArrayBuffer", "dataURL", "base64", "binary", "arrayBuffer", "uint8", "arrayBufferToDataURL", "mimeType", "chunks", "chunkSize", "resetAndGetOrientation", "orientation", "littleEndian", "app1Start", "ifdStart", "offset", "exifIDCode", "tiffOffset", "endianness", "firstIFDOffset", "_length", "_offset", "parseOrientation", "render", "container", "cropper", "containerData", "imageData", "viewMode", "rotated", "canvasWidth", "canvasHeight", "canvasData", "sizeLimited", "positionLimited", "cropBoxData", "cropped", "minCanvasWidth", "minCanvasHeight", "_getAdjustedSizes", "newCanvasLeft", "newCanvasTop", "changed", "transformed", "_getRotatedSizes", "autoCropArea", "limited", "minCropBoxWidth", "minCropBoxHeight", "maxCropBoxWidth", "maxCropBoxHeight", "preview", "crossOrigin", "alt", "previews", "el", "img", "cropBoxWidth", "cropBoxHeight", "left", "top", "originalWidth", "originalHeight", "events", "handlers", "_this", "delta", "buttons", "button", "action", "touch", "change", "right", "bottom", "minLeft", "minTop", "renderable", "range", "check", "side", "p", "methods", "hasSameSize", "offsetX", "offsetY", "_this$canvasData", "x", "y", "_originalEvent", "pivot", "center", "_scaleX", "_scaleY", "rounded", "widthChanged", "heightChanged", "_this$getData", "initialX", "initialY", "initialWidth", "initialHeight", "_options$imageSmoothi", "sourceWidth", "sourceHeight", "srcX", "srcY", "srcWidth", "srcHeight", "dstX", "dstY", "dstWidth", "dstHeight", "scale", "mode", "dragBox", "face", "croppable", "movable", "AnotherCropper", "Cropper", "tagName", "xhr", "clone", "_parseOrientation", "crossOriginUrl", "_this2", "isIOSWebKit", "done", "sizingImage", "body", "template", "cropBox", "getWindow", "node", "window", "toString", "ownerDocument", "defaultView", "isElement", "OwnElement", "Element", "isHTMLElement", "HTMLElement", "isShadowRoot", "ShadowRoot", "max", "Math", "min", "round", "getUAString", "uaData", "navigator", "userAgentData", "brands", "Array", "isArray", "map", "item", "brand", "version", "join", "userAgent", "isLayoutViewport", "test", "getBoundingClientRect", "element", "includeScale", "isFixedStrategy", "clientRect", "scaleX", "scaleY", "offsetWidth", "width", "offsetHeight", "height", "_ref", "visualViewport", "addVisualOffsets", "x", "left", "offsetLeft", "y", "top", "offsetTop", "right", "bottom", "getWindowScroll", "win", "scrollLeft", "pageXOffset", "scrollTop", "pageYOffset", "getHTMLElementScroll", "getNodeScroll", "getNodeName", "nodeName", "toLowerCase", "getDocumentElement", "document", "documentElement", "getWindowScrollBarX", "getComputedStyle", "isScrollParent", "_getComputedStyle", "overflow", "overflowX", "overflowY", "isElementScaled", "rect", "getCompositeRect", "elementOrVirtualElement", "offsetParent", "isFixed", "isOffsetParentAnElement", "offsetParentIsScaled", "scroll", "offsets", "clientLeft", "clientTop", "getLayoutRect", "abs", "getParentNode", "assignedSlot", "parentNode", "host", "getScrollParent", "indexOf", "body", "listScrollParents", "list", "_element$ownerDocumen", "scrollParent", "isBody", "target", "concat", "updatedList", "isTableElement", "getTrueOffsetParent", "position", "getContainingBlock", "isFirefox", "isIE", "elementCss", "currentNode", "css", "transform", "perspective", "contain", "willChange", "filter", "getOffsetParent", "auto", "basePlacements", "start", "end", "clippingParents", "viewport", "popper", "reference", "variationPlacements", "reduce", "acc", "placement", "placements", "beforeRead", "read", "afterRead", "beforeMain", "main", "afterMain", "beforeWrite", "write", "afterWrite", "modifierPhases", "order", "modifiers", "Map", "visited", "Set", "result", "forEach", "modifier", "set", "name", "sort", "add", "requires", "requiresIfExists", "dep", "has", "depModifier", "get", "push", "orderModifiers", "orderedModifiers", "phase", "debounce", "fn", "pending", "Promise", "resolve", "then", "undefined", "mergeByName", "merged", "current", "existing", "options", "data", "Object", "keys", "key", "getViewportRect", "strategy", "html", "clientWidth", "clientHeight", "layoutViewport", "getDocumentRect", "winScroll", "scrollWidth", "scrollHeight", "direction", "contains", "parent", "child", "rootNode", "getRootNode", "next", "isSameNode", "rectToClientRect", "getInnerBoundingClientRect", "getClientRectFromMixedType", "clippingParent", "getClippingParents", "canEscapeClipping", "clipperElement", "getClippingRect", "boundary", "rootBoundary", "mainClippingParents", "firstClippingParent", "clippingRect", "accRect", "getBasePlacement", "split", "getVariation", "getMainAxisFromPlacement", "computeOffsets", "basePlacement", "variation", "commonX", "commonY", "mainAxis", "len", "getFreshSideObject", "mergePaddingObject", "paddingObject", "expandToHashMap", "value", "hashMap", "detectOverflow", "state", "_options", "_options$placement", "_options$strategy", "_options$boundary", "_options$rootBoundary", "_options$elementConte", "elementContext", "_options$altBoundary", "altBoundary", "_options$padding", "padding", "altContext", "popperRect", "rects", "elements", "clippingClientRect", "contextElement", "referenceClientRect", "popperOffsets", "popperClientRect", "elementClientRect", "overflowOffsets", "offsetData", "modifiersData", "offset", "multiply", "axis", "DEFAULT_OPTIONS", "areValidElements", "_len", "args", "_key", "some", "popperGenerator", "generatorOptions", "_generatorOptions", "_generatorOptions$def", "defaultModifiers", "_generatorOptions$def2", "defaultOptions", "attributes", "styles", "effectCleanupFns", "isDestroyed", "instance", "setOptions", "setOptionsAction", "cleanupModifierEffects", "scrollParents", "m", "enabled", "runModifierEffects", "update", "forceUpdate", "_state$elements", "reset", "index", "length", "_state$orderedModifie", "_state$orderedModifie2", "destroy", "onFirstUpdate", "_ref$options", "effect", "cleanupFn", "noopFn", "passive", "_options$scroll", "_options$resize", "resize", "addEventListener", "removeEventListener", "eventListeners", "popperOffsets$1", "unsetSides", "roundOffsetsByDPR", "dpr", "devicePixelRatio", "mapToStyles", "_ref2", "_Object$assign2", "gpuAcceleration", "adaptive", "roundOffsets", "_offsets$x", "_offsets$y", "_ref3", "hasX", "hasOwnProperty", "hasY", "sideX", "sideY", "heightProp", "widthProp", "offsetY", "offsetX", "commonStyles", "_ref4", "_Object$assign", "computeStyles", "_ref5", "_options$gpuAccelerat", "_options$adaptive", "_options$roundOffsets", "arrow", "computeStyles$1", "applyStyles", "style", "assign", "removeAttribute", "setAttribute", "initialStyles", "margin", "styleProperties", "property", "attribute", "applyStyles$1", "distanceAndSkiddingToXY", "invertDistance", "skidding", "distance", "_options$offset", "_data$state$placement", "offset$1", "hash", "getOppositePlacement", "replace", "matched", "getOppositeVariationPlacement", "computeAutoPlacement", "flipVariations", "_options$allowedAutoP", "allowedAutoPlacements", "allPlacements", "allowedPlacements", "overflows", "a", "b", "getExpandedFallbackPlacements", "oppositePlacement", "flip", "_skip", "_options$mainAxis", "checkMainAxis", "_options$altAxis", "altAxis", "checkAltAxis", "specifiedFallbackPlacements", "fallbackPlacements", "_options$flipVariatio", "preferredPlacement", "isBasePlacement", "referenceRect", "checksMap", "makeFallbackChecks", "firstFittingPlacement", "i", "isStartVariation", "isVertical", "mainVariationSide", "altVariationSide", "checks", "every", "check", "numberOfChecks", "_loop", "fittingPlacement", "find", "slice", "_ret", "flip$1", "getAltAxis", "within", "mathMax", "mathMin", "withinMaxClamp", "v", "preventOverflow", "_options$tether", "tether", "_options$tetherOffset", "tetherOffset", "tetherOffsetValue", "normalizedTetherOffsetValue", "offsetModifierState", "_offsetModifierState$", "mainSide", "altSide", "additive", "minLen", "maxLen", "arrowElement", "arrowRect", "arrowPaddingObject", "arrowPaddingMin", "arrowPaddingMax", "arrowLen", "minOffset", "maxOffset", "arrowOffsetParent", "clientOffset", "offsetModifierValue", "tetherMin", "tetherMax", "preventedOffset", "_offsetModifierState$2", "isOriginSide", "preventOverflow$1", "toPaddingObject", "_state$modifiersData$", "minProp", "maxProp", "endDiff", "startDiff", "clientSize", "centerToReference", "center", "axisProp", "centerOffset", "_options$element", "querySelector", "arrow$1", "getSideOffsets", "preventedOffsets", "isAnySideFullyClipped", "side", "hide", "referenceOverflow", "popperAltOverflow", "referenceClippingOffsets", "popperEscapeOffsets", "isReferenceHidden", "hasPopperEscaped", "hide$1", "createPopper", "elementMap", "Map", "Data", "set", "element", "key", "instance", "has", "instanceMap", "get", "size", "console", "error", "Array", "from", "keys", "remove", "delete", "MAX_UID", "MILLISECONDS_MULTIPLIER", "TRANSITION_END", "parseSelector", "selector", "window", "CSS", "escape", "replace", "match", "id", "toType", "object", "Object", "prototype", "toString", "call", "toLowerCase", "getUID", "prefix", "Math", "floor", "random", "document", "getElementById", "getTransitionDurationFromElement", "transitionDuration", "transitionDelay", "getComputedStyle", "floatTransitionDuration", "Number", "parseFloat", "floatTransitionDelay", "split", "triggerTransitionEnd", "dispatchEvent", "Event", "isElement", "jquery", "nodeType", "getElement", "length", "querySelector", "isVisible", "getClientRects", "elementIsVisible", "getPropertyValue", "closedDetails", "closest", "summary", "parentNode", "isDisabled", "Node", "ELEMENT_NODE", "classList", "contains", "disabled", "hasAttribute", "getAttribute", "findShadowRoot", "documentElement", "attachShadow", "getRootNode", "root", "ShadowRoot", "noop", "reflow", "offsetHeight", "getjQuery", "jQuery", "body", "DOMContentLoadedCallbacks", "onDOMContentLoaded", "callback", "readyState", "addEventListener", "push", "isRTL", "dir", "defineJQueryPlugin", "plugin", "$", "name", "NAME", "JQUERY_NO_CONFLICT", "fn", "jQueryInterface", "Constructor", "noConflict", "execute", "possibleCallback", "args", "defaultValue", "executeAfterTransition", "transitionElement", "waitForTransition", "emulatedDuration", "called", "handler", "target", "removeEventListener", "setTimeout", "getNextActiveElement", "list", "activeElement", "shouldGetNext", "isCycleAllowed", "listLength", "index", "indexOf", "max", "min", "namespaceRegex", "stripNameRegex", "stripUidRegex", "eventRegistry", "uidEvent", "customEvents", "mouseenter", "mouseleave", "nativeEvents", "Set", "makeEventUid", "uid", "getElementEvents", "bootstrapHandler", "event", "hydrateObj", "delegateTarget", "oneOff", "EventHandler", "off", "type", "apply", "bootstrapDelegationHandler", "domElements", "querySelectorAll", "domElement", "findHandler", "events", "callable", "delegationSelector", "values", "find", "normalizeParameters", "originalTypeEvent", "delegationFunction", "isDelegated", "typeEvent", "getTypeEvent", "addHandler", "relatedTarget", "handlers", "previousFunction", "removeHandler", "Boolean", "removeNamespacedHandlers", "namespace", "storeElementEvent", "handlerKey", "entries", "includes", "on", "one", "inNamespace", "isNamespace", "startsWith", "elementEvent", "slice", "keyHandlers", "trigger", "jQueryEvent", "bubbles", "nativeDispatch", "defaultPrevented", "isPropagationStopped", "isImmediatePropagationStopped", "isDefaultPrevented", "evt", "cancelable", "preventDefault", "obj", "meta", "value", "defineProperty", "configurable", "normalizeData", "JSON", "parse", "decodeURIComponent", "normalizeDataKey", "chr", "Manipulator", "setDataAttribute", "setAttribute", "removeDataAttribute", "removeAttribute", "getDataAttributes", "attributes", "bsKeys", "dataset", "filter", "pureKey", "charAt", "getDataAttribute", "Config", "Default", "DefaultType", "Error", "_getConfig", "config", "_mergeConfigObj", "_configAfterMerge", "_typeCheckConfig", "jsonConfig", "constructor", "configTypes", "property", "expectedTypes", "valueType", "RegExp", "test", "TypeError", "toUpperCase", "VERSION", "BaseComponent", "_element", "_config", "DATA_KEY", "dispose", "EVENT_KEY", "propertyName", "getOwnPropertyNames", "_queueCallback", "isAnimated", "getInstance", "getOrCreateInstance", "eventName", "getSelector", "hrefAttribute", "trim", "map", "sel", "join", "SelectorEngine", "concat", "Element", "findOne", "children", "child", "matches", "parents", "ancestor", "prev", "previous", "previousElementSibling", "next", "nextElementSibling", "focusableChildren", "focusables", "el", "getSelectorFromElement", "getElementFromSelector", "getMultipleElementsFromSelector", "enableDismissTrigger", "component", "method", "clickEvent", "tagName", "EVENT_CLOSE", "EVENT_CLOSED", "CLASS_NAME_FADE", "CLASS_NAME_SHOW", "Alert", "close", "_destroyElement", "each", "data", "undefined", "DATA_API_KEY", "CLASS_NAME_ACTIVE", "SELECTOR_DATA_TOGGLE", "EVENT_CLICK_DATA_API", "Button", "toggle", "button", "EVENT_TOUCHSTART", "EVENT_TOUCHMOVE", "EVENT_TOUCHEND", "EVENT_POINTERDOWN", "EVENT_POINTERUP", "POINTER_TYPE_TOUCH", "POINTER_TYPE_PEN", "CLASS_NAME_POINTER_EVENT", "SWIPE_THRESHOLD", "endCallback", "leftCallback", "rightCallback", "Swipe", "isSupported", "_deltaX", "_supportPointerEvents", "PointerEvent", "_initEvents", "_start", "touches", "clientX", "_eventIsPointerPenTouch", "_end", "_handleSwipe", "_move", "absDeltaX", "abs", "direction", "add", "pointerType", "navigator", "maxTouchPoints", "ARROW_LEFT_KEY", "ARROW_RIGHT_KEY", "TOUCHEVENT_COMPAT_WAIT", "ORDER_NEXT", "ORDER_PREV", "DIRECTION_LEFT", "DIRECTION_RIGHT", "EVENT_SLIDE", "EVENT_SLID", "EVENT_KEYDOWN", "EVENT_MOUSEENTER", "EVENT_MOUSELEAVE", "EVENT_DRAG_START", "EVENT_LOAD_DATA_API", "CLASS_NAME_CAROUSEL", "CLASS_NAME_SLIDE", "CLASS_NAME_END", "CLASS_NAME_START", "CLASS_NAME_NEXT", "CLASS_NAME_PREV", "SELECTOR_ACTIVE", "SELECTOR_ITEM", "SELECTOR_ACTIVE_ITEM", "SELECTOR_ITEM_IMG", "SELECTOR_INDICATORS", "SELECTOR_DATA_SLIDE", "SELECTOR_DATA_RIDE", "KEY_TO_DIRECTION", "interval", "keyboard", "pause", "ride", "touch", "wrap", "Carousel", "_interval", "_activeElement", "_isSliding", "touchTimeout", "_swipeHelper", "_indicatorsElement", "_addEventListeners", "cycle", "_slide", "nextWhenVisible", "hidden", "_clearInterval", "_updateInterval", "setInterval", "_maybeEnableCycle", "to", "items", "_getItems", "activeIndex", "_getItemIndex", "_getActive", "order", "defaultInterval", "_keydown", "_addTouchEventListeners", "img", "swipeConfig", "_directionToOrder", "endCallBack", "clearTimeout", "_setActiveIndicatorElement", "activeIndicator", "newActiveIndicator", "elementInterval", "parseInt", "isNext", "nextElement", "nextElementIndex", "triggerEvent", "_orderToDirection", "isCycling", "directionalClassName", "orderClassName", "completeCallBack", "_isAnimated", "clearInterval", "carousel", "slideIndex", "carousels", "EVENT_SHOW", "EVENT_SHOWN", "EVENT_HIDE", "EVENT_HIDDEN", "CLASS_NAME_COLLAPSE", "CLASS_NAME_COLLAPSING", "CLASS_NAME_COLLAPSED", "CLASS_NAME_DEEPER_CHILDREN", "CLASS_NAME_HORIZONTAL", "WIDTH", "HEIGHT", "SELECTOR_ACTIVES", "parent", "Collapse", "_isTransitioning", "_triggerArray", "toggleList", "elem", "filterElement", "foundElement", "_initializeChildren", "_addAriaAndCollapsedClass", "_isShown", "hide", "show", "activeChildren", "_getFirstLevelChildren", "activeInstance", "dimension", "_getDimension", "style", "complete", "scrollSize", "getBoundingClientRect", "selected", "triggerArray", "isOpen", "ESCAPE_KEY", "TAB_KEY", "ARROW_UP_KEY", "ARROW_DOWN_KEY", "RIGHT_MOUSE_BUTTON", "EVENT_KEYDOWN_DATA_API", "EVENT_KEYUP_DATA_API", "CLASS_NAME_DROPUP", "CLASS_NAME_DROPEND", "CLASS_NAME_DROPSTART", "CLASS_NAME_DROPUP_CENTER", "CLASS_NAME_DROPDOWN_CENTER", "SELECTOR_DATA_TOGGLE_SHOWN", "SELECTOR_MENU", "SELECTOR_NAVBAR", "SELECTOR_NAVBAR_NAV", "SELECTOR_VISIBLE_ITEMS", "PLACEMENT_TOP", "PLACEMENT_TOPEND", "PLACEMENT_BOTTOM", "PLACEMENT_BOTTOMEND", "PLACEMENT_RIGHT", "PLACEMENT_LEFT", "PLACEMENT_TOPCENTER", "PLACEMENT_BOTTOMCENTER", "autoClose", "boundary", "display", "offset", "popperConfig", "reference", "Dropdown", "_popper", "_parent", "_menu", "_inNavbar", "_detectNavbar", "showEvent", "_createPopper", "focus", "_completeHide", "destroy", "update", "hideEvent", "Popper", "referenceElement", "_getPopperConfig", "createPopper", "_getPlacement", "parentDropdown", "isEnd", "_getOffset", "popperData", "defaultBsPopperConfig", "placement", "modifiers", "options", "enabled", "_selectMenuItem", "clearMenus", "openToggles", "context", "composedPath", "isMenuTarget", "dataApiKeydownHandler", "isInput", "isEscapeEvent", "isUpOrDownEvent", "getToggleButton", "stopPropagation", "EVENT_MOUSEDOWN", "className", "clickCallback", "rootElement", "Backdrop", "_isAppended", "_append", "_getElement", "_emulateAnimation", "backdrop", "createElement", "append", "EVENT_FOCUSIN", "EVENT_KEYDOWN_TAB", "TAB_NAV_FORWARD", "TAB_NAV_BACKWARD", "autofocus", "trapElement", "FocusTrap", "_isActive", "_lastTabNavDirection", "activate", "_handleFocusin", "_handleKeydown", "deactivate", "elements", "shiftKey", "SELECTOR_FIXED_CONTENT", "SELECTOR_STICKY_CONTENT", "PROPERTY_PADDING", "PROPERTY_MARGIN", "ScrollBarHelper", "getWidth", "documentWidth", "clientWidth", "innerWidth", "width", "_disableOverFlow", "_setElementAttributes", "calculatedValue", "reset", "_resetElementAttributes", "isOverflowing", "_saveInitialAttribute", "overflow", "styleProperty", "scrollbarWidth", "manipulationCallBack", "setProperty", "_applyManipulationCallback", "actualValue", "removeProperty", "callBack", "EVENT_HIDE_PREVENTED", "EVENT_RESIZE", "EVENT_CLICK_DISMISS", "EVENT_MOUSEDOWN_DISMISS", "EVENT_KEYDOWN_DISMISS", "CLASS_NAME_OPEN", "CLASS_NAME_STATIC", "OPEN_SELECTOR", "SELECTOR_DIALOG", "SELECTOR_MODAL_BODY", "Modal", "_dialog", "_backdrop", "_initializeBackDrop", "_focustrap", "_initializeFocusTrap", "_scrollBar", "_adjustDialog", "_showElement", "_hideModal", "handleUpdate", "scrollTop", "modalBody", "transitionComplete", "_triggerBackdropTransition", "event2", "_resetAdjustments", "isModalOverflowing", "scrollHeight", "clientHeight", "initialOverflowY", "overflowY", "isBodyOverflowing", "paddingLeft", "paddingRight", "alreadyOpen", "CLASS_NAME_SHOWING", "CLASS_NAME_HIDING", "CLASS_NAME_BACKDROP", "scroll", "Offcanvas", "blur", "completeCallback", "position", "DefaultAllowlist", "a", "area", "b", "br", "col", "code", "dd", "div", "dl", "dt", "em", "hr", "h1", "h2", "h3", "h4", "h5", "h6", "i", "li", "ol", "p", "pre", "s", "small", "span", "sub", "sup", "strong", "u", "ul", "uriAttributes", "SAFE_URL_PATTERN", "allowedAttribute", "attribute", "allowedAttributeList", "attributeName", "nodeName", "nodeValue", "attributeRegex", "some", "regex", "sanitizeHtml", "unsafeHtml", "allowList", "sanitizeFunction", "createdDocument", "DOMParser", "parseFromString", "elementName", "attributeList", "allowedAttributes", "innerHTML", "content", "extraClass", "html", "sanitize", "sanitizeFn", "template", "DefaultContentType", "entry", "TemplateFactory", "getContent", "_resolvePossibleFunction", "hasContent", "changeContent", "_checkContent", "toHtml", "templateWrapper", "_maybeSanitize", "text", "_setContent", "arg", "templateElement", "_putElementInTemplate", "textContent", "DISALLOWED_ATTRIBUTES", "CLASS_NAME_MODAL", "SELECTOR_TOOLTIP_INNER", "SELECTOR_MODAL", "EVENT_MODAL_HIDE", "TRIGGER_HOVER", "TRIGGER_FOCUS", "TRIGGER_CLICK", "TRIGGER_MANUAL", "EVENT_INSERTED", "EVENT_CLICK", "EVENT_FOCUSOUT", "AttachmentMap", "AUTO", "TOP", "RIGHT", "BOTTOM", "LEFT", "animation", "container", "customClass", "delay", "fallbackPlacements", "title", "Tooltip", "_isEnabled", "_timeout", "_isHovered", "_activeTrigger", "_templateFactory", "_newContent", "tip", "_setListeners", "_fixTitle", "enable", "disable", "toggleEnabled", "click", "_leave", "_enter", "_hideModalHandler", "_disposePopper", "_isWithContent", "isInTheDom", "ownerDocument", "_getTipElement", "_isWithActiveTrigger", "_getTitle", "_createTipElement", "_getContentForTemplate", "_getTemplateFactory", "tipId", "setContent", "_initializeOnDelegatedTarget", "_getDelegateConfig", "attachment", "phase", "state", "triggers", "eventIn", "eventOut", "_setTimeout", "timeout", "dataAttributes", "dataAttribute", "SELECTOR_TITLE", "SELECTOR_CONTENT", "Popover", "_getContent", "EVENT_ACTIVATE", "CLASS_NAME_DROPDOWN_ITEM", "SELECTOR_DATA_SPY", "SELECTOR_TARGET_LINKS", "SELECTOR_NAV_LIST_GROUP", "SELECTOR_NAV_LINKS", "SELECTOR_LINK_ITEMS", "SELECTOR_DROPDOWN", "SELECTOR_DROPDOWN_TOGGLE", "rootMargin", "smoothScroll", "threshold", "ScrollSpy", "_targetLinks", "_observableSections", "_rootElement", "_activeTarget", "_observer", "_previousScrollData", "visibleEntryTop", "parentScrollTop", "refresh", "_initializeTargetsAndObservables", "_maybeEnableSmoothScroll", "disconnect", "_getNewObserver", "section", "observe", "observableSection", "hash", "height", "offsetTop", "scrollTo", "top", "behavior", "IntersectionObserver", "_observerCallback", "targetElement", "_process", "userScrollsDown", "isIntersecting", "_clearActiveClass", "entryIsLowerThanPrevious", "targetLinks", "anchor", "decodeURI", "_activateParents", "listGroup", "item", "activeNodes", "node", "spy", "HOME_KEY", "END_KEY", "CLASS_DROPDOWN", "SELECTOR_DROPDOWN_MENU", "NOT_SELECTOR_DROPDOWN_TOGGLE", "SELECTOR_TAB_PANEL", "SELECTOR_OUTER", "SELECTOR_INNER", "SELECTOR_INNER_ELEM", "SELECTOR_DATA_TOGGLE_ACTIVE", "Tab", "_setInitialAttributes", "_getChildren", "innerElem", "_elemIsActive", "active", "_getActiveElem", "_deactivate", "_activate", "relatedElem", "_toggleDropDown", "nextActiveElement", "preventScroll", "_setAttributeIfNotExists", "_setInitialAttributesOnChild", "_getInnerElement", "isActive", "outerElem", "_getOuterElement", "_setInitialAttributesOnTargetPanel", "open", "EVENT_MOUSEOVER", "EVENT_MOUSEOUT", "CLASS_NAME_HIDE", "autohide", "Toast", "_hasMouseInteraction", "_hasKeyboardInteraction", "_clearTimeout", "_maybeScheduleHide", "isShown", "_onInteraction", "isInteracting", "turbo_es2017_esm_exports", "__export", "FetchEnctype", "FetchMethod", "FetchRequest", "FetchResponse", "FrameElement", "FrameLoadingStyle", "FrameRenderer", "PageRenderer", "PageSnapshot", "StreamActions", "StreamElement", "StreamSourceElement", "cache", "clearCache", "connectStreamSource", "disconnectStreamSource", "fetchWithTurboHeaders", "fetchEnctypeFromString", "fetchMethodFromString", "isSafe", "navigator$1", "registerAdapter", "renderStreamMessage", "session", "setConfirmMethod", "setFormMode", "setProgressBarDelay", "start", "visit", "prototype", "submitter", "validateSubmitter", "form", "raise", "errorConstructor", "message", "name", "submittersByForm", "findSubmitterFromClickTarget", "target", "element", "candidate", "clickCaptured", "event", "prototypeOfSubmitEvent", "_FrameElement", "value", "frameLoadingStyleFromString", "style", "expandURL", "locatable", "getAnchor", "url", "anchorMatch", "getAction$1", "action", "getExtension", "getLastPathComponent", "isHTML", "isPrefixedBy", "baseURL", "prefix", "getPrefix", "locationIsVisitable", "location", "rootLocation", "getRequestURL", "anchor", "toCacheKey", "urlsAreEqual", "left", "right", "getPathComponents", "addTrailingSlash", "response", "activateScriptElement", "createdScriptElement", "cspNonce", "getMetaContent", "copyElementAttributes", "destinationElement", "sourceElement", "createDocumentFragment", "html", "template", "dispatch", "eventName", "cancelable", "detail", "nextRepaint", "nextEventLoopTick", "nextAnimationFrame", "resolve", "nextMicrotask", "parseHTMLDocument", "unindent", "strings", "values", "lines", "interpolate", "match", "indent", "line", "result", "string", "i", "uuid", "_", "getAttribute", "attributeName", "elements", "hasAttribute", "markAsBusy", "clearBusyState", "waitForLoad", "timeoutInMilliseconds", "onComplete", "getHistoryMethodForAction", "isAction", "getVisitAction", "getMetaElement", "setMetaContent", "content", "findClosestRecursively", "selector", "elementIsFocusable", "queryAutofocusableElement", "elementOrDocumentFragment", "around", "callback", "reader", "before", "after", "doesNotTargetIFrame", "findLinkFromClickTarget", "getLocationForLink", "link", "debounce", "fn", "delay", "timeoutId", "args", "LimitedSet", "maxSize", "oldestValue", "recentRequests", "nativeFetch", "options", "modifiedHeaders", "requestUID", "method", "encoding", "#resolveRequestPromise", "_value", "delegate", "requestBody", "enctype", "body", "buildResourceAndBody", "fetchBody", "fetchMethod", "fetchOptions", "#allowRequestToBeIntercepted", "error", "#willDelegateErrorHandling", "fetchResponse", "mimeType", "requestInterception", "resource", "searchParams", "entriesExcludingFiles", "mergeIntoURLSearchParams", "entries", "AppearanceObserver", "StreamMessage", "fragment", "importStreamElements", "streamElement", "inertScriptElement", "PREFETCH_DELAY", "PrefetchCache", "#prefetchTimeout", "#prefetched", "request", "ttl", "cacheTtl", "prefetchCache", "FormSubmissionState", "FormSubmission", "_FormSubmission", "_element", "_submitter", "formElement", "mustRedirect", "getMethod", "getAction", "getFormAction", "buildFormData", "getEnctype", "initialized", "requesting", "confirmationMessage", "stopping", "stopped", "token", "getCookieValue", "_request", "responseSucceededWithoutRedirect", "input", "formData", "cookieName", "cookie", "formElementAction", "formAction", "Snapshot", "queryPermanentElementsAll", "id", "getPermanentElementById", "snapshot", "permanentElementMap", "currentPermanentElement", "newPermanentElement", "node", "FormSubmitObserver", "eventTarget", "submissionDoesNotDismissDialog", "submissionDoesNotTargetIFrame", "View", "#resolveRenderPromise", "#resolveInterceptionPromise", "x", "y", "renderer", "isPreview", "shouldRender", "willRender", "shouldInvalidate", "renderInterception", "reason", "direction", "FrameView", "LinkInterceptor", "_event", "LinkClickObserver", "FormLinkClickObserver", "originalEvent", "type", "turboFrame", "turboAction", "turboConfirm", "Bardo", "bardo", "permanentElement", "placeholder", "createPlaceholderForPermanentElement", "clone", "Renderer", "#activeElement", "currentSnapshot", "newSnapshot", "renderElement", "reject", "currentElement", "newElement", "destinationRange", "frameElement", "sourceRange", "block", "readScrollLogicalPosition", "behavior", "readScrollBehavior", "activatedScriptElement", "defaultValue", "ProgressBar", "_ProgressBar", "HeadSnapshot", "elementIsNoscript", "elementWithoutNonce", "outerHTML", "details", "elementType", "elementIsTracked", "matchedType", "tracked", "elementIsMetaElementWithName", "elementIsScript", "elementIsStylesheet", "tagName", "_PageSnapshot", "documentElement", "head", "headSnapshot", "clonedElement", "selectElements", "clonedSelectElements", "index", "source", "option", "clonedPasswordInput", "root", "ViewTransitioner", "#viewTransitionStarted", "#lastOperation", "useViewTransition", "render", "defaultOptions", "TimingMetric", "VisitState", "SystemStatusCode", "Direction", "Visit", "restorationIdentifier", "historyChanged", "referrer", "snapshotHTML", "visitCachedSnapshot", "updateHistory", "shouldCacheSnapshot", "acceptsStreamResponse", "actionForHistory", "statusCode", "isSuccessful", "responseHTML", "_response", "redirected", "_error", "scrollPosition", "metric", "BrowserAdapter", "_visit", "_formSubmission", "CacheObserver", "FrameRedirector", "_location", "#shouldRedirect", "frame", "#findFrameElement", "#shouldSubmit", "meta", "History", "state", "additionalData", "restorationData", "turbo", "restorationIndex", "LinkPrefetchObserver", "#prefetchedLink", "#enable", "#tryToPrefetchRequest", "#cancelRequestIfObsolete", "#tryToUsePrefetchedRequest", "#isPrefetchable", "fetchRequest", "#cacheTtl", "#cancelPrefetchRequest", "cached", "turboFrameTarget", "unfetchableLink", "linkToTheSamePage", "linkOptsOut", "nonSafeLink", "eventPrevented", "turboPrefetchParent", "turboMethod", "isUJS", "Navigator", "formSubmission", "visitOptions", "#getActionForFormSubmission", "currentAnchor", "isRestorationToTop", "oldURL", "newURL", "#getDefaultAction", "PageStage", "PageObserver", "readyState", "ScrollObserver", "position", "StreamMessageRenderer", "getPermanentElementMapForFragment", "withAutofocusFromFragment", "withPreservedFocus", "permanentElementsInDocument", "permanentElementInDocument", "elementInStream", "generatedID", "turboStreams", "elementWithAutofocus", "firstAutofocusableElementInStreams", "willAutofocusId", "elementToAutofocus", "activeElementBeforeRender", "activeElementAfterRender", "restoreFocusTo", "elementToFocus", "nodeListOfStreamElements", "StreamObserver", "#started", "fetchResponseFromEvent", "fetchResponseIsStream", "ErrorRenderer", "replaceableElement", "parentNode", "Idiomorph", "EMPTY_SET", "defaults", "noOp", "elt", "morph", "oldNode", "newContent", "config", "parseContent", "normalizedContent", "normalizeContent", "ctx", "createMorphContext", "morphNormalizedContent", "normalizedNewContent", "oldHead", "newHead", "promises", "handleHeadElement", "morphChildren", "bestMatch", "findBestNodeMatch", "previousSibling", "nextSibling", "morphedNode", "morphOldNodeTo", "insertSiblings", "ignoreValueOfActiveElement", "possibleActiveElement", "isSoftMatch", "syncNodeFrom", "newParent", "oldParent", "nextNewChild", "insertionPoint", "newChild", "removeIdsFromConsideration", "isIdSetMatch", "idSetMatch", "findIdSetMatch", "removeNodesBetween", "softMatch", "findSoftMatch", "tempNode", "removeNode", "ignoreAttribute", "attr", "to", "updateType", "from", "fromAttributes", "toAttributes", "fromAttribute", "toAttribute", "syncInputValue", "syncBooleanAttribute", "ignoreUpdate", "fromValue", "toValue", "newHeadTag", "currentHead", "added", "removed", "preserved", "nodesToAppend", "headMergeStyle", "srcToNewHeadNodes", "newHeadChild", "currentHeadElt", "inNewContent", "isReAppended", "isPreserved", "newNode", "newElt", "promise", "_resolve", "removedElement", "mergeDefaults", "finalConfig", "createIdMap", "node1", "node2", "getIdIntersectionCount", "startInclusive", "endExclusive", "newChildPotentialIdCount", "potentialMatch", "otherMatchCount", "potentialSoftMatch", "siblingSoftMatchCount", "parser", "contentWithSvgsRemoved", "htmlElement", "dummyParent", "stack", "bestElement", "score", "newScore", "scoreElement", "isIdInConsideration", "idIsWithinNode", "targetNode", "idSet", "sourceSet", "matchCount", "populateIdMapForNode", "idMap", "nodeParent", "idElements", "current", "oldContent", "#setLanguage", "lang", "mergedHeadElements", "newStylesheetElements", "loadingElements", "newHeadElements", "elementList", "MorphRenderer", "#morphBody", "#morphElements", "#reloadRemoteFrames", "morphStyle", "#isFrameReloadedWithMorph", "#shouldAddElement", "#shouldMorphElement", "#shouldUpdateAttribute", "#shouldRemoveElement", "#didMorphElement", "mutationType", "#remoteFrames", "#renderFrameWithMorph", "#morphFrameUpdate", "SnapshotCache", "size", "key", "PageView", "rendererClass", "cachedSnapshot", "Preloader", "snapshotCache", "#preloadAll", "Cache", "#setCacheControl", "Session", "#pageRefreshDebouncePeriod", "adapter", "requestId", "mode", "isUnsafe", "isStream", "frameTarget", "extendURLWithDeprecatedProperties", "defaultPrevented", "_snapshot", "_isPreview", "renderMethod", "ev", "newBody", "timing", "submitterIsNavigatable", "container", "withinFrame", "deprecatedLocationPropertyDescriptors", "confirmMethod", "Turbo", "TurboFrameMissingError", "FrameController", "_fetchResponse", "#currentFetchRequest", "#resolveVisitPromise", "#connected", "#hasBeenLoaded", "#ignoredAttributes", "#loadSourceURL", "#isIgnoringChangesTo", "src", "#ignoringChangesToAttribute", "#visit", "document", "#loadFrameResponse", "#handleUnvisitableFrameResponse", "#shouldInterceptNavigation", "#navigateFrame", "newFrame", "_renderMethod", "_newElement", "newFrameElement", "#willHandleFrameMissingFromResponse", "#handleFrameMissingFromResponse", "#withCurrentNavigationElement", "pageSnapshot", "#visitResponse", "#throwFrameMissingError", "wrapped", "getFrameElementById", "activateElement", "#formActionIsVisitable", "sourceURL", "currentURL", "e", "targetElement", "_StreamElement", "c", "existingChildren", "newChildrenIds", "actionFunction", "#raise", "consumer", "getConsumer", "setConsumer", "createConsumer", "newConsumer", "subscribeTo", "channel", "mixin", "subscriptions", "walk", "obj", "acc", "key", "camel", "m", "x", "TurboCableStreamSourceElement", "connectStreamSource", "subscribeTo", "disconnectStreamSource", "data", "event", "channel", "signed_stream_name", "walk", "encodeMethodIntoRequestBody", "event", "form", "fetchOptions", "submitter", "body", "isBodyInit", "method", "determineFetchMethod", "formMethod", "determineFormMethod", "overrideMethod", "turbo_es2017_esm_exports", "encodeMethodIntoRequestBody", "EventListener", "eventTarget", "eventName", "eventOptions", "binding", "event", "extendedEvent", "extendEvent", "left", "right", "leftIndex", "rightIndex", "stopImmediatePropagation", "Dispatcher", "application", "eventListener", "listeners", "map", "clearEventListeners", "error", "message", "detail", "eventListenerMap", "cacheKey", "parts", "key", "defaultActionDescriptorFilters", "value", "element", "descriptorPattern", "parseActionDescriptorString", "descriptorString", "matches", "keyFilter", "parseEventTarget", "parseEventOptions", "eventTargetName", "options", "token", "stringifyEventTarget", "camelize", "_", "char", "namespaceCamelize", "capitalize", "dasherize", "tokenize", "isSomething", "object", "hasProperty", "property", "allModifiers", "Action", "index", "descriptor", "schema", "getDefaultEventNameForElement", "eventFilter", "filters", "standardFilter", "params", "pattern", "name", "match", "typecast", "meta", "ctrl", "alt", "shift", "modifier", "defaultEventNames", "e", "tagName", "Binding", "context", "action", "actionEvent", "method", "actionDescriptorFilters", "controller", "passes", "filter", "target", "currentTarget", "identifier", "ElementObserver", "delegate", "mutations", "callback", "mutation", "attributeName", "nodes", "node", "tree", "processor", "AttributeObserver", "add", "fetch", "del", "prune", "values", "Multimap", "set", "size", "_key", "_values", "SelectorObserver", "element", "selector", "delegate", "details", "ElementObserver", "Multimap", "callback", "matches", "tree", "match", "selectors", "_attributeName", "matchedBefore", "StringMapObserver", "mutations", "attributeName", "mutation", "oldValue", "key", "value", "attribute", "TokenListObserver", "AttributeObserver", "unmatchedTokens", "matchedTokens", "tokens", "token", "previousTokens", "currentTokens", "firstDifferingIndex", "zip", "previousToken", "currentToken", "tokensAreEqual", "tokenString", "parseTokenString", "content", "index", "left", "right", "length", "_", "ValueListObserver", "parseResult", "valuesByToken", "error", "BindingObserver", "context", "action", "binding", "Binding", "Action", "ValueObserver", "receiver", "descriptor", "name", "defaultValue", "writer", "rawValue", "rawOldValue", "changedMethodName", "changedMethod", "valueDescriptorMap", "descriptors", "hasMethodName", "capitalize", "TargetObserver", "_a", "readInheritableStaticArrayValues", "constructor", "propertyName", "ancestors", "getAncestorsForConstructor", "values", "getOwnStaticArrayValues", "readInheritableStaticObjectPairs", "pairs", "getOwnStaticObjectPairs", "definition", "OutletObserver", "outletName", "observer", "_selector", "outlet", "hasOutlet", "hasOutletController", "_element", "selectorObserver", "attributeObserver", "dependencies", "module", "identifiers", "Context", "scope", "functionName", "detail", "identifier", "controller", "message", "namespaceCamelize", "methodName", "args", "bless", "shadow", "getBlessedProperties", "properties", "shadowConstructor", "extend", "shadowProperties", "getShadowProperties", "blessedProperties", "blessing", "prototype", "getOwnKeys", "getShadowedDescriptor", "shadowingDescriptor", "object", "extendWithReflect", "extended", "testReflectExtension", "b", "blessDefinition", "Module", "application", "ClassMap", "tokenize", "DataMap", "dasherize", "Guide", "logger", "warnedKeys", "attributeValueContainsToken", "TargetSet", "targetName", "targetNames", "target", "targets", "targetDescriptor", "revisedAttributeName", "OutletSet", "controllerElement", "outletNames", "outlets", "controllerAttribute", "Scope", "_Scope", "schema", "ScopeObserver", "scopesByIdentifier", "referenceCount", "Router", "contexts", "afterLoad", "defaultSchema", "objectFromEntries", "c", "n", "array", "memo", "k", "v", "Application", "Dispatcher", "defaultActionDescriptorFilters", "domReady", "controllerConstructor", "filter", "head", "rest", "resolve", "ClassPropertiesBlessing", "classDefinition", "propertiesForClassDefinition", "classes", "OutletPropertiesBlessing", "outletDefinition", "propertiesForOutletDefinition", "getOutletController", "getControllerAndEnsureConnectedScope", "outletController", "camelizedName", "outletElement", "TargetPropertiesBlessing", "targetDefinition", "propertiesForTargetDefinition", "ValuePropertiesBlessing", "valueDefinitionPairs", "propertyDescriptorMap", "result", "valueDefinitionPair", "valueDescriptor", "parseValueDefinitionPair", "propertiesForValueDefinitionPair", "read", "write", "typeDefinition", "valueDescriptorForTokenAndTypeDefinition", "parseValueTypeConstant", "constant", "parseValueTypeDefault", "parseValueTypeObject", "payload", "typeObject", "hasType", "isSomething", "hasDefault", "fullObject", "onlyType", "onlyDefault", "typeFromObject", "typeFromDefaultValue", "propertyPath", "parseValueTypeDefinition", "typeFromConstant", "type", "defaultValueForDefinition", "defaultValuesByType", "hasProperty", "constantFromType", "camelize", "readers", "writers", "writeString", "writeJSON", "Controller", "_identifier", "_application", "eventName", "prefix", "bubbles", "cancelable", "event", "application", "Application", "confirm_controller_default", "Controller", "e", "message", "btn_preloader_controller_default", "Controller", "e", "notices_controller_default", "Controller", "clear_form_controller_default", "Controller", "event", "t", "e", "i", "n", "s", "o", "a", "r", "l", "c", "h", "d", "u", "p", "f", "g", "m", "v", "b", "y", "w", "x", "E", "S", "P", "C", "T", "M", "O", "A", "L", "z", "R", "k", "_k", "I", "D", "F", "j", "B", "H", "N", "_", "$", "W", "X", "q", "Y", "V", "Z", "U", "G", "K", "J", "_J", "Q", "tt", "et", "it", "nt", "st", "ot", "at", "rt", "lt", "ct", "ht", "dt", "ut", "Ce", "pt", "ft", "gt", "mt", "vt", "bt", "yt", "wt", "xt", "Et", "St", "Pt", "Ct", "Tt", "Mt", "Ot", "At", "Lt", "zt", "Rt", "kt", "It", "Dt", "Ft", "jt", "Bt", "Ht", "Nt", "_t", "$t", "Wt", "Xt", "qt", "Yt", "Vt", "Zt", "Ut", "Gt", "Kt", "Jt", "Qt", "te", "ee", "ie", "ne", "se", "oe", "ae", "re", "le", "ce", "he", "de", "ue", "pe", "fe", "ge", "me", "ve", "be", "ye", "we", "xe", "Ee", "Se", "Pe", "_Ce", "fancybox_controller_default", "Controller", "Ce", "Pagy", "rjsObserver", "entries", "e", "el", "initNav", "tokens", "sequels", "labelSequels", "trimParam", "container", "widths", "w", "a", "b", "lastWidth", "fillIn", "page", "label", "width", "html", "series", "labels", "l", "item", "i", "filled", "trim", "initCombo", "url_token", "initInput", "inputValue", "initSelector", "from", "url", "getVars", "input", "link", "initial", "action", "min", "val", "max", "n", "param", "arg", "elements", "uint8array", "c", "keyword", "args", "err", "pagy_default", "pagy_initializer_controller_default", "Controller", "pagy_default", "map_controller_default", "Controller", "address", "cityName", "res", "firstGeoObject", "coords", "bounds", "isObject", "obj", "extend", "target", "src", "key", "ssrDocument", "getDocument", "doc", "ssrWindow", "callback", "id", "getWindow", "win", "classesToTokens", "classes", "c", "deleteProps", "obj", "object", "key", "nextTick", "callback", "delay", "now", "getComputedStyle", "el", "window", "getWindow", "style", "getTranslate", "axis", "matrix", "curTransform", "transformMatrix", "curStyle", "isObject", "o", "isNode", "node", "extend", "to", "noExtend", "i", "nextSource", "keysArray", "nextIndex", "len", "nextKey", "desc", "setCSSProperty", "varName", "varValue", "animateCSSModeScroll", "_ref", "swiper", "targetPosition", "side", "startPosition", "startTime", "time", "duration", "dir", "isOutOfBound", "current", "target", "animate", "progress", "easeProgress", "currentPosition", "elementChildren", "element", "selector", "el", "showWarning", "text", "createElement", "tag", "classes", "classesToTokens", "elementPrevAll", "el", "selector", "prevEls", "prev", "elementNextAll", "nextEls", "next", "elementStyle", "prop", "getWindow", "elementIndex", "child", "i", "elementParents", "parents", "parent", "elementOuterSize", "el", "size", "includeMargins", "window", "getWindow", "makeElementsArray", "support", "calcSupport", "window", "getWindow", "document", "getDocument", "getSupport", "deviceCached", "calcDevice", "_temp", "userAgent", "platform", "ua", "device", "screenWidth", "screenHeight", "android", "ipad", "ipod", "iphone", "windows", "macos", "iPadScreens", "getDevice", "overrides", "browser", "calcBrowser", "needPerspectiveFix", "isSafari", "major", "minor", "num", "isWebView", "isSafariBrowser", "need3dFix", "getBrowser", "Resize", "_ref", "swiper", "on", "emit", "observer", "animationFrame", "resizeHandler", "createObserver", "entries", "width", "height", "newWidth", "newHeight", "_ref2", "contentBoxSize", "contentRect", "target", "removeObserver", "orientationChangeHandler", "Observer", "extendParams", "observers", "attach", "options", "ObserverFunc", "mutations", "observerUpdate", "init", "containerParents", "elementParents", "i", "destroy", "eventsEmitter", "events", "handler", "priority", "self", "method", "event", "onceHandler", "_len", "args", "_key", "index", "eventHandler", "data", "context", "_len2", "_key2", "updateSize", "el", "elementStyle", "updateSlides", "getDirectionPropertyValue", "node", "label", "params", "wrapperEl", "slidesEl", "swiperSize", "rtl", "wrongRTL", "isVirtual", "previousSlidesLength", "slides", "elementChildren", "slidesLength", "snapGrid", "slidesGrid", "slidesSizesGrid", "offsetBefore", "offsetAfter", "previousSnapGridLength", "previousSlidesGridLength", "spaceBetween", "slidePosition", "prevSlideSize", "slideEl", "setCSSProperty", "gridEnabled", "slideSize", "shouldResetSlideSize", "key", "slide", "slideStyles", "currentTransform", "currentWebKitTransform", "elementOuterSize", "paddingLeft", "paddingRight", "marginLeft", "marginRight", "boxSizing", "clientWidth", "offsetWidth", "newSlidesGrid", "slidesGridItem", "size", "groups", "groupSize", "_", "slideIndex", "allSlidesSize", "slideSizeValue", "maxSnap", "snap", "offsetSize", "allSlidesOffset", "snapIndex", "addToSnapGrid", "addToSlidesGrid", "v", "backFaceHiddenClass", "hasClassBackfaceClassAdded", "updateAutoHeight", "speed", "activeSlides", "getSlideByIndex", "updateSlidesOffset", "minusOffset", "toggleSlideClasses$1", "condition", "className", "updateSlidesProgress", "translate", "offsetCenter", "slideOffset", "slideProgress", "originalSlideProgress", "slideBefore", "slideAfter", "isFullyVisible", "isVisible", "updateProgress", "multiplier", "translatesDiff", "progress", "isBeginning", "isEnd", "progressLoop", "wasBeginning", "wasEnd", "isBeginningRounded", "isEndRounded", "firstSlideIndex", "lastSlideIndex", "firstSlideTranslate", "lastSlideTranslate", "translateMax", "translateAbs", "toggleSlideClasses", "updateSlidesClasses", "activeIndex", "getFilteredSlide", "selector", "activeSlide", "prevSlide", "nextSlide", "elementNextAll", "elementPrevAll", "processLazyPreloader", "imageEl", "slideSelector", "lazyEl", "unlazy", "preload", "amount", "len", "slidesPerView", "activeColumn", "preloadColumns", "slideIndexLastInView", "realIndex", "getActiveIndexByTranslate", "updateActiveIndex", "newActiveIndex", "previousIndex", "previousRealIndex", "previousSnapIndex", "getVirtualRealIndex", "aIndex", "skip", "firstSlideInColumn", "activeSlideIndex", "updateClickedSlide", "path", "pathEl", "slideFound", "update", "getSwiperTranslate", "axis", "currentTranslate", "getTranslate", "setTranslate", "byController", "x", "y", "z", "newProgress", "minTranslate", "maxTranslate", "translateTo", "runCallbacks", "translateBounds", "internal", "newTranslate", "isH", "animateCSSModeScroll", "e", "setTransition", "duration", "transitionEmit", "direction", "step", "dir", "transitionStart", "transitionEnd", "transition", "slideTo", "initial", "enabled", "normalizedTranslate", "normalizedGrid", "normalizedGridNext", "t", "slideToLoop", "newIndex", "targetSlideIndex", "cols", "centeredSlides", "needLoopFix", "slideNext", "animating", "perGroup", "increment", "slidePrev", "rtlTranslate", "normalize", "val", "normalizedSnapGrid", "prevSnap", "prevSnapIndex", "prevIndex", "lastIndex", "slideReset", "slideToClosest", "threshold", "currentSnap", "nextSnap", "slideToClickedSlide", "slideToIndex", "nextTick", "loopCreate", "slideRealIndex", "initSlides", "slidesPerGroup", "shouldFillGroup", "shouldFillGrid", "addBlankSlides", "amountOfSlides", "createElement", "slidesToAdd", "showWarning", "loopFix", "byMousewheel", "allowSlidePrev", "allowSlideNext", "loopedSlides", "prependSlidesIndexes", "appendSlidesIndexes", "isNext", "isPrev", "slidesPrepended", "slidesAppended", "activeColIndexWithShift", "colIndexToPrepend", "currentSlideTranslate", "diff", "shift", "loopParams", "c", "loopDestroy", "newSlidesOrder", "loop", "setGrabCursor", "moving", "unsetGrabCursor", "grabCursor", "closestElement", "base", "__closestFrom", "found", "preventEdgeSwipe", "startX", "edgeSwipeDetection", "edgeSwipeThreshold", "onTouchStart", "touches", "targetEl", "swipingClassHasValue", "eventPath", "noSwipingSelector", "isTargetShadow", "startY", "now", "preventDefault", "shouldPreventDefault", "onTouchMove", "targetTouch", "pageX", "pageY", "diffX", "diffY", "touchAngle", "touchesDiff", "prevTouchesDirection", "isLoop", "allowLoopFix", "evt", "loopFixed", "disableParentSwiper", "resistanceRatio", "onTouchEnd", "touchEndTime", "timeDiff", "pathTree", "currentPos", "swipeToLast", "stopIndex", "rewindFirstIndex", "rewindLastIndex", "ratio", "onResize", "isVirtualLoop", "onClick", "onScroll", "onLoad", "onDocumentTouchStart", "capture", "domMethod", "swiperMethod", "attachEvents", "detachEvents", "events$1", "isGridEnabled", "setBreakpoint", "initialized", "breakpoints", "breakpoint", "breakpointParams", "wasMultiRow", "isMultiRow", "wasGrabCursor", "isGrabCursor", "wasEnabled", "prop", "wasModuleEnabled", "isModuleEnabled", "directionChanged", "needsReLoop", "wasLoop", "extend", "isEnabled", "hasLoop", "getBreakpoint", "containerEl", "currentHeight", "points", "point", "minRatio", "b", "value", "prepareClasses", "prefix", "resultClasses", "item", "classNames", "addClasses", "suffixes", "removeClasses", "classes", "checkOverflow", "wasLocked", "slidesOffsetBefore", "lastSlideRightEdge", "checkOverflow$1", "defaults", "moduleExtendParams", "allModulesParams", "obj", "moduleParamName", "moduleParams", "prototypes", "extendedDefaults", "Swiper", "_Swiper", "swipers", "newParams", "mod", "swiperParams", "eventName", "property", "elementIndex", "min", "current", "cls", "updates", "view", "exact", "spv", "breakLoop", "translateValue", "translated", "newDirection", "needUpdate", "currentDirection", "element", "getWrapperSelector", "lazyElements", "deleteInstance", "cleanStyles", "deleteProps", "newDefaults", "modules", "module", "m", "prototypeGroup", "protoMethod", "createElementIfNotDefined", "swiper", "originalParams", "params", "checkProps", "key", "element", "elementChildren", "createElement", "Navigation", "_ref", "swiper", "extendParams", "on", "emit", "getEl", "el", "res", "toggleEl", "disabled", "params", "makeElementsArray", "subEl", "update", "nextEl", "prevEl", "onPrevClick", "e", "onNextClick", "init", "createElementIfNotDefined", "initButton", "dir", "destroy", "destroyButton", "disable", "_s", "targetEl", "targetIsButton", "path", "pathEl", "isHidden", "enable", "Autoplay", "_ref", "swiper", "extendParams", "on", "emit", "params", "timeout", "raf", "autoplayDelayTotal", "autoplayDelayCurrent", "autoplayTimeLeft", "autoplayStartTime", "wasPaused", "isTouched", "pausedByTouch", "touchStartTimeout", "slideChanged", "pausedByInteraction", "pausedByPointerEnter", "onTransitionEnd", "e", "resume", "calcTimeLeft", "timeLeft", "getSlideDelay", "activeSlideEl", "slideEl", "run", "delayForce", "delay", "currentSlideDelay", "speed", "proceed", "start", "stop", "pause", "internal", "reset", "onVisibilityChange", "document", "getDocument", "onPointerEnter", "onPointerLeave", "attachMouseEvents", "detachMouseEvents", "attachDocumentEvents", "detachDocumentEvents", "_s", "swiper_controller_default", "Controller", "Swiper", "Navigation", "Autoplay", "expand_text_controller_default", "Controller", "textLength", "screenWidth", "collapse_controller_default", "Controller", "e", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "insertReplacement", "source", "rx", "replacement", "newParts", "chunk", "raw", "i", "list", "interpolate", "phrase", "options", "dollarRegex", "dollarBillsYall", "interpolated", "arg", "defaultOnMissingKey", "key", "_onMissingKey", "_apply", "Translator", "locales", "_temp", "onMissingKey", "_apply2", "string", "plural", "locale", "prevLocale", "import_namespace_emitter", "urlAlphabet", "nanoid", "size", "id", "i", "urlAlphabet", "import_throttle", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "_callbacks", "_publish", "DefaultStore", "_publish2", "patch", "prevState", "nextState", "listener", "_len", "args", "_key", "lib_default", "getFileNameAndExtension", "fullFileName", "lastDot", "mimeTypes_default", "getFileType", "file", "_getFileNameAndExtens", "fileExtension", "getFileNameAndExtension", "mimeTypes_default", "encodeCharacter", "character", "encodeFilename", "name", "suffix", "generateFileID", "file", "instanceId", "id", "hasFileStableId", "getSafeFileId", "fileType", "getFileType", "supportsUploadProgress", "userAgent", "m", "version", "major", "minor", "getFileName", "fileType", "fileDescriptor", "pad", "number", "getTimeStamp", "date", "hours", "minutes", "seconds", "justErrorsLogger", "_len", "args", "_key", "getTimeStamp", "debugLogger", "_len2", "_key2", "_len3", "_key3", "_len4", "_key4", "import_prettier_bytes", "import_mime_match", "defaultOptions", "RestrictionError", "message", "opts", "_opts$isUserFacing", "Restricter", "getOpts", "getI18n", "_opts$restrictions", "existingFiles", "addingFiles", "maxTotalFileSize", "maxNumberOfFiles", "f", "totalFilesSize", "total", "_f$size", "prettierBytes", "file", "maxFileSize", "minFileSize", "allowedFileTypes", "type", "match", "allowedFileTypesString", "_file$name", "addingFile", "files", "minNumberOfFiles", "_file$name2", "error", "requiredMetaFields", "missingFields", "field", "locale_default", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "defaultUploadState", "_plugins", "_restricter", "_storeUnsubscribe", "_emitter", "_preProcessors", "_uploaders", "_postProcessors", "_informAndEmit", "_checkRequiredMetaFieldsOnFile", "_checkRequiredMetaFields", "_assertNewUploadAllowed", "_transformFile", "_startIfAutoProceed", "_checkAndUpdateFileState", "_addListeners", "_updateOnlineStatus", "_requestClientById", "_createUpload", "_getUpload", "_removeUpload", "_runUpload", "Uppy", "_Uppy", "_opts", "_runUpload2", "_removeUpload2", "_getUpload2", "_createUpload2", "_addListeners2", "_checkAndUpdateFileState2", "_startIfAutoProceed2", "_transformFile2", "_assertNewUploadAllowed2", "_checkRequiredMetaFields2", "_checkRequiredMetaFieldsOnFile2", "_informAndEmit2", "ee", "throttle", "file", "data", "fileInState", "canHavePercentage", "locale_default", "defaultOptions", "files", "lib_default", "justErrorsLogger", "merged", "debugLogger", "supportsUploadProgress", "Restricter", "prevState", "nextState", "patch", "event", "_len", "args", "_key", "callback", "state", "plugin", "filesWithNewState", "existingFilesState", "_ref", "fileID", "newFileState", "onMissingKey", "key", "translator", "Translator", "newOpts", "defaultProgress", "updatedFiles", "capabilities", "currentUploads", "fn", "updatedMeta", "newMeta", "ids", "filesObject", "totalProgress", "error", "inProgressFiles", "newFiles", "startedFiles", "uploadStartedFiles", "pausedFiles", "completeFiles", "erroredFiles", "inProgressNotPausedFiles", "processingFiles", "progress", "err", "existingFiles", "nextFilesState", "validFilesToAdd", "errors", "restrictionErrors", "firstValidFileToAdd", "fileDescriptors", "nonRestrictionErrors", "message", "subError", "fileIDs", "updatedUploads", "removedFiles", "fileIsNotRemoved", "uploadFileID", "uploadID", "newFileIDs", "stateUpdate", "removedFileIDs", "isPaused", "updatedFile", "filesToRetry", "_provider", "inProgress", "sizedFiles", "unsizedFiles", "progressMax", "currentProgress", "acc", "totalSize", "_file$progress$bytesT", "averageSize", "uploadedSize", "_window$navigator$onL", "Plugin", "msg", "_len2", "_key2", "pluginId", "existsPluginAlready", "plugins", "foundPlugin", "type", "method", "instance", "list", "index", "item", "updatedState", "info", "duration", "isComplexMessage", "logger", "client", "requestClient", "currentUpload", "_classPrivateFieldLoo", "onBeforeUploadResult", "RestrictionError", "currentlyUploadingFiles", "curr", "waitingFileIDs", "userFacingErrors", "maxNumToShow", "firstErrors", "additionalErrors", "_ref2", "details", "missingFields", "success", "allowNewUpload", "fileDescriptorOrFile", "fileType", "getFileType", "fileName", "getFileName", "fileExtension", "getFileNameAndExtension", "getSafeFileId", "meta", "size", "filesToAdd", "fileToAdd", "_existingFiles$newFil", "newFile", "isGhost", "onBeforeFileAddedResult", "_newFile$name", "errorHandler", "response", "errorMsg", "_file$name", "newError", "uploadStalledWarningRecentlyEmitted", "onUploadStarted", "filesFiltered", "exists", "filesState", "uploadResp", "opts", "forceAllowNewUpload", "nanoid", "getCurrentUpload", "steps", "step", "successful", "failed", "result", "Uppy_default", "slice", "options", "vnodeId", "isValidElement", "rerenderQueue", "prevDebounce", "defer", "depthSort", "eventClock", "eventProxy", "eventProxyCapture", "i", "EMPTY_OBJ", "EMPTY_ARR", "IS_NON_DIMENSIONAL", "isArray", "Array", "assign", "obj", "props", "removeNode", "node", "parentNode", "removeChild", "createElement", "type", "children", "key", "ref", "normalizedProps", "arguments", "length", "call", "defaultProps", "createVNode", "original", "vnode", "__k", "__", "__b", "__e", "__d", "__c", "constructor", "__v", "__i", "__u", "createRef", "current", "Fragment", "BaseComponent", "context", "this", "getDomSibling", "childIndex", "sibling", "updateParentDomPointers", "child", "base", "enqueueRender", "c", "push", "process", "__r", "debounceRendering", "renderQueueLength", "component", "newVNode", "oldVNode", "oldDom", "commitQueue", "refQueue", "sort", "shift", "__P", "diff", "__n", "namespaceURI", "commitRoot", "diffChildren", "parentDom", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "namespace", "excessDomChildren", "isHydrating", "childVNode", "newDom", "firstChildDom", "oldChildren", "newChildrenLength", "constructNewChildrenArray", "applyRef", "insert", "nextSibling", "skewedIndex", "matchingIndex", "oldChildrenLength", "remainingOldChildren", "skew", "String", "findMatchingIndex", "unmount", "parentVNode", "contains", "insertBefore", "nodeType", "toChildArray", "out", "some", "x", "y", "setStyle", "style", "value", "setProperty", "test", "dom", "name", "oldValue", "useCapture", "o", "cssText", "replace", "toLowerCase", "l", "_attached", "addEventListener", "removeEventListener", "e", "removeAttribute", "setAttribute", "createEventProxy", "eventHandler", "_dispatched", "event", "tmp", "isNew", "oldProps", "oldState", "snapshot", "clearProcessingException", "newProps", "isClassComponent", "provider", "componentContext", "renderHook", "count", "newType", "outer", "prototype", "render", "contextType", "__E", "doRender", "sub", "state", "__h", "_sb", "__s", "getDerivedStateFromProps", "componentWillMount", "componentDidMount", "componentWillReceiveProps", "shouldComponentUpdate", "forEach", "componentWillUpdate", "componentDidUpdate", "getChildContext", "getSnapshotBeforeUpdate", "MODE_HYDRATE", "indexOf", "diffElementNodes", "diffed", "root", "cb", "newHtml", "oldHtml", "newChildren", "inputValue", "checked", "localName", "document", "createTextNode", "createElementNS", "is", "data", "childNodes", "attributes", "__html", "innerHTML", "hasRefUnmount", "skipRemove", "r", "componentWillUnmount", "replaceNode", "firstChild", "cloneElement", "vnode", "props", "children", "key", "ref", "i", "defaultProps", "normalizedProps", "assign", "type", "arguments", "length", "slice", "call", "createVNode", "slice", "EMPTY_ARR", "options", "__e", "error", "vnode", "oldVNode", "errorInfo", "component", "ctor", "handled", "__", "__c", "constructor", "getDerivedStateFromError", "setState", "__d", "componentDidCatch", "__E", "e", "vnodeId", "isValidElement", "undefined", "BaseComponent", "prototype", "update", "callback", "s", "this", "__s", "state", "assign", "props", "__v", "_sb", "push", "enqueueRender", "forceUpdate", "__h", "render", "Fragment", "rerenderQueue", "defer", "Promise", "then", "bind", "resolve", "setTimeout", "depthSort", "a", "b", "__b", "process", "__r", "eventClock", "eventProxy", "createEventProxy", "eventProxyCapture", "i", "isDOMElement", "obj", "findDOMElement", "element", "context", "isDOMElement", "findDOMElement_default", "getTextDirection", "element", "_element", "getTextDirection_default", "BasePlugin", "uppy", "opts", "plugins", "update", "newOpts", "translator", "Translator", "plugin", "state", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "debounce", "fn", "calling", "latestArgs", "_len", "args", "_key", "_updateUI", "UIPlugin", "_UIPlugin", "BasePlugin", "target", "targetPlugin", "Target", "p", "plugin", "callerPluginName", "targetElement", "findDOMElement_default", "uppyRootElement", "state", "B", "getTextDirection_default", "message", "_classPrivateFieldLoo", "_classPrivateFieldLoo2", "_this$el", "UIPlugin_default", "emaFilter", "newValue", "previousSmoothedValue", "halfLife", "dt", "StatusBarStates_default", "import_classnames", "calculateProcessingProgress", "files", "values", "mode", "message", "progress", "preprocess", "postprocess", "value", "total", "progressValue", "import_classnames", "import_prettier_bytes", "secondsToTime", "rawSeconds", "hours", "minutes", "seconds", "prettyETA", "seconds", "time", "secondsToTime", "hoursStr", "minutesStr", "secondsStr", "DOT", "renderDot", "UploadBtn", "props", "newFiles", "isUploadStarted", "recoveredState", "i18n", "uploadState", "isSomeGhost", "startUpload", "uploadBtnClassNames", "classNames", "StatusBarStates_default", "uploadBtnText", "_", "RetryBtn", "uppy", "CancelBtn", "PauseResumeButton", "isAllPaused", "isAllComplete", "resumableUploads", "title", "togglePauseResume", "DoneBtn", "doneButtonHandler", "LoadingSpinner", "ProgressBarProcessing", "progress", "value", "mode", "message", "ProgressDetails", "numUploads", "complete", "totalUploadedSize", "totalSize", "totalETA", "ifShowFilesUploadedOfTotal", "prettierBytes", "prettyETA", "FileUploadCount", "UploadNewlyAddedFiles", "ProgressBarUploading", "supportsUploadProgress", "totalProgress", "showProgressDetails", "showUploadNewlyAddedFiles", "renderProgressDetails", "ProgressBarComplete", "ProgressBarError", "error", "displayErrorAlert", "errorMessage", "STATE_ERROR", "STATE_WAITING", "STATE_PREPROCESSING", "STATE_UPLOADING", "STATE_POSTPROCESSING", "STATE_COMPLETE", "StatusBarStates_default", "StatusBarUI", "_ref", "newFiles", "allowNewUpload", "isUploadInProgress", "isAllPaused", "resumableUploads", "error", "hideUploadButton", "hidePauseResumeButton", "hideCancelButton", "hideRetryButton", "recoveredState", "uploadState", "totalProgress", "files", "supportsUploadProgress", "hideAfterFinish", "isSomeGhost", "doneButtonHandler", "isUploadStarted", "i18n", "startUpload", "uppy", "isAllComplete", "showProgressDetails", "numUploads", "complete", "totalSize", "totalETA", "totalUploadedSize", "getProgressValue", "progress", "calculateProcessingProgress", "getIsIndeterminate", "mode", "getIsHidden", "progressValue", "isHidden", "width", "showUploadBtn", "showCancelBtn", "showPauseResumeBtn", "showRetryBtn", "showDoneBtn", "progressClassNames", "classNames", "statusBarClassNames", "_", "ProgressBarProcessing", "ProgressBarComplete", "ProgressBarError", "ProgressBarUploading", "UploadBtn", "RetryBtn", "PauseResumeButton", "CancelBtn", "DoneBtn", "locale_default", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "speedFilterHalfLife", "ETAFilterHalfLife", "getUploadingState", "error", "isAllComplete", "recoveredState", "files", "StatusBarStates_default", "state", "fileIDs", "i", "progress", "defaultOptions", "_lastUpdateTime", "_previousUploadedBytes", "_previousSpeed", "_previousETA", "_computeSmoothETA", "_onUploadStart", "StatusBar", "UIPlugin_default", "uppy", "opts", "_computeSmoothETA2", "pv", "_ref", "locale_default", "capabilities", "allowNewUpload", "totalProgress", "newFiles", "startedFiles", "completeFiles", "isUploadStarted", "isAllPaused", "isUploadInProgress", "isSomeGhost", "newFilesOrRecovered", "resumableUploads", "supportsUploadProgress", "totalSize", "totalUploadedSize", "file", "totalETA", "StatusBarUI", "element", "getTextDirection_default", "target", "totalBytes", "_classPrivateFieldLoo", "_classPrivateFieldLoo2", "dt", "_classPrivateFieldLoo3", "uploadedBytesSinceLastTick", "_classPrivateFieldLoo4", "currentSpeed", "filteredSpeed", "emaFilter", "instantETA", "updatedPreviousETA", "filteredETA", "TRANSITION_MS", "FadeIn", "b", "m", "callback", "children", "_", "assign", "obj", "props", "getKey", "vnode", "fallback", "_vnode$key", "linkRef", "component", "name", "cache", "c", "getChildMapping", "children", "out", "i", "key", "mergeChildMappings", "prev", "next", "getValueForKey", "nextKeysPending", "pendingKeys", "prevKey", "childMapping", "nextKey", "pendingNextKey", "identity", "TransitionGroup", "b", "context", "H", "initialChildMapping", "nextProps", "nextChildMapping", "prevChildMapping", "prevState", "hasPrev", "hasNext", "keysToEnter", "keysToLeave", "idx", "currentChildMapping", "_ref", "_ref2", "childFactory", "transitionLeave", "transitionName", "transitionAppear", "transitionEnter", "transitionLeaveTimeout", "transitionEnterTimeout", "transitionAppearTimeout", "childrenToRender", "_ref3", "child", "ref", "E", "_", "TransitionGroup_default", "packageJson", "Informer", "UIPlugin_default", "uppy", "opts", "state", "_", "TransitionGroup_default", "info", "FadeIn", "target", "DATA_URL_PATTERN", "dataURItoBlob", "dataURI", "opts", "toFile", "_ref", "_opts$mimeType", "dataURIData", "mimeType", "data", "binary", "bytes", "i", "dataURItoBlob_default", "isObjectURL", "url", "isPreviewSupported", "fileType", "e", "t", "s", "i", "n", "r", "a", "h", "f", "l", "o", "u", "d", "c", "_c", "p", "g", "m", "y", "b", "w", "k", "v", "O", "S", "A", "U", "x", "C", "B", "V", "I", "L", "T", "z", "P", "F", "j", "E", "M", "_", "D", "X", "N", "$", "R", "W", "K", "H", "Y", "G", "J", "q", "Q", "Z", "ee", "te", "se", "ie", "ne", "re", "ae", "he", "le", "ae", "de", "ae", "ce", "e", "t", "H", "s", "pe", "ge", "me", "ye", "be", "c", "we", "a", "r", "i", "n", "ke", "Oe", "b", "A", "locale_default", "packageJson", "canvasToBlob", "canvas", "type", "quality", "err", "resolve", "blob", "dataURItoBlob_default", "rotateImage", "image", "translate", "w", "h", "context", "protect", "ratio", "maxSquare", "maxSize", "maxW", "maxH", "defaultOptions", "ThumbnailGenerator", "UIPlugin_default", "uppy", "opts", "file", "isPreviewSupported", "index", "isObjectURL", "fileIDs", "fileID", "emitPreprocessCompleteForAll", "locale_default", "targetWidth", "targetHeight", "originalUrl", "onload", "reject", "event", "orientationPromise", "ye", "_ref", "orientation", "dimensions", "rotatedImage", "resizedImage", "img", "width", "height", "deg", "aspect", "steps", "sW", "sH", "x", "preview", "current", "findAllDOMElements", "element", "elements", "isDOMElement", "findAllDOMElements_default", "toArray_default", "getFilesAndDirectoriesFromDirectory", "directoryReader", "oldEntries", "logDropError", "_ref", "onSuccess", "entries", "newEntries", "error", "getAsFileSystemHandleFromEntry", "entry", "logDropError", "resolve", "reject", "directoryReader", "getFilesAndDirectoriesFromDirectory", "dirEntries", "file", "createPromiseToAddFileOrParseDirectory", "relativePath", "lastResortFile", "getNextRelativePath", "handle", "e", "getFilesFromDataTransfer", "dataTransfer", "fileSystemHandles", "item", "_fileSystemHandle", "fileSystemHandle", "getAsEntry", "err", "fallbackApi", "dataTransfer", "files", "toArray_default", "getDroppedFiles", "dataTransfer", "options", "_options$logDropError", "logDropError", "accumulator", "file", "getFilesFromDataTransfer", "fallbackApi", "import_classnames", "remoteFileObjToLocal", "file", "getFileNameAndExtension", "currentIndex", "currentComponent", "previousComponent", "prevRaf", "currentHook", "afterPaintEffects", "options", "_options", "oldBeforeDiff", "__b", "oldBeforeRender", "__r", "oldAfterDiff", "diffed", "oldCommit", "__c", "oldBeforeUnmount", "unmount", "oldRoot", "__", "getHookState", "index", "type", "__h", "hooks", "__H", "length", "push", "useState", "initialState", "useReducer", "invokeOrReturn", "reducer", "init", "hookState", "_reducer", "action", "currentValue", "__N", "nextValue", "setState", "_hasScuFromHooks", "updateHookState", "p", "s", "c", "stateHooks", "filter", "x", "every", "prevScu", "call", "this", "shouldUpdate", "forEach", "hookItem", "props", "shouldComponentUpdate", "prevCWU", "componentWillUpdate", "__e", "tmp", "useEffect", "callback", "args", "state", "__s", "argsChanged", "_pendingArgs", "useRef", "initialValue", "currentHook", "useMemo", "current", "useMemo", "factory", "args", "state", "getHookState", "currentIndex", "argsChanged", "__H", "__", "__h", "useCallback", "callback", "currentHook", "flushAfterPaintEffects", "component", "afterPaintEffects", "shift", "__P", "__H", "__h", "forEach", "invokeCleanup", "invokeEffect", "e", "options", "__e", "__v", "__b", "vnode", "currentComponent", "oldBeforeDiff", "__", "parentDom", "__k", "__m", "oldRoot", "__r", "oldBeforeRender", "currentIndex", "hooks", "__c", "previousComponent", "hookItem", "__N", "_pendingArgs", "diffed", "oldAfterDiff", "c", "length", "push", "prevRaf", "requestAnimationFrame", "afterNextFrame", "commitQueue", "some", "filter", "cb", "oldCommit", "unmount", "oldBeforeUnmount", "hasErrored", "s", "HAS_RAF", "callback", "raf", "done", "clearTimeout", "timeout", "cancelAnimationFrame", "setTimeout", "hook", "comp", "cleanup", "argsChanged", "oldArgs", "newArgs", "arg", "index", "invokeOrReturn", "f", "GoogleIcon", "_", "DefaultForm", "_ref", "pluginName", "i18n", "onAuth", "isGoogleDrive", "onSubmit", "q", "e", "defaultRenderForm", "_ref2", "AuthView", "_ref3", "loading", "pluginIcon", "handleAuth", "renderForm", "import_classnames", "User", "_ref", "i18n", "logout", "username", "_", "k", "Breadcrumbs", "props", "openFolder", "title", "breadcrumbsIcon", "breadcrumbs", "i18n", "_", "folder", "index", "_folder$data$name", "k", "Header", "props", "_", "classNames", "Breadcrumbs", "User", "_extends", "n", "r", "STYLE_INNER", "STYLE_CONTENT", "VirtualList", "b", "props", "height", "_ref", "data", "rowHeight", "renderRow", "overscanCount", "offset", "start", "visibleRowCount", "end", "selection", "styleInner", "styleContent", "_", "VirtualList_default", "import_classnames", "FileIcon", "_", "FolderIcon", "VideoIcon", "ItemIcon", "_ref", "itemIconString", "alt", "GridItem", "_ref", "_file$data$name", "_file$data$name2", "file", "toggleCheckbox", "className", "isDisabled", "restrictionError", "showTitles", "children", "i18n", "_", "ItemIcon", "GridItem_default", "ListItem", "_ref", "_file$data$name", "_file$data$name2", "_file$data$name3", "file", "openFolder", "className", "isDisabled", "restrictionError", "toggleCheckbox", "showTitles", "i18n", "_", "ItemIcon", "Item", "props", "viewType", "toggleCheckbox", "showTitles", "i18n", "openFolder", "file", "restrictionError", "isDisabled", "ourProps", "classNames", "_", "GridItem_default", "ListItem", "Browser", "props", "displayedPartialTree", "viewType", "toggleCheckbox", "handleScroll", "showTitles", "i18n", "isLoading", "openFolder", "noResultsLabel", "virtualList", "isShiftKeyPressed", "setIsShiftKeyPressed", "h", "y", "handleKeyUp", "e", "handleKeyDown", "_", "renderItem", "item", "Item", "event", "_document$getSelectio", "VirtualList_default", "Browser_default", "afterOpenFolder", "oldPartialTree", "discoveredItems", "clickedFolder", "currentPagePath", "validateSingleFile", "discoveredFolders", "i", "discoveredFiles", "isParentFolderChecked", "folders", "folder", "files", "file", "restrictionError", "updatedClickedFolder", "afterOpenFolder_default", "afterScrollFolder", "oldPartialTree", "currentFolderId", "items", "nextPagePath", "validateSingleFile", "currentFolder", "i", "newFolders", "newFiles", "scrolledFolder", "partialTreeWithUpdatedScrolledFolder", "folder", "isParentFolderChecked", "folders", "files", "file", "restrictionError", "afterScrollFolder_default", "shallowClone", "partialTree", "item", "shallowClone_default", "percolateDown", "tree", "id", "shouldMarkAsChecked", "item", "percolateUp", "folder", "validChildren", "areAllChildrenChecked", "areAllChildrenUnchecked", "afterToggleCheckbox", "oldTree", "clickedRange", "shallowClone_default", "newlyCheckedItems", "clickedItem", "afterToggleCheckbox_default", "import_index", "TimeoutError", "message", "AbortError", "getDOMException", "errorMessage", "getAbortedReason", "signal", "reason", "pTimeout", "promise", "options", "milliseconds", "fallback", "customTimers", "timer", "cancelablePromise", "resolve", "reject", "timeoutError", "error", "lowerBound", "array", "value", "comparator", "first", "count", "step", "it", "PriorityQueue", "#queue", "run", "options", "element", "index", "lowerBound", "a", "b", "PQueue", "EventEmitter", "#carryoverConcurrencyCount", "#isIntervalIgnored", "#intervalCount", "#intervalCap", "#interval", "#intervalEnd", "#intervalId", "#timeoutId", "#queue", "#queueClass", "#pending", "#concurrency", "#isPaused", "#throwOnTimeout", "options", "PriorityQueue", "#doesIntervalAllowAnother", "#doesConcurrentAllowAnother", "#next", "#tryToStartAnother", "#onResumeInterval", "#onInterval", "#initializeIntervalIfNeeded", "#isIntervalPaused", "now", "delay", "canInitializeInterval", "job", "#processQueue", "newConcurrency", "#throwOnAbort", "signal", "_resolve", "reject", "function_", "resolve", "operation", "pTimeout", "result", "error", "TimeoutError", "functions", "#onEvent", "limit", "event", "filter", "listener", "recursivelyFetch", "queue", "poorTree", "poorFolder", "apiList", "validateSingleFile", "items", "currentPath", "response", "newFolders", "i", "newFiles", "folders", "folder", "files", "file", "restrictionError", "afterFill", "partialTree", "reportProgress", "PQueue", "shallowClone_default", "item", "nOfFilesChecked", "afterFill_default", "PartialTreeUtils_default", "afterOpenFolder_default", "afterScrollFolder_default", "afterToggleCheckbox_default", "afterFill_default", "shouldHandleScroll", "event", "scrollHeight", "scrollTop", "offsetHeight", "shouldHandleScroll_default", "handleError", "uppy", "error", "handleError_default", "getClickedRange", "clickedId", "displayedPartialTree", "isShiftKeyPressed", "lastCheckbox", "lastCheckboxIndex", "item", "newCheckboxIndex", "getClickedRange_default", "SearchInput", "_ref", "searchString", "setSearchString", "submitSearchString", "wrapperClassName", "inputClassName", "inputLabel", "clearSearchLabel", "showButton", "buttonLabel", "buttonCSSClassName", "onInput", "e", "submit", "q", "ev", "form", "h", "formEl", "nanoid", "y", "_", "SearchInput_default", "import_classnames", "getNumberOfSelectedFiles", "partialTree", "item", "i", "getNumberOfSelectedFiles_default", "FooterActions", "_ref", "cancelSelection", "donePicking", "i18n", "partialTree", "validateAggregateRestrictions", "aggregateRestrictionError", "T", "nOfSelectedFiles", "getNumberOfSelectedFiles_default", "_", "classNames", "getTagFile", "file", "plugin", "provider", "_file$author", "_file$author2", "getTagFile_default", "addFiles", "companionFiles", "plugin", "provider", "tagFiles", "f", "getTagFile_default", "filesToAdd", "filesAlreadyAdded", "tagFile", "getSafeFileId", "addFiles_default", "getPath", "partialTree", "id", "cache", "sId", "file", "f", "meAndParentPath", "getCheckedFilesWithPaths", "item", "absFolders", "firstCheckedFolderIndex", "i", "relFolders", "absDirPath", "relDirPath", "getCheckedFilesWithPaths_default", "getBreadcrumbs", "partialTree", "currentFolderId", "folder", "f", "breadcrumbs", "currentParentId", "getBreadcrumbs_default", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "defaultPickerIcon", "_", "getDefaultState", "rootFolderId", "_abortController", "_withAbort", "ProviderView", "plugin", "opts", "_withAbort2", "file", "companionFile", "remoteFileObjToLocal", "partialTree", "currentFolderId", "searchString", "inThisFolder", "item", "_item$data$name", "uppyFiles", "defaultOptions", "loading", "newPartialTree", "folderId", "clickedFolder", "folder", "signal", "currentPagePath", "currentItems", "username", "nextPagePath", "items", "PartialTreeUtils_default", "handleError_default", "res", "message", "authFormData", "event", "currentFolder", "i", "shouldHandleScroll_default", "enrichedTree", "path", "n", "companionFiles", "getCheckedFilesWithPaths_default", "addFiles_default", "ourItem", "isShiftKeyPressed", "clickedRange", "getClickedRange_default", "state", "viewOptions", "didFirstRender", "i18n", "authenticated", "pluginIcon", "AuthView", "breadcrumbs", "getBreadcrumbs_default", "classNames", "Header", "SearchInput_default", "s", "Browser_default", "FooterActions", "op", "_classPrivateFieldLoo", "abortController", "cancelRequest", "import_classnames", "packageJson", "defaultState", "SearchProviderView", "plugin", "opts", "file", "companionFile", "remoteFileObjToLocal", "partialTree", "item", "searchString", "uppyFiles", "defaultOptions", "loading", "newPartialTree", "response", "error", "handleError_default", "event", "root", "i", "shouldHandleScroll_default", "newRoot", "oldItems", "companionFiles", "getCheckedFilesWithPaths_default", "addFiles_default", "ourItem", "isShiftKeyPressed", "clickedRange", "getClickedRange_default", "PartialTreeUtils_default", "state", "viewOptions", "isInputMode", "i18n", "_", "SearchInput_default", "classNames", "Browser_default", "FooterActions", "safeIsNaN", "value", "isEqual", "first", "second", "areInputsEqual", "newInputs", "lastInputs", "i", "memoizeOne", "resultFn", "cache", "memoized", "newArgs", "_i", "lastResult", "FOCUSABLE_ELEMENTS_default", "getActiveOverlayEl", "dashboardEl", "activeOverlayType", "overlayEl", "focusOnFirstNode", "event", "nodes", "node", "focusOnLastNode", "isFocusInOverlay", "activeOverlayEl", "trapFocus", "activeOverlayType", "dashboardEl", "getActiveOverlayEl", "focusableNodes", "toArray_default", "FOCUSABLE_ELEMENTS_default", "focusedItemIndex", "forInline", "event", "activeOverlayType", "dashboardEl", "trapFocus", "import_debounce", "createSuperFocus", "lastFocusWasOnSuperFocusableEl", "debounce", "dashboardEl", "activeOverlayType", "overlayEl", "getActiveOverlayEl", "isFocusInOverlay", "superFocusableEl", "firstEl", "FOCUSABLE_ELEMENTS_default", "import_classnames", "isDragDropSupported", "div", "import_classnames", "shallowEqualObjects", "objA", "objB", "aKeys", "Object", "keys", "bKeys", "len", "length", "i", "key", "prototype", "hasOwnProperty", "call", "iconImage", "_", "iconAudio", "iconVideo", "iconPDF", "iconArchive", "iconFile", "iconText", "getIconByMime", "fileType", "defaultChoice", "fileTypeGeneral", "fileTypeSpecific", "FilePreview", "props", "file", "_", "color", "icon", "getIconByMime", "metaFieldIdToName", "metaFieldId", "metaFields", "f", "MetaErrorMessage", "props", "file", "toggleFileCard", "i18n", "missingRequiredMetaFields", "metaFieldsString", "missingMetaField", "_", "FilePreviewAndLink", "props", "file", "i18n", "toggleFileCard", "metaFields", "showLinkToFileUploadResult", "previewBackgroundColor", "getIconByMime", "_", "FilePreview", "MetaErrorMessage", "onPauseResumeCancelRetry", "props", "progressIndicatorTitle", "ProgressIndicatorButton", "_", "ProgressCircleContainer", "_ref", "children", "ProgressCircle", "_ref2", "progress", "circleLength", "FileProgress", "import_prettier_bytes", "separator", "truncateString", "string", "maxLength", "charsToShow", "frontChars", "backChars", "renderFileName", "props", "author", "name", "getMaxNameLength", "_", "truncateString", "renderAuthor", "_props$file$remote", "providerName", "dot", "k", "renderFileSize", "prettierBytes", "ReSelectButton", "ErrorButton", "_ref", "file", "onClick", "FileInfo", "MetaErrorMessage", "copyToClipboard", "textToCopy", "fallbackString", "resolve", "textArea", "magicCopyFailed", "EditButton", "_ref", "file", "uploadInProgressOrComplete", "metaFields", "canEditFile", "i18n", "onClick", "_", "RemoveButton", "_ref2", "copyLinkToClipboard", "event", "props", "copyToClipboard", "CopyLinkButton", "Buttons", "uppy", "showLinkToFileUploadResult", "showRemoveButton", "toggleFileCard", "openFileEditor", "FileItem", "b", "file", "nextProps", "shallowEqualObjects", "isProcessing", "isUploaded", "uploadInProgressOrComplete", "uploadInProgress", "error", "isGhost", "showRemoveButton", "dashboardItemClass", "classNames", "_", "FilePreviewAndLink", "FileProgress", "FileInfo", "Buttons", "chunks", "list", "size", "chunked", "currentChunk", "item", "FileList", "_ref", "id", "error", "i18n", "uppy", "files", "acquirers", "resumableUploads", "hideRetryButton", "hidePauseResumeButton", "hideCancelButton", "showLinkToFileUploadResult", "showRemoveButtonAfterComplete", "isWide", "metaFields", "isSingleFile", "toggleFileCard", "handleRequestThumbnail", "handleCancelThumbnail", "recoveredState", "individualCancellation", "itemsPerRow", "openFileEditor", "canEditFile", "toggleAddFilesPanel", "containerWidth", "containerHeight", "rowHeight", "rows", "T", "sortByGhostComesFirst", "file1", "file2", "fileIds", "renderRow", "row", "_", "fileID", "FileItem", "VirtualList_default", "AddFiles", "b", "event", "isFolder", "refCallback", "_", "type", "nativeCameraFacingMode", "accept", "text", "onClickFn", "numberOfAcquirers", "browseFiles", "browseFolders", "lowerFMSelectionType", "camelFMSelectionType", "acquirer", "_this$props$activePic", "acquirers", "acquirersWithoutLastTwo", "lastTwoAcquirers", "k", "disableLocalFiles", "showNativePhotoCameraButton", "showNativeVideoCameraButton", "list", "myDeviceKey", "listWithoutLastTwo", "lastTwo", "renderList", "l", "_ref", "key", "elements", "i18nArray", "uppyBranding", "linkText", "ref", "AddFiles_default", "import_classnames", "AddFilesPanel", "props", "_", "classNames", "AddFiles_default", "AddFilesPanel_default", "import_classnames", "ignoreEvent", "ev", "tagName", "ignoreEvent_default", "PickerPanelContent", "_ref", "activePickerPanel", "className", "hideAllPanels", "i18n", "state", "uppy", "_", "classNames", "ignoreEvent_default", "PickerPanelContent_default", "import_classnames", "EditorPanel", "props", "file", "handleCancel", "_", "classNames", "target", "EditorPanel_default", "uploadStates", "getUploadingState", "isAllErrored", "isAllComplete", "isAllPaused", "files", "state", "fileIDs", "i", "progress", "UploadStatus", "_ref", "i18n", "inProgressNotPausedFiles", "newFiles", "processingFiles", "PanelTopBar", "props", "hideCancelButton", "maxNumberOfFiles", "toggleAddFilesPanel", "uppy", "allowNewUpload", "_", "PickerPanelTopBar_default", "import_classnames", "RenderMetaFields", "props", "computedMetaFields", "requiredMetaFields", "updateMeta", "form", "formState", "fieldCSSClasses", "field", "id", "required", "_", "newVal", "ev", "FileCard", "props", "_getMetaFields", "files", "fileCardFor", "toggleFileCard", "saveFileCard", "metaFields", "requiredMetaFields", "openFileEditor", "i18n", "i18nArray", "className", "canEditFile", "getMetaFields", "file", "computedMetaFields", "showEditButton", "storedMetaData", "field", "_file$meta$field$id", "formState", "setFormState", "h", "handleSave", "q", "ev", "updateMeta", "newVal", "name", "handleCancel", "form", "formEl", "nanoid", "y", "_", "classNames", "ignoreEvent_default", "getIconByMime", "FilePreview", "event", "RenderMetaFields", "import_classnames", "transitionName", "duration", "Slide", "_ref", "children", "cachedChildren", "setCachedChildren", "h", "className", "setClassName", "enterTimeoutRef", "A", "leaveTimeoutRef", "animationFrameRef", "handleEnterTransition", "handleLeaveTransition", "y", "child", "H", "E", "classNames", "Slide_default", "_extends", "n", "r", "WIDTH_XL", "WIDTH_LG", "WIDTH_MD", "HEIGHT_MD", "Dashboard", "props", "isNoFiles", "isSingleFile", "isSizeMD", "isSizeHeightMD", "dashboardClassName", "classNames", "itemsPerRow", "showFileList", "numberOfFilesForRecovery", "numberOfGhosts", "fileID", "renderRestoredText", "_", "isDragDropSupported", "PickerPanelTopBar_default", "FileList", "AddFiles_default", "Slide_default", "AddFilesPanel_default", "FileCard", "PickerPanelContent_default", "EditorPanel_default", "target", "locale_default", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "memoize", "memoizeOne", "TAB_KEY", "ESC_KEY", "createPromise", "o", "resolve", "reject", "defaultOptions", "defaultPickerIcon", "_disabledNodes", "_generateLargeThumbnailIfSingleFile", "_openFileEditorWhenFilesAdded", "_attachRenderFunctionToTarget", "_isTargetSupported", "_getAcquirers", "_getProgressIndicators", "_getEditors", "_addSpecifiedPluginsFromOptions", "_autoDiscoverPlugins", "_addSupportedPluginIfNoTarget", "_getStatusBarOpts", "_getThumbnailGeneratorOpts", "_getInformerOpts", "_getStatusBarId", "_getThumbnailGeneratorId", "_getInformerId", "Dashboard", "UIPlugin_default", "uppy", "_opts", "_opts$autoOpen", "_this$opts4", "_this$opts4$onRequest", "autoOpen", "_getInformerId2", "_getThumbnailGeneratorId2", "_getStatusBarId2", "_getInformerOpts2", "_getThumbnailGeneratorOpts2", "_getStatusBarOpts2", "nanoid", "createSuperFocus", "plugin", "newTargets", "target", "callerPluginId", "callerPluginName", "callerPluginType", "_state$activePickerPa", "state", "update", "targets", "activePickerPanel", "file", "editors", "editor", "metaFields", "promise", "handler", "opts", "_opts$manualClose", "manualClose", "isHidden", "isClosing", "_history$state", "isDarkModeOn", "capabilities", "event", "isDarkModeOnNow", "show", "fileID", "files", "descriptors", "err", "entries", "uppyDashboardInnerEl", "width", "height", "pluginState", "isModalAndClosed", "disable", "_classPrivateFieldLoo", "NODES_TO_DISABLE", "nodesToDisable", "toArray_default", "node", "_history$state2", "_event$state", "trapFocus", "_this$opts$onDragOver", "_this$opts", "canSomePluginHandleRootDrop", "somePluginCanHandleRootDrop", "doesEventHaveFiles", "types", "type", "hasFiles", "_this$opts$onDragLeav", "_this$opts2", "_this$opts$onDrop", "_this$opts3", "executedDropErrorOnce", "logDropError", "error", "getDroppedFiles", "forInline", "_ref", "failed", "LARGE_THUMBNAIL", "thumbnailGenerator", "fileForThumbnail", "firstFile", "isMetaEditorEnabled", "isImageEditorEnabled", "showModalTrigger", "findAllDOMElements_default", "trigger", "isFocusInUppy", "isFocusNowhere", "isInformerHidden", "isModal", "meta", "allowNewUpload", "newFiles", "uploadStartedFiles", "completeFiles", "erroredFiles", "inProgressFiles", "inProgressNotPausedFiles", "processingFiles", "isUploadStarted", "isAllComplete", "isAllPaused", "acquirers", "progressindicators", "theme", "pluginID", "_plugin$opts", "typesAllowed", "installedPlugin", "inline", "closeAfterFinish", "allowMultipleUploads", "allowMultipleUploadBatches", "StatusBar", "Informer", "ThumbnailGenerator", "isDarkModeOnFromTheStart", "_this$darkModeMediaQu", "informer", "statusBar", "thumbnail", "_this$darkModeMediaQu2", "locale_default", "_this$uppy$getPlugin", "_this$uppy$getPlugin2", "hideUploadButton", "hideRetryButton", "hidePauseResumeButton", "hideCancelButton", "showProgressDetails", "hideProgressAfterFinish", "l", "doneButtonHandler", "thumbnailWidth", "thumbnailHeight", "thumbnailType", "waitForThumbnailsBeforeUpload", "import_cropperjs", "getCanvasDataThatFitsPerfectlyIntoContainer", "containerData", "canvasData", "widthRatio", "heightRatio", "scaleFactor", "newWidth", "newHeight", "newLeft", "newTop", "getCanvasDataThatFitsPerfectlyIntoContainer_default", "toRadians", "angle", "getScaleFactorThatRemovesDarkCorners", "w", "h", "granularAngle", "\u03B1", "getScaleFactorThatRemovesDarkCorners_default", "limitCropboxMovementOnMove", "canvas", "cropbox", "prevCropbox", "limitCropboxMovementOnMove_default", "limitCropboxMovementOnResize", "canvas", "cropboxData", "prevCropbox", "limitCropboxMovementOnResize_default", "Editor", "b", "props", "angle90Deg", "newAngle", "canvasData", "containerData", "newCanvasData", "getCanvasDataThatFitsPerfectlyIntoContainer_default", "ev", "newGranularAngle", "image", "scaleFactor", "getScaleFactorThatRemovesDarkCorners_default", "scaleFactorX", "opts", "storeCropperInstance", "Cropper", "event", "cropboxData", "prevCropboxData", "newCropboxData", "limitCropboxMovementOnMove_default", "limitCropboxMovementOnResize_default", "i18n", "angleGranular", "_", "currentImage", "actions", "imageURL", "ref", "locale_default", "packageJson", "defaultCropperOptions", "defaultActions", "defaultOptions", "ImageEditor", "UIPlugin_default", "uppy", "opts", "saveBlobCallback", "blob", "_name", "currentImage", "updatedFile", "croppedCanvas", "cropper", "file", "locale_default", "fileTypeSpecific", "target", "_", "Editor", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "_uppy", "_events", "EventManager", "uppy", "event", "fn", "fileID", "cb", "file", "isPaused", "eventHandler", "_this", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "createCancelError", "cause", "abortOn", "signal", "_this$then", "abortPromise", "removeAbortListener", "_activeRequests", "_queuedHandlers", "_paused", "_pauseTimer", "_downLimit", "_upperLimit", "_rateLimitingTimer", "_call", "_queueNext", "_next", "_queue", "_dequeue", "_resume", "_increaseLimit", "RateLimitedQueue", "limit", "_dequeue2", "_queue2", "_next2", "_queueNext2", "_call2", "i", "fn", "queueOptions", "_this", "_len", "args", "_key", "queuedRequest", "_this2", "_len2", "_key2", "outerPromise", "resolve", "reject", "cancelError", "innerPromise", "err", "result", "duration", "done", "cancelActive", "next", "handler", "options", "index", "other", "internalRateLimitedQueue", "NetworkError", "error", "xhr", "NetworkError_default", "isNetworkError", "xhr", "isNetworkError_default", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "_aliveTimer", "_isDone", "_onTimedOut", "_timeout", "ProgressTimeout", "timeout", "timeoutHandler", "ProgressTimeout_default", "noop", "fetcher", "url", "options", "body", "headers", "method", "onBeforeRequest", "onUploadProgress", "shouldRetry", "onAfterResponse", "onTimeout", "responseType", "retries", "signal", "timeout", "withCredentials", "delay", "attempt", "timer", "ProgressTimeout_default", "requestWithRetry", "retryCount", "resolve", "reject", "xhr", "NetworkError_default", "event", "key", "filterNonFailedFiles", "files", "hasError", "file", "filterFilesToEmitUploadStarted", "_file$progress", "getAllowedMetaFields", "fields", "meta", "locale_default", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "buildResponseError", "xhr", "err", "error", "isNetworkError_default", "NetworkError_default", "setTypeInBlob", "file", "defaultOptions", "_getFetcher", "_uploadLocalFile", "_uploadBundle", "_getCompanionClientArgs", "_uploadFiles", "_handleUpload", "XHRUpload", "BasePlugin", "uppy", "_opts", "_uploadFiles2", "_getCompanionClientArgs2", "_uploadBundle2", "_uploadLocalFile2", "fileIDs", "internalRateLimitedQueue", "files", "filesFiltered", "filterNonFailedFiles", "filesToEmit", "filterFilesToEmitUploadStarted", "locale_default", "RateLimitedQueue", "url", "options", "_this$opts$getRespons", "_this$opts", "_body2", "res", "fetcher", "timeout", "seconds", "event", "_file$progress$upload", "body", "_body", "cause", "uploadURL", "request", "overrides", "headers", "opts", "formData", "meta", "getAllowedMetaFields", "item", "value", "subItem", "formPost", "dataWithUpdatedType", "capabilities", "events", "EventManager", "controller", "uppyFetch", "fetch", "_this$uppy$getState$x", "optsFromState", "abort", "_file$remote", "allowedMetaFields", "name", "getQueue", "removedHandler", "removedFile", "uploadPromise", "layer_controller_default", "Controller", "Uppy_default", "Dashboard", "ImageEditor", "XHRUpload", "file", "response", "reader", "previewImage", "no_image_controller_default", "Controller", "div", "img", "application", "confirm_controller_default", "btn_preloader_controller_default", "notices_controller_default", "clear_form_controller_default", "fancybox_controller_default", "pagy_initializer_controller_default", "map_controller_default", "swiper_controller_default", "expand_text_controller_default", "collapse_controller_default", "layer_controller_default", "no_image_controller_default", "import_bootstrap", "attachmentSelector", "attachments", "preview", "presentation", "caption", "name", "size", "file", "attributes", "default", "tagName", "parse", "quote", "nestable", "heading1", "terminal", "breakOnReturn", "group", "code", "htmlAttributes", "text", "plaintext", "bulletList", "bullet", "listAttribute", "test", "element", "parentNode", "this", "numberList", "number", "attachmentGallery", "exclusive", "_element$tagName", "toLowerCase", "androidVersionMatch", "navigator", "userAgent", "match", "androidVersion", "parseInt", "browser$1", "composesExistingText", "recentAndroid", "samsungAndroid", "forcesObjectResizing", "supportsInputEvents", "InputEvent", "every", "prop", "prototype", "lang$1", "attachFiles", "bold", "bullets", "byte", "bytes", "captionPlaceholder", "indent", "italic", "link", "numbers", "outdent", "redo", "remove", "strike", "undo", "unlink", "url", "urlPlaceholder", "GB", "KB", "MB", "PB", "TB", "sizes", "lang", "file_size_formatting", "prefix", "precision", "formatter", "concat", "base", "exp", "Math", "floor", "log", "withoutInsignificantZeros", "pow", "toFixed", "replace", "ZERO_WIDTH_SPACE", "NON_BREAKING_SPACE", "extend", "properties", "key", "value", "html", "document", "documentElement", "matches", "handleEvent", "eventName", "onElement", "matchingSelector", "withCallback", "inPhase", "preventDefault", "times", "arguments", "length", "undefined", "selector", "useCapture", "handler", "event", "destroy", "target", "findClosestElementFromNode", "call", "removeEventListener", "addEventListener", "triggerEvent", "bubbles", "cancelable", "createEvent", "initEvent", "dispatchEvent", "elementMatchesSelector", "nodeType", "node", "untilNode", "Node", "ELEMENT_NODE", "closest", "innerElementIsActive", "activeElement", "elementContainsNode", "findChildIndexOfNode", "_node", "childIndex", "previousSibling", "removeNode", "_node$parentNode", "removeChild", "walkTree", "tree", "onlyNodesOfType", "usingFilter", "expandEntityReferences", "whatToShow", "NodeFilter", "SHOW_ELEMENT", "SHOW_TEXT", "SHOW_COMMENT", "SHOW_ALL", "createTreeWalker", "makeElement", "tag", "options", "createElement", "editable", "contenteditable", "setAttribute", "style", "data", "dataset", "className", "split", "forEach", "classList", "add", "textContent", "childNodes", "childNode", "appendChild", "blockTagNames", "getBlockTagNames", "blockAttributes", "push", "nodeIsBlockContainer", "nodeIsBlockStartComment", "firstChild", "nodeIsBlockStart", "strict", "includes", "nodeIsCommentNode", "COMMENT_NODE", "nodeIsCursorTarget", "nodeIsTextNode", "trixCursorTarget", "nodeIsAttachmentElement", "nodeIsEmptyTextNode", "TEXT_NODE", "input", "level2Enabled", "getLevel", "browser", "pickFiles", "callback", "type", "multiple", "hidden", "id", "fileInputId", "files", "getElementById", "body", "click", "parser", "removeBlankTableCells", "tableCellSeparator", "tableRowSeparator", "text_attributes", "inheritable", "window", "getComputedStyle", "fontWeight", "fontStyle", "href", "groupTagName", "getAttribute", "frozen", "backgroundColor", "toolbar", "getDefaultHTML", "interval", "V", "i", "n", "a", "attachment", "attachmentCaption", "attachmentCaptionEditor", "attachmentMetadata", "attachmentMetadataContainer", "attachmentName", "attachmentProgress", "attachmentSize", "attachmentToolbar", "u", "M", "l", "j", "W", "U", "q", "BasicObject", "expression", "toMethod", "toProperty", "optional", "parseProxyMethodExpression", "subject", "object", "_this$toMethod", "_object", "apply", "proxyMethodExpressionPattern", "Error", "args", "Function", "RegExp", "K", "G", "$", "UTF16String", "box", "fromUCS2String", "toString", "ucs2String", "ucs2decode", "codepoints", "ucs2encode", "constructor", "super", "ucs2Length", "offsetToUCS2Offset", "offset", "slice", "max", "offsetFromUCS2Offset", "ucs2Offset", "fromCodepoints", "charAt", "isEqualTo", "toJSON", "getCacheKey", "hasArrayFrom", "_Array$from", "Array", "from", "hasStringCodePointAt", "_$codePointAt", "codePointAt", "hasStringFromCodePoint", "_String$fromCodePoint", "String", "fromCodePoint", "string", "map", "char", "output", "counter", "charCodeAt", "extra", "array", "result", "fromCharCode", "join", "TrixObject", "jsonString", "fromJSON", "JSON", "hasSameConstructorAs", "inspect", "parts", "contents", "contentsForInspection", "toJSONString", "stringify", "toUTF16String", "arraysAreEqual", "b", "index", "spliceArray", "_len", "_key", "splice", "RTL_PATTERN", "getDirection", "dir", "dirName", "textArea", "form", "supportsDirName", "FormData", "has", "error", "supportsDirSelector", "get", "trim", "allAttributeNames", "blockAttributeNames", "textAttributeNames", "listAttributeNames", "getAllAttributeNames", "getTextAttributeNames", "getBlockAttributeNames", "getBlockConfig", "attributeName", "config", "Object", "keys", "getTextConfig", "installDefaultCSSForTagName", "defaultCSS", "insertStyleElementForTagName", "nonce", "getCSPNonce", "head", "insertBefore", "getMetaElement", "querySelector", "testTransferData", "dataTransferIsPlainText", "dataTransfer", "getData", "DOMParser", "parseFromString", "keyEventIsKeyboardCommand", "platform", "metaKey", "ctrlKey", "defer", "fn", "setTimeout", "copyObject", "objectsAreEqual", "normalizeRange", "range", "isArray", "copyValue", "rangeIsCollapsed", "start", "end", "rangeValuesAreEqual", "rangesAreEqual", "leftRange", "rightRange", "leftStart", "leftEnd", "rightStart", "rightEnd", "left", "right", "SelectionChangeObserver", "update", "bind", "selectionManagers", "started", "stop", "registerSelectionManager", "selectionManager", "unregisterSelectionManager", "filter", "sm", "notifySelectionManagersOfSelectionChange", "selectionDidChange", "reset", "selectionChangeObserver", "getDOMSelection", "selection", "getSelection", "rangeCount", "getDOMRange", "_getDOMSelection", "domRange", "getRangeAt", "domRangeIsPrivate", "setDOMRange", "removeAllRanges", "addRange", "nodeIsPrivate", "startContainer", "endContainer", "getPrototypeOf", "normalizeSpaces", "breakableWhitespacePattern", "squishBreakableWhitespace", "source", "utf16StringDifferences", "diffA", "utf16StringDifference", "utf16String", "diffB", "leftIndex", "rightIndexA", "rightIndexB", "Hash", "fromCommonAttributesOfObjects", "objects", "hash", "getKeys", "getKeysCommonToHash", "values", "copy", "merge", "unbox", "toArray", "isEmpty", "toObject", "keyToRemove", "sort", "ObjectGroup", "groupObjects", "ungroupedObjects", "depth", "asTree", "_object$canBeGrouped2", "_object$canBeGrouped", "_group$canBeGroupedWi", "_group", "canBeGrouped", "canBeGroupedWith", "getObjects", "getDepth", "ObjectMap", "find", "ElementStore", "elements", "getKey", "trixStoreKey", "Operation", "isPerforming", "performing", "hasPerformed", "performed", "hasSucceeded", "succeeded", "hasFailed", "getPromise", "promise", "Promise", "resolve", "reject", "perform", "release", "_this$promise", "_this$promise$cancel", "cancel", "proxyMethod", "ObjectView", "childViews", "rootView", "getNodes", "nodes", "createNodes", "cloneNode", "invalidate", "_this$parentView", "parentView", "invalidateViewForObject", "_this$findViewForObje", "findViewForObject", "findOrCreateCachedChildView", "viewClass", "view", "getCachedViewForObject", "recordChildView", "createChildView", "cacheViewForObject", "ObjectGroupView", "getAllChildViews", "views", "childView", "findElement", "findElementForObject", "getViewCache", "isViewCachingEnabled", "viewCache", "shouldCacheViews", "enableViewCaching", "disableViewCaching", "_this$getViewCache", "cache", "garbageCollectCachedViews", "objectKeys", "objectGroup", "getChildViews", "createContainerElement", "css", "AttachmentView", "uploadProgressDelegate", "attachmentPiece", "piece", "createContentNodes", "innerElement", "figure", "getClassName", "getHref", "tabindex", "hasContent", "innerHTML", "getContent", "createCaptionElement", "isPending", "progressElement", "class", "getUploadProgress", "trixMutable", "createCursorTarget", "figcaption", "getCaption", "captionConfig", "getCaptionConfig", "getFilename", "getFormattedFilesize", "nameElement", "createTextNode", "sizeElement", "names", "getType", "extension", "getExtension", "trixAttachment", "trixContentType", "getContentType", "trixId", "trixAttributes", "trixSerialize", "htmlContainsTagName", "_config$attachments$t", "findProgressElement", "_this$findElement", "attachmentDidChangeUploadProgress", "div", "PreviewableAttachmentView", "previewDelegate", "image", "src", "refresh", "updateAttributesForImage", "getURL", "previewURL", "getPreviewURL", "removeAttribute", "serializedAttributes", "width", "getWidth", "height", "getHeight", "storeKey", "attachmentDidChangeAttributes", "PieceView", "getAttributes", "textConfig", "context", "createAttachmentNodes", "createStringNodes", "_element", "firstElementChild", "isPreviewable", "_this$textConfig", "iterable", "substring", "preserveSpaces", "styles", "pendingElement", "styleProperty", "isLast", "isFirst", "followsWhitespace", "TextView", "pieces", "getPieces", "lastIndex", "endsWithWhitespace", "previousPiece", "hasAttribute", "BlockView", "block", "createComment", "_getBlockConfig", "getLastAttribute", "textView", "shouldAddExtraNewlineElement", "isRTL", "assign", "getBlockBreakPosition", "entries", "_ref", "DocumentView", "render", "sync", "elementStore", "setDocument", "shadowElement", "getBlocks", "isSynced", "elementsHaveEqualHTML", "fragment", "createDocumentFragmentForSync", "lastChild", "didSync", "findStoredElements", "createDocumentFragment", "storedElement", "replaceChild", "querySelectorAll", "otherElement", "ignoreSpaces", "be", "t", "e", "o", "s", "ve", "r", "Ae", "xe", "Piece", "types", "pieceJSON", "copyWithAttributes", "getValue", "copyWithAdditionalAttributes", "copyWithoutAttribute", "attribute", "getAttributesHash", "hasSameStringValueAsPiece", "hasSameAttributesAsPiece", "isBlockBreak", "isSerializable", "getLength", "canBeConsolidatedWith", "_defineProperty", "ImagePreloadOperation", "Image", "onload", "naturalWidth", "naturalHeight", "onerror", "Attachment", "attributesForFile", "setFile", "filename", "filesize", "contentType", "attachmentJSON", "releaseFile", "didChangeAttributes", "setAttributes", "newAttributes", "_this$previewDelegate", "_this$previewDelegate2", "_this$delegate", "_this$delegate$attach", "delegate", "preloadURL", "previewablePattern", "getFilesize", "_this$getFilename$mat", "getFile", "preloadFile", "releasePreloadedFile", "uploadProgress", "setUploadProgress", "_this$uploadProgressD", "_this$uploadProgressD2", "preloadingURL", "setPreviewURL", "_this$previewDelegate3", "_this$previewDelegate4", "_this$delegate2", "_this$delegate2$attac", "attachmentDidChangePreviewURL", "preload", "fileObjectURL", "URL", "createObjectURL", "revokeObjectURL", "then", "catch", "AttachmentPiece", "ensureAttachmentExclusivelyHasAttribute", "removeProhibitedAttributes", "permittedAttributes", "_piece$attachment", "json", "toConsole", "registerType", "StringPiece", "consolidateWith", "splitAtOffset", "SplittableList", "indexOf", "eachObject", "insertObjectAtIndex", "insertSplittableListAtIndex", "splittableList", "insertSplittableListAtPosition", "position", "splitObjectAtPosition", "editObjectAtIndex", "replaceObjectAtIndex", "removeObjectAtIndex", "getObjectAtIndex", "getSplittableListInRange", "rightIndex", "splitObjectsAtRange", "selectSplittableList", "removeObjectsInRange", "transformObjectsInRange", "transform", "transformedObjects", "rightOuterIndex", "leftInnerIndex", "startOfRange", "endOfRange", "getObjectAtPosition", "findIndexAndOffsetAtPosition", "splitIndex", "splitOffset", "leftObject", "rightObject", "consolidate", "pendingObject", "_pendingObject$canBeC", "_pendingObject", "consolidateFromIndexToIndex", "startIndex", "endIndex", "objectsInRange", "consolidatedInRange", "currentPosition", "nextPosition", "findPositionAtIndexAndOffset", "currentIndex", "getEndPosition", "endPosition", "objectArraysAreEqual", "Text", "textJSON", "notEmpty", "pieceList", "copyWithPieceList", "copyUsingObjectMap", "objectMap", "appendText", "insertTextAtPosition", "removeTextAtRange", "replaceTextAtRange", "moveTextFromRangeToPosition", "getTextAtRange", "addAttributeAtRange", "addAttributesAtRange", "removeAttributeAtRange", "setAttributesAtRange", "getAttributesAtPosition", "_this$pieceList$getOb", "getCommonAttributes", "getCommonAttributesAtRange", "getExpandedRangeForAttributeAtOffset", "getStringAtRange", "getStringAtPosition", "startsWithString", "endsWithString", "getAttachmentPieces", "getAttachments", "getAttachmentAndPositionById", "attachmentId", "getAttachmentById", "getRangeOfAttachment", "attachmentAndPosition", "updateAttributesForAttachment", "_text$pieceList", "eachPiece", "getPieceAtPosition", "toSerializableText", "Block", "blockJSON", "applyBlockBreakToText", "copyWithText", "copyWithoutText", "copyWithoutAttributes", "mappedText", "addAttribute", "expandAttribute", "addHTMLAttribute", "removeLastValue", "removeLastAttribute", "getLastElement", "getAttributeLevel", "getAttributeAtLevel", "level", "hasAttributes", "getLastNestableAttribute", "getNestableAttributes", "getNestingLevel", "decreaseNestingLevel", "increaseNestingLevel", "lastIndexOf", "getListItemAttributes", "isListItem", "isTerminalBlock", "_getBlockConfig2", "breaksOnReturn", "_getBlockConfig3", "findLineBreakInDirectionFromPosition", "direction", "newlineText", "textForStringWithAttributes", "getTextWithoutBlockBreak", "textEndsInBlockBreak", "otherBlock", "otherAttributes", "otherAttribute", "getListAttributeNames", "unmarkExistingInnerBlockBreaksInText", "addBlockBreakToText", "modified", "innerPieces", "lastPiece", "unmarkBlockBreakPiece", "blockBreakText", "blockBreak", "Document", "documentJSON", "textAttributes", "blocks", "blockList", "getBlockAtIndex", "consolidateBlocks", "copyUsingObjectsFromDocument", "sourceDocument", "copyWithBaseBlockAttributes", "replaceBlock", "oldBlock", "newBlock", "insertDocumentAtRange", "locationFromPosition", "getBlockAtPosition", "mergeDocumentAtRange", "formattedDocument", "startPosition", "startLocation", "baseBlockAttributes", "getBaseBlockAttributes", "trailingBlockAttributes", "leadingBlockAttributes", "blockCount", "getBlockCount", "firstBlock", "firstText", "insertTextAtRange", "leftPosition", "rightPosition", "leftLocation", "rightLocation", "locationRangeFromRange", "leftOffset", "leftBlock", "rightOffset", "rightBlock", "leftText", "rightText", "affectedBlockCount", "getDocumentAtRange", "movingRightward", "eachBlockAtRange", "textRange", "eachBlock", "getTextAtIndex", "removeAttributeForAttachment", "setHTMLAttributeAtPosition", "updatedBlock", "insertBlockBreakAtRange", "applyBlockAttributeAtRange", "expanded", "expandRangeToLineBreaksAndSplitBlocks", "blockConfig", "removeLastListAttributeAtRange", "exceptAttributeName", "converted", "convertLineBreaksToBlockBreaksInRange", "removeBlockAttributesAtRange", "removeLastTerminalAttributeAtRange", "consolidateBlocksAtRange", "lastAttributeName", "endLocation", "startBlock", "positionFromLocation", "endBlock", "_this$getBlockAtIndex", "getTextAtPosition", "getCharacterAtPosition", "getEditCount", "editCount", "getCommonAttributesAtPosition", "attributesForBlock", "commonAttributes", "attributesLeft", "inheritableAttributes", "getRangeOfCommonAttributeAtPosition", "startOffset", "endOffset", "blockIndex", "lastAttributeIndex", "min", "attachmentPieces", "getLocationRangeOfAttachment", "getAttachmentPieceForAttachment", "findRangesForBlockAttribute", "ranges", "findRangesForTextAttribute", "withValue", "location", "locationRangeFromPosition", "rangeFromLocationRange", "locationRange", "getTexts", "toSerializableDocument", "DEFAULT_ALLOWED_ATTRIBUTES", "DEFAULT_FORBIDDEN_PROTOCOLS", "DEFAULT_FORBIDDEN_ELEMENTS", "HTMLSanitizer", "sanitizer", "sanitize", "allowedAttributes", "forbiddenProtocols", "forbiddenElements", "createBodyElementForHTML", "sanitizeElements", "normalizeListElementNesting", "getHTML", "getBody", "walker", "nodesToRemove", "nextNode", "currentNode", "elementIsRemovable", "sanitizeElement", "protocol", "listElement", "previousElement", "previousElementSibling", "elementIsForbidden", "elementIsntSerializable", "doc", "implementation", "createHTMLDocument", "pieceForString", "parseTrixDataAttribute", "content", "HTMLParser", "referenceElement", "blockElements", "processedElements", "getDocument", "createHiddenContainer", "containerElement", "nodeFilter", "processNode", "translateBlockElementMarginsToNewlines", "removeHiddenContainer", "display", "nextSibling", "isInsignificantTextNode", "appendBlockForTextNode", "processTextNode", "appendBlockForElement", "processElement", "currentBlockElement", "isBlockElement", "appendStringWithAttributes", "_this$currentBlock", "getBlockAttributes", "getBlockHTMLAttributes", "currentBlock", "appendBlockForAttributesWithElement", "elementIsBlockElement", "currentBlockContainsElement", "parentBlockElement", "findParentBlockElement", "appendEmptyBlock", "parentElement", "_node$previousSibling", "elementCanDisplayPreformattedText", "stringEndsWithWhitespace", "leftTrimBreakableWhitespace", "getTextAttributes", "appendAttachmentWithAttributes", "isExtraBR", "dimensions", "needsTableSeparator", "appendPiece", "appendStringToTextAtIndex", "prependStringToTextAtIndex", "unshift", "configAttr", "attributeInheritedFromBlock", "blockElement", "findBlockElementAncestors", "attrConfig", "_attrConfig$test", "reverse", "settings", "ancestors", "stringIsAllBreakableWhitespace", "nodeEndsWithNonWhitespace", "_element$previousSibl", "defaultMargin", "getMarginOfDefaultBlockElement", "margin", "getMarginOfBlockElementAtIndex", "top", "bottom", "getBlockElementMargin", "whiteSpace", "marginTop", "marginBottom", "FILTER_REJECT", "FILTER_ACCEPT", "unserializableAttributeNames", "serializedAttributesAttribute", "serializedAttributesSelector", "blockCommentPattern", "serializers", "serializable", "HTMLElement", "el", "ci", "ManagedAttachment", "attachmentManager", "requestRemovalOfAttachment", "AttachmentManager", "managedAttachments", "manageAttachment", "attachmentIsManaged", "attachmentManagerDidRequestRemovalOfAttachment", "unmanageAttachment", "managedAttachment", "LineBreakInsertion", "composition", "selectedRange", "getSelectedRange", "previousCharacter", "nextCharacter", "shouldInsertBlockBreak", "shouldBreakFormattedBlock", "shouldDecreaseListLevel", "shouldPrependListItem", "shouldRemoveLastBlockAttribute", "Composition", "currentAttributes", "revision", "_this$delegate$compos", "refreshAttachments", "compositionDidChangeDocument", "getSnapshot", "loadSnapshot", "_this$delegate2$compo", "_this$delegate3", "_this$delegate3$compo", "compositionWillLoadSnapshot", "setSelection", "compositionDidLoadSnapshot", "insertText", "updatePosition", "notifyDelegateOfInsertionAtRange", "insertBlock", "insertDocument", "insertString", "getCurrentTextAttributes", "insertBlockBreak", "insertLineBreak", "insertion", "decreaseListLevel", "removeLastBlockAttribute", "breakFormattedBlock", "insertHTML", "replaceHTML", "getLocationRange", "insertFile", "insertFiles", "_this$delegate4", "compositionShouldAcceptFile", "attachmentForFile", "insertAttachments", "insertAttachment", "attachmentText", "textForAttachmentWithAttributes", "shouldManageDeletingInDirection", "shouldManageMovingCursorInDirection", "deleteInDirection", "deletingIntoPreviousBlock", "selectionSpansBlocks", "selectionIsCollapsed", "canDecreaseBlockAttributeLevel", "getBlock", "decreaseBlockAttributeLevel", "getExpandedRangeInDirection", "getAttachmentAtRange", "editAttachment", "moveTextFromRange", "removeAttachment", "stopEditingAttachment", "removeCurrentAttribute", "insertPlaceholder", "placeholderPosition", "getPosition", "selectPlaceholder", "setSelectedRange", "PLACEHOLDER", "forgetPlaceholder", "hasCurrentAttribute", "toggleCurrentAttribute", "setCurrentAttribute", "canSetCurrentAttribute", "canSetCurrentBlockAttribute", "canSetCurrentTextAttribute", "getSelectedDocument", "setBlockAttribute", "setTextAttribute", "notifyDelegateOfCurrentAttributesChange", "setHTMLAtributeAtPosition", "allowedHTMLAttributes", "newDocument", "removeBlockAttribute", "updateCurrentAttributes", "removeTextAttribute", "canDecreaseNestingLevel", "_this$getBlock", "canIncreaseNestingLevel", "previousBlock", "getPreviousBlock", "_this$getBlock2", "_this$getBlock3", "attributeLevel", "ignoreLock", "getCurrentAttributes", "freezeSelection", "thawSelection", "hasFrozenSelection", "_this$delegate5", "compositionDidRequestChangingSelectionToLocationRange", "getSelectionManager", "setLocationRange", "targetLocationRange", "withTargetLocationRange", "withTargetRange", "withTargetDOMRange", "createLocationRangeFromDOMRange", "translateUTF16PositionFromOffset", "editingAttachment", "moveCursorInDirection", "canEditAttachment", "expandSelectionInDirection", "expandSelectionForEditing", "expandSelectionAroundCommonAttribute", "selectionContainsAttachments", "_this$getSelectedAtta", "getSelectedAttachments", "selectionIsInCursorTarget", "positionIsCursorTarget", "locationIsCursorTarget", "positionIsBlockBreak", "_this$document$getPie", "_this$getSelectedDocu", "added", "removed", "oldArray", "newArray", "existingValues", "Set", "currentValues", "_this$delegate6", "_this$delegate6$compo", "compositionDidRemoveAttachment", "_this$delegate7", "_this$delegate7$compo", "compositionDidAddAttachment", "_this$delegate8", "_this$delegate8$compo", "compositionDidEditAttachment", "_this$delegate9", "_this$delegate9$compo", "compositionDidChangeAttachmentPreviewURL", "_this$delegate10", "_this$delegate10$comp", "compositionDidStartEditingAttachment", "_this$delegate11", "_this$delegate11$comp", "compositionDidStopEditingAttachment", "_this$delegate12", "_this$delegate12$comp", "compositionDidChangeCurrentAttributes", "_this$delegate13", "_this$delegate13$comp", "compositionDidPerformInsertionAtRange", "utf16string", "utf16position", "UndoManager", "undoEntries", "redoEntries", "recordUndoEntry", "description", "consolidatable", "previousEntry", "entryHasDescriptionAndContext", "undoEntry", "createEntry", "pop", "redoEntry", "snapshot", "canUndo", "canRedo", "entry", "BLOCK_ATTRIBUTE_NAME", "Filter", "applyBlockAttribute", "findRangesOfBlocks", "findRangesOfPieces", "moveSelectedRangeForward", "attachmentGalleryFilter", "DEFAULT_FILTERS", "Editor", "undoManager", "filters", "loadDocument", "loadHTML", "loadJSON", "getClientRectAtPosition", "getClientRectAtLocationRange", "activateAttribute", "attributeIsActive", "canActivateAttribute", "deactivateAttribute", "LocationMapper", "findLocationFromContainerAndOffset", "container", "foundBlock", "attachmentElement", "findAttachmentElementParentForNode", "rejectAttachmentContents", "nodeLength", "findContainerAndOffsetFromLocation", "nodeOffset", "findNodeAndOffsetFromLocation", "getSignificantNodesForIndex", "acceptSignificantNodes", "recordingNodes", "rejectEmptyTextNodes", "PointMapper", "createDOMRangeFromPoint", "x", "y", "caretPositionFromPoint", "offsetNode", "createRange", "setStart", "caretRangeFromPoint", "createTextRange", "originalDOMRange", "moveToPoint", "select", "getClientRectsForDOMRange", "getClientRects", "SelectionManager", "didMouseDown", "locationMapper", "pointMapper", "lockCount", "currentLocationRange", "lockedLocationRange", "createDOMRangeFromLocationRange", "updateCurrentLocationRange", "setLocationRangeFromPointRange", "pointRange", "getLocationAtPoint", "lock", "unlock", "clearSelection", "_getDOMRange", "collapsed", "selectionIsExpanded", "domRangeWithinElement", "pauseTemporarily", "resumeHandlers", "paused", "resume", "clearTimeout", "resumeTimeout", "_this$delegate$locati", "locationRangeDidChange", "rangeStart", "rangeEnd", "setEnd", "point", "_this$createLocationR", "Di", "ke", "hi", "Re", "Be", "gi", "qe", "xi", "Xe", "Je", "di", "yi", "ui", "ye", "Si", "Li", "Se", "Ee", "Te", "mi", "wi", "ee", "re", "de", "ge", "le", "ae", "ce", "keyNames", "undoable", "commands", "do", "undos", "AttachmentEditorController", "title", "trixAction", "didClickToolbar", "didClickActionButton", "textarea", "placeholder", "textareaClone", "tabIndex", "autoresize", "scrollHeight", "didInputCaption", "didKeyDownCaption", "didChangeCaption", "didBlurCaption", "editingFigcaption", "editCaption", "focus", "install", "makeElementMutable", "addToolbar", "installCaptionEditor", "uninstall", "savePendingCaption", "didUninstallAttachmentEditor", "pendingCaption", "_this$delegate3$attac", "attachmentEditorDidRequestUpdatingAttributesForAttachment", "attachmentEditorDidRequestRemovingAttributeForAttachment", "stopPropagation", "attachmentEditorDidRequestRemovalOfAttachment", "_this$delegate5$attac", "keyCode", "attachmentEditorDidRequestDeselectingAttachment", "CompositionController", "didFocus", "didBlur", "didClickAttachment", "documentView", "_this$blurPromise", "focused", "compositionControllerDidFocus", "blurPromise", "compositionControllerDidBlur", "findAttachmentForElement", "compositionControllerDidSelectAttachment", "getSerializableElement", "isEditingAttachment", "_this$delegate4$compo", "_this$delegate5$compo", "canSyncDocumentView", "compositionControllerWillSyncDocumentView", "compositionControllerDidSyncDocumentView", "compositionControllerDidRender", "rerenderViewForObject", "refreshViewCache", "attachmentEditor", "installAttachmentEditorForAttachment", "_this$attachmentEdito", "uninstallAttachmentEditor", "_this$attachmentEdito2", "compositionControllerWillUpdateAttachment", "compositionControllerDidRequestRemovalOfAttachment", "compositionControllerDidRequestDeselectingAttachment", "Controller", "mutableAttributeName", "mutableSelector", "childList", "characterData", "characterDataOldValue", "subtree", "MutationObserver", "didMutate", "observer", "observe", "disconnect", "mutations", "_this$delegate$elemen", "findSignificantMutations", "elementDidMutate", "getMutationSummary", "mutation", "mutationIsSignificant", "nodeIsMutable", "nodesModifiedByMutation", "nodeIsSignificant", "addedNodes", "removedNodes", "getTextMutationSummary", "additions", "deletions", "getTextChangesFromCharacterData", "textChanges", "getTextChangesFromChildList", "addition", "summary", "textAdded", "deleted", "textDeleted", "getMutationsByType", "textRemoved", "getTextForNodes", "characterMutations", "startMutation", "endMutation", "summarized", "oldString", "newString", "oldValue", "FileVerificationOperation", "reader", "FileReader", "abort", "readAsArrayBuffer", "FlakyAndroidKeyboardDetector", "shouldIgnore", "previousEvent", "checkSamsungKeyboardBuggyModeStart", "checkSamsungKeyboardBuggyModeEnd", "buggyMode", "insertingLongTextAfterUnidentifiedChar", "differsInWhitespace", "innerText", "inputType", "_this$event$data", "isBeforeInputInsertText", "previousEventWasUnidentifiedKeydown", "_this$previousEvent", "_this$previousEvent2", "text1", "text2", "normalize", "whiteSpaceNormalizerRegexp", "InputController", "mutationObserver", "flakyKeyboardDetector", "events", "handlerFor", "mutationSummary", "editorWillSyncDocumentView", "editorDidSyncDocumentView", "requestRender", "_this$delegate$inputC", "inputControllerDidRequestRender", "requestReparse", "_this$delegate2$input", "inputControllerDidRequestReparse", "operations", "all", "handleInput", "_this$responder", "inputControllerWillAttachFiles", "responder", "defaultPrevented", "inputControllerWillHandleInput", "inputControllerDidHandleInput", "createLinkHTML", "outerHTML", "Gi", "pastedFileCount", "Level0InputController", "resetInputSummary", "setInputSummary", "inputSummary", "isComposing", "inputControllerDidAllowUnhandledInput", "mutationIsExpected", "preferDocument", "mutationAdditionMatchesSummary", "mutationDeletionMatchesSummary", "didDelete", "unexpectedNewlineAddition", "unexpectedNewlineDeletion", "_this$compositionInpu", "textChanged", "composedEmptyString", "compositionInput", "getEndData", "getCompositionInput", "CompositionInput", "isEnded", "_this$responder2", "serializeSelectionToDataTransfer", "_this$responder3", "setData", "canAcceptDataTransfer", "Files", "getPastedHTMLUsingHiddenElement", "pageXOffset", "pageYOffset", "opacity", "requestAnimationFrame", "keydown", "didInput", "keyName", "_context2", "modifier", "_context", "character", "inputControllerDidReceiveKeyboardCommand", "keypress", "altKey", "stringFromKeyEvent", "_this$responder9", "inputControllerWillPerformTyping", "textInput", "toUpperCase", "_this$responder10", "dragenter", "dragstart", "_this$delegate5$input", "draggedRange", "inputControllerDidStartDrag", "dragover", "draggingPoint", "clientX", "clientY", "_this$delegate6$input", "inputControllerDidReceiveDragOverPoint", "dragend", "_this$delegate7$input", "inputControllerDidCancelDrag", "drop", "_event$dataTransfer", "_this$responder11", "_this$responder12", "inputControllerWillMoveText", "_this$responder13", "fromJSONString", "cut", "_this$responder14", "clipboardData", "inputControllerWillCutText", "_this$responder15", "paste", "clipboard", "testClipboardData", "pasteEventIsCrippledSafariHTMLPaste", "_this$responder16", "inputControllerWillPaste", "inputControllerDidPaste", "_this$responder17", "_this$delegate14", "_this$responder18", "_this$delegate15", "_this$delegate16", "_this$responder19", "_this$delegate17", "_clipboard$items", "_clipboard$items$getA", "items", "getAsFile", "_this$delegate18", "_this$responder20", "_this$delegate19", "extensionForFile", "compositionstart", "compositionupdate", "compositionend", "beforeinput", "backspace", "_this$delegate20", "delete", "_this$delegate21", "return", "_this$delegate22", "_this$responder21", "tab", "_this$responder22", "_this$responder23", "_this$responder24", "_this$responder25", "control", "d", "_this$delegate23", "h", "_this$delegate24", "_this$delegate25", "_this$responder26", "shift", "_this$delegate26", "_this$responder27", "_this$responder28", "_this$responder29", "alt", "_this$delegate27", "meta", "_this$delegate28", "_file$type", "which", "charCode", "hasPasteboardFlavor", "hasReadableDynamicData", "isExternalHTMLPaste", "isExternalRichTextPaste", "inputController", "isSignificant", "_this$responder5", "_this$responder4", "canApplyToDocument", "_this$responder6", "_this$responder7", "_this$responder8", "_this$data$start", "_this$data$end", "Level2InputController", "scheduledRender", "composing", "reparse", "scheduleRender", "_this$afterRender", "cancelAnimationFrame", "afterRender", "toggleAttributeIfSupported", "inputControllerWillPerformFormatting", "activateAttributeIfSupported", "getTargetDOMRange", "minLength", "_this$event$getTarget", "_this$event", "targetRanges", "getTargetRanges", "staticRangeToRange", "withEvent", "command", "keyboardCommandFromKeyEvent", "shiftKey", "_event$clipboardData", "pasteEventHasFilesOnly", "pasteEventHasPlainTextOnly", "inputTypes", "dragging", "pointFromEvent", "dragEventHasFiles", "ArrowLeft", "ArrowRight", "Backspace", "Tab", "deleteByComposition", "deleteByCut", "deleteByDrag", "deleteByDragRange", "deleteCompositionText", "deleteContent", "deleteContentBackward", "deleteContentForward", "deleteEntireSoftLine", "deleteHardLineBackward", "deleteHardLineForward", "deleteSoftLineBackward", "deleteSoftLineForward", "deleteWordBackward", "deleteWordForward", "formatBackColor", "formatBold", "formatFontColor", "formatFontName", "formatIndent", "formatItalic", "formatJustifyCenter", "formatJustifyFull", "formatJustifyLeft", "formatJustifyRight", "formatOutdent", "formatRemove", "_this$responder30", "formatSetBlockTextDirection", "formatSetInlineTextDirection", "formatStrikeThrough", "formatSubscript", "formatSuperscript", "formatUnderline", "historyRedo", "inputControllerWillPerformRedo", "historyUndo", "inputControllerWillPerformUndo", "insertCompositionText", "insertFromComposition", "insertFromDrop", "_this$responder31", "insertFromPaste", "_this$responder32", "_this$responder33", "processableFilePaste", "_this$responder34", "_this$responder35", "insertFromYank", "insertLink", "insertOrderedList", "insertParagraph", "_this$responder36", "insertReplacementText", "replacement", "_this$event$dataTrans", "insertTranspose", "insertUnorderedList", "staticRange", "_event$dataTransfer$f", "attributeButtonSelector", "actionButtonSelector", "toolbarButtonSelector", "dialogSelector", "activeDialogSelector", "dialogButtonSelector", "dialogInputSelector", "getInputForDialog", "getAttributeName", "getActionName", "ToolbarController", "didClickAttributeButton", "didClickDialogButton", "didKeyDownDialogInput", "actions", "resetDialogInputs", "toolbarDidClickButton", "actionName", "getDialog", "toggleDialog", "toolbarDidInvokeAction", "toolbarDidToggleAttribute", "refreshAttributeButtons", "dialogElement", "dialog", "hideDialog", "updateActions", "refreshActionButtons", "eachActionButton", "disabled", "updateAttributes", "eachAttributeButton", "dialogIsVisible", "applyKeyboardCommand", "keyString", "button", "buttonKeys", "dialogName", "showDialog", "toolbarWillShowDialog", "disabledInput", "toolbarDidShowDialog", "willValidate", "checkValidity", "toolbarDidUpdateAttribute", "toolbarDidRemoveAttribute", "toolbarDidHideDialog", "EditorController", "editorElement", "compositionController", "toolbarController", "toolbarElement", "editor", "notifyEditorElement", "handlingInput", "updateCurrentActions", "pasting", "pastedRange", "attachmentLocationRange", "loadingSnapshot", "isFocused", "requestedLocationRange", "compositionRevisionWhenLocationRangeRequested", "renderedCompositionRevision", "runEditorFilters", "isFocusedInvisibly", "requestedRender", "recordTypingUndoEntry", "recordFormattingUndoEntry", "locationRangeBeforeDrag", "invokingElement", "invokeAction", "selectionFrozen", "canInvokeAction", "actionIsExternal", "_this$actions$actionN", "_this$actions$actionN2", "getCurrentActions", "currentActions", "snapshotsAreEqual", "updateInputElement", "serializer", "setInputElementValue", "message", "documentChangedSinceLastRender", "notify", "getUndoContext", "getLocationContext", "getTimeContext", "Date", "getTime", "_this$editorElement$o", "ownerDocument", "En", "Ii", "Ni", "Oi", "Rn", "Ki", "Qi", "on", "kn", "Sn", "Ui", "Ft", "Ln", "Vi", "Ce", "TrixToolbarElement", "connectedCallback", "makeEditable", "configureContentEditable", "disableObjectResizing", "setDefaultParagraphSeparator", "_document$queryComman", "_document", "queryCommandSupported", "execCommand", "_document$queryComman2", "_document2", "cursorTargetStyles", "TrixEditorElement", "labels", "label", "_this$ownerDocument", "toolbarId", "_this$inputElement", "inputElement", "_this$ownerDocument2", "inputId", "nextElementSibling", "_this$editorControlle", "editorController", "_this$inputElement2", "_this$inputElement3", "defaultValue", "_this$editor", "texts", "contains", "registerResetListener", "registerClickListener", "disconnectedCallback", "_this$editorControlle2", "unregisterResetListener", "unregisterClickListener", "resetListener", "resetBubbled", "clickListener", "clickBubbled", "Trix", "VERSION", "version", "core", "models", "controllers", "observers", "customElements", "define", "factory", "sparkMd5", "module", "exports", "undefined$1", "hex_chr", "md5cycle", "x", "k", "a", "b", "c", "d", "md5blk", "s", "md5blks", "i", "md5blk_array", "md51", "n", "state", "length", "tail", "tmp", "lo", "hi", "md51_array", "rhex", "j", "hex", "clamp", "val", "from", "to", "begin", "end", "num", "target", "targetArray", "sourceArray", "toUtf8", "str", "utf8Str2ArrayBuffer", "returnUInt8Array", "buff", "arr", "arrayBuffer2Utf8Str", "concatenateArrayBuffers", "first", "second", "result", "hexToBinaryString", "bytes", "SparkMD5", "contents", "raw", "ret", "content", "hash", "fileSlice", "FileChecksum", "file", "callback", "event", "binaryDigest", "base64digest", "start", "getMetaValue", "name", "element", "findElement", "findElements", "root", "selector", "elements", "toArray", "dispatchEvent", "type", "eventInit", "disabled", "bubbles", "cancelable", "detail", "value", "BlobRecord", "checksum", "url", "customHeaders", "headerKey", "csrfToken", "responseType", "response", "direct_upload", "key", "BlobUpload", "blob", "headers", "status", "id", "DirectUpload", "delegate", "error", "notify", "upload", "object", "methodName", "messages", "DirectUploadController", "input", "hiddenInput", "attributes", "progress", "xhr", "inputSelector", "DirectUploadsController", "form", "controllers", "startNextController", "controller", "processingAttribute", "submitButtonsByForm", "started", "didClick", "didSubmitForm", "didSubmitRemoteElement", "button", "handleFormSubmissionEvent", "inputs", "disable", "enable", "submitForm", "autostart", "AttachmentUpload", "attachment", "signedId", "filename"]
}
