{
  "version": 3,
  "sources": ["../../../node_modules/@rails/actioncable/src/adapters.js", "../../../node_modules/@rails/actioncable/src/logger.js", "../../../node_modules/@rails/actioncable/src/connection_monitor.js", "../../../node_modules/@rails/actioncable/src/internal.js", "../../../node_modules/@rails/actioncable/src/connection.js", "../../../node_modules/@rails/actioncable/src/subscription.js", "../../../node_modules/@rails/actioncable/src/subscription_guarantor.js", "../../../node_modules/@rails/actioncable/src/subscriptions.js", "../../../node_modules/@rails/actioncable/src/consumer.js", "../../../node_modules/@rails/actioncable/src/index.js", "../../../node_modules/@popperjs/core/src/dom-utils/getWindow.js", "../../../node_modules/@popperjs/core/src/dom-utils/instanceOf.js", "../../../node_modules/@popperjs/core/src/utils/math.js", "../../../node_modules/@popperjs/core/src/utils/userAgent.js", "../../../node_modules/@popperjs/core/src/dom-utils/isLayoutViewport.js", "../../../node_modules/@popperjs/core/src/dom-utils/getBoundingClientRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/getWindowScroll.js", "../../../node_modules/@popperjs/core/src/dom-utils/getHTMLElementScroll.js", "../../../node_modules/@popperjs/core/src/dom-utils/getNodeScroll.js", "../../../node_modules/@popperjs/core/src/dom-utils/getNodeName.js", "../../../node_modules/@popperjs/core/src/dom-utils/getDocumentElement.js", "../../../node_modules/@popperjs/core/src/dom-utils/getWindowScrollBarX.js", "../../../node_modules/@popperjs/core/src/dom-utils/getComputedStyle.js", "../../../node_modules/@popperjs/core/src/dom-utils/isScrollParent.js", "../../../node_modules/@popperjs/core/src/dom-utils/getCompositeRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/getLayoutRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/getParentNode.js", "../../../node_modules/@popperjs/core/src/dom-utils/getScrollParent.js", "../../../node_modules/@popperjs/core/src/dom-utils/listScrollParents.js", "../../../node_modules/@popperjs/core/src/dom-utils/isTableElement.js", "../../../node_modules/@popperjs/core/src/dom-utils/getOffsetParent.js", "../../../node_modules/@popperjs/core/src/enums.js", "../../../node_modules/@popperjs/core/src/utils/orderModifiers.js", "../../../node_modules/@popperjs/core/src/utils/debounce.js", "../../../node_modules/@popperjs/core/src/utils/mergeByName.js", "../../../node_modules/@popperjs/core/src/dom-utils/getViewportRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/getDocumentRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/contains.js", "../../../node_modules/@popperjs/core/src/utils/rectToClientRect.js", "../../../node_modules/@popperjs/core/src/dom-utils/getClippingRect.js", "../../../node_modules/@popperjs/core/src/utils/getBasePlacement.js", "../../../node_modules/@popperjs/core/src/utils/getVariation.js", "../../../node_modules/@popperjs/core/src/utils/getMainAxisFromPlacement.js", "../../../node_modules/@popperjs/core/src/utils/computeOffsets.js", "../../../node_modules/@popperjs/core/src/utils/getFreshSideObject.js", "../../../node_modules/@popperjs/core/src/utils/mergePaddingObject.js", "../../../node_modules/@popperjs/core/src/utils/expandToHashMap.js", "../../../node_modules/@popperjs/core/src/utils/detectOverflow.js", "../../../node_modules/@popperjs/core/src/createPopper.js", "../../../node_modules/@popperjs/core/src/modifiers/eventListeners.js", "../../../node_modules/@popperjs/core/src/modifiers/popperOffsets.js", "../../../node_modules/@popperjs/core/src/modifiers/computeStyles.js", "../../../node_modules/@popperjs/core/src/modifiers/applyStyles.js", "../../../node_modules/@popperjs/core/src/modifiers/offset.js", "../../../node_modules/@popperjs/core/src/utils/getOppositePlacement.js", "../../../node_modules/@popperjs/core/src/utils/getOppositeVariationPlacement.js", "../../../node_modules/@popperjs/core/src/utils/computeAutoPlacement.js", "../../../node_modules/@popperjs/core/src/modifiers/flip.js", "../../../node_modules/@popperjs/core/src/utils/getAltAxis.js", "../../../node_modules/@popperjs/core/src/utils/within.js", "../../../node_modules/@popperjs/core/src/modifiers/preventOverflow.js", "../../../node_modules/@popperjs/core/src/modifiers/arrow.js", "../../../node_modules/@popperjs/core/src/modifiers/hide.js", "../../../node_modules/@popperjs/core/src/popper-lite.js", "../../../node_modules/@popperjs/core/src/popper.js", "../../../node_modules/bootstrap/js/src/dom/data.js", "../../../node_modules/bootstrap/js/src/util/index.js", "../../../node_modules/bootstrap/js/src/dom/event-handler.js", "../../../node_modules/bootstrap/js/src/dom/manipulator.js", "../../../node_modules/bootstrap/js/src/util/config.js", "../../../node_modules/bootstrap/js/src/base-component.js", "../../../node_modules/bootstrap/js/src/dom/selector-engine.js", "../../../node_modules/bootstrap/js/src/util/component-functions.js", "../../../node_modules/bootstrap/js/src/alert.js", "../../../node_modules/bootstrap/js/src/button.js", "../../../node_modules/bootstrap/js/src/util/swipe.js", "../../../node_modules/bootstrap/js/src/carousel.js", "../../../node_modules/bootstrap/js/src/collapse.js", "../../../node_modules/bootstrap/js/src/dropdown.js", "../../../node_modules/bootstrap/js/src/util/backdrop.js", "../../../node_modules/bootstrap/js/src/util/focustrap.js", "../../../node_modules/bootstrap/js/src/util/scrollbar.js", "../../../node_modules/bootstrap/js/src/modal.js", "../../../node_modules/bootstrap/js/src/offcanvas.js", "../../../node_modules/bootstrap/js/src/util/sanitizer.js", "../../../node_modules/bootstrap/js/src/util/template-factory.js", "../../../node_modules/bootstrap/js/src/tooltip.js", "../../../node_modules/bootstrap/js/src/popover.js", "../../../node_modules/bootstrap/js/src/scrollspy.js", "../../../node_modules/bootstrap/js/src/tab.js", "../../../node_modules/bootstrap/js/src/toast.js", "../../../node_modules/bootstrap/js/index.umd.js", "../../../node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/snakeize.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable_stream_source_element.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/fetch_requests.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/index.js", "../../../node_modules/@hotwired/stimulus/dist/stimulus.js", "../../javascript/controllers/application.js", "../../javascript/controllers/confirm_controller.js", "../../javascript/controllers/btn_preloader_controller.js", "../../javascript/controllers/notices_controller.js", "../../javascript/controllers/clear_form_controller.js", "../../../node_modules/@fancyapps/ui/dist/index.esm.js", "../../javascript/controllers/fancybox_controller.js", "../../javascript/others/pagy.mjs", "../../javascript/controllers/pagy_initializer_controller.js", "../../javascript/controllers/map_controller.js", "../../../node_modules/swiper/shared/ssr-window.esm.mjs", "../../../node_modules/swiper/shared/utils.mjs", "../../../node_modules/swiper/shared/swiper-core.mjs", "../../../node_modules/swiper/shared/create-element-if-not-defined.mjs", "../../../node_modules/swiper/modules/navigation.mjs", "../../../node_modules/swiper/modules/autoplay.mjs", "../../javascript/controllers/swiper_controller.js", "../../javascript/controllers/expand_text_controller.js", "../../javascript/controllers/collapse_controller.js", "../../javascript/controllers/no_image_controller.js", "../../javascript/controllers/mobile_bar_controller.js", "../../javascript/controllers/auto_scroll_down_controller.js", "../../javascript/controllers/clipboard_controller.js", "../../javascript/controllers/index.js", "../../javascript/application.js", "../../../node_modules/trix/src/trix/config/attachments.js", "../../../node_modules/trix/src/trix/config/block_attributes.js", "../../../node_modules/trix/src/trix/config/browser.js", "../../../node_modules/trix/src/trix/config/lang.js", "../../../node_modules/trix/src/trix/config/file_size_formatting.js", "../../../node_modules/trix/src/trix/constants.js", "../../../node_modules/trix/src/trix/core/helpers/extend.js", "../../../node_modules/trix/src/trix/core/helpers/dom.js", "../../../node_modules/trix/src/trix/config/input.js", "../../../node_modules/trix/src/trix/config/key_names.js", "../../../node_modules/trix/src/trix/config/parser.js", "../../../node_modules/trix/src/trix/config/text_attributes.js", "../../../node_modules/trix/src/trix/config/toolbar.js", "../../../node_modules/trix/src/trix/config/undo.js", "../../../node_modules/trix/src/trix/config/css.js", "../../../node_modules/trix/src/trix/core/basic_object.js", "../../../node_modules/trix/src/trix/core/utilities/utf16_string.js", "../../../node_modules/trix/src/trix/core/object.js", "../../../node_modules/trix/src/trix/core/helpers/arrays.js", "../../../node_modules/trix/src/trix/core/helpers/bidi.js", "../../../node_modules/trix/src/trix/core/helpers/config.js", "../../../node_modules/trix/src/trix/core/helpers/custom_elements.js", "../../../node_modules/trix/src/trix/core/helpers/events.js", "../../../node_modules/trix/src/trix/core/helpers/functions.js", "../../../node_modules/trix/src/trix/core/helpers/objects.js", "../../../node_modules/trix/src/trix/core/helpers/ranges.js", "../../../node_modules/trix/src/trix/observers/selection_change_observer.js", "../../../node_modules/trix/src/trix/core/helpers/strings.js", "../../../node_modules/trix/src/trix/core/collections/hash.js", "../../../node_modules/trix/src/trix/core/collections/object_group.js", "../../../node_modules/trix/src/trix/core/collections/object_map.js", "../../../node_modules/trix/src/trix/core/collections/element_store.js", "../../../node_modules/trix/src/trix/core/utilities/operation.js", "../../../node_modules/trix/src/trix/views/object_view.js", "../../../node_modules/trix/src/trix/models/html_sanitizer.js", "../../../node_modules/trix/src/trix/views/attachment_view.js", "../../../node_modules/trix/src/trix/views/previewable_attachment_view.js", "../../../node_modules/trix/src/trix/views/piece_view.js", "../../../node_modules/trix/src/trix/views/text_view.js", "../../../node_modules/trix/src/trix/views/block_view.js", "../../../node_modules/trix/src/trix/views/document_view.js", "../../../node_modules/trix/src/trix/models/piece.js", "../../../node_modules/trix/src/trix/operations/image_preload_operation.js", "../../../node_modules/trix/src/trix/models/attachment.js", "../../../node_modules/trix/src/trix/models/attachment_piece.js", "../../../node_modules/trix/src/trix/models/string_piece.js", "../../../node_modules/trix/src/trix/models/splittable_list.js", "../../../node_modules/trix/src/trix/models/text.js", "../../../node_modules/trix/src/trix/models/block.js", "../../../node_modules/trix/src/trix/models/document.js", "../../../node_modules/trix/src/trix/models/html_parser.js", "../../../node_modules/trix/src/trix/core/serialization.js", "../../../node_modules/trix/src/trix/models/managed_attachment.js", "../../../node_modules/trix/src/trix/models/attachment_manager.js", "../../../node_modules/trix/src/trix/models/line_break_insertion.js", "../../../node_modules/trix/src/trix/models/composition.js", "../../../node_modules/trix/src/trix/models/undo_manager.js", "../../../node_modules/trix/src/trix/filters/filter.js", "../../../node_modules/trix/src/trix/filters/attachment_gallery_filter.js", "../../../node_modules/trix/src/trix/models/editor.js", "../../../node_modules/trix/src/trix/models/location_mapper.js", "../../../node_modules/trix/src/trix/models/point_mapper.js", "../../../node_modules/trix/src/trix/models/selection_manager.js", "../../../node_modules/trix/src/trix/controllers/attachment_editor_controller.js", "../../../node_modules/trix/src/trix/controllers/composition_controller.js", "../../../node_modules/trix/src/trix/controllers/controller.js", "../../../node_modules/trix/src/trix/observers/mutation_observer.js", "../../../node_modules/trix/src/trix/operations/file_verification_operation.js", "../../../node_modules/trix/src/trix/models/flaky_android_keyboard_detector.js", "../../../node_modules/trix/src/trix/controllers/input_controller.js", "../../../node_modules/trix/src/trix/controllers/level_0_input_controller.js", "../../../node_modules/trix/src/trix/controllers/level_2_input_controller.js", "../../../node_modules/trix/src/trix/controllers/toolbar_controller.js", "../../../node_modules/trix/src/trix/controllers/editor_controller.js", "../../../node_modules/trix/src/trix/elements/trix_toolbar_element.js", "../../../node_modules/trix/src/trix/elements/trix_editor_element.js", "../../../node_modules/trix/src/trix/trix.js", "../../../node_modules/@rails/actiontext/app/assets/javascripts/actiontext.js"],
  "sourcesContent": ["export default {\n  logger: typeof console !== \"undefined\" ? console : undefined,\n  WebSocket: typeof WebSocket !== \"undefined\" ? WebSocket : undefined,\n}\n", "import adapters from \"./adapters\"\n\n// The logger is disabled by default. You can enable it with:\n//\n//   ActionCable.logger.enabled = true\n//\n//   Example:\n//\n//   import * as ActionCable from '@rails/actioncable'\n//\n//   ActionCable.logger.enabled = true\n//   ActionCable.logger.log('Connection Established.')\n//\n\nexport default {\n  log(...messages) {\n    if (this.enabled) {\n      messages.push(Date.now())\n      adapters.logger.log(\"[ActionCable]\", ...messages)\n    }\n  },\n}\n", "import logger from \"./logger\"\n\n// Responsible for ensuring the cable connection is in good health by validating the heartbeat pings sent from the server, and attempting\n// revival reconnections if things go astray. Internal class, not intended for direct user manipulation.\n\nconst now = () => new Date().getTime()\n\nconst secondsSince = time => (now() - time) / 1000\n\nclass ConnectionMonitor {\n  constructor(connection) {\n    this.visibilityDidChange = this.visibilityDidChange.bind(this)\n    this.connection = connection\n    this.reconnectAttempts = 0\n  }\n\n  start() {\n    if (!this.isRunning()) {\n      this.startedAt = now()\n      delete this.stoppedAt\n      this.startPolling()\n      addEventListener(\"visibilitychange\", this.visibilityDidChange)\n      logger.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`)\n    }\n  }\n\n  stop() {\n    if (this.isRunning()) {\n      this.stoppedAt = now()\n      this.stopPolling()\n      removeEventListener(\"visibilitychange\", this.visibilityDidChange)\n      logger.log(\"ConnectionMonitor stopped\")\n    }\n  }\n\n  isRunning() {\n    return this.startedAt && !this.stoppedAt\n  }\n\n  recordMessage() {\n    this.pingedAt = now()\n  }\n\n  recordConnect() {\n    this.reconnectAttempts = 0\n    delete this.disconnectedAt\n    logger.log(\"ConnectionMonitor recorded connect\")\n  }\n\n  recordDisconnect() {\n    this.disconnectedAt = now()\n    logger.log(\"ConnectionMonitor recorded disconnect\")\n  }\n\n  // Private\n\n  startPolling() {\n    this.stopPolling()\n    this.poll()\n  }\n\n  stopPolling() {\n    clearTimeout(this.pollTimeout)\n  }\n\n  poll() {\n    this.pollTimeout = setTimeout(() => {\n      this.reconnectIfStale()\n      this.poll()\n    }\n    , this.getPollInterval())\n  }\n\n  getPollInterval() {\n    const { staleThreshold, reconnectionBackoffRate } = this.constructor\n    const backoff = Math.pow(1 + reconnectionBackoffRate, Math.min(this.reconnectAttempts, 10))\n    const jitterMax = this.reconnectAttempts === 0 ? 1.0 : reconnectionBackoffRate\n    const jitter = jitterMax * Math.random()\n    return staleThreshold * 1000 * backoff * (1 + jitter)\n  }\n\n  reconnectIfStale() {\n    if (this.connectionIsStale()) {\n      logger.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${secondsSince(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`)\n      this.reconnectAttempts++\n      if (this.disconnectedRecently()) {\n        logger.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${secondsSince(this.disconnectedAt)} s`)\n      } else {\n        logger.log(\"ConnectionMonitor reopening\")\n        this.connection.reopen()\n      }\n    }\n  }\n\n  get refreshedAt() {\n    return this.pingedAt ? this.pingedAt : this.startedAt\n  }\n\n  connectionIsStale() {\n    return secondsSince(this.refreshedAt) > this.constructor.staleThreshold\n  }\n\n  disconnectedRecently() {\n    return this.disconnectedAt && (secondsSince(this.disconnectedAt) < this.constructor.staleThreshold)\n  }\n\n  visibilityDidChange() {\n    if (document.visibilityState === \"visible\") {\n      setTimeout(() => {\n        if (this.connectionIsStale() || !this.connection.isOpen()) {\n          logger.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`)\n          this.connection.reopen()\n        }\n      }\n      , 200)\n    }\n  }\n\n}\n\nConnectionMonitor.staleThreshold = 6 // Server::Connections::BEAT_INTERVAL * 2 (missed two pings)\nConnectionMonitor.reconnectionBackoffRate = 0.15\n\nexport default ConnectionMonitor\n", "export default {\n  \"message_types\": {\n    \"welcome\": \"welcome\",\n    \"disconnect\": \"disconnect\",\n    \"ping\": \"ping\",\n    \"confirmation\": \"confirm_subscription\",\n    \"rejection\": \"reject_subscription\"\n  },\n  \"disconnect_reasons\": {\n    \"unauthorized\": \"unauthorized\",\n    \"invalid_request\": \"invalid_request\",\n    \"server_restart\": \"server_restart\",\n    \"remote\": \"remote\"\n  },\n  \"default_mount_path\": \"/cable\",\n  \"protocols\": [\n    \"actioncable-v1-json\",\n    \"actioncable-unsupported\"\n  ]\n}\n", "import adapters from \"./adapters\"\nimport ConnectionMonitor from \"./connection_monitor\"\nimport INTERNAL from \"./internal\"\nimport logger from \"./logger\"\n\n// Encapsulate the cable connection held by the consumer. This is an internal class not intended for direct user manipulation.\n\nconst {message_types, protocols} = INTERNAL\nconst supportedProtocols = protocols.slice(0, protocols.length - 1)\n\nconst indexOf = [].indexOf\n\nclass Connection {\n  constructor(consumer) {\n    this.open = this.open.bind(this)\n    this.consumer = consumer\n    this.subscriptions = this.consumer.subscriptions\n    this.monitor = new ConnectionMonitor(this)\n    this.disconnected = true\n  }\n\n  send(data) {\n    if (this.isOpen()) {\n      this.webSocket.send(JSON.stringify(data))\n      return true\n    } else {\n      return false\n    }\n  }\n\n  open() {\n    if (this.isActive()) {\n      logger.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`)\n      return false\n    } else {\n      const socketProtocols = [...protocols, ...this.consumer.subprotocols || []]\n      logger.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${socketProtocols}`)\n      if (this.webSocket) { this.uninstallEventHandlers() }\n      this.webSocket = new adapters.WebSocket(this.consumer.url, socketProtocols)\n      this.installEventHandlers()\n      this.monitor.start()\n      return true\n    }\n  }\n\n  close({allowReconnect} = {allowReconnect: true}) {\n    if (!allowReconnect) { this.monitor.stop() }\n    // Avoid closing websockets in a \"connecting\" state due to Safari 15.1+ bug. See: https://github.com/rails/rails/issues/43835#issuecomment-1002288478\n    if (this.isOpen()) {\n      return this.webSocket.close()\n    }\n  }\n\n  reopen() {\n    logger.log(`Reopening WebSocket, current state is ${this.getState()}`)\n    if (this.isActive()) {\n      try {\n        return this.close()\n      } catch (error) {\n        logger.log(\"Failed to reopen WebSocket\", error)\n      }\n      finally {\n        logger.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`)\n        setTimeout(this.open, this.constructor.reopenDelay)\n      }\n    } else {\n      return this.open()\n    }\n  }\n\n  getProtocol() {\n    if (this.webSocket) {\n      return this.webSocket.protocol\n    }\n  }\n\n  isOpen() {\n    return this.isState(\"open\")\n  }\n\n  isActive() {\n    return this.isState(\"open\", \"connecting\")\n  }\n\n  triedToReconnect() {\n    return this.monitor.reconnectAttempts > 0\n  }\n\n  // Private\n\n  isProtocolSupported() {\n    return indexOf.call(supportedProtocols, this.getProtocol()) >= 0\n  }\n\n  isState(...states) {\n    return indexOf.call(states, this.getState()) >= 0\n  }\n\n  getState() {\n    if (this.webSocket) {\n      for (let state in adapters.WebSocket) {\n        if (adapters.WebSocket[state] === this.webSocket.readyState) {\n          return state.toLowerCase()\n        }\n      }\n    }\n    return null\n  }\n\n  installEventHandlers() {\n    for (let eventName in this.events) {\n      const handler = this.events[eventName].bind(this)\n      this.webSocket[`on${eventName}`] = handler\n    }\n  }\n\n  uninstallEventHandlers() {\n    for (let eventName in this.events) {\n      this.webSocket[`on${eventName}`] = function() {}\n    }\n  }\n\n}\n\nConnection.reopenDelay = 500\n\nConnection.prototype.events = {\n  message(event) {\n    if (!this.isProtocolSupported()) { return }\n    const {identifier, message, reason, reconnect, type} = JSON.parse(event.data)\n    this.monitor.recordMessage()\n    switch (type) {\n      case message_types.welcome:\n        if (this.triedToReconnect()) {\n          this.reconnectAttempted = true\n        }\n        this.monitor.recordConnect()\n        return this.subscriptions.reload()\n      case message_types.disconnect:\n        logger.log(`Disconnecting. Reason: ${reason}`)\n        return this.close({allowReconnect: reconnect})\n      case message_types.ping:\n        return null\n      case message_types.confirmation:\n        this.subscriptions.confirmSubscription(identifier)\n        if (this.reconnectAttempted) {\n          this.reconnectAttempted = false\n          return this.subscriptions.notify(identifier, \"connected\", {reconnected: true})\n        } else {\n          return this.subscriptions.notify(identifier, \"connected\", {reconnected: false})\n        }\n      case message_types.rejection:\n        return this.subscriptions.reject(identifier)\n      default:\n        return this.subscriptions.notify(identifier, \"received\", message)\n    }\n  },\n\n  open() {\n    logger.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`)\n    this.disconnected = false\n    if (!this.isProtocolSupported()) {\n      logger.log(\"Protocol is unsupported. Stopping monitor and disconnecting.\")\n      return this.close({allowReconnect: false})\n    }\n  },\n\n  close(event) {\n    logger.log(\"WebSocket onclose event\")\n    if (this.disconnected) { return }\n    this.disconnected = true\n    this.monitor.recordDisconnect()\n    return this.subscriptions.notifyAll(\"disconnected\", {willAttemptReconnect: this.monitor.isRunning()})\n  },\n\n  error() {\n    logger.log(\"WebSocket onerror event\")\n  }\n}\n\nexport default Connection\n", "// A new subscription is created through the ActionCable.Subscriptions instance available on the consumer.\n// It provides a number of callbacks and a method for calling remote procedure calls on the corresponding\n// Channel instance on the server side.\n//\n// An example demonstrates the basic functionality:\n//\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\", {\n//     connected() {\n//       // Called once the subscription has been successfully completed\n//     },\n//\n//     disconnected({ willAttemptReconnect: boolean }) {\n//       // Called when the client has disconnected with the server.\n//       // The object will have an `willAttemptReconnect` property which\n//       // says whether the client has the intention of attempting\n//       // to reconnect.\n//     },\n//\n//     appear() {\n//       this.perform('appear', {appearing_on: this.appearingOn()})\n//     },\n//\n//     away() {\n//       this.perform('away')\n//     },\n//\n//     appearingOn() {\n//       $('main').data('appearing-on')\n//     }\n//   })\n//\n// The methods #appear and #away forward their intent to the remote AppearanceChannel instance on the server\n// by calling the `perform` method with the first parameter being the action (which maps to AppearanceChannel#appear/away).\n// The second parameter is a hash that'll get JSON encoded and made available on the server in the data parameter.\n//\n// This is how the server component would look:\n//\n//   class AppearanceChannel < ApplicationActionCable::Channel\n//     def subscribed\n//       current_user.appear\n//     end\n//\n//     def unsubscribed\n//       current_user.disappear\n//     end\n//\n//     def appear(data)\n//       current_user.appear on: data['appearing_on']\n//     end\n//\n//     def away\n//       current_user.away\n//     end\n//   end\n//\n// The \"AppearanceChannel\" name is automatically mapped between the client-side subscription creation and the server-side Ruby class name.\n// The AppearanceChannel#appear/away public methods are exposed automatically to client-side invocation through the perform method.\n\nconst extend = function(object, properties) {\n  if (properties != null) {\n    for (let key in properties) {\n      const value = properties[key]\n      object[key] = value\n    }\n  }\n  return object\n}\n\nexport default class Subscription {\n  constructor(consumer, params = {}, mixin) {\n    this.consumer = consumer\n    this.identifier = JSON.stringify(params)\n    extend(this, mixin)\n  }\n\n  // Perform a channel action with the optional data passed as an attribute\n  perform(action, data = {}) {\n    data.action = action\n    return this.send(data)\n  }\n\n  send(data) {\n    return this.consumer.send({command: \"message\", identifier: this.identifier, data: JSON.stringify(data)})\n  }\n\n  unsubscribe() {\n    return this.consumer.subscriptions.remove(this)\n  }\n}\n", "import logger from \"./logger\"\n\n// Responsible for ensuring channel subscribe command is confirmed, retrying until confirmation is received.\n// Internal class, not intended for direct user manipulation.\n\nclass SubscriptionGuarantor {\n  constructor(subscriptions) {\n    this.subscriptions = subscriptions\n    this.pendingSubscriptions = []\n  }\n\n  guarantee(subscription) {\n    if(this.pendingSubscriptions.indexOf(subscription) == -1){ \n      logger.log(`SubscriptionGuarantor guaranteeing ${subscription.identifier}`)\n      this.pendingSubscriptions.push(subscription) \n    }\n    else {\n      logger.log(`SubscriptionGuarantor already guaranteeing ${subscription.identifier}`)\n    }\n    this.startGuaranteeing()\n  }\n\n  forget(subscription) {\n    logger.log(`SubscriptionGuarantor forgetting ${subscription.identifier}`)\n    this.pendingSubscriptions = (this.pendingSubscriptions.filter((s) => s !== subscription))\n  }\n\n  startGuaranteeing() {\n    this.stopGuaranteeing()\n    this.retrySubscribing()\n  }\n  \n  stopGuaranteeing() {\n    clearTimeout(this.retryTimeout)\n  }\n\n  retrySubscribing() {\n    this.retryTimeout = setTimeout(() => {\n      if (this.subscriptions && typeof(this.subscriptions.subscribe) === \"function\") {\n        this.pendingSubscriptions.map((subscription) => {\n          logger.log(`SubscriptionGuarantor resubscribing ${subscription.identifier}`)\n          this.subscriptions.subscribe(subscription)\n        })\n      }\n    }\n    , 500)\n  }\n}\n\nexport default SubscriptionGuarantor", "import Subscription from \"./subscription\"\nimport SubscriptionGuarantor from \"./subscription_guarantor\"\nimport logger from \"./logger\"\n\n// Collection class for creating (and internally managing) channel subscriptions.\n// The only method intended to be triggered by the user is ActionCable.Subscriptions#create,\n// and it should be called through the consumer like so:\n//\n//   App = {}\n//   App.cable = ActionCable.createConsumer(\"ws://example.com/accounts/1\")\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\")\n//\n// For more details on how you'd configure an actual channel subscription, see ActionCable.Subscription.\n\nexport default class Subscriptions {\n  constructor(consumer) {\n    this.consumer = consumer\n    this.guarantor = new SubscriptionGuarantor(this)\n    this.subscriptions = []\n  }\n\n  create(channelName, mixin) {\n    const channel = channelName\n    const params = typeof channel === \"object\" ? channel : {channel}\n    const subscription = new Subscription(this.consumer, params, mixin)\n    return this.add(subscription)\n  }\n\n  // Private\n\n  add(subscription) {\n    this.subscriptions.push(subscription)\n    this.consumer.ensureActiveConnection()\n    this.notify(subscription, \"initialized\")\n    this.subscribe(subscription)\n    return subscription\n  }\n\n  remove(subscription) {\n    this.forget(subscription)\n    if (!this.findAll(subscription.identifier).length) {\n      this.sendCommand(subscription, \"unsubscribe\")\n    }\n    return subscription\n  }\n\n  reject(identifier) {\n    return this.findAll(identifier).map((subscription) => {\n      this.forget(subscription)\n      this.notify(subscription, \"rejected\")\n      return subscription\n    })\n  }\n\n  forget(subscription) {\n    this.guarantor.forget(subscription)\n    this.subscriptions = (this.subscriptions.filter((s) => s !== subscription))\n    return subscription\n  }\n\n  findAll(identifier) {\n    return this.subscriptions.filter((s) => s.identifier === identifier)\n  }\n\n  reload() {\n    return this.subscriptions.map((subscription) =>\n      this.subscribe(subscription))\n  }\n\n  notifyAll(callbackName, ...args) {\n    return this.subscriptions.map((subscription) =>\n      this.notify(subscription, callbackName, ...args))\n  }\n\n  notify(subscription, callbackName, ...args) {\n    let subscriptions\n    if (typeof subscription === \"string\") {\n      subscriptions = this.findAll(subscription)\n    } else {\n      subscriptions = [subscription]\n    }\n\n    return subscriptions.map((subscription) =>\n      (typeof subscription[callbackName] === \"function\" ? subscription[callbackName](...args) : undefined))\n  }\n\n  subscribe(subscription) {\n    if (this.sendCommand(subscription, \"subscribe\")) {\n      this.guarantor.guarantee(subscription)\n    }\n  }\n\n  confirmSubscription(identifier) {\n    logger.log(`Subscription confirmed ${identifier}`)\n    this.findAll(identifier).map((subscription) =>\n      this.guarantor.forget(subscription))\n  }\n\n  sendCommand(subscription, command) {\n    const {identifier} = subscription\n    return this.consumer.send({command, identifier})\n  }\n}\n", "import Connection from \"./connection\"\nimport Subscriptions from \"./subscriptions\"\n\n// The ActionCable.Consumer establishes the connection to a server-side Ruby Connection object. Once established,\n// the ActionCable.ConnectionMonitor will ensure that its properly maintained through heartbeats and checking for stale updates.\n// The Consumer instance is also the gateway to establishing subscriptions to desired channels through the #createSubscription\n// method.\n//\n// The following example shows how this can be set up:\n//\n//   App = {}\n//   App.cable = ActionCable.createConsumer(\"ws://example.com/accounts/1\")\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\")\n//\n// For more details on how you'd configure an actual channel subscription, see ActionCable.Subscription.\n//\n// When a consumer is created, it automatically connects with the server.\n//\n// To disconnect from the server, call\n//\n//   App.cable.disconnect()\n//\n// and to restart the connection:\n//\n//   App.cable.connect()\n//\n// Any channel subscriptions which existed prior to disconnecting will\n// automatically resubscribe.\n\nexport default class Consumer {\n  constructor(url) {\n    this._url = url\n    this.subscriptions = new Subscriptions(this)\n    this.connection = new Connection(this)\n    this.subprotocols = []\n  }\n\n  get url() {\n    return createWebSocketURL(this._url)\n  }\n\n  send(data) {\n    return this.connection.send(data)\n  }\n\n  connect() {\n    return this.connection.open()\n  }\n\n  disconnect() {\n    return this.connection.close({allowReconnect: false})\n  }\n\n  ensureActiveConnection() {\n    if (!this.connection.isActive()) {\n      return this.connection.open()\n    }\n  }\n\n  addSubProtocol(subprotocol) {\n    this.subprotocols = [...this.subprotocols, subprotocol]\n  }\n}\n\nexport function createWebSocketURL(url) {\n  if (typeof url === \"function\") {\n    url = url()\n  }\n\n  if (url && !/^wss?:/i.test(url)) {\n    const a = document.createElement(\"a\")\n    a.href = url\n    // Fix populating Location properties in IE. Otherwise, protocol will be blank.\n    a.href = a.href\n    a.protocol = a.protocol.replace(\"http\", \"ws\")\n    return a.href\n  } else {\n    return url\n  }\n}\n", "import Connection from \"./connection\"\nimport ConnectionMonitor from \"./connection_monitor\"\nimport Consumer, { createWebSocketURL } from \"./consumer\"\nimport INTERNAL from \"./internal\"\nimport Subscription from \"./subscription\"\nimport Subscriptions from \"./subscriptions\"\nimport SubscriptionGuarantor from \"./subscription_guarantor\"\nimport adapters from \"./adapters\"\nimport logger from \"./logger\"\n\nexport {\n  Connection,\n  ConnectionMonitor,\n  Consumer,\n  INTERNAL,\n  Subscription,\n  Subscriptions,\n  SubscriptionGuarantor,\n  adapters,\n  createWebSocketURL,\n  logger,\n}\n\nexport function createConsumer(url = getConfig(\"url\") || INTERNAL.default_mount_path) {\n  return new Consumer(url)\n}\n\nexport function getConfig(name) {\n  const element = document.head.querySelector(`meta[name='action-cable-${name}']`)\n  if (element) {\n    return element.getAttribute(\"content\")\n  }\n}\n", "// @flow\nimport type { Window } from '../types';\ndeclare function getWindow(node: Node | Window): Window;\n\nexport default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    const ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}\n", "// @flow\nimport getWindow from './getWindow';\n\ndeclare function isElement(node: mixed): boolean %checks(node instanceof\n  Element);\nfunction isElement(node) {\n  const OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\ndeclare function isHTMLElement(node: mixed): boolean %checks(node instanceof\n  HTMLElement);\nfunction isHTMLElement(node) {\n  const OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\ndeclare function isShadowRoot(node: mixed): boolean %checks(node instanceof\n  ShadowRoot);\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  const OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };\n", "// @flow\nexport const max = Math.max;\nexport const min = Math.min;\nexport const round = Math.round;\n", "// @flow\ntype Navigator = Navigator & { userAgentData?: NavigatorUAData };\n\ninterface NavigatorUAData {\n  brands: Array<{ brand: string, version: string }>;\n  mobile: boolean;\n  platform: string;\n}\n\nexport default function getUAString(): string {\n  const uaData = (navigator: Navigator).userAgentData;\n\n  if (uaData?.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands\n      .map((item) => `${item.brand}/${item.version}`)\n      .join(' ');\n  }\n\n  return navigator.userAgent;\n}\n", "// @flow\nimport getUAString from '../utils/userAgent';\n\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}\n", "// @flow\nimport type { ClientRectObject, VirtualElement } from '../types';\nimport { isElement, isHTMLElement } from './instanceOf';\nimport { round } from '../utils/math';\nimport getWindow from './getWindow';\nimport isLayoutViewport from './isLayoutViewport';\n\nexport default function getBoundingClientRect(\n  element: Element | VirtualElement,\n  includeScale: boolean = false,\n  isFixedStrategy: boolean = false\n): ClientRectObject {\n  const clientRect = element.getBoundingClientRect();\n  let scaleX = 1;\n  let scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX =\n      (element: HTMLElement).offsetWidth > 0\n        ? round(clientRect.width) / (element: HTMLElement).offsetWidth || 1\n        : 1;\n    scaleY =\n      (element: HTMLElement).offsetHeight > 0\n        ? round(clientRect.height) / (element: HTMLElement).offsetHeight || 1\n        : 1;\n  }\n\n  const { visualViewport } = isElement(element) ? getWindow(element) : window;\n  const addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n\n  const x =\n    (clientRect.left +\n      (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) /\n    scaleX;\n  const y =\n    (clientRect.top +\n      (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) /\n    scaleY;\n  const width = clientRect.width / scaleX;\n  const height = clientRect.height / scaleY;\n\n  return {\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x,\n    y,\n  };\n}\n", "// @flow\nimport getWindow from './getWindow';\nimport type { Window } from '../types';\n\nexport default function getWindowScroll(node: Node | Window) {\n  const win = getWindow(node);\n  const scrollLeft = win.pageXOffset;\n  const scrollTop = win.pageYOffset;\n\n  return {\n    scrollLeft,\n    scrollTop,\n  };\n}\n", "// @flow\n\nexport default function getHTMLElementScroll(element: HTMLElement) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop,\n  };\n}\n", "// @flow\nimport getWindowScroll from './getWindowScroll';\nimport getWindow from './getWindow';\nimport { isHTMLElement } from './instanceOf';\nimport getHTMLElementScroll from './getHTMLElementScroll';\nimport type { Window } from '../types';\n\nexport default function getNodeScroll(node: Node | Window) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}\n", "// @flow\nimport type { Window } from '../types';\n\nexport default function getNodeName(element: ?Node | Window): ?string {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}\n", "// @flow\nimport { isElement } from './instanceOf';\nimport type { Window } from '../types';\n\nexport default function getDocumentElement(\n  element: Element | Window\n): HTMLElement {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return (\n    (isElement(element)\n      ? element.ownerDocument\n      : // $FlowFixMe[prop-missing]\n        element.document) || window.document\n  ).documentElement;\n}\n", "// @flow\nimport getBoundingClientRect from './getBoundingClientRect';\nimport getDocumentElement from './getDocumentElement';\nimport getWindowScroll from './getWindowScroll';\n\nexport default function getWindowScrollBarX(element: Element): number {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return (\n    getBoundingClientRect(getDocumentElement(element)).left +\n    getWindowScroll(element).scrollLeft\n  );\n}\n", "// @flow\nimport getWindow from './getWindow';\n\nexport default function getComputedStyle(\n  element: Element\n): CSSStyleDeclaration {\n  return getWindow(element).getComputedStyle(element);\n}\n", "// @flow\nimport getComputedStyle from './getComputedStyle';\n\nexport default function isScrollParent(element: HTMLElement): boolean {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  const { overflow, overflowX, overflowY } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\n", "// @flow\nimport type { Rect, VirtualElement, Window } from '../types';\nimport getBoundingClientRect from './getBoundingClientRect';\nimport getNodeScroll from './getNodeScroll';\nimport getNodeName from './getNodeName';\nimport { isHTMLElement } from './instanceOf';\nimport getWindowScrollBarX from './getWindowScrollBarX';\nimport getDocumentElement from './getDocumentElement';\nimport isScrollParent from './isScrollParent';\nimport { round } from '../utils/math';\n\nfunction isElementScaled(element: HTMLElement) {\n  const rect = element.getBoundingClientRect();\n  const scaleX = round(rect.width) / element.offsetWidth || 1;\n  const scaleY = round(rect.height) / element.offsetHeight || 1;\n\n  return scaleX !== 1 || scaleY !== 1;\n}\n\n// Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\nexport default function getCompositeRect(\n  elementOrVirtualElement: Element | VirtualElement,\n  offsetParent: Element | Window,\n  isFixed: boolean = false\n): Rect {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const offsetParentIsScaled =\n    isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const rect = getBoundingClientRect(\n    elementOrVirtualElement,\n    offsetParentIsScaled,\n    isFixed\n  );\n\n  let scroll = { scrollLeft: 0, scrollTop: 0 };\n  let offsets = { x: 0, y: 0 };\n\n  if (isOffsetParentAnElement || (!isOffsetParentAnElement && !isFixed)) {\n    if (\n      getNodeName(offsetParent) !== 'body' ||\n      // https://github.com/popperjs/popper-core/issues/1078\n      isScrollParent(documentElement)\n    ) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height,\n  };\n}\n", "// @flow\nimport type { Rect } from '../types';\nimport getBoundingClientRect from './getBoundingClientRect';\n\n// Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\nexport default function getLayoutRect(element: HTMLElement): Rect {\n  const clientRect = getBoundingClientRect(element);\n\n  // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n  let width = element.offsetWidth;\n  let height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width,\n    height,\n  };\n}\n", "// @flow\nimport getNodeName from './getNodeName';\nimport getDocumentElement from './getDocumentElement';\nimport { isShadowRoot } from './instanceOf';\n\nexport default function getParentNode(element: Node | ShadowRoot): Node {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (\n    // this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    (isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n  );\n}\n", "// @flow\nimport getParentNode from './getParentNode';\nimport isScrollParent from './isScrollParent';\nimport getNodeName from './getNodeName';\nimport { isHTMLElement } from './instanceOf';\n\nexport default function getScrollParent(node: Node): HTMLElement {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}\n", "// @flow\nimport getScrollParent from './getScrollParent';\nimport getParentNode from './getParentNode';\nimport getWindow from './getWindow';\nimport type { Window, VisualViewport } from '../types';\nimport isScrollParent from './isScrollParent';\n\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\nexport default function listScrollParents(\n  element: Node,\n  list: Array<Element | Window> = []\n): Array<Element | Window | VisualViewport> {\n  const scrollParent = getScrollParent(element);\n  const isBody = scrollParent === element.ownerDocument?.body;\n  const win = getWindow(scrollParent);\n  const target = isBody\n    ? [win].concat(\n        win.visualViewport || [],\n        isScrollParent(scrollParent) ? scrollParent : []\n      )\n    : scrollParent;\n  const updatedList = list.concat(target);\n\n  return isBody\n    ? updatedList\n    : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n      updatedList.concat(listScrollParents(getParentNode(target)));\n}\n", "// @flow\nimport getNodeName from './getNodeName';\n\nexport default function isTableElement(element: Element): boolean {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}\n", "// @flow\nimport getWindow from './getWindow';\nimport getNodeName from './getNodeName';\nimport getComputedStyle from './getComputedStyle';\nimport { isHTMLElement, isShadowRoot } from './instanceOf';\nimport isTableElement from './isTableElement';\nimport getParentNode from './getParentNode';\nimport getUAString from '../utils/userAgent';\n\nfunction getTrueOffsetParent(element: Element): ?Element {\n  if (\n    !isHTMLElement(element) ||\n    // https://github.com/popperjs/popper-core/issues/837\n    getComputedStyle(element).position === 'fixed'\n  ) {\n    return null;\n  }\n\n  return element.offsetParent;\n}\n\n// `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\nfunction getContainingBlock(element: Element) {\n  const isFirefox = /firefox/i.test(getUAString());\n  const isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    const elementCss = getComputedStyle(element);\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  let currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (\n    isHTMLElement(currentNode) &&\n    ['html', 'body'].indexOf(getNodeName(currentNode)) < 0\n  ) {\n    const css = getComputedStyle(currentNode);\n\n    // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n    if (\n      css.transform !== 'none' ||\n      css.perspective !== 'none' ||\n      css.contain === 'paint' ||\n      ['transform', 'perspective'].indexOf(css.willChange) !== -1 ||\n      (isFirefox && css.willChange === 'filter') ||\n      (isFirefox && css.filter && css.filter !== 'none')\n    ) {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nexport default function getOffsetParent(element: Element) {\n  const window = getWindow(element);\n\n  let offsetParent = getTrueOffsetParent(element);\n\n  while (\n    offsetParent &&\n    isTableElement(offsetParent) &&\n    getComputedStyle(offsetParent).position === 'static'\n  ) {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (\n    offsetParent &&\n    (getNodeName(offsetParent) === 'html' ||\n      (getNodeName(offsetParent) === 'body' &&\n        getComputedStyle(offsetParent).position === 'static'))\n  ) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}\n", "// @flow\nexport const top: 'top' = 'top';\nexport const bottom: 'bottom' = 'bottom';\nexport const right: 'right' = 'right';\nexport const left: 'left' = 'left';\nexport const auto: 'auto' = 'auto';\nexport type BasePlacement =\n  | typeof top\n  | typeof bottom\n  | typeof right\n  | typeof left;\nexport const basePlacements: Array<BasePlacement> = [top, bottom, right, left];\n\nexport const start: 'start' = 'start';\nexport const end: 'end' = 'end';\nexport type Variation = typeof start | typeof end;\n\nexport const clippingParents: 'clippingParents' = 'clippingParents';\nexport const viewport: 'viewport' = 'viewport';\nexport type Boundary = Element | Array<Element> | typeof clippingParents;\nexport type RootBoundary = typeof viewport | 'document';\n\nexport const popper: 'popper' = 'popper';\nexport const reference: 'reference' = 'reference';\nexport type Context = typeof popper | typeof reference;\n\nexport type VariationPlacement =\n  | 'top-start'\n  | 'top-end'\n  | 'bottom-start'\n  | 'bottom-end'\n  | 'right-start'\n  | 'right-end'\n  | 'left-start'\n  | 'left-end';\nexport type AutoPlacement = 'auto' | 'auto-start' | 'auto-end';\nexport type ComputedPlacement = VariationPlacement | BasePlacement;\nexport type Placement = AutoPlacement | BasePlacement | VariationPlacement;\n\nexport const variationPlacements: Array<VariationPlacement> = basePlacements.reduce(\n  (acc: Array<VariationPlacement>, placement: BasePlacement) =>\n    acc.concat([(`${placement}-${start}`: any), (`${placement}-${end}`: any)]),\n  []\n);\nexport const placements: Array<Placement> = [...basePlacements, auto].reduce(\n  (\n    acc: Array<Placement>,\n    placement: BasePlacement | typeof auto\n  ): Array<Placement> =>\n    acc.concat([\n      placement,\n      (`${placement}-${start}`: any),\n      (`${placement}-${end}`: any),\n    ]),\n  []\n);\n\n// modifiers that need to read the DOM\nexport const beforeRead: 'beforeRead' = 'beforeRead';\nexport const read: 'read' = 'read';\nexport const afterRead: 'afterRead' = 'afterRead';\n// pure-logic modifiers\nexport const beforeMain: 'beforeMain' = 'beforeMain';\nexport const main: 'main' = 'main';\nexport const afterMain: 'afterMain' = 'afterMain';\n// modifier with the purpose to write to the DOM (or write into a framework state)\nexport const beforeWrite: 'beforeWrite' = 'beforeWrite';\nexport const write: 'write' = 'write';\nexport const afterWrite: 'afterWrite' = 'afterWrite';\nexport const modifierPhases: Array<ModifierPhases> = [\n  beforeRead,\n  read,\n  afterRead,\n  beforeMain,\n  main,\n  afterMain,\n  beforeWrite,\n  write,\n  afterWrite,\n];\n\nexport type ModifierPhases =\n  | typeof beforeRead\n  | typeof read\n  | typeof afterRead\n  | typeof beforeMain\n  | typeof main\n  | typeof afterMain\n  | typeof beforeWrite\n  | typeof write\n  | typeof afterWrite;\n", "// @flow\nimport type { Modifier } from '../types';\nimport { modifierPhases } from '../enums';\n\n// source: https://stackoverflow.com/questions/49875255\nfunction order(modifiers) {\n  const map = new Map();\n  const visited = new Set();\n  const result = [];\n\n  modifiers.forEach(modifier => {\n    map.set(modifier.name, modifier);\n  });\n\n  // On visiting object, check for its dependencies and visit them recursively\n  function sort(modifier: Modifier<any, any>) {\n    visited.add(modifier.name);\n\n    const requires = [\n      ...(modifier.requires || []),\n      ...(modifier.requiresIfExists || []),\n    ];\n\n    requires.forEach(dep => {\n      if (!visited.has(dep)) {\n        const depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n\n    result.push(modifier);\n  }\n\n  modifiers.forEach(modifier => {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n\n  return result;\n}\n\nexport default function orderModifiers(\n  modifiers: Array<Modifier<any, any>>\n): Array<Modifier<any, any>> {\n  // order based on dependencies\n  const orderedModifiers = order(modifiers);\n\n  // order based on phase\n  return modifierPhases.reduce((acc, phase) => {\n    return acc.concat(\n      orderedModifiers.filter(modifier => modifier.phase === phase)\n    );\n  }, []);\n}\n", "// @flow\n\nexport default function debounce<T>(fn: Function): () => Promise<T> {\n  let pending;\n  return () => {\n    if (!pending) {\n      pending = new Promise<T>(resolve => {\n        Promise.resolve().then(() => {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}\n", "// @flow\nimport type { Modifier } from '../types';\n\nexport default function mergeByName(\n  modifiers: Array<$Shape<Modifier<any, any>>>\n): Array<$Shape<Modifier<any, any>>> {\n  const merged = modifiers.reduce((merged, current) => {\n    const existing = merged[current.name];\n    merged[current.name] = existing\n      ? {\n          ...existing,\n          ...current,\n          options: { ...existing.options, ...current.options },\n          data: { ...existing.data, ...current.data },\n        }\n      : current;\n    return merged;\n  }, {});\n\n  // IE11 does not support Object.values\n  return Object.keys(merged).map(key => merged[key]);\n}\n", "// @flow\nimport getWindow from './getWindow';\nimport getDocumentElement from './getDocumentElement';\nimport getWindowScrollBarX from './getWindowScrollBarX';\nimport isLayoutViewport from './isLayoutViewport';\nimport type { PositioningStrategy } from '../types';\n\nexport default function getViewportRect(\n  element: Element,\n  strategy: PositioningStrategy\n) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n\n    const layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || (!layoutViewport && strategy === 'fixed')) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width,\n    height,\n    x: x + getWindowScrollBarX(element),\n    y,\n  };\n}\n", "// @flow\nimport type { Rect } from '../types';\nimport getDocumentElement from './getDocumentElement';\nimport getComputedStyle from './getComputedStyle';\nimport getWindowScrollBarX from './getWindowScrollBarX';\nimport getWindowScroll from './getWindowScroll';\nimport { max } from '../utils/math';\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\nexport default function getDocumentRect(element: HTMLElement): Rect {\n  const html = getDocumentElement(element);\n  const winScroll = getWindowScroll(element);\n  const body = element.ownerDocument?.body;\n\n  const width = max(\n    html.scrollWidth,\n    html.clientWidth,\n    body ? body.scrollWidth : 0,\n    body ? body.clientWidth : 0\n  );\n  const height = max(\n    html.scrollHeight,\n    html.clientHeight,\n    body ? body.scrollHeight : 0,\n    body ? body.clientHeight : 0\n  );\n\n  let x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return { width, height, x, y };\n}\n", "// @flow\nimport { isShadowRoot } from './instanceOf';\n\nexport default function contains(parent: Element, child: Element) {\n  const rootNode = child.getRootNode && child.getRootNode();\n\n  // First, attempt with faster native method\n  if (parent.contains(child)) {\n    return true;\n  }\n  // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    do {\n      if (next && parent.isSameNode(next)) {\n        return true;\n      }\n      // $FlowFixMe[prop-missing]: need a better way to handle this...\n      next = next.parentNode || next.host;\n    } while (next);\n  }\n\n  // Give up, the result is false\n  return false;\n}\n", "// @flow\nimport type { Rect, ClientRectObject } from '../types';\n\nexport default function rectToClientRect(rect: Rect): ClientRectObject {\n  return {\n    ...rect,\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height,\n  };\n}\n", "// @flow\nimport type { ClientRectObject, PositioningStrategy } from '../types';\nimport type { Boundary, RootBoundary } from '../enums';\nimport { viewport } from '../enums';\nimport getViewportRect from './getViewportRect';\nimport getDocumentRect from './getDocumentRect';\nimport listScrollParents from './listScrollParents';\nimport getOffsetParent from './getOffsetParent';\nimport getDocumentElement from './getDocumentElement';\nimport getComputedStyle from './getComputedStyle';\nimport { isElement, isHTMLElement } from './instanceOf';\nimport getBoundingClientRect from './getBoundingClientRect';\nimport getParentNode from './getParentNode';\nimport contains from './contains';\nimport getNodeName from './getNodeName';\nimport rectToClientRect from '../utils/rectToClientRect';\nimport { max, min } from '../utils/math';\n\nfunction getInnerBoundingClientRect(\n  element: Element,\n  strategy: PositioningStrategy\n) {\n  const rect = getBoundingClientRect(element, false, strategy === 'fixed');\n\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n\n  return rect;\n}\n\nfunction getClientRectFromMixedType(\n  element: Element,\n  clippingParent: Element | RootBoundary,\n  strategy: PositioningStrategy\n): ClientRectObject {\n  return clippingParent === viewport\n    ? rectToClientRect(getViewportRect(element, strategy))\n    : isElement(clippingParent)\n    ? getInnerBoundingClientRect(clippingParent, strategy)\n    : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n}\n\n// A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\nfunction getClippingParents(element: Element): Array<Element> {\n  const clippingParents = listScrollParents(getParentNode(element));\n  const canEscapeClipping =\n    ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  const clipperElement =\n    canEscapeClipping && isHTMLElement(element)\n      ? getOffsetParent(element)\n      : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  }\n\n  // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n  return clippingParents.filter(\n    (clippingParent) =>\n      isElement(clippingParent) &&\n      contains(clippingParent, clipperElement) &&\n      getNodeName(clippingParent) !== 'body'\n  );\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping parents\nexport default function getClippingRect(\n  element: Element,\n  boundary: Boundary,\n  rootBoundary: RootBoundary,\n  strategy: PositioningStrategy\n): ClientRectObject {\n  const mainClippingParents =\n    boundary === 'clippingParents'\n      ? getClippingParents(element)\n      : [].concat(boundary);\n  const clippingParents = [...mainClippingParents, rootBoundary];\n  const firstClippingParent = clippingParents[0];\n\n  const clippingRect = clippingParents.reduce((accRect, clippingParent) => {\n    const rect = getClientRectFromMixedType(element, clippingParent, strategy);\n\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n\n  return clippingRect;\n}\n", "// @flow\nimport { type BasePlacement, type Placement, auto } from '../enums';\n\nexport default function getBasePlacement(\n  placement: Placement | typeof auto\n): BasePlacement {\n  return (placement.split('-')[0]: any);\n}\n", "// @flow\nimport { type Variation, type Placement } from '../enums';\n\nexport default function getVariation(placement: Placement): ?Variation {\n  return (placement.split('-')[1]: any);\n}\n", "// @flow\nimport type { Placement } from '../enums';\n\nexport default function getMainAxisFromPlacement(\n  placement: Placement\n): 'x' | 'y' {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}\n", "// @flow\nimport getBasePlacement from './getBasePlacement';\nimport getVariation from './getVariation';\nimport getMainAxisFromPlacement from './getMainAxisFromPlacement';\nimport type {\n  Rect,\n  PositioningStrategy,\n  Offsets,\n  ClientRectObject,\n} from '../types';\nimport { top, right, bottom, left, start, end, type Placement } from '../enums';\n\nexport default function computeOffsets({\n  reference,\n  element,\n  placement,\n}: {\n  reference: Rect | ClientRectObject,\n  element: Rect | ClientRectObject,\n  strategy: PositioningStrategy,\n  placement?: Placement,\n}): Offsets {\n  const basePlacement = placement ? getBasePlacement(placement) : null;\n  const variation = placement ? getVariation(placement) : null;\n  const commonX = reference.x + reference.width / 2 - element.width / 2;\n  const commonY = reference.y + reference.height / 2 - element.height / 2;\n\n  let offsets;\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height,\n      };\n      break;\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height,\n      };\n      break;\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY,\n      };\n      break;\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY,\n      };\n      break;\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y,\n      };\n  }\n\n  const mainAxis = basePlacement\n    ? getMainAxisFromPlacement(basePlacement)\n    : null;\n\n  if (mainAxis != null) {\n    const len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] =\n          offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n      case end:\n        offsets[mainAxis] =\n          offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n      default:\n    }\n  }\n\n  return offsets;\n}\n", "// @flow\nimport type { SideObject } from '../types';\n\nexport default function getFreshSideObject(): SideObject {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n  };\n}\n", "// @flow\nimport type { SideObject } from '../types';\nimport getFreshSideObject from './getFreshSideObject';\n\nexport default function mergePaddingObject(\n  paddingObject: $Shape<SideObject>\n): SideObject {\n  return {\n    ...getFreshSideObject(),\n    ...paddingObject,\n  };\n}\n", "// @flow\n\nexport default function expandToHashMap<\n  T: number | string | boolean,\n  K: string\n>(value: T, keys: Array<K>): { [key: string]: T } {\n  return keys.reduce((hashMap, key) => {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}\n", "// @flow\nimport type { State, SideObject, Padding, PositioningStrategy } from '../types';\nimport type { Placement, Boundary, RootBoundary, Context } from '../enums';\nimport getClippingRect from '../dom-utils/getClippingRect';\nimport getDocumentElement from '../dom-utils/getDocumentElement';\nimport getBoundingClientRect from '../dom-utils/getBoundingClientRect';\nimport computeOffsets from './computeOffsets';\nimport rectToClientRect from './rectToClientRect';\nimport {\n  clippingParents,\n  reference,\n  popper,\n  bottom,\n  top,\n  right,\n  basePlacements,\n  viewport,\n} from '../enums';\nimport { isElement } from '../dom-utils/instanceOf';\nimport mergePaddingObject from './mergePaddingObject';\nimport expandToHashMap from './expandToHashMap';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  placement: Placement,\n  strategy: PositioningStrategy,\n  boundary: Boundary,\n  rootBoundary: RootBoundary,\n  elementContext: Context,\n  altBoundary: boolean,\n  padding: Padding,\n};\n\nexport default function detectOverflow(\n  state: State,\n  options: $Shape<Options> = {}\n): SideObject {\n  const {\n    placement = state.placement,\n    strategy = state.strategy,\n    boundary = clippingParents,\n    rootBoundary = viewport,\n    elementContext = popper,\n    altBoundary = false,\n    padding = 0,\n  } = options;\n\n  const paddingObject = mergePaddingObject(\n    typeof padding !== 'number'\n      ? padding\n      : expandToHashMap(padding, basePlacements)\n  );\n\n  const altContext = elementContext === popper ? reference : popper;\n\n  const popperRect = state.rects.popper;\n  const element = state.elements[altBoundary ? altContext : elementContext];\n\n  const clippingClientRect = getClippingRect(\n    isElement(element)\n      ? element\n      : element.contextElement || getDocumentElement(state.elements.popper),\n    boundary,\n    rootBoundary,\n    strategy\n  );\n\n  const referenceClientRect = getBoundingClientRect(state.elements.reference);\n\n  const popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement,\n  });\n\n  const popperClientRect = rectToClientRect({\n    ...popperRect,\n    ...popperOffsets,\n  });\n\n  const elementClientRect =\n    elementContext === popper ? popperClientRect : referenceClientRect;\n\n  // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n  const overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom:\n      elementClientRect.bottom -\n      clippingClientRect.bottom +\n      paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right:\n      elementClientRect.right - clippingClientRect.right + paddingObject.right,\n  };\n\n  const offsetData = state.modifiersData.offset;\n\n  // Offsets can be applied only to the popper element\n  if (elementContext === popper && offsetData) {\n    const offset = offsetData[placement];\n\n    Object.keys(overflowOffsets).forEach((key) => {\n      const multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      const axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}\n", "// @flow\nimport type {\n  State,\n  OptionsGeneric,\n  Modifier,\n  Instance,\n  VirtualElement,\n} from './types';\nimport getCompositeRect from './dom-utils/getCompositeRect';\nimport getLayoutRect from './dom-utils/getLayoutRect';\nimport listScrollParents from './dom-utils/listScrollParents';\nimport getOffsetParent from './dom-utils/getOffsetParent';\nimport orderModifiers from './utils/orderModifiers';\nimport debounce from './utils/debounce';\nimport mergeByName from './utils/mergeByName';\nimport detectOverflow from './utils/detectOverflow';\nimport { isElement } from './dom-utils/instanceOf';\n\nconst DEFAULT_OPTIONS: OptionsGeneric<any> = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute',\n};\n\ntype PopperGeneratorArgs = {\n  defaultModifiers?: Array<Modifier<any, any>>,\n  defaultOptions?: $Shape<OptionsGeneric<any>>,\n};\n\nfunction areValidElements(...args: Array<any>): boolean {\n  return !args.some(\n    (element) =>\n      !(element && typeof element.getBoundingClientRect === 'function')\n  );\n}\n\nexport function popperGenerator(generatorOptions: PopperGeneratorArgs = {}) {\n  const { defaultModifiers = [], defaultOptions = DEFAULT_OPTIONS } =\n    generatorOptions;\n\n  return function createPopper<TModifier: $Shape<Modifier<any, any>>>(\n    reference: Element | VirtualElement,\n    popper: HTMLElement,\n    options: $Shape<OptionsGeneric<TModifier>> = defaultOptions\n  ): Instance {\n    let state: $Shape<State> = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: { ...DEFAULT_OPTIONS, ...defaultOptions },\n      modifiersData: {},\n      elements: {\n        reference,\n        popper,\n      },\n      attributes: {},\n      styles: {},\n    };\n\n    let effectCleanupFns: Array<() => void> = [];\n    let isDestroyed = false;\n\n    const instance = {\n      state,\n      setOptions(setOptionsAction) {\n        const options =\n          typeof setOptionsAction === 'function'\n            ? setOptionsAction(state.options)\n            : setOptionsAction;\n\n        cleanupModifierEffects();\n\n        state.options = {\n          // $FlowFixMe[exponential-spread]\n          ...defaultOptions,\n          ...state.options,\n          ...options,\n        };\n\n        state.scrollParents = {\n          reference: isElement(reference)\n            ? listScrollParents(reference)\n            : reference.contextElement\n            ? listScrollParents(reference.contextElement)\n            : [],\n          popper: listScrollParents(popper),\n        };\n\n        // Orders the modifiers based on their dependencies and `phase`\n        // properties\n        const orderedModifiers = orderModifiers(\n          mergeByName([...defaultModifiers, ...state.options.modifiers])\n        );\n\n        // Strip out disabled modifiers\n        state.orderedModifiers = orderedModifiers.filter((m) => m.enabled);\n\n        runModifierEffects();\n\n        return instance.update();\n      },\n\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        const { reference, popper } = state.elements;\n\n        // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n        if (!areValidElements(reference, popper)) {\n          return;\n        }\n\n        // Store the reference and popper rects to be read by modifiers\n        state.rects = {\n          reference: getCompositeRect(\n            reference,\n            getOffsetParent(popper),\n            state.options.strategy === 'fixed'\n          ),\n          popper: getLayoutRect(popper),\n        };\n\n        // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n        state.reset = false;\n\n        state.placement = state.options.placement;\n\n        // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n        state.orderedModifiers.forEach(\n          (modifier) =>\n            (state.modifiersData[modifier.name] = {\n              ...modifier.data,\n            })\n        );\n\n        for (let index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          const { fn, options = {}, name } = state.orderedModifiers[index];\n\n          if (typeof fn === 'function') {\n            state = fn({ state, options, name, instance }) || state;\n          }\n        }\n      },\n\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce<$Shape<State>>(\n        () =>\n          new Promise<$Shape<State>>((resolve) => {\n            instance.forceUpdate();\n            resolve(state);\n          })\n      ),\n\n      destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      },\n    };\n\n    if (!areValidElements(reference, popper)) {\n      return instance;\n    }\n\n    instance.setOptions(options).then((state) => {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    });\n\n    // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(({ name, options = {}, effect }) => {\n        if (typeof effect === 'function') {\n          const cleanupFn = effect({ state, name, instance, options });\n          const noopFn = () => {};\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach((fn) => fn());\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\n\nexport const createPopper = popperGenerator();\n\n// eslint-disable-next-line import/no-unused-modules\nexport { detectOverflow };\n", "// @flow\nimport type { ModifierArguments, Modifier } from '../types';\nimport getWindow from '../dom-utils/getWindow';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  scroll: boolean,\n  resize: boolean,\n};\n\nconst passive = { passive: true };\n\nfunction effect({ state, instance, options }: ModifierArguments<Options>) {\n  const { scroll = true, resize = true } = options;\n\n  const window = getWindow(state.elements.popper);\n  const scrollParents = [\n    ...state.scrollParents.reference,\n    ...state.scrollParents.popper,\n  ];\n\n  if (scroll) {\n    scrollParents.forEach(scrollParent => {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return () => {\n    if (scroll) {\n      scrollParents.forEach(scrollParent => {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type EventListenersModifier = Modifier<'eventListeners', Options>;\nexport default ({\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: () => {},\n  effect,\n  data: {},\n}: EventListenersModifier);\n", "// @flow\nimport type { ModifierArguments, Modifier } from '../types';\nimport computeOffsets from '../utils/computeOffsets';\n\nfunction popperOffsets({ state, name }: ModifierArguments<{||}>) {\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement,\n  });\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type PopperOffsetsModifier = Modifier<'popperOffsets', {||}>;\nexport default ({\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {},\n}: PopperOffsetsModifier);\n", "// @flow\nimport type {\n  PositioningStrategy,\n  Offsets,\n  Modifier,\n  ModifierArguments,\n  Rect,\n  Window,\n} from '../types';\nimport {\n  type BasePlacement,\n  type Variation,\n  top,\n  left,\n  right,\n  bottom,\n  end,\n} from '../enums';\nimport getOffsetParent from '../dom-utils/getOffsetParent';\nimport getWindow from '../dom-utils/getWindow';\nimport getDocumentElement from '../dom-utils/getDocumentElement';\nimport getComputedStyle from '../dom-utils/getComputedStyle';\nimport getBasePlacement from '../utils/getBasePlacement';\nimport getVariation from '../utils/getVariation';\nimport { round } from '../utils/math';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type RoundOffsets = (\n  offsets: $Shape<{ x: number, y: number, centerOffset: number }>\n) => Offsets;\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  gpuAcceleration: boolean,\n  adaptive: boolean,\n  roundOffsets?: boolean | RoundOffsets,\n};\n\nconst unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto',\n};\n\n// Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\nfunction roundOffsetsByDPR({ x, y }, win: Window): Offsets {\n  const dpr = win.devicePixelRatio || 1;\n\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0,\n  };\n}\n\nexport function mapToStyles({\n  popper,\n  popperRect,\n  placement,\n  variation,\n  offsets,\n  position,\n  gpuAcceleration,\n  adaptive,\n  roundOffsets,\n  isFixed,\n}: {\n  popper: HTMLElement,\n  popperRect: Rect,\n  placement: BasePlacement,\n  variation: ?Variation,\n  offsets: $Shape<{ x: number, y: number, centerOffset: number }>,\n  position: PositioningStrategy,\n  gpuAcceleration: boolean,\n  adaptive: boolean,\n  roundOffsets: boolean | RoundOffsets,\n  isFixed: boolean,\n}) {\n  let { x = 0, y = 0 } = offsets;\n\n  ({ x, y } =\n    typeof roundOffsets === 'function' ? roundOffsets({ x, y }) : { x, y });\n\n  const hasX = offsets.hasOwnProperty('x');\n  const hasY = offsets.hasOwnProperty('y');\n\n  let sideX: string = left;\n  let sideY: string = top;\n\n  const win: Window = window;\n\n  if (adaptive) {\n    let offsetParent = getOffsetParent(popper);\n    let heightProp = 'clientHeight';\n    let widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (\n        getComputedStyle(offsetParent).position !== 'static' &&\n        position === 'absolute'\n      ) {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    }\n\n    // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n    offsetParent = (offsetParent: Element);\n\n    if (\n      placement === top ||\n      ((placement === left || placement === right) && variation === end)\n    ) {\n      sideY = bottom;\n      const offsetY =\n        isFixed && offsetParent === win && win.visualViewport\n          ? win.visualViewport.height\n          : // $FlowFixMe[prop-missing]\n            offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (\n      placement === left ||\n      ((placement === top || placement === bottom) && variation === end)\n    ) {\n      sideX = right;\n      const offsetX =\n        isFixed && offsetParent === win && win.visualViewport\n          ? win.visualViewport.width\n          : // $FlowFixMe[prop-missing]\n            offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  const commonStyles = {\n    position,\n    ...(adaptive && unsetSides),\n  };\n\n  ({ x, y } =\n    roundOffsets === true\n      ? roundOffsetsByDPR({ x, y }, getWindow(popper))\n      : { x, y });\n\n  if (gpuAcceleration) {\n    return {\n      ...commonStyles,\n      [sideY]: hasY ? '0' : '',\n      [sideX]: hasX ? '0' : '',\n      // Layer acceleration can disable subpixel rendering which causes slightly\n      // blurry text on low PPI displays, so we want to use 2D transforms\n      // instead\n      transform:\n        (win.devicePixelRatio || 1) <= 1\n          ? `translate(${x}px, ${y}px)`\n          : `translate3d(${x}px, ${y}px, 0)`,\n    };\n  }\n\n  return {\n    ...commonStyles,\n    [sideY]: hasY ? `${y}px` : '',\n    [sideX]: hasX ? `${x}px` : '',\n    transform: '',\n  };\n}\n\nfunction computeStyles({ state, options }: ModifierArguments<Options>) {\n  const {\n    gpuAcceleration = true,\n    adaptive = true,\n    // defaults to use builtin `roundOffsetsByDPR`\n    roundOffsets = true,\n  } = options;\n\n  const commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed',\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = {\n      ...state.styles.popper,\n      ...mapToStyles({\n        ...commonStyles,\n        offsets: state.modifiersData.popperOffsets,\n        position: state.options.strategy,\n        adaptive,\n        roundOffsets,\n      }),\n    };\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = {\n      ...state.styles.arrow,\n      ...mapToStyles({\n        ...commonStyles,\n        offsets: state.modifiersData.arrow,\n        position: 'absolute',\n        adaptive: false,\n        roundOffsets,\n      }),\n    };\n  }\n\n  state.attributes.popper = {\n    ...state.attributes.popper,\n    'data-popper-placement': state.placement,\n  };\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type ComputeStylesModifier = Modifier<'computeStyles', Options>;\nexport default ({\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {},\n}: ComputeStylesModifier);\n", "// @flow\nimport type { Modifier, ModifierArguments } from '../types';\nimport getNodeName from '../dom-utils/getNodeName';\nimport { isHTMLElement } from '../dom-utils/instanceOf';\n\n// This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles({ state }: ModifierArguments<{||}>) {\n  Object.keys(state.elements).forEach((name) => {\n    const style = state.styles[name] || {};\n\n    const attributes = state.attributes[name] || {};\n    const element = state.elements[name];\n\n    // arrow is optional + virtual elements\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    }\n\n    // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n    Object.assign(element.style, style);\n\n    Object.keys(attributes).forEach((name) => {\n      const value = attributes[name];\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect({ state }: ModifierArguments<{||}>) {\n  const initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0',\n    },\n    arrow: {\n      position: 'absolute',\n    },\n    reference: {},\n  };\n\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return () => {\n    Object.keys(state.elements).forEach((name) => {\n      const element = state.elements[name];\n      const attributes = state.attributes[name] || {};\n\n      const styleProperties = Object.keys(\n        state.styles.hasOwnProperty(name)\n          ? state.styles[name]\n          : initialStyles[name]\n      );\n\n      // Set all values to an empty string to unset them\n      const style = styleProperties.reduce((style, property) => {\n        style[property] = '';\n        return style;\n      }, {});\n\n      // arrow is optional + virtual elements\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n\n      Object.keys(attributes).forEach((attribute) => {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type ApplyStylesModifier = Modifier<'applyStyles', {||}>;\nexport default ({\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect,\n  requires: ['computeStyles'],\n}: ApplyStylesModifier);\n", "// @flow\nimport type { Placement } from '../enums';\nimport type { ModifierArguments, Modifier, Rect, Offsets } from '../types';\nimport getBasePlacement from '../utils/getBasePlacement';\nimport { top, left, right, placements } from '../enums';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type OffsetsFunction = ({\n  popper: Rect,\n  reference: Rect,\n  placement: Placement,\n}) => [?number, ?number];\n\ntype Offset = OffsetsFunction | [?number, ?number];\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  offset: Offset,\n};\n\nexport function distanceAndSkiddingToXY(\n  placement: Placement,\n  rects: { popper: Rect, reference: Rect },\n  offset: Offset\n): Offsets {\n  const basePlacement = getBasePlacement(placement);\n  const invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  let [skidding, distance] =\n    typeof offset === 'function'\n      ? offset({\n          ...rects,\n          placement,\n        })\n      : offset;\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n\n  return [left, right].indexOf(basePlacement) >= 0\n    ? { x: distance, y: skidding }\n    : { x: skidding, y: distance };\n}\n\nfunction offset({ state, options, name }: ModifierArguments<Options>) {\n  const { offset = [0, 0] } = options;\n\n  const data = placements.reduce((acc, placement) => {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n\n  const { x, y } = data[state.placement];\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type OffsetModifier = Modifier<'offset', Options>;\nexport default ({\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset,\n}: OffsetModifier);\n", "// @flow\nimport type { Placement } from '../enums';\n\nconst hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n\nexport default function getOppositePlacement(placement: Placement): Placement {\n  return (placement.replace(\n    /left|right|bottom|top/g,\n    matched => hash[matched]\n  ): any);\n}\n", "// @flow\nimport type { Placement } from '../enums';\n\nconst hash = { start: 'end', end: 'start' };\n\nexport default function getOppositeVariationPlacement(\n  placement: Placement\n): Placement {\n  return (placement.replace(/start|end/g, matched => hash[matched]): any);\n}\n", "// @flow\nimport type { State, Padding } from '../types';\nimport type {\n  Placement,\n  ComputedPlacement,\n  Boundary,\n  RootBoundary,\n} from '../enums';\nimport getVariation from './getVariation';\nimport {\n  variationPlacements,\n  basePlacements,\n  placements as allPlacements,\n} from '../enums';\nimport detectOverflow from './detectOverflow';\nimport getBasePlacement from './getBasePlacement';\n\ntype Options = {\n  placement: Placement,\n  padding: Padding,\n  boundary: Boundary,\n  rootBoundary: RootBoundary,\n  flipVariations: boolean,\n  allowedAutoPlacements?: Array<Placement>,\n};\n\ntype OverflowsMap = { [ComputedPlacement]: number };\n\nexport default function computeAutoPlacement(\n  state: $Shape<State>,\n  options: Options = {}\n): Array<ComputedPlacement> {\n  const {\n    placement,\n    boundary,\n    rootBoundary,\n    padding,\n    flipVariations,\n    allowedAutoPlacements = allPlacements,\n  } = options;\n\n  const variation = getVariation(placement);\n\n  const placements = variation\n    ? flipVariations\n      ? variationPlacements\n      : variationPlacements.filter(\n          (placement) => getVariation(placement) === variation\n        )\n    : basePlacements;\n\n  let allowedPlacements = placements.filter(\n    (placement) => allowedAutoPlacements.indexOf(placement) >= 0\n  );\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n  }\n\n  // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n  const overflows: OverflowsMap = allowedPlacements.reduce((acc, placement) => {\n    acc[placement] = detectOverflow(state, {\n      placement,\n      boundary,\n      rootBoundary,\n      padding,\n    })[getBasePlacement(placement)];\n\n    return acc;\n  }, {});\n\n  return Object.keys(overflows).sort((a, b) => overflows[a] - overflows[b]);\n}\n", "// @flow\nimport type { Placement, Boundary, RootBoundary } from '../enums';\nimport type { ModifierArguments, Modifier, Padding } from '../types';\nimport getOppositePlacement from '../utils/getOppositePlacement';\nimport getBasePlacement from '../utils/getBasePlacement';\nimport getOppositeVariationPlacement from '../utils/getOppositeVariationPlacement';\nimport detectOverflow from '../utils/detectOverflow';\nimport computeAutoPlacement from '../utils/computeAutoPlacement';\nimport { bottom, top, start, right, left, auto } from '../enums';\nimport getVariation from '../utils/getVariation';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  mainAxis: boolean,\n  altAxis: boolean,\n  fallbackPlacements: Array<Placement>,\n  padding: Padding,\n  boundary: Boundary,\n  rootBoundary: RootBoundary,\n  altBoundary: boolean,\n  flipVariations: boolean,\n  allowedAutoPlacements: Array<Placement>,\n};\n\nfunction getExpandedFallbackPlacements(placement: Placement): Array<Placement> {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  const oppositePlacement = getOppositePlacement(placement);\n\n  return [\n    getOppositeVariationPlacement(placement),\n    oppositePlacement,\n    getOppositeVariationPlacement(oppositePlacement),\n  ];\n}\n\nfunction flip({ state, options, name }: ModifierArguments<Options>) {\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  const {\n    mainAxis: checkMainAxis = true,\n    altAxis: checkAltAxis = true,\n    fallbackPlacements: specifiedFallbackPlacements,\n    padding,\n    boundary,\n    rootBoundary,\n    altBoundary,\n    flipVariations = true,\n    allowedAutoPlacements,\n  } = options;\n\n  const preferredPlacement = state.options.placement;\n  const basePlacement = getBasePlacement(preferredPlacement);\n  const isBasePlacement = basePlacement === preferredPlacement;\n\n  const fallbackPlacements =\n    specifiedFallbackPlacements ||\n    (isBasePlacement || !flipVariations\n      ? [getOppositePlacement(preferredPlacement)]\n      : getExpandedFallbackPlacements(preferredPlacement));\n\n  const placements = [preferredPlacement, ...fallbackPlacements].reduce(\n    (acc, placement) => {\n      return acc.concat(\n        getBasePlacement(placement) === auto\n          ? computeAutoPlacement(state, {\n              placement,\n              boundary,\n              rootBoundary,\n              padding,\n              flipVariations,\n              allowedAutoPlacements,\n            })\n          : placement\n      );\n    },\n    []\n  );\n\n  const referenceRect = state.rects.reference;\n  const popperRect = state.rects.popper;\n\n  const checksMap = new Map();\n  let makeFallbackChecks = true;\n  let firstFittingPlacement = placements[0];\n\n  for (let i = 0; i < placements.length; i++) {\n    const placement = placements[i];\n    const basePlacement = getBasePlacement(placement);\n    const isStartVariation = getVariation(placement) === start;\n    const isVertical = [top, bottom].indexOf(basePlacement) >= 0;\n    const len = isVertical ? 'width' : 'height';\n\n    const overflow = detectOverflow(state, {\n      placement,\n      boundary,\n      rootBoundary,\n      altBoundary,\n      padding,\n    });\n\n    let mainVariationSide: any = isVertical\n      ? isStartVariation\n        ? right\n        : left\n      : isStartVariation\n      ? bottom\n      : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    const altVariationSide: any = getOppositePlacement(mainVariationSide);\n\n    const checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(\n        overflow[mainVariationSide] <= 0,\n        overflow[altVariationSide] <= 0\n      );\n    }\n\n    if (checks.every((check) => check)) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    const numberOfChecks = flipVariations ? 3 : 1;\n\n    for (let i = numberOfChecks; i > 0; i--) {\n      const fittingPlacement = placements.find((placement) => {\n        const checks = checksMap.get(placement);\n        if (checks) {\n          return checks.slice(0, i).every((check) => check);\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        break;\n      }\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type FlipModifier = Modifier<'flip', Options>;\nexport default ({\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: { _skip: false },\n}: FlipModifier);\n", "// @flow\n\nexport default function getAltAxis(axis: 'x' | 'y'): 'x' | 'y' {\n  return axis === 'x' ? 'y' : 'x';\n}\n", "// @flow\nimport { max as mathMax, min as mathMin } from './math';\n\nexport function within(min: number, value: number, max: number): number {\n  return mathMax(min, mathMin(value, max));\n}\n\nexport function withinMaxClamp(min: number, value: number, max: number) {\n  const v = within(min, value, max);\n  return v > max ? max : v;\n}\n", "// @flow\nimport { top, left, right, bottom, start } from '../enums';\nimport type { Placement, Boundary, RootBoundary } from '../enums';\nimport type { Rect, ModifierArguments, Modifier, Padding } from '../types';\nimport getBasePlacement from '../utils/getBasePlacement';\nimport getMainAxisFromPlacement from '../utils/getMainAxisFromPlacement';\nimport getAltAxis from '../utils/getAltAxis';\nimport { within, withinMaxClamp } from '../utils/within';\nimport getLayoutRect from '../dom-utils/getLayoutRect';\nimport getOffsetParent from '../dom-utils/getOffsetParent';\nimport detectOverflow from '../utils/detectOverflow';\nimport getVariation from '../utils/getVariation';\nimport getFreshSideObject from '../utils/getFreshSideObject';\nimport { min as mathMin, max as mathMax } from '../utils/math';\n\ntype TetherOffset =\n  | (({\n      popper: Rect,\n      reference: Rect,\n      placement: Placement,\n    }) => number | { mainAxis: number, altAxis: number })\n  | number\n  | { mainAxis: number, altAxis: number };\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  /* Prevents boundaries overflow on the main axis */\n  mainAxis: boolean,\n  /* Prevents boundaries overflow on the alternate axis */\n  altAxis: boolean,\n  /* The area to check the popper is overflowing in */\n  boundary: Boundary,\n  /* If the popper is not overflowing the main area, fallback to this one */\n  rootBoundary: RootBoundary,\n  /* Use the reference's \"clippingParents\" boundary context */\n  altBoundary: boolean,\n  /**\n   * Allows the popper to overflow from its boundaries to keep it near its\n   * reference element\n   */\n  tether: boolean,\n  /* Offsets when the `tether` option should activate */\n  tetherOffset: TetherOffset,\n  /* Sets a padding to the provided boundary */\n  padding: Padding,\n};\n\nfunction preventOverflow({ state, options, name }: ModifierArguments<Options>) {\n  const {\n    mainAxis: checkMainAxis = true,\n    altAxis: checkAltAxis = false,\n    boundary,\n    rootBoundary,\n    altBoundary,\n    padding,\n    tether = true,\n    tetherOffset = 0,\n  } = options;\n\n  const overflow = detectOverflow(state, {\n    boundary,\n    rootBoundary,\n    padding,\n    altBoundary,\n  });\n  const basePlacement = getBasePlacement(state.placement);\n  const variation = getVariation(state.placement);\n  const isBasePlacement = !variation;\n  const mainAxis = getMainAxisFromPlacement(basePlacement);\n  const altAxis = getAltAxis(mainAxis);\n  const popperOffsets = state.modifiersData.popperOffsets;\n  const referenceRect = state.rects.reference;\n  const popperRect = state.rects.popper;\n  const tetherOffsetValue =\n    typeof tetherOffset === 'function'\n      ? tetherOffset({\n          ...state.rects,\n          placement: state.placement,\n        })\n      : tetherOffset;\n  const normalizedTetherOffsetValue =\n    typeof tetherOffsetValue === 'number'\n      ? { mainAxis: tetherOffsetValue, altAxis: tetherOffsetValue }\n      : { mainAxis: 0, altAxis: 0, ...tetherOffsetValue };\n  const offsetModifierState = state.modifiersData.offset\n    ? state.modifiersData.offset[state.placement]\n    : null;\n\n  const data = { x: 0, y: 0 };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    const mainSide = mainAxis === 'y' ? top : left;\n    const altSide = mainAxis === 'y' ? bottom : right;\n    const len = mainAxis === 'y' ? 'height' : 'width';\n    const offset = popperOffsets[mainAxis];\n\n    const min = offset + overflow[mainSide];\n    const max = offset - overflow[altSide];\n\n    const additive = tether ? -popperRect[len] / 2 : 0;\n\n    const minLen = variation === start ? referenceRect[len] : popperRect[len];\n    const maxLen = variation === start ? -popperRect[len] : -referenceRect[len];\n\n    // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n    const arrowElement = state.elements.arrow;\n    const arrowRect =\n      tether && arrowElement\n        ? getLayoutRect(arrowElement)\n        : { width: 0, height: 0 };\n    const arrowPaddingObject = state.modifiersData['arrow#persistent']\n      ? state.modifiersData['arrow#persistent'].padding\n      : getFreshSideObject();\n    const arrowPaddingMin = arrowPaddingObject[mainSide];\n    const arrowPaddingMax = arrowPaddingObject[altSide];\n\n    // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n    const arrowLen = within(0, referenceRect[len], arrowRect[len]);\n\n    const minOffset = isBasePlacement\n      ? referenceRect[len] / 2 -\n        additive -\n        arrowLen -\n        arrowPaddingMin -\n        normalizedTetherOffsetValue.mainAxis\n      : minLen -\n        arrowLen -\n        arrowPaddingMin -\n        normalizedTetherOffsetValue.mainAxis;\n    const maxOffset = isBasePlacement\n      ? -referenceRect[len] / 2 +\n        additive +\n        arrowLen +\n        arrowPaddingMax +\n        normalizedTetherOffsetValue.mainAxis\n      : maxLen +\n        arrowLen +\n        arrowPaddingMax +\n        normalizedTetherOffsetValue.mainAxis;\n\n    const arrowOffsetParent =\n      state.elements.arrow && getOffsetParent(state.elements.arrow);\n    const clientOffset = arrowOffsetParent\n      ? mainAxis === 'y'\n        ? arrowOffsetParent.clientTop || 0\n        : arrowOffsetParent.clientLeft || 0\n      : 0;\n\n    const offsetModifierValue = offsetModifierState?.[mainAxis] ?? 0;\n    const tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    const tetherMax = offset + maxOffset - offsetModifierValue;\n\n    const preventedOffset = within(\n      tether ? mathMin(min, tetherMin) : min,\n      offset,\n      tether ? mathMax(max, tetherMax) : max\n    );\n\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    const mainSide = mainAxis === 'x' ? top : left;\n    const altSide = mainAxis === 'x' ? bottom : right;\n    const offset = popperOffsets[altAxis];\n\n    const len = altAxis === 'y' ? 'height' : 'width';\n\n    const min = offset + overflow[mainSide];\n    const max = offset - overflow[altSide];\n\n    const isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    const offsetModifierValue = offsetModifierState?.[altAxis] ?? 0;\n    const tetherMin = isOriginSide\n      ? min\n      : offset -\n        referenceRect[len] -\n        popperRect[len] -\n        offsetModifierValue +\n        normalizedTetherOffsetValue.altAxis;\n    const tetherMax = isOriginSide\n      ? offset +\n        referenceRect[len] +\n        popperRect[len] -\n        offsetModifierValue -\n        normalizedTetherOffsetValue.altAxis\n      : max;\n\n    const preventedOffset =\n      tether && isOriginSide\n        ? withinMaxClamp(tetherMin, offset, tetherMax)\n        : within(tether ? tetherMin : min, offset, tether ? tetherMax : max);\n\n    popperOffsets[altAxis] = preventedOffset;\n    data[altAxis] = preventedOffset - offset;\n  }\n\n  state.modifiersData[name] = data;\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type PreventOverflowModifier = Modifier<'preventOverflow', Options>;\nexport default ({\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset'],\n}: PreventOverflowModifier);\n", "// @flow\nimport type { Modifier, ModifierArguments, Padding, Rect } from '../types';\nimport type { Placement } from '../enums';\nimport getBasePlacement from '../utils/getBasePlacement';\nimport getLayoutRect from '../dom-utils/getLayoutRect';\nimport contains from '../dom-utils/contains';\nimport getOffsetParent from '../dom-utils/getOffsetParent';\nimport getMainAxisFromPlacement from '../utils/getMainAxisFromPlacement';\nimport { within } from '../utils/within';\nimport mergePaddingObject from '../utils/mergePaddingObject';\nimport expandToHashMap from '../utils/expandToHashMap';\nimport { left, right, basePlacements, top, bottom } from '../enums';\n\n// eslint-disable-next-line import/no-unused-modules\nexport type Options = {\n  element: HTMLElement | string | null,\n  padding:\n    | Padding\n    | (({|\n        popper: Rect,\n        reference: Rect,\n        placement: Placement,\n      |}) => Padding),\n};\n\nconst toPaddingObject = (padding, state) => {\n  padding =\n    typeof padding === 'function'\n      ? padding({ ...state.rects, placement: state.placement })\n      : padding;\n\n  return mergePaddingObject(\n    typeof padding !== 'number'\n      ? padding\n      : expandToHashMap(padding, basePlacements)\n  );\n};\n\nfunction arrow({ state, name, options }: ModifierArguments<Options>) {\n  const arrowElement = state.elements.arrow;\n  const popperOffsets = state.modifiersData.popperOffsets;\n  const basePlacement = getBasePlacement(state.placement);\n  const axis = getMainAxisFromPlacement(basePlacement);\n  const isVertical = [left, right].indexOf(basePlacement) >= 0;\n  const len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  const paddingObject = toPaddingObject(options.padding, state);\n  const arrowRect = getLayoutRect(arrowElement);\n  const minProp = axis === 'y' ? top : left;\n  const maxProp = axis === 'y' ? bottom : right;\n\n  const endDiff =\n    state.rects.reference[len] +\n    state.rects.reference[axis] -\n    popperOffsets[axis] -\n    state.rects.popper[len];\n  const startDiff = popperOffsets[axis] - state.rects.reference[axis];\n\n  const arrowOffsetParent = getOffsetParent(arrowElement);\n  const clientSize = arrowOffsetParent\n    ? axis === 'y'\n      ? arrowOffsetParent.clientHeight || 0\n      : arrowOffsetParent.clientWidth || 0\n    : 0;\n\n  const centerToReference = endDiff / 2 - startDiff / 2;\n\n  // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n  const min = paddingObject[minProp];\n  const max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  const center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  const offset = within(min, center, max);\n\n  // Prevents breaking syntax highlighting...\n  const axisProp: string = axis;\n  state.modifiersData[name] = {\n    [axisProp]: offset,\n    centerOffset: offset - center,\n  };\n}\n\nfunction effect({ state, options }: ModifierArguments<Options>) {\n  let { element: arrowElement = '[data-popper-arrow]' } = options;\n\n  if (arrowElement == null) {\n    return;\n  }\n\n  // CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type ArrowModifier = Modifier<'arrow', Options>;\nexport default ({\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow'],\n}: ArrowModifier);\n", "// @flow\nimport type {\n  ModifierArguments,\n  Modifier,\n  Rect,\n  SideObject,\n  Offsets,\n} from '../types';\nimport { top, bottom, left, right } from '../enums';\nimport detectOverflow from '../utils/detectOverflow';\n\nfunction getSideOffsets(\n  overflow: SideObject,\n  rect: Rect,\n  preventedOffsets: Offsets = { x: 0, y: 0 }\n): SideObject {\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x,\n  };\n}\n\nfunction isAnySideFullyClipped(overflow: SideObject): boolean {\n  return [top, right, bottom, left].some((side) => overflow[side] >= 0);\n}\n\nfunction hide({ state, name }: ModifierArguments<{||}>) {\n  const referenceRect = state.rects.reference;\n  const popperRect = state.rects.popper;\n  const preventedOffsets = state.modifiersData.preventOverflow;\n\n  const referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference',\n  });\n  const popperAltOverflow = detectOverflow(state, {\n    altBoundary: true,\n  });\n\n  const referenceClippingOffsets = getSideOffsets(\n    referenceOverflow,\n    referenceRect\n  );\n  const popperEscapeOffsets = getSideOffsets(\n    popperAltOverflow,\n    popperRect,\n    preventedOffsets\n  );\n\n  const isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  const hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n\n  state.modifiersData[name] = {\n    referenceClippingOffsets,\n    popperEscapeOffsets,\n    isReferenceHidden,\n    hasPopperEscaped,\n  };\n\n  state.attributes.popper = {\n    ...state.attributes.popper,\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped,\n  };\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport type HideModifier = Modifier<'hide', {||}>;\nexport default ({\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide,\n}: HideModifier);\n", "// @flow\nimport { popperGenerator, detectOverflow } from './createPopper';\n\nimport eventListeners from './modifiers/eventListeners';\nimport popperOffsets from './modifiers/popperOffsets';\nimport computeStyles from './modifiers/computeStyles';\nimport applyStyles from './modifiers/applyStyles';\n\nexport type * from './types';\n\nconst defaultModifiers = [\n  eventListeners,\n  popperOffsets,\n  computeStyles,\n  applyStyles,\n];\n\nconst createPopper = popperGenerator({ defaultModifiers });\n\n// eslint-disable-next-line import/no-unused-modules\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };\n", "// @flow\nimport { popperGenerator, detectOverflow } from './createPopper';\n\nimport eventListeners from './modifiers/eventListeners';\nimport popperOffsets from './modifiers/popperOffsets';\nimport computeStyles from './modifiers/computeStyles';\nimport applyStyles from './modifiers/applyStyles';\nimport offset from './modifiers/offset';\nimport flip from './modifiers/flip';\nimport preventOverflow from './modifiers/preventOverflow';\nimport arrow from './modifiers/arrow';\nimport hide from './modifiers/hide';\n\nexport type * from './types';\n\nconst defaultModifiers = [\n  eventListeners,\n  popperOffsets,\n  computeStyles,\n  applyStyles,\n  offset,\n  flip,\n  preventOverflow,\n  arrow,\n  hide,\n];\n\nconst createPopper = popperGenerator({ defaultModifiers });\n\n// eslint-disable-next-line import/no-unused-modules\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };\n// eslint-disable-next-line import/no-unused-modules\nexport { createPopper as createPopperLite } from './popper-lite';\n// eslint-disable-next-line import/no-unused-modules\nexport * from './modifiers';\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/data.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n/**\n * Constants\n */\n\nconst elementMap = new Map()\n\nexport default {\n  set(element, key, instance) {\n    if (!elementMap.has(element)) {\n      elementMap.set(element, new Map())\n    }\n\n    const instanceMap = elementMap.get(element)\n\n    // make it clear we only want one instance per element\n    // can be removed later when multiple key/instances are fine to be used\n    if (!instanceMap.has(key) && instanceMap.size !== 0) {\n      // eslint-disable-next-line no-console\n      console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(instanceMap.keys())[0]}.`)\n      return\n    }\n\n    instanceMap.set(key, instance)\n  },\n\n  get(element, key) {\n    if (elementMap.has(element)) {\n      return elementMap.get(element).get(key) || null\n    }\n\n    return null\n  },\n\n  remove(element, key) {\n    if (!elementMap.has(element)) {\n      return\n    }\n\n    const instanceMap = elementMap.get(element)\n\n    instanceMap.delete(key)\n\n    // free up element references if there are no instances left for an element\n    if (instanceMap.size === 0) {\n      elementMap.delete(element)\n    }\n  }\n}\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/index.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MAX_UID = 1_000_000\nconst MILLISECONDS_MULTIPLIER = 1000\nconst TRANSITION_END = 'transitionend'\n\n/**\n * Properly escape IDs selectors to handle weird IDs\n * @param {string} selector\n * @returns {string}\n */\nconst parseSelector = selector => {\n  if (selector && window.CSS && window.CSS.escape) {\n    // document.querySelector needs escaping to handle IDs (html5+) containing for instance /\n    selector = selector.replace(/#([^\\s\"#']+)/g, (match, id) => `#${CSS.escape(id)}`)\n  }\n\n  return selector\n}\n\n// Shout-out Angus Croll (https://goo.gl/pxwQGp)\nconst toType = object => {\n  if (object === null || object === undefined) {\n    return `${object}`\n  }\n\n  return Object.prototype.toString.call(object).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\n/**\n * Public Util API\n */\n\nconst getUID = prefix => {\n  do {\n    prefix += Math.floor(Math.random() * MAX_UID)\n  } while (document.getElementById(prefix))\n\n  return prefix\n}\n\nconst getTransitionDurationFromElement = element => {\n  if (!element) {\n    return 0\n  }\n\n  // Get transition-duration of the element\n  let { transitionDuration, transitionDelay } = window.getComputedStyle(element)\n\n  const floatTransitionDuration = Number.parseFloat(transitionDuration)\n  const floatTransitionDelay = Number.parseFloat(transitionDelay)\n\n  // Return 0 if element or transition duration is not found\n  if (!floatTransitionDuration && !floatTransitionDelay) {\n    return 0\n  }\n\n  // If multiple durations are defined, take the first\n  transitionDuration = transitionDuration.split(',')[0]\n  transitionDelay = transitionDelay.split(',')[0]\n\n  return (Number.parseFloat(transitionDuration) + Number.parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER\n}\n\nconst triggerTransitionEnd = element => {\n  element.dispatchEvent(new Event(TRANSITION_END))\n}\n\nconst isElement = object => {\n  if (!object || typeof object !== 'object') {\n    return false\n  }\n\n  if (typeof object.jquery !== 'undefined') {\n    object = object[0]\n  }\n\n  return typeof object.nodeType !== 'undefined'\n}\n\nconst getElement = object => {\n  // it's a jQuery object or a node element\n  if (isElement(object)) {\n    return object.jquery ? object[0] : object\n  }\n\n  if (typeof object === 'string' && object.length > 0) {\n    return document.querySelector(parseSelector(object))\n  }\n\n  return null\n}\n\nconst isVisible = element => {\n  if (!isElement(element) || element.getClientRects().length === 0) {\n    return false\n  }\n\n  const elementIsVisible = getComputedStyle(element).getPropertyValue('visibility') === 'visible'\n  // Handle `details` element as its content may falsie appear visible when it is closed\n  const closedDetails = element.closest('details:not([open])')\n\n  if (!closedDetails) {\n    return elementIsVisible\n  }\n\n  if (closedDetails !== element) {\n    const summary = element.closest('summary')\n    if (summary && summary.parentNode !== closedDetails) {\n      return false\n    }\n\n    if (summary === null) {\n      return false\n    }\n  }\n\n  return elementIsVisible\n}\n\nconst isDisabled = element => {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    return true\n  }\n\n  if (element.classList.contains('disabled')) {\n    return true\n  }\n\n  if (typeof element.disabled !== 'undefined') {\n    return element.disabled\n  }\n\n  return element.hasAttribute('disabled') && element.getAttribute('disabled') !== 'false'\n}\n\nconst findShadowRoot = element => {\n  if (!document.documentElement.attachShadow) {\n    return null\n  }\n\n  // Can find the shadow root otherwise it'll return the document\n  if (typeof element.getRootNode === 'function') {\n    const root = element.getRootNode()\n    return root instanceof ShadowRoot ? root : null\n  }\n\n  if (element instanceof ShadowRoot) {\n    return element\n  }\n\n  // when we don't find a shadow root\n  if (!element.parentNode) {\n    return null\n  }\n\n  return findShadowRoot(element.parentNode)\n}\n\nconst noop = () => {}\n\n/**\n * Trick to restart an element's animation\n *\n * @param {HTMLElement} element\n * @return void\n *\n * @see https://www.charistheo.io/blog/2021/02/restart-a-css-animation-with-javascript/#restarting-a-css-animation\n */\nconst reflow = element => {\n  element.offsetHeight // eslint-disable-line no-unused-expressions\n}\n\nconst getjQuery = () => {\n  if (window.jQuery && !document.body.hasAttribute('data-bs-no-jquery')) {\n    return window.jQuery\n  }\n\n  return null\n}\n\nconst DOMContentLoadedCallbacks = []\n\nconst onDOMContentLoaded = callback => {\n  if (document.readyState === 'loading') {\n    // add listener on the first call when the document is in loading state\n    if (!DOMContentLoadedCallbacks.length) {\n      document.addEventListener('DOMContentLoaded', () => {\n        for (const callback of DOMContentLoadedCallbacks) {\n          callback()\n        }\n      })\n    }\n\n    DOMContentLoadedCallbacks.push(callback)\n  } else {\n    callback()\n  }\n}\n\nconst isRTL = () => document.documentElement.dir === 'rtl'\n\nconst defineJQueryPlugin = plugin => {\n  onDOMContentLoaded(() => {\n    const $ = getjQuery()\n    /* istanbul ignore if */\n    if ($) {\n      const name = plugin.NAME\n      const JQUERY_NO_CONFLICT = $.fn[name]\n      $.fn[name] = plugin.jQueryInterface\n      $.fn[name].Constructor = plugin\n      $.fn[name].noConflict = () => {\n        $.fn[name] = JQUERY_NO_CONFLICT\n        return plugin.jQueryInterface\n      }\n    }\n  })\n}\n\nconst execute = (possibleCallback, args = [], defaultValue = possibleCallback) => {\n  return typeof possibleCallback === 'function' ? possibleCallback(...args) : defaultValue\n}\n\nconst executeAfterTransition = (callback, transitionElement, waitForTransition = true) => {\n  if (!waitForTransition) {\n    execute(callback)\n    return\n  }\n\n  const durationPadding = 5\n  const emulatedDuration = getTransitionDurationFromElement(transitionElement) + durationPadding\n\n  let called = false\n\n  const handler = ({ target }) => {\n    if (target !== transitionElement) {\n      return\n    }\n\n    called = true\n    transitionElement.removeEventListener(TRANSITION_END, handler)\n    execute(callback)\n  }\n\n  transitionElement.addEventListener(TRANSITION_END, handler)\n  setTimeout(() => {\n    if (!called) {\n      triggerTransitionEnd(transitionElement)\n    }\n  }, emulatedDuration)\n}\n\n/**\n * Return the previous/next element of a list.\n *\n * @param {array} list    The list of elements\n * @param activeElement   The active element\n * @param shouldGetNext   Choose to get next or previous element\n * @param isCycleAllowed\n * @return {Element|elem} The proper element\n */\nconst getNextActiveElement = (list, activeElement, shouldGetNext, isCycleAllowed) => {\n  const listLength = list.length\n  let index = list.indexOf(activeElement)\n\n  // if the element does not exist in the list return an element\n  // depending on the direction and if cycle is allowed\n  if (index === -1) {\n    return !shouldGetNext && isCycleAllowed ? list[listLength - 1] : list[0]\n  }\n\n  index += shouldGetNext ? 1 : -1\n\n  if (isCycleAllowed) {\n    index = (index + listLength) % listLength\n  }\n\n  return list[Math.max(0, Math.min(index, listLength - 1))]\n}\n\nexport {\n  defineJQueryPlugin,\n  execute,\n  executeAfterTransition,\n  findShadowRoot,\n  getElement,\n  getjQuery,\n  getNextActiveElement,\n  getTransitionDurationFromElement,\n  getUID,\n  isDisabled,\n  isElement,\n  isRTL,\n  isVisible,\n  noop,\n  onDOMContentLoaded,\n  parseSelector,\n  reflow,\n  triggerTransitionEnd,\n  toType\n}\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/event-handler.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { getjQuery } from '../util/index.js'\n\n/**\n * Constants\n */\n\nconst namespaceRegex = /[^.]*(?=\\..*)\\.|.*/\nconst stripNameRegex = /\\..*/\nconst stripUidRegex = /::\\d+$/\nconst eventRegistry = {} // Events storage\nlet uidEvent = 1\nconst customEvents = {\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout'\n}\n\nconst nativeEvents = new Set([\n  'click',\n  'dblclick',\n  'mouseup',\n  'mousedown',\n  'contextmenu',\n  'mousewheel',\n  'DOMMouseScroll',\n  'mouseover',\n  'mouseout',\n  'mousemove',\n  'selectstart',\n  'selectend',\n  'keydown',\n  'keypress',\n  'keyup',\n  'orientationchange',\n  'touchstart',\n  'touchmove',\n  'touchend',\n  'touchcancel',\n  'pointerdown',\n  'pointermove',\n  'pointerup',\n  'pointerleave',\n  'pointercancel',\n  'gesturestart',\n  'gesturechange',\n  'gestureend',\n  'focus',\n  'blur',\n  'change',\n  'reset',\n  'select',\n  'submit',\n  'focusin',\n  'focusout',\n  'load',\n  'unload',\n  'beforeunload',\n  'resize',\n  'move',\n  'DOMContentLoaded',\n  'readystatechange',\n  'error',\n  'abort',\n  'scroll'\n])\n\n/**\n * Private methods\n */\n\nfunction makeEventUid(element, uid) {\n  return (uid && `${uid}::${uidEvent++}`) || element.uidEvent || uidEvent++\n}\n\nfunction getElementEvents(element) {\n  const uid = makeEventUid(element)\n\n  element.uidEvent = uid\n  eventRegistry[uid] = eventRegistry[uid] || {}\n\n  return eventRegistry[uid]\n}\n\nfunction bootstrapHandler(element, fn) {\n  return function handler(event) {\n    hydrateObj(event, { delegateTarget: element })\n\n    if (handler.oneOff) {\n      EventHandler.off(element, event.type, fn)\n    }\n\n    return fn.apply(element, [event])\n  }\n}\n\nfunction bootstrapDelegationHandler(element, selector, fn) {\n  return function handler(event) {\n    const domElements = element.querySelectorAll(selector)\n\n    for (let { target } = event; target && target !== this; target = target.parentNode) {\n      for (const domElement of domElements) {\n        if (domElement !== target) {\n          continue\n        }\n\n        hydrateObj(event, { delegateTarget: target })\n\n        if (handler.oneOff) {\n          EventHandler.off(element, event.type, selector, fn)\n        }\n\n        return fn.apply(target, [event])\n      }\n    }\n  }\n}\n\nfunction findHandler(events, callable, delegationSelector = null) {\n  return Object.values(events)\n    .find(event => event.callable === callable && event.delegationSelector === delegationSelector)\n}\n\nfunction normalizeParameters(originalTypeEvent, handler, delegationFunction) {\n  const isDelegated = typeof handler === 'string'\n  // TODO: tooltip passes `false` instead of selector, so we need to check\n  const callable = isDelegated ? delegationFunction : (handler || delegationFunction)\n  let typeEvent = getTypeEvent(originalTypeEvent)\n\n  if (!nativeEvents.has(typeEvent)) {\n    typeEvent = originalTypeEvent\n  }\n\n  return [isDelegated, callable, typeEvent]\n}\n\nfunction addHandler(element, originalTypeEvent, handler, delegationFunction, oneOff) {\n  if (typeof originalTypeEvent !== 'string' || !element) {\n    return\n  }\n\n  let [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction)\n\n  // in case of mouseenter or mouseleave wrap the handler within a function that checks for its DOM position\n  // this prevents the handler from being dispatched the same way as mouseover or mouseout does\n  if (originalTypeEvent in customEvents) {\n    const wrapFunction = fn => {\n      return function (event) {\n        if (!event.relatedTarget || (event.relatedTarget !== event.delegateTarget && !event.delegateTarget.contains(event.relatedTarget))) {\n          return fn.call(this, event)\n        }\n      }\n    }\n\n    callable = wrapFunction(callable)\n  }\n\n  const events = getElementEvents(element)\n  const handlers = events[typeEvent] || (events[typeEvent] = {})\n  const previousFunction = findHandler(handlers, callable, isDelegated ? handler : null)\n\n  if (previousFunction) {\n    previousFunction.oneOff = previousFunction.oneOff && oneOff\n\n    return\n  }\n\n  const uid = makeEventUid(callable, originalTypeEvent.replace(namespaceRegex, ''))\n  const fn = isDelegated ?\n    bootstrapDelegationHandler(element, handler, callable) :\n    bootstrapHandler(element, callable)\n\n  fn.delegationSelector = isDelegated ? handler : null\n  fn.callable = callable\n  fn.oneOff = oneOff\n  fn.uidEvent = uid\n  handlers[uid] = fn\n\n  element.addEventListener(typeEvent, fn, isDelegated)\n}\n\nfunction removeHandler(element, events, typeEvent, handler, delegationSelector) {\n  const fn = findHandler(events[typeEvent], handler, delegationSelector)\n\n  if (!fn) {\n    return\n  }\n\n  element.removeEventListener(typeEvent, fn, Boolean(delegationSelector))\n  delete events[typeEvent][fn.uidEvent]\n}\n\nfunction removeNamespacedHandlers(element, events, typeEvent, namespace) {\n  const storeElementEvent = events[typeEvent] || {}\n\n  for (const [handlerKey, event] of Object.entries(storeElementEvent)) {\n    if (handlerKey.includes(namespace)) {\n      removeHandler(element, events, typeEvent, event.callable, event.delegationSelector)\n    }\n  }\n}\n\nfunction getTypeEvent(event) {\n  // allow to get the native events from namespaced events ('click.bs.button' --> 'click')\n  event = event.replace(stripNameRegex, '')\n  return customEvents[event] || event\n}\n\nconst EventHandler = {\n  on(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, false)\n  },\n\n  one(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, true)\n  },\n\n  off(element, originalTypeEvent, handler, delegationFunction) {\n    if (typeof originalTypeEvent !== 'string' || !element) {\n      return\n    }\n\n    const [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction)\n    const inNamespace = typeEvent !== originalTypeEvent\n    const events = getElementEvents(element)\n    const storeElementEvent = events[typeEvent] || {}\n    const isNamespace = originalTypeEvent.startsWith('.')\n\n    if (typeof callable !== 'undefined') {\n      // Simplest case: handler is passed, remove that listener ONLY.\n      if (!Object.keys(storeElementEvent).length) {\n        return\n      }\n\n      removeHandler(element, events, typeEvent, callable, isDelegated ? handler : null)\n      return\n    }\n\n    if (isNamespace) {\n      for (const elementEvent of Object.keys(events)) {\n        removeNamespacedHandlers(element, events, elementEvent, originalTypeEvent.slice(1))\n      }\n    }\n\n    for (const [keyHandlers, event] of Object.entries(storeElementEvent)) {\n      const handlerKey = keyHandlers.replace(stripUidRegex, '')\n\n      if (!inNamespace || originalTypeEvent.includes(handlerKey)) {\n        removeHandler(element, events, typeEvent, event.callable, event.delegationSelector)\n      }\n    }\n  },\n\n  trigger(element, event, args) {\n    if (typeof event !== 'string' || !element) {\n      return null\n    }\n\n    const $ = getjQuery()\n    const typeEvent = getTypeEvent(event)\n    const inNamespace = event !== typeEvent\n\n    let jQueryEvent = null\n    let bubbles = true\n    let nativeDispatch = true\n    let defaultPrevented = false\n\n    if (inNamespace && $) {\n      jQueryEvent = $.Event(event, args)\n\n      $(element).trigger(jQueryEvent)\n      bubbles = !jQueryEvent.isPropagationStopped()\n      nativeDispatch = !jQueryEvent.isImmediatePropagationStopped()\n      defaultPrevented = jQueryEvent.isDefaultPrevented()\n    }\n\n    const evt = hydrateObj(new Event(event, { bubbles, cancelable: true }), args)\n\n    if (defaultPrevented) {\n      evt.preventDefault()\n    }\n\n    if (nativeDispatch) {\n      element.dispatchEvent(evt)\n    }\n\n    if (evt.defaultPrevented && jQueryEvent) {\n      jQueryEvent.preventDefault()\n    }\n\n    return evt\n  }\n}\n\nfunction hydrateObj(obj, meta = {}) {\n  for (const [key, value] of Object.entries(meta)) {\n    try {\n      obj[key] = value\n    } catch {\n      Object.defineProperty(obj, key, {\n        configurable: true,\n        get() {\n          return value\n        }\n      })\n    }\n  }\n\n  return obj\n}\n\nexport default EventHandler\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/manipulator.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nfunction normalizeData(value) {\n  if (value === 'true') {\n    return true\n  }\n\n  if (value === 'false') {\n    return false\n  }\n\n  if (value === Number(value).toString()) {\n    return Number(value)\n  }\n\n  if (value === '' || value === 'null') {\n    return null\n  }\n\n  if (typeof value !== 'string') {\n    return value\n  }\n\n  try {\n    return JSON.parse(decodeURIComponent(value))\n  } catch {\n    return value\n  }\n}\n\nfunction normalizeDataKey(key) {\n  return key.replace(/[A-Z]/g, chr => `-${chr.toLowerCase()}`)\n}\n\nconst Manipulator = {\n  setDataAttribute(element, key, value) {\n    element.setAttribute(`data-bs-${normalizeDataKey(key)}`, value)\n  },\n\n  removeDataAttribute(element, key) {\n    element.removeAttribute(`data-bs-${normalizeDataKey(key)}`)\n  },\n\n  getDataAttributes(element) {\n    if (!element) {\n      return {}\n    }\n\n    const attributes = {}\n    const bsKeys = Object.keys(element.dataset).filter(key => key.startsWith('bs') && !key.startsWith('bsConfig'))\n\n    for (const key of bsKeys) {\n      let pureKey = key.replace(/^bs/, '')\n      pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1, pureKey.length)\n      attributes[pureKey] = normalizeData(element.dataset[key])\n    }\n\n    return attributes\n  },\n\n  getDataAttribute(element, key) {\n    return normalizeData(element.getAttribute(`data-bs-${normalizeDataKey(key)}`))\n  }\n}\n\nexport default Manipulator\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/config.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Manipulator from '../dom/manipulator.js'\nimport { isElement, toType } from './index.js'\n\n/**\n * Class definition\n */\n\nclass Config {\n  // Getters\n  static get Default() {\n    return {}\n  }\n\n  static get DefaultType() {\n    return {}\n  }\n\n  static get NAME() {\n    throw new Error('You have to implement the static method \"NAME\", for each component!')\n  }\n\n  _getConfig(config) {\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  _configAfterMerge(config) {\n    return config\n  }\n\n  _mergeConfigObj(config, element) {\n    const jsonConfig = isElement(element) ? Manipulator.getDataAttribute(element, 'config') : {} // try to parse\n\n    return {\n      ...this.constructor.Default,\n      ...(typeof jsonConfig === 'object' ? jsonConfig : {}),\n      ...(isElement(element) ? Manipulator.getDataAttributes(element) : {}),\n      ...(typeof config === 'object' ? config : {})\n    }\n  }\n\n  _typeCheckConfig(config, configTypes = this.constructor.DefaultType) {\n    for (const [property, expectedTypes] of Object.entries(configTypes)) {\n      const value = config[property]\n      const valueType = isElement(value) ? 'element' : toType(value)\n\n      if (!new RegExp(expectedTypes).test(valueType)) {\n        throw new TypeError(\n          `${this.constructor.NAME.toUpperCase()}: Option \"${property}\" provided type \"${valueType}\" but expected type \"${expectedTypes}\".`\n        )\n      }\n    }\n  }\n}\n\nexport default Config\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap base-component.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Data from './dom/data.js'\nimport EventHandler from './dom/event-handler.js'\nimport Config from './util/config.js'\nimport { executeAfterTransition, getElement } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst VERSION = '5.3.3'\n\n/**\n * Class definition\n */\n\nclass BaseComponent extends Config {\n  constructor(element, config) {\n    super()\n\n    element = getElement(element)\n    if (!element) {\n      return\n    }\n\n    this._element = element\n    this._config = this._getConfig(config)\n\n    Data.set(this._element, this.constructor.DATA_KEY, this)\n  }\n\n  // Public\n  dispose() {\n    Data.remove(this._element, this.constructor.DATA_KEY)\n    EventHandler.off(this._element, this.constructor.EVENT_KEY)\n\n    for (const propertyName of Object.getOwnPropertyNames(this)) {\n      this[propertyName] = null\n    }\n  }\n\n  _queueCallback(callback, element, isAnimated = true) {\n    executeAfterTransition(callback, element, isAnimated)\n  }\n\n  _getConfig(config) {\n    config = this._mergeConfigObj(config, this._element)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  // Static\n  static getInstance(element) {\n    return Data.get(getElement(element), this.DATA_KEY)\n  }\n\n  static getOrCreateInstance(element, config = {}) {\n    return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null)\n  }\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get DATA_KEY() {\n    return `bs.${this.NAME}`\n  }\n\n  static get EVENT_KEY() {\n    return `.${this.DATA_KEY}`\n  }\n\n  static eventName(name) {\n    return `${name}${this.EVENT_KEY}`\n  }\n}\n\nexport default BaseComponent\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/selector-engine.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { isDisabled, isVisible, parseSelector } from '../util/index.js'\n\nconst getSelector = element => {\n  let selector = element.getAttribute('data-bs-target')\n\n  if (!selector || selector === '#') {\n    let hrefAttribute = element.getAttribute('href')\n\n    // The only valid content that could double as a selector are IDs or classes,\n    // so everything starting with `#` or `.`. If a \"real\" URL is used as the selector,\n    // `document.querySelector` will rightfully complain it is invalid.\n    // See https://github.com/twbs/bootstrap/issues/32273\n    if (!hrefAttribute || (!hrefAttribute.includes('#') && !hrefAttribute.startsWith('.'))) {\n      return null\n    }\n\n    // Just in case some CMS puts out a full URL with the anchor appended\n    if (hrefAttribute.includes('#') && !hrefAttribute.startsWith('#')) {\n      hrefAttribute = `#${hrefAttribute.split('#')[1]}`\n    }\n\n    selector = hrefAttribute && hrefAttribute !== '#' ? hrefAttribute.trim() : null\n  }\n\n  return selector ? selector.split(',').map(sel => parseSelector(sel)).join(',') : null\n}\n\nconst SelectorEngine = {\n  find(selector, element = document.documentElement) {\n    return [].concat(...Element.prototype.querySelectorAll.call(element, selector))\n  },\n\n  findOne(selector, element = document.documentElement) {\n    return Element.prototype.querySelector.call(element, selector)\n  },\n\n  children(element, selector) {\n    return [].concat(...element.children).filter(child => child.matches(selector))\n  },\n\n  parents(element, selector) {\n    const parents = []\n    let ancestor = element.parentNode.closest(selector)\n\n    while (ancestor) {\n      parents.push(ancestor)\n      ancestor = ancestor.parentNode.closest(selector)\n    }\n\n    return parents\n  },\n\n  prev(element, selector) {\n    let previous = element.previousElementSibling\n\n    while (previous) {\n      if (previous.matches(selector)) {\n        return [previous]\n      }\n\n      previous = previous.previousElementSibling\n    }\n\n    return []\n  },\n  // TODO: this is now unused; remove later along with prev()\n  next(element, selector) {\n    let next = element.nextElementSibling\n\n    while (next) {\n      if (next.matches(selector)) {\n        return [next]\n      }\n\n      next = next.nextElementSibling\n    }\n\n    return []\n  },\n\n  focusableChildren(element) {\n    const focusables = [\n      'a',\n      'button',\n      'input',\n      'textarea',\n      'select',\n      'details',\n      '[tabindex]',\n      '[contenteditable=\"true\"]'\n    ].map(selector => `${selector}:not([tabindex^=\"-\"])`).join(',')\n\n    return this.find(focusables, element).filter(el => !isDisabled(el) && isVisible(el))\n  },\n\n  getSelectorFromElement(element) {\n    const selector = getSelector(element)\n\n    if (selector) {\n      return SelectorEngine.findOne(selector) ? selector : null\n    }\n\n    return null\n  },\n\n  getElementFromSelector(element) {\n    const selector = getSelector(element)\n\n    return selector ? SelectorEngine.findOne(selector) : null\n  },\n\n  getMultipleElementsFromSelector(element) {\n    const selector = getSelector(element)\n\n    return selector ? SelectorEngine.find(selector) : []\n  }\n}\n\nexport default SelectorEngine\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/component-functions.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport SelectorEngine from '../dom/selector-engine.js'\nimport { isDisabled } from './index.js'\n\nconst enableDismissTrigger = (component, method = 'hide') => {\n  const clickEvent = `click.dismiss${component.EVENT_KEY}`\n  const name = component.NAME\n\n  EventHandler.on(document, clickEvent, `[data-bs-dismiss=\"${name}\"]`, function (event) {\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault()\n    }\n\n    if (isDisabled(this)) {\n      return\n    }\n\n    const target = SelectorEngine.getElementFromSelector(this) || this.closest(`.${name}`)\n    const instance = component.getOrCreateInstance(target)\n\n    // Method argument is left, for Alert and only, as it doesn't implement the 'hide' method\n    instance[method]()\n  })\n}\n\nexport {\n  enableDismissTrigger\n}\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'alert'\nconst DATA_KEY = 'bs.alert'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_CLOSE = `close${EVENT_KEY}`\nconst EVENT_CLOSED = `closed${EVENT_KEY}`\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\n\n/**\n * Class definition\n */\n\nclass Alert extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  close() {\n    const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE)\n\n    if (closeEvent.defaultPrevented) {\n      return\n    }\n\n    this._element.classList.remove(CLASS_NAME_SHOW)\n\n    const isAnimated = this._element.classList.contains(CLASS_NAME_FADE)\n    this._queueCallback(() => this._destroyElement(), this._element, isAnimated)\n  }\n\n  // Private\n  _destroyElement() {\n    this._element.remove()\n    EventHandler.trigger(this._element, EVENT_CLOSED)\n    this.dispose()\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Alert.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nenableDismissTrigger(Alert, 'close')\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Alert)\n\nexport default Alert\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap button.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'button'\nconst DATA_KEY = 'bs.button'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst CLASS_NAME_ACTIVE = 'active'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"button\"]'\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\n/**\n * Class definition\n */\n\nclass Button extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    // Toggle class and sync the `aria-pressed` attribute with the return value of the `.toggle()` method\n    this._element.setAttribute('aria-pressed', this._element.classList.toggle(CLASS_NAME_ACTIVE))\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Button.getOrCreateInstance(this)\n\n      if (config === 'toggle') {\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, event => {\n  event.preventDefault()\n\n  const button = event.target.closest(SELECTOR_DATA_TOGGLE)\n  const data = Button.getOrCreateInstance(button)\n\n  data.toggle()\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Button)\n\nexport default Button\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/swipe.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport Config from './config.js'\nimport { execute } from './index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'swipe'\nconst EVENT_KEY = '.bs.swipe'\nconst EVENT_TOUCHSTART = `touchstart${EVENT_KEY}`\nconst EVENT_TOUCHMOVE = `touchmove${EVENT_KEY}`\nconst EVENT_TOUCHEND = `touchend${EVENT_KEY}`\nconst EVENT_POINTERDOWN = `pointerdown${EVENT_KEY}`\nconst EVENT_POINTERUP = `pointerup${EVENT_KEY}`\nconst POINTER_TYPE_TOUCH = 'touch'\nconst POINTER_TYPE_PEN = 'pen'\nconst CLASS_NAME_POINTER_EVENT = 'pointer-event'\nconst SWIPE_THRESHOLD = 40\n\nconst Default = {\n  endCallback: null,\n  leftCallback: null,\n  rightCallback: null\n}\n\nconst DefaultType = {\n  endCallback: '(function|null)',\n  leftCallback: '(function|null)',\n  rightCallback: '(function|null)'\n}\n\n/**\n * Class definition\n */\n\nclass Swipe extends Config {\n  constructor(element, config) {\n    super()\n    this._element = element\n\n    if (!element || !Swipe.isSupported()) {\n      return\n    }\n\n    this._config = this._getConfig(config)\n    this._deltaX = 0\n    this._supportPointerEvents = Boolean(window.PointerEvent)\n    this._initEvents()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  dispose() {\n    EventHandler.off(this._element, EVENT_KEY)\n  }\n\n  // Private\n  _start(event) {\n    if (!this._supportPointerEvents) {\n      this._deltaX = event.touches[0].clientX\n\n      return\n    }\n\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX\n    }\n  }\n\n  _end(event) {\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX - this._deltaX\n    }\n\n    this._handleSwipe()\n    execute(this._config.endCallback)\n  }\n\n  _move(event) {\n    this._deltaX = event.touches && event.touches.length > 1 ?\n      0 :\n      event.touches[0].clientX - this._deltaX\n  }\n\n  _handleSwipe() {\n    const absDeltaX = Math.abs(this._deltaX)\n\n    if (absDeltaX <= SWIPE_THRESHOLD) {\n      return\n    }\n\n    const direction = absDeltaX / this._deltaX\n\n    this._deltaX = 0\n\n    if (!direction) {\n      return\n    }\n\n    execute(direction > 0 ? this._config.rightCallback : this._config.leftCallback)\n  }\n\n  _initEvents() {\n    if (this._supportPointerEvents) {\n      EventHandler.on(this._element, EVENT_POINTERDOWN, event => this._start(event))\n      EventHandler.on(this._element, EVENT_POINTERUP, event => this._end(event))\n\n      this._element.classList.add(CLASS_NAME_POINTER_EVENT)\n    } else {\n      EventHandler.on(this._element, EVENT_TOUCHSTART, event => this._start(event))\n      EventHandler.on(this._element, EVENT_TOUCHMOVE, event => this._move(event))\n      EventHandler.on(this._element, EVENT_TOUCHEND, event => this._end(event))\n    }\n  }\n\n  _eventIsPointerPenTouch(event) {\n    return this._supportPointerEvents && (event.pointerType === POINTER_TYPE_PEN || event.pointerType === POINTER_TYPE_TOUCH)\n  }\n\n  // Static\n  static isSupported() {\n    return 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0\n  }\n}\n\nexport default Swipe\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap carousel.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin,\n  getNextActiveElement,\n  isRTL,\n  isVisible,\n  reflow,\n  triggerTransitionEnd\n} from './util/index.js'\nimport Swipe from './util/swipe.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'carousel'\nconst DATA_KEY = 'bs.carousel'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst ARROW_LEFT_KEY = 'ArrowLeft'\nconst ARROW_RIGHT_KEY = 'ArrowRight'\nconst TOUCHEVENT_COMPAT_WAIT = 500 // Time for mouse compat events to fire after touch\n\nconst ORDER_NEXT = 'next'\nconst ORDER_PREV = 'prev'\nconst DIRECTION_LEFT = 'left'\nconst DIRECTION_RIGHT = 'right'\n\nconst EVENT_SLIDE = `slide${EVENT_KEY}`\nconst EVENT_SLID = `slid${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`\nconst EVENT_DRAG_START = `dragstart${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_CAROUSEL = 'carousel'\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_SLIDE = 'slide'\nconst CLASS_NAME_END = 'carousel-item-end'\nconst CLASS_NAME_START = 'carousel-item-start'\nconst CLASS_NAME_NEXT = 'carousel-item-next'\nconst CLASS_NAME_PREV = 'carousel-item-prev'\n\nconst SELECTOR_ACTIVE = '.active'\nconst SELECTOR_ITEM = '.carousel-item'\nconst SELECTOR_ACTIVE_ITEM = SELECTOR_ACTIVE + SELECTOR_ITEM\nconst SELECTOR_ITEM_IMG = '.carousel-item img'\nconst SELECTOR_INDICATORS = '.carousel-indicators'\nconst SELECTOR_DATA_SLIDE = '[data-bs-slide], [data-bs-slide-to]'\nconst SELECTOR_DATA_RIDE = '[data-bs-ride=\"carousel\"]'\n\nconst KEY_TO_DIRECTION = {\n  [ARROW_LEFT_KEY]: DIRECTION_RIGHT,\n  [ARROW_RIGHT_KEY]: DIRECTION_LEFT\n}\n\nconst Default = {\n  interval: 5000,\n  keyboard: true,\n  pause: 'hover',\n  ride: false,\n  touch: true,\n  wrap: true\n}\n\nconst DefaultType = {\n  interval: '(number|boolean)', // TODO:v6 remove boolean support\n  keyboard: 'boolean',\n  pause: '(string|boolean)',\n  ride: '(boolean|string)',\n  touch: 'boolean',\n  wrap: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Carousel extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._interval = null\n    this._activeElement = null\n    this._isSliding = false\n    this.touchTimeout = null\n    this._swipeHelper = null\n\n    this._indicatorsElement = SelectorEngine.findOne(SELECTOR_INDICATORS, this._element)\n    this._addEventListeners()\n\n    if (this._config.ride === CLASS_NAME_CAROUSEL) {\n      this.cycle()\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  next() {\n    this._slide(ORDER_NEXT)\n  }\n\n  nextWhenVisible() {\n    // FIXME TODO use `document.visibilityState`\n    // Don't call next when the page isn't visible\n    // or the carousel or its parent isn't visible\n    if (!document.hidden && isVisible(this._element)) {\n      this.next()\n    }\n  }\n\n  prev() {\n    this._slide(ORDER_PREV)\n  }\n\n  pause() {\n    if (this._isSliding) {\n      triggerTransitionEnd(this._element)\n    }\n\n    this._clearInterval()\n  }\n\n  cycle() {\n    this._clearInterval()\n    this._updateInterval()\n\n    this._interval = setInterval(() => this.nextWhenVisible(), this._config.interval)\n  }\n\n  _maybeEnableCycle() {\n    if (!this._config.ride) {\n      return\n    }\n\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.cycle())\n      return\n    }\n\n    this.cycle()\n  }\n\n  to(index) {\n    const items = this._getItems()\n    if (index > items.length - 1 || index < 0) {\n      return\n    }\n\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.to(index))\n      return\n    }\n\n    const activeIndex = this._getItemIndex(this._getActive())\n    if (activeIndex === index) {\n      return\n    }\n\n    const order = index > activeIndex ? ORDER_NEXT : ORDER_PREV\n\n    this._slide(order, items[index])\n  }\n\n  dispose() {\n    if (this._swipeHelper) {\n      this._swipeHelper.dispose()\n    }\n\n    super.dispose()\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    config.defaultInterval = config.interval\n    return config\n  }\n\n  _addEventListeners() {\n    if (this._config.keyboard) {\n      EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event))\n    }\n\n    if (this._config.pause === 'hover') {\n      EventHandler.on(this._element, EVENT_MOUSEENTER, () => this.pause())\n      EventHandler.on(this._element, EVENT_MOUSELEAVE, () => this._maybeEnableCycle())\n    }\n\n    if (this._config.touch && Swipe.isSupported()) {\n      this._addTouchEventListeners()\n    }\n  }\n\n  _addTouchEventListeners() {\n    for (const img of SelectorEngine.find(SELECTOR_ITEM_IMG, this._element)) {\n      EventHandler.on(img, EVENT_DRAG_START, event => event.preventDefault())\n    }\n\n    const endCallBack = () => {\n      if (this._config.pause !== 'hover') {\n        return\n      }\n\n      // If it's a touch-enabled device, mouseenter/leave are fired as\n      // part of the mouse compatibility events on first tap - the carousel\n      // would stop cycling until user tapped out of it;\n      // here, we listen for touchend, explicitly pause the carousel\n      // (as if it's the second time we tap on it, mouseenter compat event\n      // is NOT fired) and after a timeout (to allow for mouse compatibility\n      // events to fire) we explicitly restart cycling\n\n      this.pause()\n      if (this.touchTimeout) {\n        clearTimeout(this.touchTimeout)\n      }\n\n      this.touchTimeout = setTimeout(() => this._maybeEnableCycle(), TOUCHEVENT_COMPAT_WAIT + this._config.interval)\n    }\n\n    const swipeConfig = {\n      leftCallback: () => this._slide(this._directionToOrder(DIRECTION_LEFT)),\n      rightCallback: () => this._slide(this._directionToOrder(DIRECTION_RIGHT)),\n      endCallback: endCallBack\n    }\n\n    this._swipeHelper = new Swipe(this._element, swipeConfig)\n  }\n\n  _keydown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return\n    }\n\n    const direction = KEY_TO_DIRECTION[event.key]\n    if (direction) {\n      event.preventDefault()\n      this._slide(this._directionToOrder(direction))\n    }\n  }\n\n  _getItemIndex(element) {\n    return this._getItems().indexOf(element)\n  }\n\n  _setActiveIndicatorElement(index) {\n    if (!this._indicatorsElement) {\n      return\n    }\n\n    const activeIndicator = SelectorEngine.findOne(SELECTOR_ACTIVE, this._indicatorsElement)\n\n    activeIndicator.classList.remove(CLASS_NAME_ACTIVE)\n    activeIndicator.removeAttribute('aria-current')\n\n    const newActiveIndicator = SelectorEngine.findOne(`[data-bs-slide-to=\"${index}\"]`, this._indicatorsElement)\n\n    if (newActiveIndicator) {\n      newActiveIndicator.classList.add(CLASS_NAME_ACTIVE)\n      newActiveIndicator.setAttribute('aria-current', 'true')\n    }\n  }\n\n  _updateInterval() {\n    const element = this._activeElement || this._getActive()\n\n    if (!element) {\n      return\n    }\n\n    const elementInterval = Number.parseInt(element.getAttribute('data-bs-interval'), 10)\n\n    this._config.interval = elementInterval || this._config.defaultInterval\n  }\n\n  _slide(order, element = null) {\n    if (this._isSliding) {\n      return\n    }\n\n    const activeElement = this._getActive()\n    const isNext = order === ORDER_NEXT\n    const nextElement = element || getNextActiveElement(this._getItems(), activeElement, isNext, this._config.wrap)\n\n    if (nextElement === activeElement) {\n      return\n    }\n\n    const nextElementIndex = this._getItemIndex(nextElement)\n\n    const triggerEvent = eventName => {\n      return EventHandler.trigger(this._element, eventName, {\n        relatedTarget: nextElement,\n        direction: this._orderToDirection(order),\n        from: this._getItemIndex(activeElement),\n        to: nextElementIndex\n      })\n    }\n\n    const slideEvent = triggerEvent(EVENT_SLIDE)\n\n    if (slideEvent.defaultPrevented) {\n      return\n    }\n\n    if (!activeElement || !nextElement) {\n      // Some weirdness is happening, so we bail\n      // TODO: change tests that use empty divs to avoid this check\n      return\n    }\n\n    const isCycling = Boolean(this._interval)\n    this.pause()\n\n    this._isSliding = true\n\n    this._setActiveIndicatorElement(nextElementIndex)\n    this._activeElement = nextElement\n\n    const directionalClassName = isNext ? CLASS_NAME_START : CLASS_NAME_END\n    const orderClassName = isNext ? CLASS_NAME_NEXT : CLASS_NAME_PREV\n\n    nextElement.classList.add(orderClassName)\n\n    reflow(nextElement)\n\n    activeElement.classList.add(directionalClassName)\n    nextElement.classList.add(directionalClassName)\n\n    const completeCallBack = () => {\n      nextElement.classList.remove(directionalClassName, orderClassName)\n      nextElement.classList.add(CLASS_NAME_ACTIVE)\n\n      activeElement.classList.remove(CLASS_NAME_ACTIVE, orderClassName, directionalClassName)\n\n      this._isSliding = false\n\n      triggerEvent(EVENT_SLID)\n    }\n\n    this._queueCallback(completeCallBack, activeElement, this._isAnimated())\n\n    if (isCycling) {\n      this.cycle()\n    }\n  }\n\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_SLIDE)\n  }\n\n  _getActive() {\n    return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM, this._element)\n  }\n\n  _getItems() {\n    return SelectorEngine.find(SELECTOR_ITEM, this._element)\n  }\n\n  _clearInterval() {\n    if (this._interval) {\n      clearInterval(this._interval)\n      this._interval = null\n    }\n  }\n\n  _directionToOrder(direction) {\n    if (isRTL()) {\n      return direction === DIRECTION_LEFT ? ORDER_PREV : ORDER_NEXT\n    }\n\n    return direction === DIRECTION_LEFT ? ORDER_NEXT : ORDER_PREV\n  }\n\n  _orderToDirection(order) {\n    if (isRTL()) {\n      return order === ORDER_PREV ? DIRECTION_LEFT : DIRECTION_RIGHT\n    }\n\n    return order === ORDER_PREV ? DIRECTION_RIGHT : DIRECTION_LEFT\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Carousel.getOrCreateInstance(this, config)\n\n      if (typeof config === 'number') {\n        data.to(config)\n        return\n      }\n\n      if (typeof config === 'string') {\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_SLIDE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (!target || !target.classList.contains(CLASS_NAME_CAROUSEL)) {\n    return\n  }\n\n  event.preventDefault()\n\n  const carousel = Carousel.getOrCreateInstance(target)\n  const slideIndex = this.getAttribute('data-bs-slide-to')\n\n  if (slideIndex) {\n    carousel.to(slideIndex)\n    carousel._maybeEnableCycle()\n    return\n  }\n\n  if (Manipulator.getDataAttribute(this, 'slide') === 'next') {\n    carousel.next()\n    carousel._maybeEnableCycle()\n    return\n  }\n\n  carousel.prev()\n  carousel._maybeEnableCycle()\n})\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const carousels = SelectorEngine.find(SELECTOR_DATA_RIDE)\n\n  for (const carousel of carousels) {\n    Carousel.getOrCreateInstance(carousel)\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Carousel)\n\nexport default Carousel\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap collapse.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin,\n  getElement,\n  reflow\n} from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'collapse'\nconst DATA_KEY = 'bs.collapse'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_COLLAPSE = 'collapse'\nconst CLASS_NAME_COLLAPSING = 'collapsing'\nconst CLASS_NAME_COLLAPSED = 'collapsed'\nconst CLASS_NAME_DEEPER_CHILDREN = `:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`\nconst CLASS_NAME_HORIZONTAL = 'collapse-horizontal'\n\nconst WIDTH = 'width'\nconst HEIGHT = 'height'\n\nconst SELECTOR_ACTIVES = '.collapse.show, .collapse.collapsing'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"collapse\"]'\n\nconst Default = {\n  parent: null,\n  toggle: true\n}\n\nconst DefaultType = {\n  parent: '(null|element)',\n  toggle: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Collapse extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._isTransitioning = false\n    this._triggerArray = []\n\n    const toggleList = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n\n    for (const elem of toggleList) {\n      const selector = SelectorEngine.getSelectorFromElement(elem)\n      const filterElement = SelectorEngine.find(selector)\n        .filter(foundElement => foundElement === this._element)\n\n      if (selector !== null && filterElement.length) {\n        this._triggerArray.push(elem)\n      }\n    }\n\n    this._initializeChildren()\n\n    if (!this._config.parent) {\n      this._addAriaAndCollapsedClass(this._triggerArray, this._isShown())\n    }\n\n    if (this._config.toggle) {\n      this.toggle()\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    if (this._isShown()) {\n      this.hide()\n    } else {\n      this.show()\n    }\n  }\n\n  show() {\n    if (this._isTransitioning || this._isShown()) {\n      return\n    }\n\n    let activeChildren = []\n\n    // find active children\n    if (this._config.parent) {\n      activeChildren = this._getFirstLevelChildren(SELECTOR_ACTIVES)\n        .filter(element => element !== this._element)\n        .map(element => Collapse.getOrCreateInstance(element, { toggle: false }))\n    }\n\n    if (activeChildren.length && activeChildren[0]._isTransitioning) {\n      return\n    }\n\n    const startEvent = EventHandler.trigger(this._element, EVENT_SHOW)\n    if (startEvent.defaultPrevented) {\n      return\n    }\n\n    for (const activeInstance of activeChildren) {\n      activeInstance.hide()\n    }\n\n    const dimension = this._getDimension()\n\n    this._element.classList.remove(CLASS_NAME_COLLAPSE)\n    this._element.classList.add(CLASS_NAME_COLLAPSING)\n\n    this._element.style[dimension] = 0\n\n    this._addAriaAndCollapsedClass(this._triggerArray, true)\n    this._isTransitioning = true\n\n    const complete = () => {\n      this._isTransitioning = false\n\n      this._element.classList.remove(CLASS_NAME_COLLAPSING)\n      this._element.classList.add(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW)\n\n      this._element.style[dimension] = ''\n\n      EventHandler.trigger(this._element, EVENT_SHOWN)\n    }\n\n    const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1)\n    const scrollSize = `scroll${capitalizedDimension}`\n\n    this._queueCallback(complete, this._element, true)\n    this._element.style[dimension] = `${this._element[scrollSize]}px`\n  }\n\n  hide() {\n    if (this._isTransitioning || !this._isShown()) {\n      return\n    }\n\n    const startEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n    if (startEvent.defaultPrevented) {\n      return\n    }\n\n    const dimension = this._getDimension()\n\n    this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`\n\n    reflow(this._element)\n\n    this._element.classList.add(CLASS_NAME_COLLAPSING)\n    this._element.classList.remove(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW)\n\n    for (const trigger of this._triggerArray) {\n      const element = SelectorEngine.getElementFromSelector(trigger)\n\n      if (element && !this._isShown(element)) {\n        this._addAriaAndCollapsedClass([trigger], false)\n      }\n    }\n\n    this._isTransitioning = true\n\n    const complete = () => {\n      this._isTransitioning = false\n      this._element.classList.remove(CLASS_NAME_COLLAPSING)\n      this._element.classList.add(CLASS_NAME_COLLAPSE)\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._element.style[dimension] = ''\n\n    this._queueCallback(complete, this._element, true)\n  }\n\n  _isShown(element = this._element) {\n    return element.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    config.toggle = Boolean(config.toggle) // Coerce string values\n    config.parent = getElement(config.parent)\n    return config\n  }\n\n  _getDimension() {\n    return this._element.classList.contains(CLASS_NAME_HORIZONTAL) ? WIDTH : HEIGHT\n  }\n\n  _initializeChildren() {\n    if (!this._config.parent) {\n      return\n    }\n\n    const children = this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE)\n\n    for (const element of children) {\n      const selected = SelectorEngine.getElementFromSelector(element)\n\n      if (selected) {\n        this._addAriaAndCollapsedClass([element], this._isShown(selected))\n      }\n    }\n  }\n\n  _getFirstLevelChildren(selector) {\n    const children = SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN, this._config.parent)\n    // remove children if greater depth\n    return SelectorEngine.find(selector, this._config.parent).filter(element => !children.includes(element))\n  }\n\n  _addAriaAndCollapsedClass(triggerArray, isOpen) {\n    if (!triggerArray.length) {\n      return\n    }\n\n    for (const element of triggerArray) {\n      element.classList.toggle(CLASS_NAME_COLLAPSED, !isOpen)\n      element.setAttribute('aria-expanded', isOpen)\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    const _config = {}\n    if (typeof config === 'string' && /show|hide/.test(config)) {\n      _config.toggle = false\n    }\n\n    return this.each(function () {\n      const data = Collapse.getOrCreateInstance(this, _config)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n  if (event.target.tagName === 'A' || (event.delegateTarget && event.delegateTarget.tagName === 'A')) {\n    event.preventDefault()\n  }\n\n  for (const element of SelectorEngine.getMultipleElementsFromSelector(this)) {\n    Collapse.getOrCreateInstance(element, { toggle: false }).toggle()\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Collapse)\n\nexport default Collapse\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap dropdown.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin,\n  execute,\n  getElement,\n  getNextActiveElement,\n  isDisabled,\n  isElement,\n  isRTL,\n  isVisible,\n  noop\n} from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'dropdown'\nconst DATA_KEY = 'bs.dropdown'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst ESCAPE_KEY = 'Escape'\nconst TAB_KEY = 'Tab'\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst RIGHT_MOUSE_BUTTON = 2 // MouseEvent.button value for the secondary button, usually the right button\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_DROPUP = 'dropup'\nconst CLASS_NAME_DROPEND = 'dropend'\nconst CLASS_NAME_DROPSTART = 'dropstart'\nconst CLASS_NAME_DROPUP_CENTER = 'dropup-center'\nconst CLASS_NAME_DROPDOWN_CENTER = 'dropdown-center'\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)'\nconst SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE}.${CLASS_NAME_SHOW}`\nconst SELECTOR_MENU = '.dropdown-menu'\nconst SELECTOR_NAVBAR = '.navbar'\nconst SELECTOR_NAVBAR_NAV = '.navbar-nav'\nconst SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)'\n\nconst PLACEMENT_TOP = isRTL() ? 'top-end' : 'top-start'\nconst PLACEMENT_TOPEND = isRTL() ? 'top-start' : 'top-end'\nconst PLACEMENT_BOTTOM = isRTL() ? 'bottom-end' : 'bottom-start'\nconst PLACEMENT_BOTTOMEND = isRTL() ? 'bottom-start' : 'bottom-end'\nconst PLACEMENT_RIGHT = isRTL() ? 'left-start' : 'right-start'\nconst PLACEMENT_LEFT = isRTL() ? 'right-start' : 'left-start'\nconst PLACEMENT_TOPCENTER = 'top'\nconst PLACEMENT_BOTTOMCENTER = 'bottom'\n\nconst Default = {\n  autoClose: true,\n  boundary: 'clippingParents',\n  display: 'dynamic',\n  offset: [0, 2],\n  popperConfig: null,\n  reference: 'toggle'\n}\n\nconst DefaultType = {\n  autoClose: '(boolean|string)',\n  boundary: '(string|element)',\n  display: 'string',\n  offset: '(array|string|function)',\n  popperConfig: '(null|object|function)',\n  reference: '(string|element|object)'\n}\n\n/**\n * Class definition\n */\n\nclass Dropdown extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._popper = null\n    this._parent = this._element.parentNode // dropdown wrapper\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    this._menu = SelectorEngine.next(this._element, SELECTOR_MENU)[0] ||\n      SelectorEngine.prev(this._element, SELECTOR_MENU)[0] ||\n      SelectorEngine.findOne(SELECTOR_MENU, this._parent)\n    this._inNavbar = this._detectNavbar()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    return this._isShown() ? this.hide() : this.show()\n  }\n\n  show() {\n    if (isDisabled(this._element) || this._isShown()) {\n      return\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, relatedTarget)\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._createPopper()\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement && !this._parent.closest(SELECTOR_NAVBAR_NAV)) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    this._element.focus()\n    this._element.setAttribute('aria-expanded', true)\n\n    this._menu.classList.add(CLASS_NAME_SHOW)\n    this._element.classList.add(CLASS_NAME_SHOW)\n    EventHandler.trigger(this._element, EVENT_SHOWN, relatedTarget)\n  }\n\n  hide() {\n    if (isDisabled(this._element) || !this._isShown()) {\n      return\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n\n    this._completeHide(relatedTarget)\n  }\n\n  dispose() {\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    super.dispose()\n  }\n\n  update() {\n    this._inNavbar = this._detectNavbar()\n    if (this._popper) {\n      this._popper.update()\n    }\n  }\n\n  // Private\n  _completeHide(relatedTarget) {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE, relatedTarget)\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    this._menu.classList.remove(CLASS_NAME_SHOW)\n    this._element.classList.remove(CLASS_NAME_SHOW)\n    this._element.setAttribute('aria-expanded', 'false')\n    Manipulator.removeDataAttribute(this._menu, 'popper')\n    EventHandler.trigger(this._element, EVENT_HIDDEN, relatedTarget)\n  }\n\n  _getConfig(config) {\n    config = super._getConfig(config)\n\n    if (typeof config.reference === 'object' && !isElement(config.reference) &&\n      typeof config.reference.getBoundingClientRect !== 'function'\n    ) {\n      // Popper virtual elements require a getBoundingClientRect method\n      throw new TypeError(`${NAME.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`)\n    }\n\n    return config\n  }\n\n  _createPopper() {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s dropdowns require Popper (https://popper.js.org)')\n    }\n\n    let referenceElement = this._element\n\n    if (this._config.reference === 'parent') {\n      referenceElement = this._parent\n    } else if (isElement(this._config.reference)) {\n      referenceElement = getElement(this._config.reference)\n    } else if (typeof this._config.reference === 'object') {\n      referenceElement = this._config.reference\n    }\n\n    const popperConfig = this._getPopperConfig()\n    this._popper = Popper.createPopper(referenceElement, this._menu, popperConfig)\n  }\n\n  _isShown() {\n    return this._menu.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _getPlacement() {\n    const parentDropdown = this._parent\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPEND)) {\n      return PLACEMENT_RIGHT\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPSTART)) {\n      return PLACEMENT_LEFT\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP_CENTER)) {\n      return PLACEMENT_TOPCENTER\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPDOWN_CENTER)) {\n      return PLACEMENT_BOTTOMCENTER\n    }\n\n    // We need to trim the value because custom properties can also include spaces\n    const isEnd = getComputedStyle(this._menu).getPropertyValue('--bs-position').trim() === 'end'\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP)) {\n      return isEnd ? PLACEMENT_TOPEND : PLACEMENT_TOP\n    }\n\n    return isEnd ? PLACEMENT_BOTTOMEND : PLACEMENT_BOTTOM\n  }\n\n  _detectNavbar() {\n    return this._element.closest(SELECTOR_NAVBAR) !== null\n  }\n\n  _getOffset() {\n    const { offset } = this._config\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10))\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element)\n    }\n\n    return offset\n  }\n\n  _getPopperConfig() {\n    const defaultBsPopperConfig = {\n      placement: this._getPlacement(),\n      modifiers: [{\n        name: 'preventOverflow',\n        options: {\n          boundary: this._config.boundary\n        }\n      },\n      {\n        name: 'offset',\n        options: {\n          offset: this._getOffset()\n        }\n      }]\n    }\n\n    // Disable Popper if we have a static display or Dropdown is in Navbar\n    if (this._inNavbar || this._config.display === 'static') {\n      Manipulator.setDataAttribute(this._menu, 'popper', 'static') // TODO: v6 remove\n      defaultBsPopperConfig.modifiers = [{\n        name: 'applyStyles',\n        enabled: false\n      }]\n    }\n\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [defaultBsPopperConfig])\n    }\n  }\n\n  _selectMenuItem({ key, target }) {\n    const items = SelectorEngine.find(SELECTOR_VISIBLE_ITEMS, this._menu).filter(element => isVisible(element))\n\n    if (!items.length) {\n      return\n    }\n\n    // if target isn't included in items (e.g. when expanding the dropdown)\n    // allow cycling to get the last item in case key equals ARROW_UP_KEY\n    getNextActiveElement(items, target, key === ARROW_DOWN_KEY, !items.includes(target)).focus()\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Dropdown.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n\n  static clearMenus(event) {\n    if (event.button === RIGHT_MOUSE_BUTTON || (event.type === 'keyup' && event.key !== TAB_KEY)) {\n      return\n    }\n\n    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN)\n\n    for (const toggle of openToggles) {\n      const context = Dropdown.getInstance(toggle)\n      if (!context || context._config.autoClose === false) {\n        continue\n      }\n\n      const composedPath = event.composedPath()\n      const isMenuTarget = composedPath.includes(context._menu)\n      if (\n        composedPath.includes(context._element) ||\n        (context._config.autoClose === 'inside' && !isMenuTarget) ||\n        (context._config.autoClose === 'outside' && isMenuTarget)\n      ) {\n        continue\n      }\n\n      // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu\n      if (context._menu.contains(event.target) && ((event.type === 'keyup' && event.key === TAB_KEY) || /input|select|option|textarea|form/i.test(event.target.tagName))) {\n        continue\n      }\n\n      const relatedTarget = { relatedTarget: context._element }\n\n      if (event.type === 'click') {\n        relatedTarget.clickEvent = event\n      }\n\n      context._completeHide(relatedTarget)\n    }\n  }\n\n  static dataApiKeydownHandler(event) {\n    // If not an UP | DOWN | ESCAPE key => not a dropdown command\n    // If input/textarea && if key is other than ESCAPE => not a dropdown command\n\n    const isInput = /input|textarea/i.test(event.target.tagName)\n    const isEscapeEvent = event.key === ESCAPE_KEY\n    const isUpOrDownEvent = [ARROW_UP_KEY, ARROW_DOWN_KEY].includes(event.key)\n\n    if (!isUpOrDownEvent && !isEscapeEvent) {\n      return\n    }\n\n    if (isInput && !isEscapeEvent) {\n      return\n    }\n\n    event.preventDefault()\n\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE) ?\n      this :\n      (SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE)[0] ||\n        SelectorEngine.next(this, SELECTOR_DATA_TOGGLE)[0] ||\n        SelectorEngine.findOne(SELECTOR_DATA_TOGGLE, event.delegateTarget.parentNode))\n\n    const instance = Dropdown.getOrCreateInstance(getToggleButton)\n\n    if (isUpOrDownEvent) {\n      event.stopPropagation()\n      instance.show()\n      instance._selectMenuItem(event)\n      return\n    }\n\n    if (instance._isShown()) { // else is escape and we check if it is shown\n      event.stopPropagation()\n      instance.hide()\n      getToggleButton.focus()\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE, Dropdown.dataApiKeydownHandler)\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler)\nEventHandler.on(document, EVENT_CLICK_DATA_API, Dropdown.clearMenus)\nEventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus)\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  event.preventDefault()\n  Dropdown.getOrCreateInstance(this).toggle()\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Dropdown)\n\nexport default Dropdown\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/backdrop.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport Config from './config.js'\nimport {\n  execute, executeAfterTransition, getElement, reflow\n} from './index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'backdrop'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst EVENT_MOUSEDOWN = `mousedown.bs.${NAME}`\n\nconst Default = {\n  className: 'modal-backdrop',\n  clickCallback: null,\n  isAnimated: false,\n  isVisible: true, // if false, we use the backdrop helper without adding any element to the dom\n  rootElement: 'body' // give the choice to place backdrop under different elements\n}\n\nconst DefaultType = {\n  className: 'string',\n  clickCallback: '(function|null)',\n  isAnimated: 'boolean',\n  isVisible: 'boolean',\n  rootElement: '(element|string)'\n}\n\n/**\n * Class definition\n */\n\nclass Backdrop extends Config {\n  constructor(config) {\n    super()\n    this._config = this._getConfig(config)\n    this._isAppended = false\n    this._element = null\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  show(callback) {\n    if (!this._config.isVisible) {\n      execute(callback)\n      return\n    }\n\n    this._append()\n\n    const element = this._getElement()\n    if (this._config.isAnimated) {\n      reflow(element)\n    }\n\n    element.classList.add(CLASS_NAME_SHOW)\n\n    this._emulateAnimation(() => {\n      execute(callback)\n    })\n  }\n\n  hide(callback) {\n    if (!this._config.isVisible) {\n      execute(callback)\n      return\n    }\n\n    this._getElement().classList.remove(CLASS_NAME_SHOW)\n\n    this._emulateAnimation(() => {\n      this.dispose()\n      execute(callback)\n    })\n  }\n\n  dispose() {\n    if (!this._isAppended) {\n      return\n    }\n\n    EventHandler.off(this._element, EVENT_MOUSEDOWN)\n\n    this._element.remove()\n    this._isAppended = false\n  }\n\n  // Private\n  _getElement() {\n    if (!this._element) {\n      const backdrop = document.createElement('div')\n      backdrop.className = this._config.className\n      if (this._config.isAnimated) {\n        backdrop.classList.add(CLASS_NAME_FADE)\n      }\n\n      this._element = backdrop\n    }\n\n    return this._element\n  }\n\n  _configAfterMerge(config) {\n    // use getElement() with the default \"body\" to get a fresh Element on each instantiation\n    config.rootElement = getElement(config.rootElement)\n    return config\n  }\n\n  _append() {\n    if (this._isAppended) {\n      return\n    }\n\n    const element = this._getElement()\n    this._config.rootElement.append(element)\n\n    EventHandler.on(element, EVENT_MOUSEDOWN, () => {\n      execute(this._config.clickCallback)\n    })\n\n    this._isAppended = true\n  }\n\n  _emulateAnimation(callback) {\n    executeAfterTransition(callback, this._getElement(), this._config.isAnimated)\n  }\n}\n\nexport default Backdrop\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/focustrap.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport SelectorEngine from '../dom/selector-engine.js'\nimport Config from './config.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'focustrap'\nconst DATA_KEY = 'bs.focustrap'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`\nconst EVENT_KEYDOWN_TAB = `keydown.tab${EVENT_KEY}`\n\nconst TAB_KEY = 'Tab'\nconst TAB_NAV_FORWARD = 'forward'\nconst TAB_NAV_BACKWARD = 'backward'\n\nconst Default = {\n  autofocus: true,\n  trapElement: null // The element to trap focus inside of\n}\n\nconst DefaultType = {\n  autofocus: 'boolean',\n  trapElement: 'element'\n}\n\n/**\n * Class definition\n */\n\nclass FocusTrap extends Config {\n  constructor(config) {\n    super()\n    this._config = this._getConfig(config)\n    this._isActive = false\n    this._lastTabNavDirection = null\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  activate() {\n    if (this._isActive) {\n      return\n    }\n\n    if (this._config.autofocus) {\n      this._config.trapElement.focus()\n    }\n\n    EventHandler.off(document, EVENT_KEY) // guard against infinite focus loop\n    EventHandler.on(document, EVENT_FOCUSIN, event => this._handleFocusin(event))\n    EventHandler.on(document, EVENT_KEYDOWN_TAB, event => this._handleKeydown(event))\n\n    this._isActive = true\n  }\n\n  deactivate() {\n    if (!this._isActive) {\n      return\n    }\n\n    this._isActive = false\n    EventHandler.off(document, EVENT_KEY)\n  }\n\n  // Private\n  _handleFocusin(event) {\n    const { trapElement } = this._config\n\n    if (event.target === document || event.target === trapElement || trapElement.contains(event.target)) {\n      return\n    }\n\n    const elements = SelectorEngine.focusableChildren(trapElement)\n\n    if (elements.length === 0) {\n      trapElement.focus()\n    } else if (this._lastTabNavDirection === TAB_NAV_BACKWARD) {\n      elements[elements.length - 1].focus()\n    } else {\n      elements[0].focus()\n    }\n  }\n\n  _handleKeydown(event) {\n    if (event.key !== TAB_KEY) {\n      return\n    }\n\n    this._lastTabNavDirection = event.shiftKey ? TAB_NAV_BACKWARD : TAB_NAV_FORWARD\n  }\n}\n\nexport default FocusTrap\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/scrollBar.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Manipulator from '../dom/manipulator.js'\nimport SelectorEngine from '../dom/selector-engine.js'\nimport { isElement } from './index.js'\n\n/**\n * Constants\n */\n\nconst SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top'\nconst SELECTOR_STICKY_CONTENT = '.sticky-top'\nconst PROPERTY_PADDING = 'padding-right'\nconst PROPERTY_MARGIN = 'margin-right'\n\n/**\n * Class definition\n */\n\nclass ScrollBarHelper {\n  constructor() {\n    this._element = document.body\n  }\n\n  // Public\n  getWidth() {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth#usage_notes\n    const documentWidth = document.documentElement.clientWidth\n    return Math.abs(window.innerWidth - documentWidth)\n  }\n\n  hide() {\n    const width = this.getWidth()\n    this._disableOverFlow()\n    // give padding to element to balance the hidden scrollbar width\n    this._setElementAttributes(this._element, PROPERTY_PADDING, calculatedValue => calculatedValue + width)\n    // trick: We adjust positive paddingRight and negative marginRight to sticky-top elements to keep showing fullwidth\n    this._setElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING, calculatedValue => calculatedValue + width)\n    this._setElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN, calculatedValue => calculatedValue - width)\n  }\n\n  reset() {\n    this._resetElementAttributes(this._element, 'overflow')\n    this._resetElementAttributes(this._element, PROPERTY_PADDING)\n    this._resetElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING)\n    this._resetElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN)\n  }\n\n  isOverflowing() {\n    return this.getWidth() > 0\n  }\n\n  // Private\n  _disableOverFlow() {\n    this._saveInitialAttribute(this._element, 'overflow')\n    this._element.style.overflow = 'hidden'\n  }\n\n  _setElementAttributes(selector, styleProperty, callback) {\n    const scrollbarWidth = this.getWidth()\n    const manipulationCallBack = element => {\n      if (element !== this._element && window.innerWidth > element.clientWidth + scrollbarWidth) {\n        return\n      }\n\n      this._saveInitialAttribute(element, styleProperty)\n      const calculatedValue = window.getComputedStyle(element).getPropertyValue(styleProperty)\n      element.style.setProperty(styleProperty, `${callback(Number.parseFloat(calculatedValue))}px`)\n    }\n\n    this._applyManipulationCallback(selector, manipulationCallBack)\n  }\n\n  _saveInitialAttribute(element, styleProperty) {\n    const actualValue = element.style.getPropertyValue(styleProperty)\n    if (actualValue) {\n      Manipulator.setDataAttribute(element, styleProperty, actualValue)\n    }\n  }\n\n  _resetElementAttributes(selector, styleProperty) {\n    const manipulationCallBack = element => {\n      const value = Manipulator.getDataAttribute(element, styleProperty)\n      // We only want to remove the property if the value is `null`; the value can also be zero\n      if (value === null) {\n        element.style.removeProperty(styleProperty)\n        return\n      }\n\n      Manipulator.removeDataAttribute(element, styleProperty)\n      element.style.setProperty(styleProperty, value)\n    }\n\n    this._applyManipulationCallback(selector, manipulationCallBack)\n  }\n\n  _applyManipulationCallback(selector, callBack) {\n    if (isElement(selector)) {\n      callBack(selector)\n      return\n    }\n\n    for (const sel of SelectorEngine.find(selector, this._element)) {\n      callBack(sel)\n    }\n  }\n}\n\nexport default ScrollBarHelper\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap modal.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport Backdrop from './util/backdrop.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport FocusTrap from './util/focustrap.js'\nimport {\n  defineJQueryPlugin, isRTL, isVisible, reflow\n} from './util/index.js'\nimport ScrollBarHelper from './util/scrollbar.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'modal'\nconst DATA_KEY = 'bs.modal'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst ESCAPE_KEY = 'Escape'\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\nconst EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY}`\nconst EVENT_MOUSEDOWN_DISMISS = `mousedown.dismiss${EVENT_KEY}`\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_OPEN = 'modal-open'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_STATIC = 'modal-static'\n\nconst OPEN_SELECTOR = '.modal.show'\nconst SELECTOR_DIALOG = '.modal-dialog'\nconst SELECTOR_MODAL_BODY = '.modal-body'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"modal\"]'\n\nconst Default = {\n  backdrop: true,\n  focus: true,\n  keyboard: true\n}\n\nconst DefaultType = {\n  backdrop: '(boolean|string)',\n  focus: 'boolean',\n  keyboard: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Modal extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._dialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element)\n    this._backdrop = this._initializeBackDrop()\n    this._focustrap = this._initializeFocusTrap()\n    this._isShown = false\n    this._isTransitioning = false\n    this._scrollBar = new ScrollBarHelper()\n\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget)\n  }\n\n  show(relatedTarget) {\n    if (this._isShown || this._isTransitioning) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, {\n      relatedTarget\n    })\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = true\n    this._isTransitioning = true\n\n    this._scrollBar.hide()\n\n    document.body.classList.add(CLASS_NAME_OPEN)\n\n    this._adjustDialog()\n\n    this._backdrop.show(() => this._showElement(relatedTarget))\n  }\n\n  hide() {\n    if (!this._isShown || this._isTransitioning) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = false\n    this._isTransitioning = true\n    this._focustrap.deactivate()\n\n    this._element.classList.remove(CLASS_NAME_SHOW)\n\n    this._queueCallback(() => this._hideModal(), this._element, this._isAnimated())\n  }\n\n  dispose() {\n    EventHandler.off(window, EVENT_KEY)\n    EventHandler.off(this._dialog, EVENT_KEY)\n\n    this._backdrop.dispose()\n    this._focustrap.deactivate()\n\n    super.dispose()\n  }\n\n  handleUpdate() {\n    this._adjustDialog()\n  }\n\n  // Private\n  _initializeBackDrop() {\n    return new Backdrop({\n      isVisible: Boolean(this._config.backdrop), // 'static' option will be translated to true, and booleans will keep their value,\n      isAnimated: this._isAnimated()\n    })\n  }\n\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    })\n  }\n\n  _showElement(relatedTarget) {\n    // try to append dynamic modal\n    if (!document.body.contains(this._element)) {\n      document.body.append(this._element)\n    }\n\n    this._element.style.display = 'block'\n    this._element.removeAttribute('aria-hidden')\n    this._element.setAttribute('aria-modal', true)\n    this._element.setAttribute('role', 'dialog')\n    this._element.scrollTop = 0\n\n    const modalBody = SelectorEngine.findOne(SELECTOR_MODAL_BODY, this._dialog)\n    if (modalBody) {\n      modalBody.scrollTop = 0\n    }\n\n    reflow(this._element)\n\n    this._element.classList.add(CLASS_NAME_SHOW)\n\n    const transitionComplete = () => {\n      if (this._config.focus) {\n        this._focustrap.activate()\n      }\n\n      this._isTransitioning = false\n      EventHandler.trigger(this._element, EVENT_SHOWN, {\n        relatedTarget\n      })\n    }\n\n    this._queueCallback(transitionComplete, this._dialog, this._isAnimated())\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return\n      }\n\n      if (this._config.keyboard) {\n        this.hide()\n        return\n      }\n\n      this._triggerBackdropTransition()\n    })\n\n    EventHandler.on(window, EVENT_RESIZE, () => {\n      if (this._isShown && !this._isTransitioning) {\n        this._adjustDialog()\n      }\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEDOWN_DISMISS, event => {\n      // a bad trick to segregate clicks that may start inside dialog but end outside, and avoid listen to scrollbar clicks\n      EventHandler.one(this._element, EVENT_CLICK_DISMISS, event2 => {\n        if (this._element !== event.target || this._element !== event2.target) {\n          return\n        }\n\n        if (this._config.backdrop === 'static') {\n          this._triggerBackdropTransition()\n          return\n        }\n\n        if (this._config.backdrop) {\n          this.hide()\n        }\n      })\n    })\n  }\n\n  _hideModal() {\n    this._element.style.display = 'none'\n    this._element.setAttribute('aria-hidden', true)\n    this._element.removeAttribute('aria-modal')\n    this._element.removeAttribute('role')\n    this._isTransitioning = false\n\n    this._backdrop.hide(() => {\n      document.body.classList.remove(CLASS_NAME_OPEN)\n      this._resetAdjustments()\n      this._scrollBar.reset()\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    })\n  }\n\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_FADE)\n  }\n\n  _triggerBackdropTransition() {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight\n    const initialOverflowY = this._element.style.overflowY\n    // return if the following background transition hasn't yet completed\n    if (initialOverflowY === 'hidden' || this._element.classList.contains(CLASS_NAME_STATIC)) {\n      return\n    }\n\n    if (!isModalOverflowing) {\n      this._element.style.overflowY = 'hidden'\n    }\n\n    this._element.classList.add(CLASS_NAME_STATIC)\n    this._queueCallback(() => {\n      this._element.classList.remove(CLASS_NAME_STATIC)\n      this._queueCallback(() => {\n        this._element.style.overflowY = initialOverflowY\n      }, this._dialog)\n    }, this._dialog)\n\n    this._element.focus()\n  }\n\n  /**\n   * The following methods are used to handle overflowing modals\n   */\n\n  _adjustDialog() {\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight\n    const scrollbarWidth = this._scrollBar.getWidth()\n    const isBodyOverflowing = scrollbarWidth > 0\n\n    if (isBodyOverflowing && !isModalOverflowing) {\n      const property = isRTL() ? 'paddingLeft' : 'paddingRight'\n      this._element.style[property] = `${scrollbarWidth}px`\n    }\n\n    if (!isBodyOverflowing && isModalOverflowing) {\n      const property = isRTL() ? 'paddingRight' : 'paddingLeft'\n      this._element.style[property] = `${scrollbarWidth}px`\n    }\n  }\n\n  _resetAdjustments() {\n    this._element.style.paddingLeft = ''\n    this._element.style.paddingRight = ''\n  }\n\n  // Static\n  static jQueryInterface(config, relatedTarget) {\n    return this.each(function () {\n      const data = Modal.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](relatedTarget)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  EventHandler.one(target, EVENT_SHOW, showEvent => {\n    if (showEvent.defaultPrevented) {\n      // only register focus restorer if modal will actually get shown\n      return\n    }\n\n    EventHandler.one(target, EVENT_HIDDEN, () => {\n      if (isVisible(this)) {\n        this.focus()\n      }\n    })\n  })\n\n  // avoid conflict when clicking modal toggler while another one is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR)\n  if (alreadyOpen) {\n    Modal.getInstance(alreadyOpen).hide()\n  }\n\n  const data = Modal.getOrCreateInstance(target)\n\n  data.toggle(this)\n})\n\nenableDismissTrigger(Modal)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Modal)\n\nexport default Modal\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap offcanvas.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport Backdrop from './util/backdrop.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport FocusTrap from './util/focustrap.js'\nimport {\n  defineJQueryPlugin,\n  isDisabled,\n  isVisible\n} from './util/index.js'\nimport ScrollBarHelper from './util/scrollbar.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'offcanvas'\nconst DATA_KEY = 'bs.offcanvas'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst ESCAPE_KEY = 'Escape'\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_SHOWING = 'showing'\nconst CLASS_NAME_HIDING = 'hiding'\nconst CLASS_NAME_BACKDROP = 'offcanvas-backdrop'\nconst OPEN_SELECTOR = '.offcanvas.show'\n\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"offcanvas\"]'\n\nconst Default = {\n  backdrop: true,\n  keyboard: true,\n  scroll: false\n}\n\nconst DefaultType = {\n  backdrop: '(boolean|string)',\n  keyboard: 'boolean',\n  scroll: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Offcanvas extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._isShown = false\n    this._backdrop = this._initializeBackDrop()\n    this._focustrap = this._initializeFocusTrap()\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget)\n  }\n\n  show(relatedTarget) {\n    if (this._isShown) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, { relatedTarget })\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = true\n    this._backdrop.show()\n\n    if (!this._config.scroll) {\n      new ScrollBarHelper().hide()\n    }\n\n    this._element.setAttribute('aria-modal', true)\n    this._element.setAttribute('role', 'dialog')\n    this._element.classList.add(CLASS_NAME_SHOWING)\n\n    const completeCallBack = () => {\n      if (!this._config.scroll || this._config.backdrop) {\n        this._focustrap.activate()\n      }\n\n      this._element.classList.add(CLASS_NAME_SHOW)\n      this._element.classList.remove(CLASS_NAME_SHOWING)\n      EventHandler.trigger(this._element, EVENT_SHOWN, { relatedTarget })\n    }\n\n    this._queueCallback(completeCallBack, this._element, true)\n  }\n\n  hide() {\n    if (!this._isShown) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    this._focustrap.deactivate()\n    this._element.blur()\n    this._isShown = false\n    this._element.classList.add(CLASS_NAME_HIDING)\n    this._backdrop.hide()\n\n    const completeCallback = () => {\n      this._element.classList.remove(CLASS_NAME_SHOW, CLASS_NAME_HIDING)\n      this._element.removeAttribute('aria-modal')\n      this._element.removeAttribute('role')\n\n      if (!this._config.scroll) {\n        new ScrollBarHelper().reset()\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._queueCallback(completeCallback, this._element, true)\n  }\n\n  dispose() {\n    this._backdrop.dispose()\n    this._focustrap.deactivate()\n    super.dispose()\n  }\n\n  // Private\n  _initializeBackDrop() {\n    const clickCallback = () => {\n      if (this._config.backdrop === 'static') {\n        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n        return\n      }\n\n      this.hide()\n    }\n\n    // 'static' option will be translated to true, and booleans will keep their value\n    const isVisible = Boolean(this._config.backdrop)\n\n    return new Backdrop({\n      className: CLASS_NAME_BACKDROP,\n      isVisible,\n      isAnimated: true,\n      rootElement: this._element.parentNode,\n      clickCallback: isVisible ? clickCallback : null\n    })\n  }\n\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    })\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return\n      }\n\n      if (this._config.keyboard) {\n        this.hide()\n        return\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n    })\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Offcanvas.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  if (isDisabled(this)) {\n    return\n  }\n\n  EventHandler.one(target, EVENT_HIDDEN, () => {\n    // focus on trigger when it is closed\n    if (isVisible(this)) {\n      this.focus()\n    }\n  })\n\n  // avoid conflict when clicking a toggler of an offcanvas, while another is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR)\n  if (alreadyOpen && alreadyOpen !== target) {\n    Offcanvas.getInstance(alreadyOpen).hide()\n  }\n\n  const data = Offcanvas.getOrCreateInstance(target)\n  data.toggle(this)\n})\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const selector of SelectorEngine.find(OPEN_SELECTOR)) {\n    Offcanvas.getOrCreateInstance(selector).show()\n  }\n})\n\nEventHandler.on(window, EVENT_RESIZE, () => {\n  for (const element of SelectorEngine.find('[aria-modal][class*=show][class*=offcanvas-]')) {\n    if (getComputedStyle(element).position !== 'fixed') {\n      Offcanvas.getOrCreateInstance(element).hide()\n    }\n  }\n})\n\nenableDismissTrigger(Offcanvas)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Offcanvas)\n\nexport default Offcanvas\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/sanitizer.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// js-docs-start allow-list\nconst ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i\n\nexport const DefaultAllowlist = {\n  // Global attributes allowed on any supplied element below.\n  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n  a: ['target', 'href', 'title', 'rel'],\n  area: [],\n  b: [],\n  br: [],\n  col: [],\n  code: [],\n  dd: [],\n  div: [],\n  dl: [],\n  dt: [],\n  em: [],\n  hr: [],\n  h1: [],\n  h2: [],\n  h3: [],\n  h4: [],\n  h5: [],\n  h6: [],\n  i: [],\n  img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],\n  li: [],\n  ol: [],\n  p: [],\n  pre: [],\n  s: [],\n  small: [],\n  span: [],\n  sub: [],\n  sup: [],\n  strong: [],\n  u: [],\n  ul: []\n}\n// js-docs-end allow-list\n\nconst uriAttributes = new Set([\n  'background',\n  'cite',\n  'href',\n  'itemtype',\n  'longdesc',\n  'poster',\n  'src',\n  'xlink:href'\n])\n\n/**\n * A pattern that recognizes URLs that are safe wrt. XSS in URL navigation\n * contexts.\n *\n * Shout-out to Angular https://github.com/angular/angular/blob/15.2.8/packages/core/src/sanitization/url_sanitizer.ts#L38\n */\n// eslint-disable-next-line unicorn/better-regex\nconst SAFE_URL_PATTERN = /^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i\n\nconst allowedAttribute = (attribute, allowedAttributeList) => {\n  const attributeName = attribute.nodeName.toLowerCase()\n\n  if (allowedAttributeList.includes(attributeName)) {\n    if (uriAttributes.has(attributeName)) {\n      return Boolean(SAFE_URL_PATTERN.test(attribute.nodeValue))\n    }\n\n    return true\n  }\n\n  // Check if a regular expression validates the attribute.\n  return allowedAttributeList.filter(attributeRegex => attributeRegex instanceof RegExp)\n    .some(regex => regex.test(attributeName))\n}\n\nexport function sanitizeHtml(unsafeHtml, allowList, sanitizeFunction) {\n  if (!unsafeHtml.length) {\n    return unsafeHtml\n  }\n\n  if (sanitizeFunction && typeof sanitizeFunction === 'function') {\n    return sanitizeFunction(unsafeHtml)\n  }\n\n  const domParser = new window.DOMParser()\n  const createdDocument = domParser.parseFromString(unsafeHtml, 'text/html')\n  const elements = [].concat(...createdDocument.body.querySelectorAll('*'))\n\n  for (const element of elements) {\n    const elementName = element.nodeName.toLowerCase()\n\n    if (!Object.keys(allowList).includes(elementName)) {\n      element.remove()\n      continue\n    }\n\n    const attributeList = [].concat(...element.attributes)\n    const allowedAttributes = [].concat(allowList['*'] || [], allowList[elementName] || [])\n\n    for (const attribute of attributeList) {\n      if (!allowedAttribute(attribute, allowedAttributes)) {\n        element.removeAttribute(attribute.nodeName)\n      }\n    }\n  }\n\n  return createdDocument.body.innerHTML\n}\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap util/template-factory.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport SelectorEngine from '../dom/selector-engine.js'\nimport Config from './config.js'\nimport { DefaultAllowlist, sanitizeHtml } from './sanitizer.js'\nimport { execute, getElement, isElement } from './index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'TemplateFactory'\n\nconst Default = {\n  allowList: DefaultAllowlist,\n  content: {}, // { selector : text ,  selector2 : text2 , }\n  extraClass: '',\n  html: false,\n  sanitize: true,\n  sanitizeFn: null,\n  template: '<div></div>'\n}\n\nconst DefaultType = {\n  allowList: 'object',\n  content: 'object',\n  extraClass: '(string|function)',\n  html: 'boolean',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  template: 'string'\n}\n\nconst DefaultContentType = {\n  entry: '(string|element|function|null)',\n  selector: '(string|element)'\n}\n\n/**\n * Class definition\n */\n\nclass TemplateFactory extends Config {\n  constructor(config) {\n    super()\n    this._config = this._getConfig(config)\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  getContent() {\n    return Object.values(this._config.content)\n      .map(config => this._resolvePossibleFunction(config))\n      .filter(Boolean)\n  }\n\n  hasContent() {\n    return this.getContent().length > 0\n  }\n\n  changeContent(content) {\n    this._checkContent(content)\n    this._config.content = { ...this._config.content, ...content }\n    return this\n  }\n\n  toHtml() {\n    const templateWrapper = document.createElement('div')\n    templateWrapper.innerHTML = this._maybeSanitize(this._config.template)\n\n    for (const [selector, text] of Object.entries(this._config.content)) {\n      this._setContent(templateWrapper, text, selector)\n    }\n\n    const template = templateWrapper.children[0]\n    const extraClass = this._resolvePossibleFunction(this._config.extraClass)\n\n    if (extraClass) {\n      template.classList.add(...extraClass.split(' '))\n    }\n\n    return template\n  }\n\n  // Private\n  _typeCheckConfig(config) {\n    super._typeCheckConfig(config)\n    this._checkContent(config.content)\n  }\n\n  _checkContent(arg) {\n    for (const [selector, content] of Object.entries(arg)) {\n      super._typeCheckConfig({ selector, entry: content }, DefaultContentType)\n    }\n  }\n\n  _setContent(template, content, selector) {\n    const templateElement = SelectorEngine.findOne(selector, template)\n\n    if (!templateElement) {\n      return\n    }\n\n    content = this._resolvePossibleFunction(content)\n\n    if (!content) {\n      templateElement.remove()\n      return\n    }\n\n    if (isElement(content)) {\n      this._putElementInTemplate(getElement(content), templateElement)\n      return\n    }\n\n    if (this._config.html) {\n      templateElement.innerHTML = this._maybeSanitize(content)\n      return\n    }\n\n    templateElement.textContent = content\n  }\n\n  _maybeSanitize(arg) {\n    return this._config.sanitize ? sanitizeHtml(arg, this._config.allowList, this._config.sanitizeFn) : arg\n  }\n\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [this])\n  }\n\n  _putElementInTemplate(element, templateElement) {\n    if (this._config.html) {\n      templateElement.innerHTML = ''\n      templateElement.append(element)\n      return\n    }\n\n    templateElement.textContent = element.textContent\n  }\n}\n\nexport default TemplateFactory\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport {\n  defineJQueryPlugin, execute, findShadowRoot, getElement, getUID, isRTL, noop\n} from './util/index.js'\nimport { DefaultAllowlist } from './util/sanitizer.js'\nimport TemplateFactory from './util/template-factory.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'tooltip'\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn'])\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_MODAL = 'modal'\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner'\nconst SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`\n\nconst EVENT_MODAL_HIDE = 'hide.bs.modal'\n\nconst TRIGGER_HOVER = 'hover'\nconst TRIGGER_FOCUS = 'focus'\nconst TRIGGER_CLICK = 'click'\nconst TRIGGER_MANUAL = 'manual'\n\nconst EVENT_HIDE = 'hide'\nconst EVENT_HIDDEN = 'hidden'\nconst EVENT_SHOW = 'show'\nconst EVENT_SHOWN = 'shown'\nconst EVENT_INSERTED = 'inserted'\nconst EVENT_CLICK = 'click'\nconst EVENT_FOCUSIN = 'focusin'\nconst EVENT_FOCUSOUT = 'focusout'\nconst EVENT_MOUSEENTER = 'mouseenter'\nconst EVENT_MOUSELEAVE = 'mouseleave'\n\nconst AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: isRTL() ? 'left' : 'right',\n  BOTTOM: 'bottom',\n  LEFT: isRTL() ? 'right' : 'left'\n}\n\nconst Default = {\n  allowList: DefaultAllowlist,\n  animation: true,\n  boundary: 'clippingParents',\n  container: false,\n  customClass: '',\n  delay: 0,\n  fallbackPlacements: ['top', 'right', 'bottom', 'left'],\n  html: false,\n  offset: [0, 6],\n  placement: 'top',\n  popperConfig: null,\n  sanitize: true,\n  sanitizeFn: null,\n  selector: false,\n  template: '<div class=\"tooltip\" role=\"tooltip\">' +\n            '<div class=\"tooltip-arrow\"></div>' +\n            '<div class=\"tooltip-inner\"></div>' +\n            '</div>',\n  title: '',\n  trigger: 'hover focus'\n}\n\nconst DefaultType = {\n  allowList: 'object',\n  animation: 'boolean',\n  boundary: '(string|element)',\n  container: '(string|element|boolean)',\n  customClass: '(string|function)',\n  delay: '(number|object)',\n  fallbackPlacements: 'array',\n  html: 'boolean',\n  offset: '(array|string|function)',\n  placement: '(string|function)',\n  popperConfig: '(null|object|function)',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  selector: '(string|boolean)',\n  template: 'string',\n  title: '(string|element|function)',\n  trigger: 'string'\n}\n\n/**\n * Class definition\n */\n\nclass Tooltip extends BaseComponent {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org)')\n    }\n\n    super(element, config)\n\n    // Private\n    this._isEnabled = true\n    this._timeout = 0\n    this._isHovered = null\n    this._activeTrigger = {}\n    this._popper = null\n    this._templateFactory = null\n    this._newContent = null\n\n    // Protected\n    this.tip = null\n\n    this._setListeners()\n\n    if (!this._config.selector) {\n      this._fixTitle()\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  enable() {\n    this._isEnabled = true\n  }\n\n  disable() {\n    this._isEnabled = false\n  }\n\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled\n  }\n\n  toggle() {\n    if (!this._isEnabled) {\n      return\n    }\n\n    this._activeTrigger.click = !this._activeTrigger.click\n    if (this._isShown()) {\n      this._leave()\n      return\n    }\n\n    this._enter()\n  }\n\n  dispose() {\n    clearTimeout(this._timeout)\n\n    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n\n    if (this._element.getAttribute('data-bs-original-title')) {\n      this._element.setAttribute('title', this._element.getAttribute('data-bs-original-title'))\n    }\n\n    this._disposePopper()\n    super.dispose()\n  }\n\n  show() {\n    if (this._element.style.display === 'none') {\n      throw new Error('Please use show on visible elements')\n    }\n\n    if (!(this._isWithContent() && this._isEnabled)) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOW))\n    const shadowRoot = findShadowRoot(this._element)\n    const isInTheDom = (shadowRoot || this._element.ownerDocument.documentElement).contains(this._element)\n\n    if (showEvent.defaultPrevented || !isInTheDom) {\n      return\n    }\n\n    // TODO: v6 remove this or make it optional\n    this._disposePopper()\n\n    const tip = this._getTipElement()\n\n    this._element.setAttribute('aria-describedby', tip.getAttribute('id'))\n\n    const { container } = this._config\n\n    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\n      container.append(tip)\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_INSERTED))\n    }\n\n    this._popper = this._createPopper(tip)\n\n    tip.classList.add(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    const complete = () => {\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOWN))\n\n      if (this._isHovered === false) {\n        this._leave()\n      }\n\n      this._isHovered = false\n    }\n\n    this._queueCallback(complete, this.tip, this._isAnimated())\n  }\n\n  hide() {\n    if (!this._isShown()) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDE))\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const tip = this._getTipElement()\n    tip.classList.remove(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    this._activeTrigger[TRIGGER_CLICK] = false\n    this._activeTrigger[TRIGGER_FOCUS] = false\n    this._activeTrigger[TRIGGER_HOVER] = false\n    this._isHovered = null // it is a trick to support manual triggering\n\n    const complete = () => {\n      if (this._isWithActiveTrigger()) {\n        return\n      }\n\n      if (!this._isHovered) {\n        this._disposePopper()\n      }\n\n      this._element.removeAttribute('aria-describedby')\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDDEN))\n    }\n\n    this._queueCallback(complete, this.tip, this._isAnimated())\n  }\n\n  update() {\n    if (this._popper) {\n      this._popper.update()\n    }\n  }\n\n  // Protected\n  _isWithContent() {\n    return Boolean(this._getTitle())\n  }\n\n  _getTipElement() {\n    if (!this.tip) {\n      this.tip = this._createTipElement(this._newContent || this._getContentForTemplate())\n    }\n\n    return this.tip\n  }\n\n  _createTipElement(content) {\n    const tip = this._getTemplateFactory(content).toHtml()\n\n    // TODO: remove this check in v6\n    if (!tip) {\n      return null\n    }\n\n    tip.classList.remove(CLASS_NAME_FADE, CLASS_NAME_SHOW)\n    // TODO: v6 the following can be achieved with CSS only\n    tip.classList.add(`bs-${this.constructor.NAME}-auto`)\n\n    const tipId = getUID(this.constructor.NAME).toString()\n\n    tip.setAttribute('id', tipId)\n\n    if (this._isAnimated()) {\n      tip.classList.add(CLASS_NAME_FADE)\n    }\n\n    return tip\n  }\n\n  setContent(content) {\n    this._newContent = content\n    if (this._isShown()) {\n      this._disposePopper()\n      this.show()\n    }\n  }\n\n  _getTemplateFactory(content) {\n    if (this._templateFactory) {\n      this._templateFactory.changeContent(content)\n    } else {\n      this._templateFactory = new TemplateFactory({\n        ...this._config,\n        // the `content` var has to be after `this._config`\n        // to override config.content in case of popover\n        content,\n        extraClass: this._resolvePossibleFunction(this._config.customClass)\n      })\n    }\n\n    return this._templateFactory\n  }\n\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TOOLTIP_INNER]: this._getTitle()\n    }\n  }\n\n  _getTitle() {\n    return this._resolvePossibleFunction(this._config.title) || this._element.getAttribute('data-bs-original-title')\n  }\n\n  // Private\n  _initializeOnDelegatedTarget(event) {\n    return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig())\n  }\n\n  _isAnimated() {\n    return this._config.animation || (this.tip && this.tip.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _isShown() {\n    return this.tip && this.tip.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _createPopper(tip) {\n    const placement = execute(this._config.placement, [this, tip, this._element])\n    const attachment = AttachmentMap[placement.toUpperCase()]\n    return Popper.createPopper(this._element, tip, this._getPopperConfig(attachment))\n  }\n\n  _getOffset() {\n    const { offset } = this._config\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10))\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element)\n    }\n\n    return offset\n  }\n\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [this._element])\n  }\n\n  _getPopperConfig(attachment) {\n    const defaultBsPopperConfig = {\n      placement: attachment,\n      modifiers: [\n        {\n          name: 'flip',\n          options: {\n            fallbackPlacements: this._config.fallbackPlacements\n          }\n        },\n        {\n          name: 'offset',\n          options: {\n            offset: this._getOffset()\n          }\n        },\n        {\n          name: 'preventOverflow',\n          options: {\n            boundary: this._config.boundary\n          }\n        },\n        {\n          name: 'arrow',\n          options: {\n            element: `.${this.constructor.NAME}-arrow`\n          }\n        },\n        {\n          name: 'preSetPlacement',\n          enabled: true,\n          phase: 'beforeMain',\n          fn: data => {\n            // Pre-set Popper's placement attribute in order to read the arrow sizes properly.\n            // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement\n            this._getTipElement().setAttribute('data-popper-placement', data.state.placement)\n          }\n        }\n      ]\n    }\n\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [defaultBsPopperConfig])\n    }\n  }\n\n  _setListeners() {\n    const triggers = this._config.trigger.split(' ')\n\n    for (const trigger of triggers) {\n      if (trigger === 'click') {\n        EventHandler.on(this._element, this.constructor.eventName(EVENT_CLICK), this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context.toggle()\n        })\n      } else if (trigger !== TRIGGER_MANUAL) {\n        const eventIn = trigger === TRIGGER_HOVER ?\n          this.constructor.eventName(EVENT_MOUSEENTER) :\n          this.constructor.eventName(EVENT_FOCUSIN)\n        const eventOut = trigger === TRIGGER_HOVER ?\n          this.constructor.eventName(EVENT_MOUSELEAVE) :\n          this.constructor.eventName(EVENT_FOCUSOUT)\n\n        EventHandler.on(this._element, eventIn, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true\n          context._enter()\n        })\n        EventHandler.on(this._element, eventOut, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] =\n            context._element.contains(event.relatedTarget)\n\n          context._leave()\n        })\n      }\n    }\n\n    this._hideModalHandler = () => {\n      if (this._element) {\n        this.hide()\n      }\n    }\n\n    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n  }\n\n  _fixTitle() {\n    const title = this._element.getAttribute('title')\n\n    if (!title) {\n      return\n    }\n\n    if (!this._element.getAttribute('aria-label') && !this._element.textContent.trim()) {\n      this._element.setAttribute('aria-label', title)\n    }\n\n    this._element.setAttribute('data-bs-original-title', title) // DO NOT USE IT. Is only for backwards compatibility\n    this._element.removeAttribute('title')\n  }\n\n  _enter() {\n    if (this._isShown() || this._isHovered) {\n      this._isHovered = true\n      return\n    }\n\n    this._isHovered = true\n\n    this._setTimeout(() => {\n      if (this._isHovered) {\n        this.show()\n      }\n    }, this._config.delay.show)\n  }\n\n  _leave() {\n    if (this._isWithActiveTrigger()) {\n      return\n    }\n\n    this._isHovered = false\n\n    this._setTimeout(() => {\n      if (!this._isHovered) {\n        this.hide()\n      }\n    }, this._config.delay.hide)\n  }\n\n  _setTimeout(handler, timeout) {\n    clearTimeout(this._timeout)\n    this._timeout = setTimeout(handler, timeout)\n  }\n\n  _isWithActiveTrigger() {\n    return Object.values(this._activeTrigger).includes(true)\n  }\n\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element)\n\n    for (const dataAttribute of Object.keys(dataAttributes)) {\n      if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {\n        delete dataAttributes[dataAttribute]\n      }\n    }\n\n    config = {\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    }\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  _configAfterMerge(config) {\n    config.container = config.container === false ? document.body : getElement(config.container)\n\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      }\n    }\n\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString()\n    }\n\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString()\n    }\n\n    return config\n  }\n\n  _getDelegateConfig() {\n    const config = {}\n\n    for (const [key, value] of Object.entries(this._config)) {\n      if (this.constructor.Default[key] !== value) {\n        config[key] = value\n      }\n    }\n\n    config.selector = false\n    config.trigger = 'manual'\n\n    // In the future can be replaced with:\n    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\n    // `Object.fromEntries(keysWithDifferentValues)`\n    return config\n  }\n\n  _disposePopper() {\n    if (this._popper) {\n      this._popper.destroy()\n      this._popper = null\n    }\n\n    if (this.tip) {\n      this.tip.remove()\n      this.tip = null\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tooltip.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tooltip)\n\nexport default Tooltip\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap popover.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Tooltip from './tooltip.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'popover'\n\nconst SELECTOR_TITLE = '.popover-header'\nconst SELECTOR_CONTENT = '.popover-body'\n\nconst Default = {\n  ...Tooltip.Default,\n  content: '',\n  offset: [0, 8],\n  placement: 'right',\n  template: '<div class=\"popover\" role=\"tooltip\">' +\n    '<div class=\"popover-arrow\"></div>' +\n    '<h3 class=\"popover-header\"></h3>' +\n    '<div class=\"popover-body\"></div>' +\n    '</div>',\n  trigger: 'click'\n}\n\nconst DefaultType = {\n  ...Tooltip.DefaultType,\n  content: '(null|string|element|function)'\n}\n\n/**\n * Class definition\n */\n\nclass Popover extends Tooltip {\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Overrides\n  _isWithContent() {\n    return this._getTitle() || this._getContent()\n  }\n\n  // Private\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TITLE]: this._getTitle(),\n      [SELECTOR_CONTENT]: this._getContent()\n    }\n  }\n\n  _getContent() {\n    return this._resolvePossibleFunction(this._config.content)\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Popover.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Popover)\n\nexport default Popover\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap scrollspy.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin, getElement, isDisabled, isVisible\n} from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'scrollspy'\nconst DATA_KEY = 'bs.scrollspy'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_ACTIVATE = `activate${EVENT_KEY}`\nconst EVENT_CLICK = `click${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item'\nconst CLASS_NAME_ACTIVE = 'active'\n\nconst SELECTOR_DATA_SPY = '[data-bs-spy=\"scroll\"]'\nconst SELECTOR_TARGET_LINKS = '[href]'\nconst SELECTOR_NAV_LIST_GROUP = '.nav, .list-group'\nconst SELECTOR_NAV_LINKS = '.nav-link'\nconst SELECTOR_NAV_ITEMS = '.nav-item'\nconst SELECTOR_LIST_ITEMS = '.list-group-item'\nconst SELECTOR_LINK_ITEMS = `${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`\nconst SELECTOR_DROPDOWN = '.dropdown'\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle'\n\nconst Default = {\n  offset: null, // TODO: v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: '0px 0px -25%',\n  smoothScroll: false,\n  target: null,\n  threshold: [0.1, 0.5, 1]\n}\n\nconst DefaultType = {\n  offset: '(number|null)', // TODO v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: 'string',\n  smoothScroll: 'boolean',\n  target: 'element',\n  threshold: 'array'\n}\n\n/**\n * Class definition\n */\n\nclass ScrollSpy extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    // this._element is the observablesContainer and config.target the menu links wrapper\n    this._targetLinks = new Map()\n    this._observableSections = new Map()\n    this._rootElement = getComputedStyle(this._element).overflowY === 'visible' ? null : this._element\n    this._activeTarget = null\n    this._observer = null\n    this._previousScrollData = {\n      visibleEntryTop: 0,\n      parentScrollTop: 0\n    }\n    this.refresh() // initialize\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  refresh() {\n    this._initializeTargetsAndObservables()\n    this._maybeEnableSmoothScroll()\n\n    if (this._observer) {\n      this._observer.disconnect()\n    } else {\n      this._observer = this._getNewObserver()\n    }\n\n    for (const section of this._observableSections.values()) {\n      this._observer.observe(section)\n    }\n  }\n\n  dispose() {\n    this._observer.disconnect()\n    super.dispose()\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    // TODO: on v6 target should be given explicitly & remove the {target: 'ss-target'} case\n    config.target = getElement(config.target) || document.body\n\n    // TODO: v6 Only for backwards compatibility reasons. Use rootMargin only\n    config.rootMargin = config.offset ? `${config.offset}px 0px -30%` : config.rootMargin\n\n    if (typeof config.threshold === 'string') {\n      config.threshold = config.threshold.split(',').map(value => Number.parseFloat(value))\n    }\n\n    return config\n  }\n\n  _maybeEnableSmoothScroll() {\n    if (!this._config.smoothScroll) {\n      return\n    }\n\n    // unregister any previous listeners\n    EventHandler.off(this._config.target, EVENT_CLICK)\n\n    EventHandler.on(this._config.target, EVENT_CLICK, SELECTOR_TARGET_LINKS, event => {\n      const observableSection = this._observableSections.get(event.target.hash)\n      if (observableSection) {\n        event.preventDefault()\n        const root = this._rootElement || window\n        const height = observableSection.offsetTop - this._element.offsetTop\n        if (root.scrollTo) {\n          root.scrollTo({ top: height, behavior: 'smooth' })\n          return\n        }\n\n        // Chrome 60 doesn't support `scrollTo`\n        root.scrollTop = height\n      }\n    })\n  }\n\n  _getNewObserver() {\n    const options = {\n      root: this._rootElement,\n      threshold: this._config.threshold,\n      rootMargin: this._config.rootMargin\n    }\n\n    return new IntersectionObserver(entries => this._observerCallback(entries), options)\n  }\n\n  // The logic of selection\n  _observerCallback(entries) {\n    const targetElement = entry => this._targetLinks.get(`#${entry.target.id}`)\n    const activate = entry => {\n      this._previousScrollData.visibleEntryTop = entry.target.offsetTop\n      this._process(targetElement(entry))\n    }\n\n    const parentScrollTop = (this._rootElement || document.documentElement).scrollTop\n    const userScrollsDown = parentScrollTop >= this._previousScrollData.parentScrollTop\n    this._previousScrollData.parentScrollTop = parentScrollTop\n\n    for (const entry of entries) {\n      if (!entry.isIntersecting) {\n        this._activeTarget = null\n        this._clearActiveClass(targetElement(entry))\n\n        continue\n      }\n\n      const entryIsLowerThanPrevious = entry.target.offsetTop >= this._previousScrollData.visibleEntryTop\n      // if we are scrolling down, pick the bigger offsetTop\n      if (userScrollsDown && entryIsLowerThanPrevious) {\n        activate(entry)\n        // if parent isn't scrolled, let's keep the first visible item, breaking the iteration\n        if (!parentScrollTop) {\n          return\n        }\n\n        continue\n      }\n\n      // if we are scrolling up, pick the smallest offsetTop\n      if (!userScrollsDown && !entryIsLowerThanPrevious) {\n        activate(entry)\n      }\n    }\n  }\n\n  _initializeTargetsAndObservables() {\n    this._targetLinks = new Map()\n    this._observableSections = new Map()\n\n    const targetLinks = SelectorEngine.find(SELECTOR_TARGET_LINKS, this._config.target)\n\n    for (const anchor of targetLinks) {\n      // ensure that the anchor has an id and is not disabled\n      if (!anchor.hash || isDisabled(anchor)) {\n        continue\n      }\n\n      const observableSection = SelectorEngine.findOne(decodeURI(anchor.hash), this._element)\n\n      // ensure that the observableSection exists & is visible\n      if (isVisible(observableSection)) {\n        this._targetLinks.set(decodeURI(anchor.hash), anchor)\n        this._observableSections.set(anchor.hash, observableSection)\n      }\n    }\n  }\n\n  _process(target) {\n    if (this._activeTarget === target) {\n      return\n    }\n\n    this._clearActiveClass(this._config.target)\n    this._activeTarget = target\n    target.classList.add(CLASS_NAME_ACTIVE)\n    this._activateParents(target)\n\n    EventHandler.trigger(this._element, EVENT_ACTIVATE, { relatedTarget: target })\n  }\n\n  _activateParents(target) {\n    // Activate dropdown parents\n    if (target.classList.contains(CLASS_NAME_DROPDOWN_ITEM)) {\n      SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE, target.closest(SELECTOR_DROPDOWN))\n        .classList.add(CLASS_NAME_ACTIVE)\n      return\n    }\n\n    for (const listGroup of SelectorEngine.parents(target, SELECTOR_NAV_LIST_GROUP)) {\n      // Set triggered links parents as active\n      // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor\n      for (const item of SelectorEngine.prev(listGroup, SELECTOR_LINK_ITEMS)) {\n        item.classList.add(CLASS_NAME_ACTIVE)\n      }\n    }\n  }\n\n  _clearActiveClass(parent) {\n    parent.classList.remove(CLASS_NAME_ACTIVE)\n\n    const activeNodes = SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE}`, parent)\n    for (const node of activeNodes) {\n      node.classList.remove(CLASS_NAME_ACTIVE)\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = ScrollSpy.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const spy of SelectorEngine.find(SELECTOR_DATA_SPY)) {\n    ScrollSpy.getOrCreateInstance(spy)\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(ScrollSpy)\n\nexport default ScrollSpy\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap tab.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { defineJQueryPlugin, getNextActiveElement, isDisabled } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'tab'\nconst DATA_KEY = 'bs.tab'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}`\n\nconst ARROW_LEFT_KEY = 'ArrowLeft'\nconst ARROW_RIGHT_KEY = 'ArrowRight'\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst HOME_KEY = 'Home'\nconst END_KEY = 'End'\n\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_DROPDOWN = 'dropdown'\n\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle'\nconst SELECTOR_DROPDOWN_MENU = '.dropdown-menu'\nconst NOT_SELECTOR_DROPDOWN_TOGGLE = `:not(${SELECTOR_DROPDOWN_TOGGLE})`\n\nconst SELECTOR_TAB_PANEL = '.list-group, .nav, [role=\"tablist\"]'\nconst SELECTOR_OUTER = '.nav-item, .list-group-item'\nconst SELECTOR_INNER = `.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role=\"tab\"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]' // TODO: could only be `tab` in v6\nconst SELECTOR_INNER_ELEM = `${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`\n\nconst SELECTOR_DATA_TOGGLE_ACTIVE = `.${CLASS_NAME_ACTIVE}[data-bs-toggle=\"tab\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"pill\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"list\"]`\n\n/**\n * Class definition\n */\n\nclass Tab extends BaseComponent {\n  constructor(element) {\n    super(element)\n    this._parent = this._element.closest(SELECTOR_TAB_PANEL)\n\n    if (!this._parent) {\n      return\n      // TODO: should throw exception in v6\n      // throw new TypeError(`${element.outerHTML} has not a valid parent ${SELECTOR_INNER_ELEM}`)\n    }\n\n    // Set up initial aria attributes\n    this._setInitialAttributes(this._parent, this._getChildren())\n\n    EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event))\n  }\n\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  show() { // Shows this elem and deactivate the active sibling if exists\n    const innerElem = this._element\n    if (this._elemIsActive(innerElem)) {\n      return\n    }\n\n    // Search for active tab on same parent to deactivate it\n    const active = this._getActiveElem()\n\n    const hideEvent = active ?\n      EventHandler.trigger(active, EVENT_HIDE, { relatedTarget: innerElem }) :\n      null\n\n    const showEvent = EventHandler.trigger(innerElem, EVENT_SHOW, { relatedTarget: active })\n\n    if (showEvent.defaultPrevented || (hideEvent && hideEvent.defaultPrevented)) {\n      return\n    }\n\n    this._deactivate(active, innerElem)\n    this._activate(innerElem, active)\n  }\n\n  // Private\n  _activate(element, relatedElem) {\n    if (!element) {\n      return\n    }\n\n    element.classList.add(CLASS_NAME_ACTIVE)\n\n    this._activate(SelectorEngine.getElementFromSelector(element)) // Search and activate/show the proper section\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.add(CLASS_NAME_SHOW)\n        return\n      }\n\n      element.removeAttribute('tabindex')\n      element.setAttribute('aria-selected', true)\n      this._toggleDropDown(element, true)\n      EventHandler.trigger(element, EVENT_SHOWN, {\n        relatedTarget: relatedElem\n      })\n    }\n\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _deactivate(element, relatedElem) {\n    if (!element) {\n      return\n    }\n\n    element.classList.remove(CLASS_NAME_ACTIVE)\n    element.blur()\n\n    this._deactivate(SelectorEngine.getElementFromSelector(element)) // Search and deactivate the shown section too\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.remove(CLASS_NAME_SHOW)\n        return\n      }\n\n      element.setAttribute('aria-selected', false)\n      element.setAttribute('tabindex', '-1')\n      this._toggleDropDown(element, false)\n      EventHandler.trigger(element, EVENT_HIDDEN, { relatedTarget: relatedElem })\n    }\n\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _keydown(event) {\n    if (!([ARROW_LEFT_KEY, ARROW_RIGHT_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY, HOME_KEY, END_KEY].includes(event.key))) {\n      return\n    }\n\n    event.stopPropagation()// stopPropagation/preventDefault both added to support up/down keys without scrolling the page\n    event.preventDefault()\n\n    const children = this._getChildren().filter(element => !isDisabled(element))\n    let nextActiveElement\n\n    if ([HOME_KEY, END_KEY].includes(event.key)) {\n      nextActiveElement = children[event.key === HOME_KEY ? 0 : children.length - 1]\n    } else {\n      const isNext = [ARROW_RIGHT_KEY, ARROW_DOWN_KEY].includes(event.key)\n      nextActiveElement = getNextActiveElement(children, event.target, isNext, true)\n    }\n\n    if (nextActiveElement) {\n      nextActiveElement.focus({ preventScroll: true })\n      Tab.getOrCreateInstance(nextActiveElement).show()\n    }\n  }\n\n  _getChildren() { // collection of inner elements\n    return SelectorEngine.find(SELECTOR_INNER_ELEM, this._parent)\n  }\n\n  _getActiveElem() {\n    return this._getChildren().find(child => this._elemIsActive(child)) || null\n  }\n\n  _setInitialAttributes(parent, children) {\n    this._setAttributeIfNotExists(parent, 'role', 'tablist')\n\n    for (const child of children) {\n      this._setInitialAttributesOnChild(child)\n    }\n  }\n\n  _setInitialAttributesOnChild(child) {\n    child = this._getInnerElement(child)\n    const isActive = this._elemIsActive(child)\n    const outerElem = this._getOuterElement(child)\n    child.setAttribute('aria-selected', isActive)\n\n    if (outerElem !== child) {\n      this._setAttributeIfNotExists(outerElem, 'role', 'presentation')\n    }\n\n    if (!isActive) {\n      child.setAttribute('tabindex', '-1')\n    }\n\n    this._setAttributeIfNotExists(child, 'role', 'tab')\n\n    // set attributes to the related panel too\n    this._setInitialAttributesOnTargetPanel(child)\n  }\n\n  _setInitialAttributesOnTargetPanel(child) {\n    const target = SelectorEngine.getElementFromSelector(child)\n\n    if (!target) {\n      return\n    }\n\n    this._setAttributeIfNotExists(target, 'role', 'tabpanel')\n\n    if (child.id) {\n      this._setAttributeIfNotExists(target, 'aria-labelledby', `${child.id}`)\n    }\n  }\n\n  _toggleDropDown(element, open) {\n    const outerElem = this._getOuterElement(element)\n    if (!outerElem.classList.contains(CLASS_DROPDOWN)) {\n      return\n    }\n\n    const toggle = (selector, className) => {\n      const element = SelectorEngine.findOne(selector, outerElem)\n      if (element) {\n        element.classList.toggle(className, open)\n      }\n    }\n\n    toggle(SELECTOR_DROPDOWN_TOGGLE, CLASS_NAME_ACTIVE)\n    toggle(SELECTOR_DROPDOWN_MENU, CLASS_NAME_SHOW)\n    outerElem.setAttribute('aria-expanded', open)\n  }\n\n  _setAttributeIfNotExists(element, attribute, value) {\n    if (!element.hasAttribute(attribute)) {\n      element.setAttribute(attribute, value)\n    }\n  }\n\n  _elemIsActive(elem) {\n    return elem.classList.contains(CLASS_NAME_ACTIVE)\n  }\n\n  // Try to get the inner element (usually the .nav-link)\n  _getInnerElement(elem) {\n    return elem.matches(SELECTOR_INNER_ELEM) ? elem : SelectorEngine.findOne(SELECTOR_INNER_ELEM, elem)\n  }\n\n  // Try to get the outer element (usually the .nav-item)\n  _getOuterElement(elem) {\n    return elem.closest(SELECTOR_OUTER) || elem\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tab.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  if (isDisabled(this)) {\n    return\n  }\n\n  Tab.getOrCreateInstance(this).show()\n})\n\n/**\n * Initialize on focus\n */\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE)) {\n    Tab.getOrCreateInstance(element)\n  }\n})\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tab)\n\nexport default Tab\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap toast.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport { defineJQueryPlugin, reflow } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'toast'\nconst DATA_KEY = 'bs.toast'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_MOUSEOVER = `mouseover${EVENT_KEY}`\nconst EVENT_MOUSEOUT = `mouseout${EVENT_KEY}`\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`\nconst EVENT_FOCUSOUT = `focusout${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_HIDE = 'hide' // @deprecated - kept here only for backwards compatibility\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_SHOWING = 'showing'\n\nconst DefaultType = {\n  animation: 'boolean',\n  autohide: 'boolean',\n  delay: 'number'\n}\n\nconst Default = {\n  animation: true,\n  autohide: true,\n  delay: 5000\n}\n\n/**\n * Class definition\n */\n\nclass Toast extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._timeout = null\n    this._hasMouseInteraction = false\n    this._hasKeyboardInteraction = false\n    this._setListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  show() {\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW)\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._clearTimeout()\n\n    if (this._config.animation) {\n      this._element.classList.add(CLASS_NAME_FADE)\n    }\n\n    const complete = () => {\n      this._element.classList.remove(CLASS_NAME_SHOWING)\n      EventHandler.trigger(this._element, EVENT_SHOWN)\n\n      this._maybeScheduleHide()\n    }\n\n    this._element.classList.remove(CLASS_NAME_HIDE) // @deprecated\n    reflow(this._element)\n    this._element.classList.add(CLASS_NAME_SHOW, CLASS_NAME_SHOWING)\n\n    this._queueCallback(complete, this._element, this._config.animation)\n  }\n\n  hide() {\n    if (!this.isShown()) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const complete = () => {\n      this._element.classList.add(CLASS_NAME_HIDE) // @deprecated\n      this._element.classList.remove(CLASS_NAME_SHOWING, CLASS_NAME_SHOW)\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._element.classList.add(CLASS_NAME_SHOWING)\n    this._queueCallback(complete, this._element, this._config.animation)\n  }\n\n  dispose() {\n    this._clearTimeout()\n\n    if (this.isShown()) {\n      this._element.classList.remove(CLASS_NAME_SHOW)\n    }\n\n    super.dispose()\n  }\n\n  isShown() {\n    return this._element.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  // Private\n\n  _maybeScheduleHide() {\n    if (!this._config.autohide) {\n      return\n    }\n\n    if (this._hasMouseInteraction || this._hasKeyboardInteraction) {\n      return\n    }\n\n    this._timeout = setTimeout(() => {\n      this.hide()\n    }, this._config.delay)\n  }\n\n  _onInteraction(event, isInteracting) {\n    switch (event.type) {\n      case 'mouseover':\n      case 'mouseout': {\n        this._hasMouseInteraction = isInteracting\n        break\n      }\n\n      case 'focusin':\n      case 'focusout': {\n        this._hasKeyboardInteraction = isInteracting\n        break\n      }\n\n      default: {\n        break\n      }\n    }\n\n    if (isInteracting) {\n      this._clearTimeout()\n      return\n    }\n\n    const nextElement = event.relatedTarget\n    if (this._element === nextElement || this._element.contains(nextElement)) {\n      return\n    }\n\n    this._maybeScheduleHide()\n  }\n\n  _setListeners() {\n    EventHandler.on(this._element, EVENT_MOUSEOVER, event => this._onInteraction(event, true))\n    EventHandler.on(this._element, EVENT_MOUSEOUT, event => this._onInteraction(event, false))\n    EventHandler.on(this._element, EVENT_FOCUSIN, event => this._onInteraction(event, true))\n    EventHandler.on(this._element, EVENT_FOCUSOUT, event => this._onInteraction(event, false))\n  }\n\n  _clearTimeout() {\n    clearTimeout(this._timeout)\n    this._timeout = null\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Toast.getOrCreateInstance(this, config)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config](this)\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nenableDismissTrigger(Toast)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Toast)\n\nexport default Toast\n", "/**\n * --------------------------------------------------------------------------\n * Bootstrap index.umd.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Alert from './src/alert.js'\nimport Button from './src/button.js'\nimport Carousel from './src/carousel.js'\nimport Collapse from './src/collapse.js'\nimport Dropdown from './src/dropdown.js'\nimport Modal from './src/modal.js'\nimport Offcanvas from './src/offcanvas.js'\nimport Popover from './src/popover.js'\nimport ScrollSpy from './src/scrollspy.js'\nimport Tab from './src/tab.js'\nimport Toast from './src/toast.js'\nimport Tooltip from './src/tooltip.js'\n\nexport default {\n  Alert,\n  Button,\n  Carousel,\n  Collapse,\n  Dropdown,\n  Modal,\n  Offcanvas,\n  Popover,\n  ScrollSpy,\n  Tab,\n  Toast,\n  Tooltip\n}\n", "/*!\nTurbo 8.0.12\nCopyright \u00A9 2024 37signals LLC\n */\n/**\n * The MIT License (MIT)\n *\n * Copyright (c) 2019 Javan Makhmali\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n(function (prototype) {\n  if (typeof prototype.requestSubmit == \"function\") return\n\n  prototype.requestSubmit = function (submitter) {\n    if (submitter) {\n      validateSubmitter(submitter, this);\n      submitter.click();\n    } else {\n      submitter = document.createElement(\"input\");\n      submitter.type = \"submit\";\n      submitter.hidden = true;\n      this.appendChild(submitter);\n      submitter.click();\n      this.removeChild(submitter);\n    }\n  };\n\n  function validateSubmitter(submitter, form) {\n    submitter instanceof HTMLElement || raise(TypeError, \"parameter 1 is not of type 'HTMLElement'\");\n    submitter.type == \"submit\" || raise(TypeError, \"The specified element is not a submit button\");\n    submitter.form == form ||\n      raise(DOMException, \"The specified element is not owned by this form element\", \"NotFoundError\");\n  }\n\n  function raise(errorConstructor, message, name) {\n    throw new errorConstructor(\"Failed to execute 'requestSubmit' on 'HTMLFormElement': \" + message + \".\", name)\n  }\n})(HTMLFormElement.prototype);\n\nconst submittersByForm = new WeakMap();\n\nfunction findSubmitterFromClickTarget(target) {\n  const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n  const candidate = element ? element.closest(\"input, button\") : null;\n  return candidate?.type == \"submit\" ? candidate : null\n}\n\nfunction clickCaptured(event) {\n  const submitter = findSubmitterFromClickTarget(event.target);\n\n  if (submitter && submitter.form) {\n    submittersByForm.set(submitter.form, submitter);\n  }\n}\n\n(function () {\n  if (\"submitter\" in Event.prototype) return\n\n  let prototype = window.Event.prototype;\n  // Certain versions of Safari 15 have a bug where they won't\n  // populate the submitter. This hurts TurboDrive's enable/disable detection.\n  // See https://bugs.webkit.org/show_bug.cgi?id=229660\n  if (\"SubmitEvent\" in window) {\n    const prototypeOfSubmitEvent = window.SubmitEvent.prototype;\n\n    if (/Apple Computer/.test(navigator.vendor) && !(\"submitter\" in prototypeOfSubmitEvent)) {\n      prototype = prototypeOfSubmitEvent;\n    } else {\n      return // polyfill not needed\n    }\n  }\n\n  addEventListener(\"click\", clickCaptured, true);\n\n  Object.defineProperty(prototype, \"submitter\", {\n    get() {\n      if (this.type == \"submit\" && this.target instanceof HTMLFormElement) {\n        return submittersByForm.get(this.target)\n      }\n    }\n  });\n})();\n\nconst FrameLoadingStyle = {\n  eager: \"eager\",\n  lazy: \"lazy\"\n};\n\n/**\n * Contains a fragment of HTML which is updated based on navigation within\n * it (e.g. via links or form submissions).\n *\n * @customElement turbo-frame\n * @example\n *   <turbo-frame id=\"messages\">\n *     <a href=\"/messages/expanded\">\n *       Show all expanded messages in this frame.\n *     </a>\n *\n *     <form action=\"/messages\">\n *       Show response from this form within this frame.\n *     </form>\n *   </turbo-frame>\n */\nclass FrameElement extends HTMLElement {\n  static delegateConstructor = undefined\n\n  loaded = Promise.resolve()\n\n  static get observedAttributes() {\n    return [\"disabled\", \"loading\", \"src\"]\n  }\n\n  constructor() {\n    super();\n    this.delegate = new FrameElement.delegateConstructor(this);\n  }\n\n  connectedCallback() {\n    this.delegate.connect();\n  }\n\n  disconnectedCallback() {\n    this.delegate.disconnect();\n  }\n\n  reload() {\n    return this.delegate.sourceURLReloaded()\n  }\n\n  attributeChangedCallback(name) {\n    if (name == \"loading\") {\n      this.delegate.loadingStyleChanged();\n    } else if (name == \"src\") {\n      this.delegate.sourceURLChanged();\n    } else if (name == \"disabled\") {\n      this.delegate.disabledChanged();\n    }\n  }\n\n  /**\n   * Gets the URL to lazily load source HTML from\n   */\n  get src() {\n    return this.getAttribute(\"src\")\n  }\n\n  /**\n   * Sets the URL to lazily load source HTML from\n   */\n  set src(value) {\n    if (value) {\n      this.setAttribute(\"src\", value);\n    } else {\n      this.removeAttribute(\"src\");\n    }\n  }\n\n  /**\n   * Gets the refresh mode for the frame.\n   */\n  get refresh() {\n    return this.getAttribute(\"refresh\")\n  }\n\n  /**\n   * Sets the refresh mode for the frame.\n   */\n  set refresh(value) {\n    if (value) {\n      this.setAttribute(\"refresh\", value);\n    } else {\n      this.removeAttribute(\"refresh\");\n    }\n  }\n\n  get shouldReloadWithMorph() {\n    return this.src && this.refresh === \"morph\"\n  }\n\n  /**\n   * Determines if the element is loading\n   */\n  get loading() {\n    return frameLoadingStyleFromString(this.getAttribute(\"loading\") || \"\")\n  }\n\n  /**\n   * Sets the value of if the element is loading\n   */\n  set loading(value) {\n    if (value) {\n      this.setAttribute(\"loading\", value);\n    } else {\n      this.removeAttribute(\"loading\");\n    }\n  }\n\n  /**\n   * Gets the disabled state of the frame.\n   *\n   * If disabled, no requests will be intercepted by the frame.\n   */\n  get disabled() {\n    return this.hasAttribute(\"disabled\")\n  }\n\n  /**\n   * Sets the disabled state of the frame.\n   *\n   * If disabled, no requests will be intercepted by the frame.\n   */\n  set disabled(value) {\n    if (value) {\n      this.setAttribute(\"disabled\", \"\");\n    } else {\n      this.removeAttribute(\"disabled\");\n    }\n  }\n\n  /**\n   * Gets the autoscroll state of the frame.\n   *\n   * If true, the frame will be scrolled into view automatically on update.\n   */\n  get autoscroll() {\n    return this.hasAttribute(\"autoscroll\")\n  }\n\n  /**\n   * Sets the autoscroll state of the frame.\n   *\n   * If true, the frame will be scrolled into view automatically on update.\n   */\n  set autoscroll(value) {\n    if (value) {\n      this.setAttribute(\"autoscroll\", \"\");\n    } else {\n      this.removeAttribute(\"autoscroll\");\n    }\n  }\n\n  /**\n   * Determines if the element has finished loading\n   */\n  get complete() {\n    return !this.delegate.isLoading\n  }\n\n  /**\n   * Gets the active state of the frame.\n   *\n   * If inactive, source changes will not be observed.\n   */\n  get isActive() {\n    return this.ownerDocument === document && !this.isPreview\n  }\n\n  /**\n   * Sets the active state of the frame.\n   *\n   * If inactive, source changes will not be observed.\n   */\n  get isPreview() {\n    return this.ownerDocument?.documentElement?.hasAttribute(\"data-turbo-preview\")\n  }\n}\n\nfunction frameLoadingStyleFromString(style) {\n  switch (style.toLowerCase()) {\n    case \"lazy\":\n      return FrameLoadingStyle.lazy\n    default:\n      return FrameLoadingStyle.eager\n  }\n}\n\nconst drive = {\n  enabled: true,\n  progressBarDelay: 500,\n  unvisitableExtensions: new Set(\n    [\n      \".7z\", \".aac\", \".apk\", \".avi\", \".bmp\", \".bz2\", \".css\", \".csv\", \".deb\", \".dmg\", \".doc\",\n      \".docx\", \".exe\", \".gif\", \".gz\", \".heic\", \".heif\", \".ico\", \".iso\", \".jpeg\", \".jpg\",\n      \".js\", \".json\", \".m4a\", \".mkv\", \".mov\", \".mp3\", \".mp4\", \".mpeg\", \".mpg\", \".msi\",\n      \".ogg\", \".ogv\", \".pdf\", \".pkg\", \".png\", \".ppt\", \".pptx\", \".rar\", \".rtf\",\n      \".svg\", \".tar\", \".tif\", \".tiff\", \".txt\", \".wav\", \".webm\", \".webp\", \".wma\", \".wmv\",\n      \".xls\", \".xlsx\", \".xml\", \".zip\"\n    ]\n  )\n};\n\nfunction activateScriptElement(element) {\n  if (element.getAttribute(\"data-turbo-eval\") == \"false\") {\n    return element\n  } else {\n    const createdScriptElement = document.createElement(\"script\");\n    const cspNonce = getCspNonce();\n    if (cspNonce) {\n      createdScriptElement.nonce = cspNonce;\n    }\n    createdScriptElement.textContent = element.textContent;\n    createdScriptElement.async = false;\n    copyElementAttributes(createdScriptElement, element);\n    return createdScriptElement\n  }\n}\n\nfunction copyElementAttributes(destinationElement, sourceElement) {\n  for (const { name, value } of sourceElement.attributes) {\n    destinationElement.setAttribute(name, value);\n  }\n}\n\nfunction createDocumentFragment(html) {\n  const template = document.createElement(\"template\");\n  template.innerHTML = html;\n  return template.content\n}\n\nfunction dispatch(eventName, { target, cancelable, detail } = {}) {\n  const event = new CustomEvent(eventName, {\n    cancelable,\n    bubbles: true,\n    composed: true,\n    detail\n  });\n\n  if (target && target.isConnected) {\n    target.dispatchEvent(event);\n  } else {\n    document.documentElement.dispatchEvent(event);\n  }\n\n  return event\n}\n\nfunction cancelEvent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n\nfunction nextRepaint() {\n  if (document.visibilityState === \"hidden\") {\n    return nextEventLoopTick()\n  } else {\n    return nextAnimationFrame()\n  }\n}\n\nfunction nextAnimationFrame() {\n  return new Promise((resolve) => requestAnimationFrame(() => resolve()))\n}\n\nfunction nextEventLoopTick() {\n  return new Promise((resolve) => setTimeout(() => resolve(), 0))\n}\n\nfunction nextMicrotask() {\n  return Promise.resolve()\n}\n\nfunction parseHTMLDocument(html = \"\") {\n  return new DOMParser().parseFromString(html, \"text/html\")\n}\n\nfunction unindent(strings, ...values) {\n  const lines = interpolate(strings, values).replace(/^\\n/, \"\").split(\"\\n\");\n  const match = lines[0].match(/^\\s+/);\n  const indent = match ? match[0].length : 0;\n  return lines.map((line) => line.slice(indent)).join(\"\\n\")\n}\n\nfunction interpolate(strings, values) {\n  return strings.reduce((result, string, i) => {\n    const value = values[i] == undefined ? \"\" : values[i];\n    return result + string + value\n  }, \"\")\n}\n\nfunction uuid() {\n  return Array.from({ length: 36 })\n    .map((_, i) => {\n      if (i == 8 || i == 13 || i == 18 || i == 23) {\n        return \"-\"\n      } else if (i == 14) {\n        return \"4\"\n      } else if (i == 19) {\n        return (Math.floor(Math.random() * 4) + 8).toString(16)\n      } else {\n        return Math.floor(Math.random() * 15).toString(16)\n      }\n    })\n    .join(\"\")\n}\n\nfunction getAttribute(attributeName, ...elements) {\n  for (const value of elements.map((element) => element?.getAttribute(attributeName))) {\n    if (typeof value == \"string\") return value\n  }\n\n  return null\n}\n\nfunction hasAttribute(attributeName, ...elements) {\n  return elements.some((element) => element && element.hasAttribute(attributeName))\n}\n\nfunction markAsBusy(...elements) {\n  for (const element of elements) {\n    if (element.localName == \"turbo-frame\") {\n      element.setAttribute(\"busy\", \"\");\n    }\n    element.setAttribute(\"aria-busy\", \"true\");\n  }\n}\n\nfunction clearBusyState(...elements) {\n  for (const element of elements) {\n    if (element.localName == \"turbo-frame\") {\n      element.removeAttribute(\"busy\");\n    }\n\n    element.removeAttribute(\"aria-busy\");\n  }\n}\n\nfunction waitForLoad(element, timeoutInMilliseconds = 2000) {\n  return new Promise((resolve) => {\n    const onComplete = () => {\n      element.removeEventListener(\"error\", onComplete);\n      element.removeEventListener(\"load\", onComplete);\n      resolve();\n    };\n\n    element.addEventListener(\"load\", onComplete, { once: true });\n    element.addEventListener(\"error\", onComplete, { once: true });\n    setTimeout(resolve, timeoutInMilliseconds);\n  })\n}\n\nfunction getHistoryMethodForAction(action) {\n  switch (action) {\n    case \"replace\":\n      return history.replaceState\n    case \"advance\":\n    case \"restore\":\n      return history.pushState\n  }\n}\n\nfunction isAction(action) {\n  return action == \"advance\" || action == \"replace\" || action == \"restore\"\n}\n\nfunction getVisitAction(...elements) {\n  const action = getAttribute(\"data-turbo-action\", ...elements);\n\n  return isAction(action) ? action : null\n}\n\nfunction getMetaElement(name) {\n  return document.querySelector(`meta[name=\"${name}\"]`)\n}\n\nfunction getMetaContent(name) {\n  const element = getMetaElement(name);\n  return element && element.content\n}\n\nfunction getCspNonce() {\n  const element = getMetaElement(\"csp-nonce\");\n\n  if (element) {\n    const { nonce, content } = element;\n    return nonce == \"\" ? content : nonce\n  }\n}\n\nfunction setMetaContent(name, content) {\n  let element = getMetaElement(name);\n\n  if (!element) {\n    element = document.createElement(\"meta\");\n    element.setAttribute(\"name\", name);\n\n    document.head.appendChild(element);\n  }\n\n  element.setAttribute(\"content\", content);\n\n  return element\n}\n\nfunction findClosestRecursively(element, selector) {\n  if (element instanceof Element) {\n    return (\n      element.closest(selector) || findClosestRecursively(element.assignedSlot || element.getRootNode()?.host, selector)\n    )\n  }\n}\n\nfunction elementIsFocusable(element) {\n  const inertDisabledOrHidden = \"[inert], :disabled, [hidden], details:not([open]), dialog:not([open])\";\n\n  return !!element && element.closest(inertDisabledOrHidden) == null && typeof element.focus == \"function\"\n}\n\nfunction queryAutofocusableElement(elementOrDocumentFragment) {\n  return Array.from(elementOrDocumentFragment.querySelectorAll(\"[autofocus]\")).find(elementIsFocusable)\n}\n\nasync function around(callback, reader) {\n  const before = reader();\n\n  callback();\n\n  await nextAnimationFrame();\n\n  const after = reader();\n\n  return [before, after]\n}\n\nfunction doesNotTargetIFrame(name) {\n  if (name === \"_blank\") {\n    return false\n  } else if (name) {\n    for (const element of document.getElementsByName(name)) {\n      if (element instanceof HTMLIFrameElement) return false\n    }\n\n    return true\n  } else {\n    return true\n  }\n}\n\nfunction findLinkFromClickTarget(target) {\n  return findClosestRecursively(target, \"a[href]:not([target^=_]):not([download])\")\n}\n\nfunction getLocationForLink(link) {\n  return expandURL(link.getAttribute(\"href\") || \"\")\n}\n\nfunction debounce(fn, delay) {\n  let timeoutId = null;\n\n  return (...args) => {\n    const callback = () => fn.apply(this, args);\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(callback, delay);\n  }\n}\n\nconst submitter = {\n  \"aria-disabled\": {\n    beforeSubmit: submitter => {\n      submitter.setAttribute(\"aria-disabled\", \"true\");\n      submitter.addEventListener(\"click\", cancelEvent);\n    },\n\n    afterSubmit: submitter => {\n      submitter.removeAttribute(\"aria-disabled\");\n      submitter.removeEventListener(\"click\", cancelEvent);\n    }\n  },\n\n  \"disabled\": {\n    beforeSubmit: submitter => submitter.disabled = true,\n    afterSubmit: submitter => submitter.disabled = false\n  }\n};\n\nclass Config {\n  #submitter = null\n\n  constructor(config) {\n    Object.assign(this, config);\n  }\n\n  get submitter() {\n    return this.#submitter\n  }\n\n  set submitter(value) {\n    this.#submitter = submitter[value] || value;\n  }\n}\n\nconst forms = new Config({\n  mode: \"on\",\n  submitter: \"disabled\"\n});\n\nconst config = {\n  drive,\n  forms\n};\n\nfunction expandURL(locatable) {\n  return new URL(locatable.toString(), document.baseURI)\n}\n\nfunction getAnchor(url) {\n  let anchorMatch;\n  if (url.hash) {\n    return url.hash.slice(1)\n    // eslint-disable-next-line no-cond-assign\n  } else if ((anchorMatch = url.href.match(/#(.*)$/))) {\n    return anchorMatch[1]\n  }\n}\n\nfunction getAction$1(form, submitter) {\n  const action = submitter?.getAttribute(\"formaction\") || form.getAttribute(\"action\") || form.action;\n\n  return expandURL(action)\n}\n\nfunction getExtension(url) {\n  return (getLastPathComponent(url).match(/\\.[^.]*$/) || [])[0] || \"\"\n}\n\nfunction isPrefixedBy(baseURL, url) {\n  const prefix = getPrefix(url);\n  return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix)\n}\n\nfunction locationIsVisitable(location, rootLocation) {\n  return isPrefixedBy(location, rootLocation) && !config.drive.unvisitableExtensions.has(getExtension(location))\n}\n\nfunction getRequestURL(url) {\n  const anchor = getAnchor(url);\n  return anchor != null ? url.href.slice(0, -(anchor.length + 1)) : url.href\n}\n\nfunction toCacheKey(url) {\n  return getRequestURL(url)\n}\n\nfunction urlsAreEqual(left, right) {\n  return expandURL(left).href == expandURL(right).href\n}\n\nfunction getPathComponents(url) {\n  return url.pathname.split(\"/\").slice(1)\n}\n\nfunction getLastPathComponent(url) {\n  return getPathComponents(url).slice(-1)[0]\n}\n\nfunction getPrefix(url) {\n  return addTrailingSlash(url.origin + url.pathname)\n}\n\nfunction addTrailingSlash(value) {\n  return value.endsWith(\"/\") ? value : value + \"/\"\n}\n\nclass FetchResponse {\n  constructor(response) {\n    this.response = response;\n  }\n\n  get succeeded() {\n    return this.response.ok\n  }\n\n  get failed() {\n    return !this.succeeded\n  }\n\n  get clientError() {\n    return this.statusCode >= 400 && this.statusCode <= 499\n  }\n\n  get serverError() {\n    return this.statusCode >= 500 && this.statusCode <= 599\n  }\n\n  get redirected() {\n    return this.response.redirected\n  }\n\n  get location() {\n    return expandURL(this.response.url)\n  }\n\n  get isHTML() {\n    return this.contentType && this.contentType.match(/^(?:text\\/([^\\s;,]+\\b)?html|application\\/xhtml\\+xml)\\b/)\n  }\n\n  get statusCode() {\n    return this.response.status\n  }\n\n  get contentType() {\n    return this.header(\"Content-Type\")\n  }\n\n  get responseText() {\n    return this.response.clone().text()\n  }\n\n  get responseHTML() {\n    if (this.isHTML) {\n      return this.response.clone().text()\n    } else {\n      return Promise.resolve(undefined)\n    }\n  }\n\n  header(name) {\n    return this.response.headers.get(name)\n  }\n}\n\nclass LimitedSet extends Set {\n  constructor(maxSize) {\n    super();\n    this.maxSize = maxSize;\n  }\n\n  add(value) {\n    if (this.size >= this.maxSize) {\n      const iterator = this.values();\n      const oldestValue = iterator.next().value;\n      this.delete(oldestValue);\n    }\n    super.add(value);\n  }\n}\n\nconst recentRequests = new LimitedSet(20);\n\nconst nativeFetch = window.fetch;\n\nfunction fetchWithTurboHeaders(url, options = {}) {\n  const modifiedHeaders = new Headers(options.headers || {});\n  const requestUID = uuid();\n  recentRequests.add(requestUID);\n  modifiedHeaders.append(\"X-Turbo-Request-Id\", requestUID);\n\n  return nativeFetch(url, {\n    ...options,\n    headers: modifiedHeaders\n  })\n}\n\nfunction fetchMethodFromString(method) {\n  switch (method.toLowerCase()) {\n    case \"get\":\n      return FetchMethod.get\n    case \"post\":\n      return FetchMethod.post\n    case \"put\":\n      return FetchMethod.put\n    case \"patch\":\n      return FetchMethod.patch\n    case \"delete\":\n      return FetchMethod.delete\n  }\n}\n\nconst FetchMethod = {\n  get: \"get\",\n  post: \"post\",\n  put: \"put\",\n  patch: \"patch\",\n  delete: \"delete\"\n};\n\nfunction fetchEnctypeFromString(encoding) {\n  switch (encoding.toLowerCase()) {\n    case FetchEnctype.multipart:\n      return FetchEnctype.multipart\n    case FetchEnctype.plain:\n      return FetchEnctype.plain\n    default:\n      return FetchEnctype.urlEncoded\n  }\n}\n\nconst FetchEnctype = {\n  urlEncoded: \"application/x-www-form-urlencoded\",\n  multipart: \"multipart/form-data\",\n  plain: \"text/plain\"\n};\n\nclass FetchRequest {\n  abortController = new AbortController()\n  #resolveRequestPromise = (_value) => {}\n\n  constructor(delegate, method, location, requestBody = new URLSearchParams(), target = null, enctype = FetchEnctype.urlEncoded) {\n    const [url, body] = buildResourceAndBody(expandURL(location), method, requestBody, enctype);\n\n    this.delegate = delegate;\n    this.url = url;\n    this.target = target;\n    this.fetchOptions = {\n      credentials: \"same-origin\",\n      redirect: \"follow\",\n      method: method.toUpperCase(),\n      headers: { ...this.defaultHeaders },\n      body: body,\n      signal: this.abortSignal,\n      referrer: this.delegate.referrer?.href\n    };\n    this.enctype = enctype;\n  }\n\n  get method() {\n    return this.fetchOptions.method\n  }\n\n  set method(value) {\n    const fetchBody = this.isSafe ? this.url.searchParams : this.fetchOptions.body || new FormData();\n    const fetchMethod = fetchMethodFromString(value) || FetchMethod.get;\n\n    this.url.search = \"\";\n\n    const [url, body] = buildResourceAndBody(this.url, fetchMethod, fetchBody, this.enctype);\n\n    this.url = url;\n    this.fetchOptions.body = body;\n    this.fetchOptions.method = fetchMethod.toUpperCase();\n  }\n\n  get headers() {\n    return this.fetchOptions.headers\n  }\n\n  set headers(value) {\n    this.fetchOptions.headers = value;\n  }\n\n  get body() {\n    if (this.isSafe) {\n      return this.url.searchParams\n    } else {\n      return this.fetchOptions.body\n    }\n  }\n\n  set body(value) {\n    this.fetchOptions.body = value;\n  }\n\n  get location() {\n    return this.url\n  }\n\n  get params() {\n    return this.url.searchParams\n  }\n\n  get entries() {\n    return this.body ? Array.from(this.body.entries()) : []\n  }\n\n  cancel() {\n    this.abortController.abort();\n  }\n\n  async perform() {\n    const { fetchOptions } = this;\n    this.delegate.prepareRequest(this);\n    const event = await this.#allowRequestToBeIntercepted(fetchOptions);\n    try {\n      this.delegate.requestStarted(this);\n\n      if (event.detail.fetchRequest) {\n        this.response = event.detail.fetchRequest.response;\n      } else {\n        this.response = fetchWithTurboHeaders(this.url.href, fetchOptions);\n      }\n\n      const response = await this.response;\n      return await this.receive(response)\n    } catch (error) {\n      if (error.name !== \"AbortError\") {\n        if (this.#willDelegateErrorHandling(error)) {\n          this.delegate.requestErrored(this, error);\n        }\n        throw error\n      }\n    } finally {\n      this.delegate.requestFinished(this);\n    }\n  }\n\n  async receive(response) {\n    const fetchResponse = new FetchResponse(response);\n    const event = dispatch(\"turbo:before-fetch-response\", {\n      cancelable: true,\n      detail: { fetchResponse },\n      target: this.target\n    });\n    if (event.defaultPrevented) {\n      this.delegate.requestPreventedHandlingResponse(this, fetchResponse);\n    } else if (fetchResponse.succeeded) {\n      this.delegate.requestSucceededWithResponse(this, fetchResponse);\n    } else {\n      this.delegate.requestFailedWithResponse(this, fetchResponse);\n    }\n    return fetchResponse\n  }\n\n  get defaultHeaders() {\n    return {\n      Accept: \"text/html, application/xhtml+xml\"\n    }\n  }\n\n  get isSafe() {\n    return isSafe(this.method)\n  }\n\n  get abortSignal() {\n    return this.abortController.signal\n  }\n\n  acceptResponseType(mimeType) {\n    this.headers[\"Accept\"] = [mimeType, this.headers[\"Accept\"]].join(\", \");\n  }\n\n  async #allowRequestToBeIntercepted(fetchOptions) {\n    const requestInterception = new Promise((resolve) => (this.#resolveRequestPromise = resolve));\n    const event = dispatch(\"turbo:before-fetch-request\", {\n      cancelable: true,\n      detail: {\n        fetchOptions,\n        url: this.url,\n        resume: this.#resolveRequestPromise\n      },\n      target: this.target\n    });\n    this.url = event.detail.url;\n    if (event.defaultPrevented) await requestInterception;\n\n    return event\n  }\n\n  #willDelegateErrorHandling(error) {\n    const event = dispatch(\"turbo:fetch-request-error\", {\n      target: this.target,\n      cancelable: true,\n      detail: { request: this, error: error }\n    });\n\n    return !event.defaultPrevented\n  }\n}\n\nfunction isSafe(fetchMethod) {\n  return fetchMethodFromString(fetchMethod) == FetchMethod.get\n}\n\nfunction buildResourceAndBody(resource, method, requestBody, enctype) {\n  const searchParams =\n    Array.from(requestBody).length > 0 ? new URLSearchParams(entriesExcludingFiles(requestBody)) : resource.searchParams;\n\n  if (isSafe(method)) {\n    return [mergeIntoURLSearchParams(resource, searchParams), null]\n  } else if (enctype == FetchEnctype.urlEncoded) {\n    return [resource, searchParams]\n  } else {\n    return [resource, requestBody]\n  }\n}\n\nfunction entriesExcludingFiles(requestBody) {\n  const entries = [];\n\n  for (const [name, value] of requestBody) {\n    if (value instanceof File) continue\n    else entries.push([name, value]);\n  }\n\n  return entries\n}\n\nfunction mergeIntoURLSearchParams(url, requestBody) {\n  const searchParams = new URLSearchParams(entriesExcludingFiles(requestBody));\n\n  url.search = searchParams.toString();\n\n  return url\n}\n\nclass AppearanceObserver {\n  started = false\n\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n    this.intersectionObserver = new IntersectionObserver(this.intersect);\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true;\n      this.intersectionObserver.observe(this.element);\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false;\n      this.intersectionObserver.unobserve(this.element);\n    }\n  }\n\n  intersect = (entries) => {\n    const lastEntry = entries.slice(-1)[0];\n    if (lastEntry?.isIntersecting) {\n      this.delegate.elementAppearedInViewport(this.element);\n    }\n  }\n}\n\nclass StreamMessage {\n  static contentType = \"text/vnd.turbo-stream.html\"\n\n  static wrap(message) {\n    if (typeof message == \"string\") {\n      return new this(createDocumentFragment(message))\n    } else {\n      return message\n    }\n  }\n\n  constructor(fragment) {\n    this.fragment = importStreamElements(fragment);\n  }\n}\n\nfunction importStreamElements(fragment) {\n  for (const element of fragment.querySelectorAll(\"turbo-stream\")) {\n    const streamElement = document.importNode(element, true);\n\n    for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll(\"script\")) {\n      inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));\n    }\n\n    element.replaceWith(streamElement);\n  }\n\n  return fragment\n}\n\nconst PREFETCH_DELAY = 100;\n\nclass PrefetchCache {\n  #prefetchTimeout = null\n  #prefetched = null\n\n  get(url) {\n    if (this.#prefetched && this.#prefetched.url === url && this.#prefetched.expire > Date.now()) {\n      return this.#prefetched.request\n    }\n  }\n\n  setLater(url, request, ttl) {\n    this.clear();\n\n    this.#prefetchTimeout = setTimeout(() => {\n      request.perform();\n      this.set(url, request, ttl);\n      this.#prefetchTimeout = null;\n    }, PREFETCH_DELAY);\n  }\n\n  set(url, request, ttl) {\n    this.#prefetched = { url, request, expire: new Date(new Date().getTime() + ttl) };\n  }\n\n  clear() {\n    if (this.#prefetchTimeout) clearTimeout(this.#prefetchTimeout);\n    this.#prefetched = null;\n  }\n}\n\nconst cacheTtl = 10 * 1000;\nconst prefetchCache = new PrefetchCache();\n\nconst FormSubmissionState = {\n  initialized: \"initialized\",\n  requesting: \"requesting\",\n  waiting: \"waiting\",\n  receiving: \"receiving\",\n  stopping: \"stopping\",\n  stopped: \"stopped\"\n};\n\nclass FormSubmission {\n  state = FormSubmissionState.initialized\n\n  static confirmMethod(message) {\n    return Promise.resolve(confirm(message))\n  }\n\n  constructor(delegate, formElement, submitter, mustRedirect = false) {\n    const method = getMethod(formElement, submitter);\n    const action = getAction(getFormAction(formElement, submitter), method);\n    const body = buildFormData(formElement, submitter);\n    const enctype = getEnctype(formElement, submitter);\n\n    this.delegate = delegate;\n    this.formElement = formElement;\n    this.submitter = submitter;\n    this.fetchRequest = new FetchRequest(this, method, action, body, formElement, enctype);\n    this.mustRedirect = mustRedirect;\n  }\n\n  get method() {\n    return this.fetchRequest.method\n  }\n\n  set method(value) {\n    this.fetchRequest.method = value;\n  }\n\n  get action() {\n    return this.fetchRequest.url.toString()\n  }\n\n  set action(value) {\n    this.fetchRequest.url = expandURL(value);\n  }\n\n  get body() {\n    return this.fetchRequest.body\n  }\n\n  get enctype() {\n    return this.fetchRequest.enctype\n  }\n\n  get isSafe() {\n    return this.fetchRequest.isSafe\n  }\n\n  get location() {\n    return this.fetchRequest.url\n  }\n\n  // The submission process\n\n  async start() {\n    const { initialized, requesting } = FormSubmissionState;\n    const confirmationMessage = getAttribute(\"data-turbo-confirm\", this.submitter, this.formElement);\n\n    if (typeof confirmationMessage === \"string\") {\n      const confirmMethod = typeof config.forms.confirm === \"function\" ?\n        config.forms.confirm :\n        FormSubmission.confirmMethod;\n\n      const answer = await confirmMethod(confirmationMessage, this.formElement, this.submitter);\n      if (!answer) {\n        return\n      }\n    }\n\n    if (this.state == initialized) {\n      this.state = requesting;\n      return this.fetchRequest.perform()\n    }\n  }\n\n  stop() {\n    const { stopping, stopped } = FormSubmissionState;\n    if (this.state != stopping && this.state != stopped) {\n      this.state = stopping;\n      this.fetchRequest.cancel();\n      return true\n    }\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    if (!request.isSafe) {\n      const token = getCookieValue(getMetaContent(\"csrf-param\")) || getMetaContent(\"csrf-token\");\n      if (token) {\n        request.headers[\"X-CSRF-Token\"] = token;\n      }\n    }\n\n    if (this.requestAcceptsTurboStreamResponse(request)) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted(_request) {\n    this.state = FormSubmissionState.waiting;\n    if (this.submitter) config.forms.submitter.beforeSubmit(this.submitter);\n    this.setSubmitsWith();\n    markAsBusy(this.formElement);\n    dispatch(\"turbo:submit-start\", {\n      target: this.formElement,\n      detail: { formSubmission: this }\n    });\n    this.delegate.formSubmissionStarted(this);\n  }\n\n  requestPreventedHandlingResponse(request, response) {\n    prefetchCache.clear();\n\n    this.result = { success: response.succeeded, fetchResponse: response };\n  }\n\n  requestSucceededWithResponse(request, response) {\n    if (response.clientError || response.serverError) {\n      this.delegate.formSubmissionFailedWithResponse(this, response);\n      return\n    }\n\n    prefetchCache.clear();\n\n    if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {\n      const error = new Error(\"Form responses must redirect to another location\");\n      this.delegate.formSubmissionErrored(this, error);\n    } else {\n      this.state = FormSubmissionState.receiving;\n      this.result = { success: true, fetchResponse: response };\n      this.delegate.formSubmissionSucceededWithResponse(this, response);\n    }\n  }\n\n  requestFailedWithResponse(request, response) {\n    this.result = { success: false, fetchResponse: response };\n    this.delegate.formSubmissionFailedWithResponse(this, response);\n  }\n\n  requestErrored(request, error) {\n    this.result = { success: false, error };\n    this.delegate.formSubmissionErrored(this, error);\n  }\n\n  requestFinished(_request) {\n    this.state = FormSubmissionState.stopped;\n    if (this.submitter) config.forms.submitter.afterSubmit(this.submitter);\n    this.resetSubmitterText();\n    clearBusyState(this.formElement);\n    dispatch(\"turbo:submit-end\", {\n      target: this.formElement,\n      detail: { formSubmission: this, ...this.result }\n    });\n    this.delegate.formSubmissionFinished(this);\n  }\n\n  // Private\n\n  setSubmitsWith() {\n    if (!this.submitter || !this.submitsWith) return\n\n    if (this.submitter.matches(\"button\")) {\n      this.originalSubmitText = this.submitter.innerHTML;\n      this.submitter.innerHTML = this.submitsWith;\n    } else if (this.submitter.matches(\"input\")) {\n      const input = this.submitter;\n      this.originalSubmitText = input.value;\n      input.value = this.submitsWith;\n    }\n  }\n\n  resetSubmitterText() {\n    if (!this.submitter || !this.originalSubmitText) return\n\n    if (this.submitter.matches(\"button\")) {\n      this.submitter.innerHTML = this.originalSubmitText;\n    } else if (this.submitter.matches(\"input\")) {\n      const input = this.submitter;\n      input.value = this.originalSubmitText;\n    }\n  }\n\n  requestMustRedirect(request) {\n    return !request.isSafe && this.mustRedirect\n  }\n\n  requestAcceptsTurboStreamResponse(request) {\n    return !request.isSafe || hasAttribute(\"data-turbo-stream\", this.submitter, this.formElement)\n  }\n\n  get submitsWith() {\n    return this.submitter?.getAttribute(\"data-turbo-submits-with\")\n  }\n}\n\nfunction buildFormData(formElement, submitter) {\n  const formData = new FormData(formElement);\n  const name = submitter?.getAttribute(\"name\");\n  const value = submitter?.getAttribute(\"value\");\n\n  if (name) {\n    formData.append(name, value || \"\");\n  }\n\n  return formData\n}\n\nfunction getCookieValue(cookieName) {\n  if (cookieName != null) {\n    const cookies = document.cookie ? document.cookie.split(\"; \") : [];\n    const cookie = cookies.find((cookie) => cookie.startsWith(cookieName));\n    if (cookie) {\n      const value = cookie.split(\"=\").slice(1).join(\"=\");\n      return value ? decodeURIComponent(value) : undefined\n    }\n  }\n}\n\nfunction responseSucceededWithoutRedirect(response) {\n  return response.statusCode == 200 && !response.redirected\n}\n\nfunction getFormAction(formElement, submitter) {\n  const formElementAction = typeof formElement.action === \"string\" ? formElement.action : null;\n\n  if (submitter?.hasAttribute(\"formaction\")) {\n    return submitter.getAttribute(\"formaction\") || \"\"\n  } else {\n    return formElement.getAttribute(\"action\") || formElementAction || \"\"\n  }\n}\n\nfunction getAction(formAction, fetchMethod) {\n  const action = expandURL(formAction);\n\n  if (isSafe(fetchMethod)) {\n    action.search = \"\";\n  }\n\n  return action\n}\n\nfunction getMethod(formElement, submitter) {\n  const method = submitter?.getAttribute(\"formmethod\") || formElement.getAttribute(\"method\") || \"\";\n  return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get\n}\n\nfunction getEnctype(formElement, submitter) {\n  return fetchEnctypeFromString(submitter?.getAttribute(\"formenctype\") || formElement.enctype)\n}\n\nclass Snapshot {\n  constructor(element) {\n    this.element = element;\n  }\n\n  get activeElement() {\n    return this.element.ownerDocument.activeElement\n  }\n\n  get children() {\n    return [...this.element.children]\n  }\n\n  hasAnchor(anchor) {\n    return this.getElementForAnchor(anchor) != null\n  }\n\n  getElementForAnchor(anchor) {\n    return anchor ? this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`) : null\n  }\n\n  get isConnected() {\n    return this.element.isConnected\n  }\n\n  get firstAutofocusableElement() {\n    return queryAutofocusableElement(this.element)\n  }\n\n  get permanentElements() {\n    return queryPermanentElementsAll(this.element)\n  }\n\n  getPermanentElementById(id) {\n    return getPermanentElementById(this.element, id)\n  }\n\n  getPermanentElementMapForSnapshot(snapshot) {\n    const permanentElementMap = {};\n\n    for (const currentPermanentElement of this.permanentElements) {\n      const { id } = currentPermanentElement;\n      const newPermanentElement = snapshot.getPermanentElementById(id);\n      if (newPermanentElement) {\n        permanentElementMap[id] = [currentPermanentElement, newPermanentElement];\n      }\n    }\n\n    return permanentElementMap\n  }\n}\n\nfunction getPermanentElementById(node, id) {\n  return node.querySelector(`#${id}[data-turbo-permanent]`)\n}\n\nfunction queryPermanentElementsAll(node) {\n  return node.querySelectorAll(\"[id][data-turbo-permanent]\")\n}\n\nclass FormSubmitObserver {\n  started = false\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (!this.started) {\n      this.eventTarget.addEventListener(\"submit\", this.submitCaptured, true);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.eventTarget.removeEventListener(\"submit\", this.submitCaptured, true);\n      this.started = false;\n    }\n  }\n\n  submitCaptured = () => {\n    this.eventTarget.removeEventListener(\"submit\", this.submitBubbled, false);\n    this.eventTarget.addEventListener(\"submit\", this.submitBubbled, false);\n  }\n\n  submitBubbled = (event) => {\n    if (!event.defaultPrevented) {\n      const form = event.target instanceof HTMLFormElement ? event.target : undefined;\n      const submitter = event.submitter || undefined;\n\n      if (\n        form &&\n        submissionDoesNotDismissDialog(form, submitter) &&\n        submissionDoesNotTargetIFrame(form, submitter) &&\n        this.delegate.willSubmitForm(form, submitter)\n      ) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        this.delegate.formSubmitted(form, submitter);\n      }\n    }\n  }\n}\n\nfunction submissionDoesNotDismissDialog(form, submitter) {\n  const method = submitter?.getAttribute(\"formmethod\") || form.getAttribute(\"method\");\n\n  return method != \"dialog\"\n}\n\nfunction submissionDoesNotTargetIFrame(form, submitter) {\n  const target = submitter?.getAttribute(\"formtarget\") || form.getAttribute(\"target\");\n\n  return doesNotTargetIFrame(target)\n}\n\nclass View {\n  #resolveRenderPromise = (_value) => {}\n  #resolveInterceptionPromise = (_value) => {}\n\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n  }\n\n  // Scrolling\n\n  scrollToAnchor(anchor) {\n    const element = this.snapshot.getElementForAnchor(anchor);\n    if (element) {\n      this.scrollToElement(element);\n      this.focusElement(element);\n    } else {\n      this.scrollToPosition({ x: 0, y: 0 });\n    }\n  }\n\n  scrollToAnchorFromLocation(location) {\n    this.scrollToAnchor(getAnchor(location));\n  }\n\n  scrollToElement(element) {\n    element.scrollIntoView();\n  }\n\n  focusElement(element) {\n    if (element instanceof HTMLElement) {\n      if (element.hasAttribute(\"tabindex\")) {\n        element.focus();\n      } else {\n        element.setAttribute(\"tabindex\", \"-1\");\n        element.focus();\n        element.removeAttribute(\"tabindex\");\n      }\n    }\n  }\n\n  scrollToPosition({ x, y }) {\n    this.scrollRoot.scrollTo(x, y);\n  }\n\n  scrollToTop() {\n    this.scrollToPosition({ x: 0, y: 0 });\n  }\n\n  get scrollRoot() {\n    return window\n  }\n\n  // Rendering\n\n  async render(renderer) {\n    const { isPreview, shouldRender, willRender, newSnapshot: snapshot } = renderer;\n\n    // A workaround to ignore tracked element mismatch reloads when performing\n    // a promoted Visit from a frame navigation\n    const shouldInvalidate = willRender;\n\n    if (shouldRender) {\n      try {\n        this.renderPromise = new Promise((resolve) => (this.#resolveRenderPromise = resolve));\n        this.renderer = renderer;\n        await this.prepareToRenderSnapshot(renderer);\n\n        const renderInterception = new Promise((resolve) => (this.#resolveInterceptionPromise = resolve));\n        const options = { resume: this.#resolveInterceptionPromise, render: this.renderer.renderElement, renderMethod: this.renderer.renderMethod };\n        const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);\n        if (!immediateRender) await renderInterception;\n\n        await this.renderSnapshot(renderer);\n        this.delegate.viewRenderedSnapshot(snapshot, isPreview, this.renderer.renderMethod);\n        this.delegate.preloadOnLoadLinksForView(this.element);\n        this.finishRenderingSnapshot(renderer);\n      } finally {\n        delete this.renderer;\n        this.#resolveRenderPromise(undefined);\n        delete this.renderPromise;\n      }\n    } else if (shouldInvalidate) {\n      this.invalidate(renderer.reloadReason);\n    }\n  }\n\n  invalidate(reason) {\n    this.delegate.viewInvalidated(reason);\n  }\n\n  async prepareToRenderSnapshot(renderer) {\n    this.markAsPreview(renderer.isPreview);\n    await renderer.prepareToRender();\n  }\n\n  markAsPreview(isPreview) {\n    if (isPreview) {\n      this.element.setAttribute(\"data-turbo-preview\", \"\");\n    } else {\n      this.element.removeAttribute(\"data-turbo-preview\");\n    }\n  }\n\n  markVisitDirection(direction) {\n    this.element.setAttribute(\"data-turbo-visit-direction\", direction);\n  }\n\n  unmarkVisitDirection() {\n    this.element.removeAttribute(\"data-turbo-visit-direction\");\n  }\n\n  async renderSnapshot(renderer) {\n    await renderer.render();\n  }\n\n  finishRenderingSnapshot(renderer) {\n    renderer.finishRendering();\n  }\n}\n\nclass FrameView extends View {\n  missing() {\n    this.element.innerHTML = `<strong class=\"turbo-frame-error\">Content missing</strong>`;\n  }\n\n  get snapshot() {\n    return new Snapshot(this.element)\n  }\n}\n\nclass LinkInterceptor {\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n  }\n\n  start() {\n    this.element.addEventListener(\"click\", this.clickBubbled);\n    document.addEventListener(\"turbo:click\", this.linkClicked);\n    document.addEventListener(\"turbo:before-visit\", this.willVisit);\n  }\n\n  stop() {\n    this.element.removeEventListener(\"click\", this.clickBubbled);\n    document.removeEventListener(\"turbo:click\", this.linkClicked);\n    document.removeEventListener(\"turbo:before-visit\", this.willVisit);\n  }\n\n  clickBubbled = (event) => {\n    if (this.clickEventIsSignificant(event)) {\n      this.clickEvent = event;\n    } else {\n      delete this.clickEvent;\n    }\n  }\n\n  linkClicked = (event) => {\n    if (this.clickEvent && this.clickEventIsSignificant(event)) {\n      if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {\n        this.clickEvent.preventDefault();\n        event.preventDefault();\n        this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);\n      }\n    }\n    delete this.clickEvent;\n  }\n\n  willVisit = (_event) => {\n    delete this.clickEvent;\n  }\n\n  clickEventIsSignificant(event) {\n    const target = event.composed ? event.target?.parentElement : event.target;\n    const element = findLinkFromClickTarget(target) || target;\n\n    return element instanceof Element && element.closest(\"turbo-frame, html\") == this.element\n  }\n}\n\nclass LinkClickObserver {\n  started = false\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (!this.started) {\n      this.eventTarget.addEventListener(\"click\", this.clickCaptured, true);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.eventTarget.removeEventListener(\"click\", this.clickCaptured, true);\n      this.started = false;\n    }\n  }\n\n  clickCaptured = () => {\n    this.eventTarget.removeEventListener(\"click\", this.clickBubbled, false);\n    this.eventTarget.addEventListener(\"click\", this.clickBubbled, false);\n  }\n\n  clickBubbled = (event) => {\n    if (event instanceof MouseEvent && this.clickEventIsSignificant(event)) {\n      const target = (event.composedPath && event.composedPath()[0]) || event.target;\n      const link = findLinkFromClickTarget(target);\n      if (link && doesNotTargetIFrame(link.target)) {\n        const location = getLocationForLink(link);\n        if (this.delegate.willFollowLinkToLocation(link, location, event)) {\n          event.preventDefault();\n          this.delegate.followedLinkToLocation(link, location);\n        }\n      }\n    }\n  }\n\n  clickEventIsSignificant(event) {\n    return !(\n      (event.target && event.target.isContentEditable) ||\n      event.defaultPrevented ||\n      event.which > 1 ||\n      event.altKey ||\n      event.ctrlKey ||\n      event.metaKey ||\n      event.shiftKey\n    )\n  }\n}\n\nclass FormLinkClickObserver {\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.linkInterceptor = new LinkClickObserver(this, element);\n  }\n\n  start() {\n    this.linkInterceptor.start();\n  }\n\n  stop() {\n    this.linkInterceptor.stop();\n  }\n\n  // Link hover observer delegate\n\n  canPrefetchRequestToLocation(link, location) {\n    return false\n  }\n\n  prefetchAndCacheRequestToLocation(link, location) {\n    return\n  }\n\n  // Link click observer delegate\n\n  willFollowLinkToLocation(link, location, originalEvent) {\n    return (\n      this.delegate.willSubmitFormLinkToLocation(link, location, originalEvent) &&\n      (link.hasAttribute(\"data-turbo-method\") || link.hasAttribute(\"data-turbo-stream\"))\n    )\n  }\n\n  followedLinkToLocation(link, location) {\n    const form = document.createElement(\"form\");\n\n    const type = \"hidden\";\n    for (const [name, value] of location.searchParams) {\n      form.append(Object.assign(document.createElement(\"input\"), { type, name, value }));\n    }\n\n    const action = Object.assign(location, { search: \"\" });\n    form.setAttribute(\"data-turbo\", \"true\");\n    form.setAttribute(\"action\", action.href);\n    form.setAttribute(\"hidden\", \"\");\n\n    const method = link.getAttribute(\"data-turbo-method\");\n    if (method) form.setAttribute(\"method\", method);\n\n    const turboFrame = link.getAttribute(\"data-turbo-frame\");\n    if (turboFrame) form.setAttribute(\"data-turbo-frame\", turboFrame);\n\n    const turboAction = getVisitAction(link);\n    if (turboAction) form.setAttribute(\"data-turbo-action\", turboAction);\n\n    const turboConfirm = link.getAttribute(\"data-turbo-confirm\");\n    if (turboConfirm) form.setAttribute(\"data-turbo-confirm\", turboConfirm);\n\n    const turboStream = link.hasAttribute(\"data-turbo-stream\");\n    if (turboStream) form.setAttribute(\"data-turbo-stream\", \"\");\n\n    this.delegate.submittedFormLinkToLocation(link, location, form);\n\n    document.body.appendChild(form);\n    form.addEventListener(\"turbo:submit-end\", () => form.remove(), { once: true });\n    requestAnimationFrame(() => form.requestSubmit());\n  }\n}\n\nclass Bardo {\n  static async preservingPermanentElements(delegate, permanentElementMap, callback) {\n    const bardo = new this(delegate, permanentElementMap);\n    bardo.enter();\n    await callback();\n    bardo.leave();\n  }\n\n  constructor(delegate, permanentElementMap) {\n    this.delegate = delegate;\n    this.permanentElementMap = permanentElementMap;\n  }\n\n  enter() {\n    for (const id in this.permanentElementMap) {\n      const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];\n      this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);\n      this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);\n    }\n  }\n\n  leave() {\n    for (const id in this.permanentElementMap) {\n      const [currentPermanentElement] = this.permanentElementMap[id];\n      this.replaceCurrentPermanentElementWithClone(currentPermanentElement);\n      this.replacePlaceholderWithPermanentElement(currentPermanentElement);\n      this.delegate.leavingBardo(currentPermanentElement);\n    }\n  }\n\n  replaceNewPermanentElementWithPlaceholder(permanentElement) {\n    const placeholder = createPlaceholderForPermanentElement(permanentElement);\n    permanentElement.replaceWith(placeholder);\n  }\n\n  replaceCurrentPermanentElementWithClone(permanentElement) {\n    const clone = permanentElement.cloneNode(true);\n    permanentElement.replaceWith(clone);\n  }\n\n  replacePlaceholderWithPermanentElement(permanentElement) {\n    const placeholder = this.getPlaceholderById(permanentElement.id);\n    placeholder?.replaceWith(permanentElement);\n  }\n\n  getPlaceholderById(id) {\n    return this.placeholders.find((element) => element.content == id)\n  }\n\n  get placeholders() {\n    return [...document.querySelectorAll(\"meta[name=turbo-permanent-placeholder][content]\")]\n  }\n}\n\nfunction createPlaceholderForPermanentElement(permanentElement) {\n  const element = document.createElement(\"meta\");\n  element.setAttribute(\"name\", \"turbo-permanent-placeholder\");\n  element.setAttribute(\"content\", permanentElement.id);\n  return element\n}\n\nclass Renderer {\n  #activeElement = null\n\n  static renderElement(currentElement, newElement) {\n    // Abstract method\n  }\n\n  constructor(currentSnapshot, newSnapshot, isPreview, willRender = true) {\n    this.currentSnapshot = currentSnapshot;\n    this.newSnapshot = newSnapshot;\n    this.isPreview = isPreview;\n    this.willRender = willRender;\n    this.renderElement = this.constructor.renderElement;\n    this.promise = new Promise((resolve, reject) => (this.resolvingFunctions = { resolve, reject }));\n  }\n\n  get shouldRender() {\n    return true\n  }\n\n  get shouldAutofocus() {\n    return true\n  }\n\n  get reloadReason() {\n    return\n  }\n\n  prepareToRender() {\n    return\n  }\n\n  render() {\n    // Abstract method\n  }\n\n  finishRendering() {\n    if (this.resolvingFunctions) {\n      this.resolvingFunctions.resolve();\n      delete this.resolvingFunctions;\n    }\n  }\n\n  async preservingPermanentElements(callback) {\n    await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);\n  }\n\n  focusFirstAutofocusableElement() {\n    if (this.shouldAutofocus) {\n      const element = this.connectedSnapshot.firstAutofocusableElement;\n      if (element) {\n        element.focus();\n      }\n    }\n  }\n\n  // Bardo delegate\n\n  enteringBardo(currentPermanentElement) {\n    if (this.#activeElement) return\n\n    if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {\n      this.#activeElement = this.currentSnapshot.activeElement;\n    }\n  }\n\n  leavingBardo(currentPermanentElement) {\n    if (currentPermanentElement.contains(this.#activeElement) && this.#activeElement instanceof HTMLElement) {\n      this.#activeElement.focus();\n\n      this.#activeElement = null;\n    }\n  }\n\n  get connectedSnapshot() {\n    return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot\n  }\n\n  get currentElement() {\n    return this.currentSnapshot.element\n  }\n\n  get newElement() {\n    return this.newSnapshot.element\n  }\n\n  get permanentElementMap() {\n    return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)\n  }\n\n  get renderMethod() {\n    return \"replace\"\n  }\n}\n\nclass FrameRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    const destinationRange = document.createRange();\n    destinationRange.selectNodeContents(currentElement);\n    destinationRange.deleteContents();\n\n    const frameElement = newElement;\n    const sourceRange = frameElement.ownerDocument?.createRange();\n    if (sourceRange) {\n      sourceRange.selectNodeContents(frameElement);\n      currentElement.appendChild(sourceRange.extractContents());\n    }\n  }\n\n  constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n    super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);\n    this.delegate = delegate;\n  }\n\n  get shouldRender() {\n    return true\n  }\n\n  async render() {\n    await nextRepaint();\n    this.preservingPermanentElements(() => {\n      this.loadFrameElement();\n    });\n    this.scrollFrameIntoView();\n    await nextRepaint();\n    this.focusFirstAutofocusableElement();\n    await nextRepaint();\n    this.activateScriptElements();\n  }\n\n  loadFrameElement() {\n    this.delegate.willRenderFrame(this.currentElement, this.newElement);\n    this.renderElement(this.currentElement, this.newElement);\n  }\n\n  scrollFrameIntoView() {\n    if (this.currentElement.autoscroll || this.newElement.autoscroll) {\n      const element = this.currentElement.firstElementChild;\n      const block = readScrollLogicalPosition(this.currentElement.getAttribute(\"data-autoscroll-block\"), \"end\");\n      const behavior = readScrollBehavior(this.currentElement.getAttribute(\"data-autoscroll-behavior\"), \"auto\");\n\n      if (element) {\n        element.scrollIntoView({ block, behavior });\n        return true\n      }\n    }\n    return false\n  }\n\n  activateScriptElements() {\n    for (const inertScriptElement of this.newScriptElements) {\n      const activatedScriptElement = activateScriptElement(inertScriptElement);\n      inertScriptElement.replaceWith(activatedScriptElement);\n    }\n  }\n\n  get newScriptElements() {\n    return this.currentElement.querySelectorAll(\"script\")\n  }\n}\n\nfunction readScrollLogicalPosition(value, defaultValue) {\n  if (value == \"end\" || value == \"start\" || value == \"center\" || value == \"nearest\") {\n    return value\n  } else {\n    return defaultValue\n  }\n}\n\nfunction readScrollBehavior(value, defaultValue) {\n  if (value == \"auto\" || value == \"smooth\") {\n    return value\n  } else {\n    return defaultValue\n  }\n}\n\n// base IIFE to define idiomorph\nvar Idiomorph = (function () {\n\n        //=============================================================================\n        // AND NOW IT BEGINS...\n        //=============================================================================\n        let EMPTY_SET = new Set();\n\n        // default configuration values, updatable by users now\n        let defaults = {\n            morphStyle: \"outerHTML\",\n            callbacks : {\n                beforeNodeAdded: noOp,\n                afterNodeAdded: noOp,\n                beforeNodeMorphed: noOp,\n                afterNodeMorphed: noOp,\n                beforeNodeRemoved: noOp,\n                afterNodeRemoved: noOp,\n                beforeAttributeUpdated: noOp,\n\n            },\n            head: {\n                style: 'merge',\n                shouldPreserve: function (elt) {\n                    return elt.getAttribute(\"im-preserve\") === \"true\";\n                },\n                shouldReAppend: function (elt) {\n                    return elt.getAttribute(\"im-re-append\") === \"true\";\n                },\n                shouldRemove: noOp,\n                afterHeadMorphed: noOp,\n            }\n        };\n\n        //=============================================================================\n        // Core Morphing Algorithm - morph, morphNormalizedContent, morphOldNodeTo, morphChildren\n        //=============================================================================\n        function morph(oldNode, newContent, config = {}) {\n\n            if (oldNode instanceof Document) {\n                oldNode = oldNode.documentElement;\n            }\n\n            if (typeof newContent === 'string') {\n                newContent = parseContent(newContent);\n            }\n\n            let normalizedContent = normalizeContent(newContent);\n\n            let ctx = createMorphContext(oldNode, normalizedContent, config);\n\n            return morphNormalizedContent(oldNode, normalizedContent, ctx);\n        }\n\n        function morphNormalizedContent(oldNode, normalizedNewContent, ctx) {\n            if (ctx.head.block) {\n                let oldHead = oldNode.querySelector('head');\n                let newHead = normalizedNewContent.querySelector('head');\n                if (oldHead && newHead) {\n                    let promises = handleHeadElement(newHead, oldHead, ctx);\n                    // when head promises resolve, call morph again, ignoring the head tag\n                    Promise.all(promises).then(function () {\n                        morphNormalizedContent(oldNode, normalizedNewContent, Object.assign(ctx, {\n                            head: {\n                                block: false,\n                                ignore: true\n                            }\n                        }));\n                    });\n                    return;\n                }\n            }\n\n            if (ctx.morphStyle === \"innerHTML\") {\n\n                // innerHTML, so we are only updating the children\n                morphChildren(normalizedNewContent, oldNode, ctx);\n                return oldNode.children;\n\n            } else if (ctx.morphStyle === \"outerHTML\" || ctx.morphStyle == null) {\n                // otherwise find the best element match in the new content, morph that, and merge its siblings\n                // into either side of the best match\n                let bestMatch = findBestNodeMatch(normalizedNewContent, oldNode, ctx);\n\n                // stash the siblings that will need to be inserted on either side of the best match\n                let previousSibling = bestMatch?.previousSibling;\n                let nextSibling = bestMatch?.nextSibling;\n\n                // morph it\n                let morphedNode = morphOldNodeTo(oldNode, bestMatch, ctx);\n\n                if (bestMatch) {\n                    // if there was a best match, merge the siblings in too and return the\n                    // whole bunch\n                    return insertSiblings(previousSibling, morphedNode, nextSibling);\n                } else {\n                    // otherwise nothing was added to the DOM\n                    return []\n                }\n            } else {\n                throw \"Do not understand how to morph style \" + ctx.morphStyle;\n            }\n        }\n\n\n        /**\n         * @param possibleActiveElement\n         * @param ctx\n         * @returns {boolean}\n         */\n        function ignoreValueOfActiveElement(possibleActiveElement, ctx) {\n            return ctx.ignoreActiveValue && possibleActiveElement === document.activeElement && possibleActiveElement !== document.body;\n        }\n\n        /**\n         * @param oldNode root node to merge content into\n         * @param newContent new content to merge\n         * @param ctx the merge context\n         * @returns {Element} the element that ended up in the DOM\n         */\n        function morphOldNodeTo(oldNode, newContent, ctx) {\n            if (ctx.ignoreActive && oldNode === document.activeElement) ; else if (newContent == null) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n\n                oldNode.remove();\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return null;\n            } else if (!isSoftMatch(oldNode, newContent)) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n                if (ctx.callbacks.beforeNodeAdded(newContent) === false) return oldNode;\n\n                oldNode.parentElement.replaceChild(newContent, oldNode);\n                ctx.callbacks.afterNodeAdded(newContent);\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return newContent;\n            } else {\n                if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) return oldNode;\n\n                if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) ; else if (oldNode instanceof HTMLHeadElement && ctx.head.style !== \"morph\") {\n                    handleHeadElement(newContent, oldNode, ctx);\n                } else {\n                    syncNodeFrom(newContent, oldNode, ctx);\n                    if (!ignoreValueOfActiveElement(oldNode, ctx)) {\n                        morphChildren(newContent, oldNode, ctx);\n                    }\n                }\n                ctx.callbacks.afterNodeMorphed(oldNode, newContent);\n                return oldNode;\n            }\n        }\n\n        /**\n         * This is the core algorithm for matching up children.  The idea is to use id sets to try to match up\n         * nodes as faithfully as possible.  We greedily match, which allows us to keep the algorithm fast, but\n         * by using id sets, we are able to better match up with content deeper in the DOM.\n         *\n         * Basic algorithm is, for each node in the new content:\n         *\n         * - if we have reached the end of the old parent, append the new content\n         * - if the new content has an id set match with the current insertion point, morph\n         * - search for an id set match\n         * - if id set match found, morph\n         * - otherwise search for a \"soft\" match\n         * - if a soft match is found, morph\n         * - otherwise, prepend the new node before the current insertion point\n         *\n         * The two search algorithms terminate if competing node matches appear to outweigh what can be achieved\n         * with the current node.  See findIdSetMatch() and findSoftMatch() for details.\n         *\n         * @param {Element} newParent the parent element of the new content\n         * @param {Element } oldParent the old content that we are merging the new content into\n         * @param ctx the merge context\n         */\n        function morphChildren(newParent, oldParent, ctx) {\n\n            let nextNewChild = newParent.firstChild;\n            let insertionPoint = oldParent.firstChild;\n            let newChild;\n\n            // run through all the new content\n            while (nextNewChild) {\n\n                newChild = nextNewChild;\n                nextNewChild = newChild.nextSibling;\n\n                // if we are at the end of the exiting parent's children, just append\n                if (insertionPoint == null) {\n                    if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                    oldParent.appendChild(newChild);\n                    ctx.callbacks.afterNodeAdded(newChild);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // if the current node has an id set match then morph\n                if (isIdSetMatch(newChild, insertionPoint, ctx)) {\n                    morphOldNodeTo(insertionPoint, newChild, ctx);\n                    insertionPoint = insertionPoint.nextSibling;\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // otherwise search forward in the existing old children for an id set match\n                let idSetMatch = findIdSetMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a potential match, remove the nodes until that point and morph\n                if (idSetMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, idSetMatch, ctx);\n                    morphOldNodeTo(idSetMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // no id set match found, so scan forward for a soft match for the current node\n                let softMatch = findSoftMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a soft match for the current node, morph\n                if (softMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, softMatch, ctx);\n                    morphOldNodeTo(softMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // abandon all hope of morphing, just insert the new child before the insertion point\n                // and move on\n                if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                oldParent.insertBefore(newChild, insertionPoint);\n                ctx.callbacks.afterNodeAdded(newChild);\n                removeIdsFromConsideration(ctx, newChild);\n            }\n\n            // remove any remaining old nodes that didn't match up with new content\n            while (insertionPoint !== null) {\n\n                let tempNode = insertionPoint;\n                insertionPoint = insertionPoint.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n        }\n\n        //=============================================================================\n        // Attribute Syncing Code\n        //=============================================================================\n\n        /**\n         * @param attr {String} the attribute to be mutated\n         * @param to {Element} the element that is going to be updated\n         * @param updateType {(\"update\"|\"remove\")}\n         * @param ctx the merge context\n         * @returns {boolean} true if the attribute should be ignored, false otherwise\n         */\n        function ignoreAttribute(attr, to, updateType, ctx) {\n            if(attr === 'value' && ctx.ignoreActiveValue && to === document.activeElement){\n                return true;\n            }\n            return ctx.callbacks.beforeAttributeUpdated(attr, to, updateType) === false;\n        }\n\n        /**\n         * syncs a given node with another node, copying over all attributes and\n         * inner element state from the 'from' node to the 'to' node\n         *\n         * @param {Element} from the element to copy attributes & state from\n         * @param {Element} to the element to copy attributes & state to\n         * @param ctx the merge context\n         */\n        function syncNodeFrom(from, to, ctx) {\n            let type = from.nodeType;\n\n            // if is an element type, sync the attributes from the\n            // new node into the new node\n            if (type === 1 /* element type */) {\n                const fromAttributes = from.attributes;\n                const toAttributes = to.attributes;\n                for (const fromAttribute of fromAttributes) {\n                    if (ignoreAttribute(fromAttribute.name, to, 'update', ctx)) {\n                        continue;\n                    }\n                    if (to.getAttribute(fromAttribute.name) !== fromAttribute.value) {\n                        to.setAttribute(fromAttribute.name, fromAttribute.value);\n                    }\n                }\n                // iterate backwards to avoid skipping over items when a delete occurs\n                for (let i = toAttributes.length - 1; 0 <= i; i--) {\n                    const toAttribute = toAttributes[i];\n                    if (ignoreAttribute(toAttribute.name, to, 'remove', ctx)) {\n                        continue;\n                    }\n                    if (!from.hasAttribute(toAttribute.name)) {\n                        to.removeAttribute(toAttribute.name);\n                    }\n                }\n            }\n\n            // sync text nodes\n            if (type === 8 /* comment */ || type === 3 /* text */) {\n                if (to.nodeValue !== from.nodeValue) {\n                    to.nodeValue = from.nodeValue;\n                }\n            }\n\n            if (!ignoreValueOfActiveElement(to, ctx)) {\n                // sync input values\n                syncInputValue(from, to, ctx);\n            }\n        }\n\n        /**\n         * @param from {Element} element to sync the value from\n         * @param to {Element} element to sync the value to\n         * @param attributeName {String} the attribute name\n         * @param ctx the merge context\n         */\n        function syncBooleanAttribute(from, to, attributeName, ctx) {\n            if (from[attributeName] !== to[attributeName]) {\n                let ignoreUpdate = ignoreAttribute(attributeName, to, 'update', ctx);\n                if (!ignoreUpdate) {\n                    to[attributeName] = from[attributeName];\n                }\n                if (from[attributeName]) {\n                    if (!ignoreUpdate) {\n                        to.setAttribute(attributeName, from[attributeName]);\n                    }\n                } else {\n                    if (!ignoreAttribute(attributeName, to, 'remove', ctx)) {\n                        to.removeAttribute(attributeName);\n                    }\n                }\n            }\n        }\n\n        /**\n         * NB: many bothans died to bring us information:\n         *\n         *  https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js\n         *  https://github.com/choojs/nanomorph/blob/master/lib/morph.jsL113\n         *\n         * @param from {Element} the element to sync the input value from\n         * @param to {Element} the element to sync the input value to\n         * @param ctx the merge context\n         */\n        function syncInputValue(from, to, ctx) {\n            if (from instanceof HTMLInputElement &&\n                to instanceof HTMLInputElement &&\n                from.type !== 'file') {\n\n                let fromValue = from.value;\n                let toValue = to.value;\n\n                // sync boolean attributes\n                syncBooleanAttribute(from, to, 'checked', ctx);\n                syncBooleanAttribute(from, to, 'disabled', ctx);\n\n                if (!from.hasAttribute('value')) {\n                    if (!ignoreAttribute('value', to, 'remove', ctx)) {\n                        to.value = '';\n                        to.removeAttribute('value');\n                    }\n                } else if (fromValue !== toValue) {\n                    if (!ignoreAttribute('value', to, 'update', ctx)) {\n                        to.setAttribute('value', fromValue);\n                        to.value = fromValue;\n                    }\n                }\n            } else if (from instanceof HTMLOptionElement) {\n                syncBooleanAttribute(from, to, 'selected', ctx);\n            } else if (from instanceof HTMLTextAreaElement && to instanceof HTMLTextAreaElement) {\n                let fromValue = from.value;\n                let toValue = to.value;\n                if (ignoreAttribute('value', to, 'update', ctx)) {\n                    return;\n                }\n                if (fromValue !== toValue) {\n                    to.value = fromValue;\n                }\n                if (to.firstChild && to.firstChild.nodeValue !== fromValue) {\n                    to.firstChild.nodeValue = fromValue;\n                }\n            }\n        }\n\n        //=============================================================================\n        // the HEAD tag can be handled specially, either w/ a 'merge' or 'append' style\n        //=============================================================================\n        function handleHeadElement(newHeadTag, currentHead, ctx) {\n\n            let added = [];\n            let removed = [];\n            let preserved = [];\n            let nodesToAppend = [];\n\n            let headMergeStyle = ctx.head.style;\n\n            // put all new head elements into a Map, by their outerHTML\n            let srcToNewHeadNodes = new Map();\n            for (const newHeadChild of newHeadTag.children) {\n                srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);\n            }\n\n            // for each elt in the current head\n            for (const currentHeadElt of currentHead.children) {\n\n                // If the current head element is in the map\n                let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);\n                let isReAppended = ctx.head.shouldReAppend(currentHeadElt);\n                let isPreserved = ctx.head.shouldPreserve(currentHeadElt);\n                if (inNewContent || isPreserved) {\n                    if (isReAppended) {\n                        // remove the current version and let the new version replace it and re-execute\n                        removed.push(currentHeadElt);\n                    } else {\n                        // this element already exists and should not be re-appended, so remove it from\n                        // the new content map, preserving it in the DOM\n                        srcToNewHeadNodes.delete(currentHeadElt.outerHTML);\n                        preserved.push(currentHeadElt);\n                    }\n                } else {\n                    if (headMergeStyle === \"append\") {\n                        // we are appending and this existing element is not new content\n                        // so if and only if it is marked for re-append do we do anything\n                        if (isReAppended) {\n                            removed.push(currentHeadElt);\n                            nodesToAppend.push(currentHeadElt);\n                        }\n                    } else {\n                        // if this is a merge, we remove this content since it is not in the new head\n                        if (ctx.head.shouldRemove(currentHeadElt) !== false) {\n                            removed.push(currentHeadElt);\n                        }\n                    }\n                }\n            }\n\n            // Push the remaining new head elements in the Map into the\n            // nodes to append to the head tag\n            nodesToAppend.push(...srcToNewHeadNodes.values());\n\n            let promises = [];\n            for (const newNode of nodesToAppend) {\n                let newElt = document.createRange().createContextualFragment(newNode.outerHTML).firstChild;\n                if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {\n                    if (newElt.href || newElt.src) {\n                        let resolve = null;\n                        let promise = new Promise(function (_resolve) {\n                            resolve = _resolve;\n                        });\n                        newElt.addEventListener('load', function () {\n                            resolve();\n                        });\n                        promises.push(promise);\n                    }\n                    currentHead.appendChild(newElt);\n                    ctx.callbacks.afterNodeAdded(newElt);\n                    added.push(newElt);\n                }\n            }\n\n            // remove all removed elements, after we have appended the new elements to avoid\n            // additional network requests for things like style sheets\n            for (const removedElement of removed) {\n                if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {\n                    currentHead.removeChild(removedElement);\n                    ctx.callbacks.afterNodeRemoved(removedElement);\n                }\n            }\n\n            ctx.head.afterHeadMorphed(currentHead, {added: added, kept: preserved, removed: removed});\n            return promises;\n        }\n\n        function noOp() {\n        }\n\n        /*\n          Deep merges the config object and the Idiomoroph.defaults object to\n          produce a final configuration object\n         */\n        function mergeDefaults(config) {\n            let finalConfig = {};\n            // copy top level stuff into final config\n            Object.assign(finalConfig, defaults);\n            Object.assign(finalConfig, config);\n\n            // copy callbacks into final config (do this to deep merge the callbacks)\n            finalConfig.callbacks = {};\n            Object.assign(finalConfig.callbacks, defaults.callbacks);\n            Object.assign(finalConfig.callbacks, config.callbacks);\n\n            // copy head config into final config  (do this to deep merge the head)\n            finalConfig.head = {};\n            Object.assign(finalConfig.head, defaults.head);\n            Object.assign(finalConfig.head, config.head);\n            return finalConfig;\n        }\n\n        function createMorphContext(oldNode, newContent, config) {\n            config = mergeDefaults(config);\n            return {\n                target: oldNode,\n                newContent: newContent,\n                config: config,\n                morphStyle: config.morphStyle,\n                ignoreActive: config.ignoreActive,\n                ignoreActiveValue: config.ignoreActiveValue,\n                idMap: createIdMap(oldNode, newContent),\n                deadIds: new Set(),\n                callbacks: config.callbacks,\n                head: config.head\n            }\n        }\n\n        function isIdSetMatch(node1, node2, ctx) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            if (node1.nodeType === node2.nodeType && node1.tagName === node2.tagName) {\n                if (node1.id !== \"\" && node1.id === node2.id) {\n                    return true;\n                } else {\n                    return getIdIntersectionCount(ctx, node1, node2) > 0;\n                }\n            }\n            return false;\n        }\n\n        function isSoftMatch(node1, node2) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            return node1.nodeType === node2.nodeType && node1.tagName === node2.tagName\n        }\n\n        function removeNodesBetween(startInclusive, endExclusive, ctx) {\n            while (startInclusive !== endExclusive) {\n                let tempNode = startInclusive;\n                startInclusive = startInclusive.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n            removeIdsFromConsideration(ctx, endExclusive);\n            return endExclusive.nextSibling;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential id match\n        // for the newChild.  We stop if we find a potential id match for the new child OR\n        // if the number of potential id matches we are discarding is greater than the\n        // potential id matches for the new child\n        //=============================================================================\n        function findIdSetMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            // max id matches we are willing to discard in our search\n            let newChildPotentialIdCount = getIdIntersectionCount(ctx, newChild, oldParent);\n\n            let potentialMatch = null;\n\n            // only search forward if there is a possibility of an id match\n            if (newChildPotentialIdCount > 0) {\n                let potentialMatch = insertionPoint;\n                // if there is a possibility of an id match, scan forward\n                // keep track of the potential id match count we are discarding (the\n                // newChildPotentialIdCount must be greater than this to make it likely\n                // worth it)\n                let otherMatchCount = 0;\n                while (potentialMatch != null) {\n\n                    // If we have an id match, return the current potential match\n                    if (isIdSetMatch(newChild, potentialMatch, ctx)) {\n                        return potentialMatch;\n                    }\n\n                    // computer the other potential matches of this new content\n                    otherMatchCount += getIdIntersectionCount(ctx, potentialMatch, newContent);\n                    if (otherMatchCount > newChildPotentialIdCount) {\n                        // if we have more potential id matches in _other_ content, we\n                        // do not have a good candidate for an id match, so return null\n                        return null;\n                    }\n\n                    // advanced to the next old content child\n                    potentialMatch = potentialMatch.nextSibling;\n                }\n            }\n            return potentialMatch;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential soft match\n        // for the newChild.  We stop if we find a potential soft match for the new child OR\n        // if we find a potential id match in the old parents children OR if we find two\n        // potential soft matches for the next two pieces of new content\n        //=============================================================================\n        function findSoftMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            let potentialSoftMatch = insertionPoint;\n            let nextSibling = newChild.nextSibling;\n            let siblingSoftMatchCount = 0;\n\n            while (potentialSoftMatch != null) {\n\n                if (getIdIntersectionCount(ctx, potentialSoftMatch, newContent) > 0) {\n                    // the current potential soft match has a potential id set match with the remaining new\n                    // content so bail out of looking\n                    return null;\n                }\n\n                // if we have a soft match with the current node, return it\n                if (isSoftMatch(newChild, potentialSoftMatch)) {\n                    return potentialSoftMatch;\n                }\n\n                if (isSoftMatch(nextSibling, potentialSoftMatch)) {\n                    // the next new node has a soft match with this node, so\n                    // increment the count of future soft matches\n                    siblingSoftMatchCount++;\n                    nextSibling = nextSibling.nextSibling;\n\n                    // If there are two future soft matches, bail to allow the siblings to soft match\n                    // so that we don't consume future soft matches for the sake of the current node\n                    if (siblingSoftMatchCount >= 2) {\n                        return null;\n                    }\n                }\n\n                // advanced to the next old content child\n                potentialSoftMatch = potentialSoftMatch.nextSibling;\n            }\n\n            return potentialSoftMatch;\n        }\n\n        function parseContent(newContent) {\n            let parser = new DOMParser();\n\n            // remove svgs to avoid false-positive matches on head, etc.\n            let contentWithSvgsRemoved = newContent.replace(/<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim, '');\n\n            // if the newContent contains a html, head or body tag, we can simply parse it w/o wrapping\n            if (contentWithSvgsRemoved.match(/<\\/html>/) || contentWithSvgsRemoved.match(/<\\/head>/) || contentWithSvgsRemoved.match(/<\\/body>/)) {\n                let content = parser.parseFromString(newContent, \"text/html\");\n                // if it is a full HTML document, return the document itself as the parent container\n                if (contentWithSvgsRemoved.match(/<\\/html>/)) {\n                    content.generatedByIdiomorph = true;\n                    return content;\n                } else {\n                    // otherwise return the html element as the parent container\n                    let htmlElement = content.firstChild;\n                    if (htmlElement) {\n                        htmlElement.generatedByIdiomorph = true;\n                        return htmlElement;\n                    } else {\n                        return null;\n                    }\n                }\n            } else {\n                // if it is partial HTML, wrap it in a template tag to provide a parent element and also to help\n                // deal with touchy tags like tr, tbody, etc.\n                let responseDoc = parser.parseFromString(\"<body><template>\" + newContent + \"</template></body>\", \"text/html\");\n                let content = responseDoc.body.querySelector('template').content;\n                content.generatedByIdiomorph = true;\n                return content\n            }\n        }\n\n        function normalizeContent(newContent) {\n            if (newContent == null) {\n                // noinspection UnnecessaryLocalVariableJS\n                const dummyParent = document.createElement('div');\n                return dummyParent;\n            } else if (newContent.generatedByIdiomorph) {\n                // the template tag created by idiomorph parsing can serve as a dummy parent\n                return newContent;\n            } else if (newContent instanceof Node) {\n                // a single node is added as a child to a dummy parent\n                const dummyParent = document.createElement('div');\n                dummyParent.append(newContent);\n                return dummyParent;\n            } else {\n                // all nodes in the array or HTMLElement collection are consolidated under\n                // a single dummy parent element\n                const dummyParent = document.createElement('div');\n                for (const elt of [...newContent]) {\n                    dummyParent.append(elt);\n                }\n                return dummyParent;\n            }\n        }\n\n        function insertSiblings(previousSibling, morphedNode, nextSibling) {\n            let stack = [];\n            let added = [];\n            while (previousSibling != null) {\n                stack.push(previousSibling);\n                previousSibling = previousSibling.previousSibling;\n            }\n            while (stack.length > 0) {\n                let node = stack.pop();\n                added.push(node); // push added preceding siblings on in order and insert\n                morphedNode.parentElement.insertBefore(node, morphedNode);\n            }\n            added.push(morphedNode);\n            while (nextSibling != null) {\n                stack.push(nextSibling);\n                added.push(nextSibling); // here we are going in order, so push on as we scan, rather than add\n                nextSibling = nextSibling.nextSibling;\n            }\n            while (stack.length > 0) {\n                morphedNode.parentElement.insertBefore(stack.pop(), morphedNode.nextSibling);\n            }\n            return added;\n        }\n\n        function findBestNodeMatch(newContent, oldNode, ctx) {\n            let currentElement;\n            currentElement = newContent.firstChild;\n            let bestElement = currentElement;\n            let score = 0;\n            while (currentElement) {\n                let newScore = scoreElement(currentElement, oldNode, ctx);\n                if (newScore > score) {\n                    bestElement = currentElement;\n                    score = newScore;\n                }\n                currentElement = currentElement.nextSibling;\n            }\n            return bestElement;\n        }\n\n        function scoreElement(node1, node2, ctx) {\n            if (isSoftMatch(node1, node2)) {\n                return .5 + getIdIntersectionCount(ctx, node1, node2);\n            }\n            return 0;\n        }\n\n        function removeNode(tempNode, ctx) {\n            removeIdsFromConsideration(ctx, tempNode);\n            if (ctx.callbacks.beforeNodeRemoved(tempNode) === false) return;\n\n            tempNode.remove();\n            ctx.callbacks.afterNodeRemoved(tempNode);\n        }\n\n        //=============================================================================\n        // ID Set Functions\n        //=============================================================================\n\n        function isIdInConsideration(ctx, id) {\n            return !ctx.deadIds.has(id);\n        }\n\n        function idIsWithinNode(ctx, id, targetNode) {\n            let idSet = ctx.idMap.get(targetNode) || EMPTY_SET;\n            return idSet.has(id);\n        }\n\n        function removeIdsFromConsideration(ctx, node) {\n            let idSet = ctx.idMap.get(node) || EMPTY_SET;\n            for (const id of idSet) {\n                ctx.deadIds.add(id);\n            }\n        }\n\n        function getIdIntersectionCount(ctx, node1, node2) {\n            let sourceSet = ctx.idMap.get(node1) || EMPTY_SET;\n            let matchCount = 0;\n            for (const id of sourceSet) {\n                // a potential match is an id in the source and potentialIdsSet, but\n                // that has not already been merged into the DOM\n                if (isIdInConsideration(ctx, id) && idIsWithinNode(ctx, id, node2)) {\n                    ++matchCount;\n                }\n            }\n            return matchCount;\n        }\n\n        /**\n         * A bottom up algorithm that finds all elements with ids inside of the node\n         * argument and populates id sets for those nodes and all their parents, generating\n         * a set of ids contained within all nodes for the entire hierarchy in the DOM\n         *\n         * @param node {Element}\n         * @param {Map<Node, Set<String>>} idMap\n         */\n        function populateIdMapForNode(node, idMap) {\n            let nodeParent = node.parentElement;\n            // find all elements with an id property\n            let idElements = node.querySelectorAll('[id]');\n            for (const elt of idElements) {\n                let current = elt;\n                // walk up the parent hierarchy of that element, adding the id\n                // of element to the parent's id set\n                while (current !== nodeParent && current != null) {\n                    let idSet = idMap.get(current);\n                    // if the id set doesn't exist, create it and insert it in the  map\n                    if (idSet == null) {\n                        idSet = new Set();\n                        idMap.set(current, idSet);\n                    }\n                    idSet.add(elt.id);\n                    current = current.parentElement;\n                }\n            }\n        }\n\n        /**\n         * This function computes a map of nodes to all ids contained within that node (inclusive of the\n         * node).  This map can be used to ask if two nodes have intersecting sets of ids, which allows\n         * for a looser definition of \"matching\" than tradition id matching, and allows child nodes\n         * to contribute to a parent nodes matching.\n         *\n         * @param {Element} oldContent  the old content that will be morphed\n         * @param {Element} newContent  the new content to morph to\n         * @returns {Map<Node, Set<String>>} a map of nodes to id sets for the\n         */\n        function createIdMap(oldContent, newContent) {\n            let idMap = new Map();\n            populateIdMapForNode(oldContent, idMap);\n            populateIdMapForNode(newContent, idMap);\n            return idMap;\n        }\n\n        //=============================================================================\n        // This is what ends up becoming the Idiomorph global object\n        //=============================================================================\n        return {\n            morph,\n            defaults\n        }\n    })();\n\nfunction morphElements(currentElement, newElement, { callbacks, ...options } = {}) {\n  Idiomorph.morph(currentElement, newElement, {\n    ...options,\n    callbacks: new DefaultIdiomorphCallbacks(callbacks)\n  });\n}\n\nfunction morphChildren(currentElement, newElement) {\n  morphElements(currentElement, newElement.children, {\n    morphStyle: \"innerHTML\"\n  });\n}\n\nclass DefaultIdiomorphCallbacks {\n  #beforeNodeMorphed\n\n  constructor({ beforeNodeMorphed } = {}) {\n    this.#beforeNodeMorphed = beforeNodeMorphed || (() => true);\n  }\n\n  beforeNodeAdded = (node) => {\n    return !(node.id && node.hasAttribute(\"data-turbo-permanent\") && document.getElementById(node.id))\n  }\n\n  beforeNodeMorphed = (currentElement, newElement) => {\n    if (currentElement instanceof Element) {\n      if (!currentElement.hasAttribute(\"data-turbo-permanent\") && this.#beforeNodeMorphed(currentElement, newElement)) {\n        const event = dispatch(\"turbo:before-morph-element\", {\n          cancelable: true,\n          target: currentElement,\n          detail: { currentElement, newElement }\n        });\n\n        return !event.defaultPrevented\n      } else {\n        return false\n      }\n    }\n  }\n\n  beforeAttributeUpdated = (attributeName, target, mutationType) => {\n    const event = dispatch(\"turbo:before-morph-attribute\", {\n      cancelable: true,\n      target,\n      detail: { attributeName, mutationType }\n    });\n\n    return !event.defaultPrevented\n  }\n\n  beforeNodeRemoved = (node) => {\n    return this.beforeNodeMorphed(node)\n  }\n\n  afterNodeMorphed = (currentElement, newElement) => {\n    if (currentElement instanceof Element) {\n      dispatch(\"turbo:morph-element\", {\n        target: currentElement,\n        detail: { currentElement, newElement }\n      });\n    }\n  }\n}\n\nclass MorphingFrameRenderer extends FrameRenderer {\n  static renderElement(currentElement, newElement) {\n    dispatch(\"turbo:before-frame-morph\", {\n      target: currentElement,\n      detail: { currentElement, newElement }\n    });\n\n    morphChildren(currentElement, newElement);\n  }\n\n  async preservingPermanentElements(callback) {\n    return await callback()\n  }\n}\n\nclass ProgressBar {\n  static animationDuration = 300 /*ms*/\n\n  static get defaultCSS() {\n    return unindent`\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 2147483647;\n        transition:\n          width ${ProgressBar.animationDuration}ms ease-out,\n          opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    `\n  }\n\n  hiding = false\n  value = 0\n  visible = false\n\n  constructor() {\n    this.stylesheetElement = this.createStylesheetElement();\n    this.progressElement = this.createProgressElement();\n    this.installStylesheetElement();\n    this.setValue(0);\n  }\n\n  show() {\n    if (!this.visible) {\n      this.visible = true;\n      this.installProgressElement();\n      this.startTrickling();\n    }\n  }\n\n  hide() {\n    if (this.visible && !this.hiding) {\n      this.hiding = true;\n      this.fadeProgressElement(() => {\n        this.uninstallProgressElement();\n        this.stopTrickling();\n        this.visible = false;\n        this.hiding = false;\n      });\n    }\n  }\n\n  setValue(value) {\n    this.value = value;\n    this.refresh();\n  }\n\n  // Private\n\n  installStylesheetElement() {\n    document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n  }\n\n  installProgressElement() {\n    this.progressElement.style.width = \"0\";\n    this.progressElement.style.opacity = \"1\";\n    document.documentElement.insertBefore(this.progressElement, document.body);\n    this.refresh();\n  }\n\n  fadeProgressElement(callback) {\n    this.progressElement.style.opacity = \"0\";\n    setTimeout(callback, ProgressBar.animationDuration * 1.5);\n  }\n\n  uninstallProgressElement() {\n    if (this.progressElement.parentNode) {\n      document.documentElement.removeChild(this.progressElement);\n    }\n  }\n\n  startTrickling() {\n    if (!this.trickleInterval) {\n      this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n    }\n  }\n\n  stopTrickling() {\n    window.clearInterval(this.trickleInterval);\n    delete this.trickleInterval;\n  }\n\n  trickle = () => {\n    this.setValue(this.value + Math.random() / 100);\n  }\n\n  refresh() {\n    requestAnimationFrame(() => {\n      this.progressElement.style.width = `${10 + this.value * 90}%`;\n    });\n  }\n\n  createStylesheetElement() {\n    const element = document.createElement(\"style\");\n    element.type = \"text/css\";\n    element.textContent = ProgressBar.defaultCSS;\n    const cspNonce = getCspNonce();\n    if (cspNonce) {\n      element.nonce = cspNonce;\n    }\n    return element\n  }\n\n  createProgressElement() {\n    const element = document.createElement(\"div\");\n    element.className = \"turbo-progress-bar\";\n    return element\n  }\n}\n\nclass HeadSnapshot extends Snapshot {\n  detailsByOuterHTML = this.children\n    .filter((element) => !elementIsNoscript(element))\n    .map((element) => elementWithoutNonce(element))\n    .reduce((result, element) => {\n      const { outerHTML } = element;\n      const details =\n        outerHTML in result\n          ? result[outerHTML]\n          : {\n              type: elementType(element),\n              tracked: elementIsTracked(element),\n              elements: []\n            };\n      return {\n        ...result,\n        [outerHTML]: {\n          ...details,\n          elements: [...details.elements, element]\n        }\n      }\n    }, {})\n\n  get trackedElementSignature() {\n    return Object.keys(this.detailsByOuterHTML)\n      .filter((outerHTML) => this.detailsByOuterHTML[outerHTML].tracked)\n      .join(\"\")\n  }\n\n  getScriptElementsNotInSnapshot(snapshot) {\n    return this.getElementsMatchingTypeNotInSnapshot(\"script\", snapshot)\n  }\n\n  getStylesheetElementsNotInSnapshot(snapshot) {\n    return this.getElementsMatchingTypeNotInSnapshot(\"stylesheet\", snapshot)\n  }\n\n  getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {\n    return Object.keys(this.detailsByOuterHTML)\n      .filter((outerHTML) => !(outerHTML in snapshot.detailsByOuterHTML))\n      .map((outerHTML) => this.detailsByOuterHTML[outerHTML])\n      .filter(({ type }) => type == matchedType)\n      .map(({ elements: [element] }) => element)\n  }\n\n  get provisionalElements() {\n    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n      const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];\n      if (type == null && !tracked) {\n        return [...result, ...elements]\n      } else if (elements.length > 1) {\n        return [...result, ...elements.slice(1)]\n      } else {\n        return result\n      }\n    }, [])\n  }\n\n  getMetaValue(name) {\n    const element = this.findMetaElementByName(name);\n    return element ? element.getAttribute(\"content\") : null\n  }\n\n  findMetaElementByName(name) {\n    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n      const {\n        elements: [element]\n      } = this.detailsByOuterHTML[outerHTML];\n      return elementIsMetaElementWithName(element, name) ? element : result\n    }, undefined | undefined)\n  }\n}\n\nfunction elementType(element) {\n  if (elementIsScript(element)) {\n    return \"script\"\n  } else if (elementIsStylesheet(element)) {\n    return \"stylesheet\"\n  }\n}\n\nfunction elementIsTracked(element) {\n  return element.getAttribute(\"data-turbo-track\") == \"reload\"\n}\n\nfunction elementIsScript(element) {\n  const tagName = element.localName;\n  return tagName == \"script\"\n}\n\nfunction elementIsNoscript(element) {\n  const tagName = element.localName;\n  return tagName == \"noscript\"\n}\n\nfunction elementIsStylesheet(element) {\n  const tagName = element.localName;\n  return tagName == \"style\" || (tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\")\n}\n\nfunction elementIsMetaElementWithName(element, name) {\n  const tagName = element.localName;\n  return tagName == \"meta\" && element.getAttribute(\"name\") == name\n}\n\nfunction elementWithoutNonce(element) {\n  if (element.hasAttribute(\"nonce\")) {\n    element.setAttribute(\"nonce\", \"\");\n  }\n\n  return element\n}\n\nclass PageSnapshot extends Snapshot {\n  static fromHTMLString(html = \"\") {\n    return this.fromDocument(parseHTMLDocument(html))\n  }\n\n  static fromElement(element) {\n    return this.fromDocument(element.ownerDocument)\n  }\n\n  static fromDocument({ documentElement, body, head }) {\n    return new this(documentElement, body, new HeadSnapshot(head))\n  }\n\n  constructor(documentElement, body, headSnapshot) {\n    super(body);\n    this.documentElement = documentElement;\n    this.headSnapshot = headSnapshot;\n  }\n\n  clone() {\n    const clonedElement = this.element.cloneNode(true);\n\n    const selectElements = this.element.querySelectorAll(\"select\");\n    const clonedSelectElements = clonedElement.querySelectorAll(\"select\");\n\n    for (const [index, source] of selectElements.entries()) {\n      const clone = clonedSelectElements[index];\n      for (const option of clone.selectedOptions) option.selected = false;\n      for (const option of source.selectedOptions) clone.options[option.index].selected = true;\n    }\n\n    for (const clonedPasswordInput of clonedElement.querySelectorAll('input[type=\"password\"]')) {\n      clonedPasswordInput.value = \"\";\n    }\n\n    return new PageSnapshot(this.documentElement, clonedElement, this.headSnapshot)\n  }\n\n  get lang() {\n    return this.documentElement.getAttribute(\"lang\")\n  }\n\n  get headElement() {\n    return this.headSnapshot.element\n  }\n\n  get rootLocation() {\n    const root = this.getSetting(\"root\") ?? \"/\";\n    return expandURL(root)\n  }\n\n  get cacheControlValue() {\n    return this.getSetting(\"cache-control\")\n  }\n\n  get isPreviewable() {\n    return this.cacheControlValue != \"no-preview\"\n  }\n\n  get isCacheable() {\n    return this.cacheControlValue != \"no-cache\"\n  }\n\n  get isVisitable() {\n    return this.getSetting(\"visit-control\") != \"reload\"\n  }\n\n  get prefersViewTransitions() {\n    return this.headSnapshot.getMetaValue(\"view-transition\") === \"same-origin\"\n  }\n\n  get shouldMorphPage() {\n    return this.getSetting(\"refresh-method\") === \"morph\"\n  }\n\n  get shouldPreserveScrollPosition() {\n    return this.getSetting(\"refresh-scroll\") === \"preserve\"\n  }\n\n  // Private\n\n  getSetting(name) {\n    return this.headSnapshot.getMetaValue(`turbo-${name}`)\n  }\n}\n\nclass ViewTransitioner {\n  #viewTransitionStarted = false\n  #lastOperation = Promise.resolve()\n\n  renderChange(useViewTransition, render) {\n    if (useViewTransition && this.viewTransitionsAvailable && !this.#viewTransitionStarted) {\n      this.#viewTransitionStarted = true;\n      this.#lastOperation = this.#lastOperation.then(async () => {\n        await document.startViewTransition(render).finished;\n      });\n    } else {\n      this.#lastOperation = this.#lastOperation.then(render);\n    }\n\n    return this.#lastOperation\n  }\n\n  get viewTransitionsAvailable() {\n    return document.startViewTransition\n  }\n}\n\nconst defaultOptions = {\n  action: \"advance\",\n  historyChanged: false,\n  visitCachedSnapshot: () => {},\n  willRender: true,\n  updateHistory: true,\n  shouldCacheSnapshot: true,\n  acceptsStreamResponse: false\n};\n\nconst TimingMetric = {\n  visitStart: \"visitStart\",\n  requestStart: \"requestStart\",\n  requestEnd: \"requestEnd\",\n  visitEnd: \"visitEnd\"\n};\n\nconst VisitState = {\n  initialized: \"initialized\",\n  started: \"started\",\n  canceled: \"canceled\",\n  failed: \"failed\",\n  completed: \"completed\"\n};\n\nconst SystemStatusCode = {\n  networkFailure: 0,\n  timeoutFailure: -1,\n  contentTypeMismatch: -2\n};\n\nconst Direction = {\n  advance: \"forward\",\n  restore: \"back\",\n  replace: \"none\"\n};\n\nclass Visit {\n  identifier = uuid() // Required by turbo-ios\n  timingMetrics = {}\n\n  followedRedirect = false\n  historyChanged = false\n  scrolled = false\n  shouldCacheSnapshot = true\n  acceptsStreamResponse = false\n  snapshotCached = false\n  state = VisitState.initialized\n  viewTransitioner = new ViewTransitioner()\n\n  constructor(delegate, location, restorationIdentifier, options = {}) {\n    this.delegate = delegate;\n    this.location = location;\n    this.restorationIdentifier = restorationIdentifier || uuid();\n\n    const {\n      action,\n      historyChanged,\n      referrer,\n      snapshot,\n      snapshotHTML,\n      response,\n      visitCachedSnapshot,\n      willRender,\n      updateHistory,\n      shouldCacheSnapshot,\n      acceptsStreamResponse,\n      direction\n    } = {\n      ...defaultOptions,\n      ...options\n    };\n    this.action = action;\n    this.historyChanged = historyChanged;\n    this.referrer = referrer;\n    this.snapshot = snapshot;\n    this.snapshotHTML = snapshotHTML;\n    this.response = response;\n    this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);\n    this.isPageRefresh = this.view.isPageRefresh(this);\n    this.visitCachedSnapshot = visitCachedSnapshot;\n    this.willRender = willRender;\n    this.updateHistory = updateHistory;\n    this.scrolled = !willRender;\n    this.shouldCacheSnapshot = shouldCacheSnapshot;\n    this.acceptsStreamResponse = acceptsStreamResponse;\n    this.direction = direction || Direction[action];\n  }\n\n  get adapter() {\n    return this.delegate.adapter\n  }\n\n  get view() {\n    return this.delegate.view\n  }\n\n  get history() {\n    return this.delegate.history\n  }\n\n  get restorationData() {\n    return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)\n  }\n\n  get silent() {\n    return this.isSamePage\n  }\n\n  start() {\n    if (this.state == VisitState.initialized) {\n      this.recordTimingMetric(TimingMetric.visitStart);\n      this.state = VisitState.started;\n      this.adapter.visitStarted(this);\n      this.delegate.visitStarted(this);\n    }\n  }\n\n  cancel() {\n    if (this.state == VisitState.started) {\n      if (this.request) {\n        this.request.cancel();\n      }\n      this.cancelRender();\n      this.state = VisitState.canceled;\n    }\n  }\n\n  complete() {\n    if (this.state == VisitState.started) {\n      this.recordTimingMetric(TimingMetric.visitEnd);\n      this.adapter.visitCompleted(this);\n      this.state = VisitState.completed;\n      this.followRedirect();\n\n      if (!this.followedRedirect) {\n        this.delegate.visitCompleted(this);\n      }\n    }\n  }\n\n  fail() {\n    if (this.state == VisitState.started) {\n      this.state = VisitState.failed;\n      this.adapter.visitFailed(this);\n      this.delegate.visitCompleted(this);\n    }\n  }\n\n  changeHistory() {\n    if (!this.historyChanged && this.updateHistory) {\n      const actionForHistory = this.location.href === this.referrer?.href ? \"replace\" : this.action;\n      const method = getHistoryMethodForAction(actionForHistory);\n      this.history.update(method, this.location, this.restorationIdentifier);\n      this.historyChanged = true;\n    }\n  }\n\n  issueRequest() {\n    if (this.hasPreloadedResponse()) {\n      this.simulateRequest();\n    } else if (this.shouldIssueRequest() && !this.request) {\n      this.request = new FetchRequest(this, FetchMethod.get, this.location);\n      this.request.perform();\n    }\n  }\n\n  simulateRequest() {\n    if (this.response) {\n      this.startRequest();\n      this.recordResponse();\n      this.finishRequest();\n    }\n  }\n\n  startRequest() {\n    this.recordTimingMetric(TimingMetric.requestStart);\n    this.adapter.visitRequestStarted(this);\n  }\n\n  recordResponse(response = this.response) {\n    this.response = response;\n    if (response) {\n      const { statusCode } = response;\n      if (isSuccessful(statusCode)) {\n        this.adapter.visitRequestCompleted(this);\n      } else {\n        this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n      }\n    }\n  }\n\n  finishRequest() {\n    this.recordTimingMetric(TimingMetric.requestEnd);\n    this.adapter.visitRequestFinished(this);\n  }\n\n  loadResponse() {\n    if (this.response) {\n      const { statusCode, responseHTML } = this.response;\n      this.render(async () => {\n        if (this.shouldCacheSnapshot) this.cacheSnapshot();\n        if (this.view.renderPromise) await this.view.renderPromise;\n\n        if (isSuccessful(statusCode) && responseHTML != null) {\n          const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n          await this.renderPageSnapshot(snapshot, false);\n\n          this.adapter.visitRendered(this);\n          this.complete();\n        } else {\n          await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);\n          this.adapter.visitRendered(this);\n          this.fail();\n        }\n      });\n    }\n  }\n\n  getCachedSnapshot() {\n    const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();\n\n    if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {\n      if (this.action == \"restore\" || snapshot.isPreviewable) {\n        return snapshot\n      }\n    }\n  }\n\n  getPreloadedSnapshot() {\n    if (this.snapshotHTML) {\n      return PageSnapshot.fromHTMLString(this.snapshotHTML)\n    }\n  }\n\n  hasCachedSnapshot() {\n    return this.getCachedSnapshot() != null\n  }\n\n  loadCachedSnapshot() {\n    const snapshot = this.getCachedSnapshot();\n    if (snapshot) {\n      const isPreview = this.shouldIssueRequest();\n      this.render(async () => {\n        this.cacheSnapshot();\n        if (this.isSamePage || this.isPageRefresh) {\n          this.adapter.visitRendered(this);\n        } else {\n          if (this.view.renderPromise) await this.view.renderPromise;\n\n          await this.renderPageSnapshot(snapshot, isPreview);\n\n          this.adapter.visitRendered(this);\n          if (!isPreview) {\n            this.complete();\n          }\n        }\n      });\n    }\n  }\n\n  followRedirect() {\n    if (this.redirectedToLocation && !this.followedRedirect && this.response?.redirected) {\n      this.adapter.visitProposedToLocation(this.redirectedToLocation, {\n        action: \"replace\",\n        response: this.response,\n        shouldCacheSnapshot: false,\n        willRender: false\n      });\n      this.followedRedirect = true;\n    }\n  }\n\n  goToSamePageAnchor() {\n    if (this.isSamePage) {\n      this.render(async () => {\n        this.cacheSnapshot();\n        this.performScroll();\n        this.changeHistory();\n        this.adapter.visitRendered(this);\n      });\n    }\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    if (this.acceptsStreamResponse) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted() {\n    this.startRequest();\n  }\n\n  requestPreventedHandlingResponse(_request, _response) {}\n\n  async requestSucceededWithResponse(request, response) {\n    const responseHTML = await response.responseHTML;\n    const { redirected, statusCode } = response;\n    if (responseHTML == undefined) {\n      this.recordResponse({\n        statusCode: SystemStatusCode.contentTypeMismatch,\n        redirected\n      });\n    } else {\n      this.redirectedToLocation = response.redirected ? response.location : undefined;\n      this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n    }\n  }\n\n  async requestFailedWithResponse(request, response) {\n    const responseHTML = await response.responseHTML;\n    const { redirected, statusCode } = response;\n    if (responseHTML == undefined) {\n      this.recordResponse({\n        statusCode: SystemStatusCode.contentTypeMismatch,\n        redirected\n      });\n    } else {\n      this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n    }\n  }\n\n  requestErrored(_request, _error) {\n    this.recordResponse({\n      statusCode: SystemStatusCode.networkFailure,\n      redirected: false\n    });\n  }\n\n  requestFinished() {\n    this.finishRequest();\n  }\n\n  // Scrolling\n\n  performScroll() {\n    if (!this.scrolled && !this.view.forceReloaded && !this.view.shouldPreserveScrollPosition(this)) {\n      if (this.action == \"restore\") {\n        this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();\n      } else {\n        this.scrollToAnchor() || this.view.scrollToTop();\n      }\n      if (this.isSamePage) {\n        this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);\n      }\n\n      this.scrolled = true;\n    }\n  }\n\n  scrollToRestoredPosition() {\n    const { scrollPosition } = this.restorationData;\n    if (scrollPosition) {\n      this.view.scrollToPosition(scrollPosition);\n      return true\n    }\n  }\n\n  scrollToAnchor() {\n    const anchor = getAnchor(this.location);\n    if (anchor != null) {\n      this.view.scrollToAnchor(anchor);\n      return true\n    }\n  }\n\n  // Instrumentation\n\n  recordTimingMetric(metric) {\n    this.timingMetrics[metric] = new Date().getTime();\n  }\n\n  getTimingMetrics() {\n    return { ...this.timingMetrics }\n  }\n\n  // Private\n\n  getHistoryMethodForAction(action) {\n    switch (action) {\n      case \"replace\":\n        return history.replaceState\n      case \"advance\":\n      case \"restore\":\n        return history.pushState\n    }\n  }\n\n  hasPreloadedResponse() {\n    return typeof this.response == \"object\"\n  }\n\n  shouldIssueRequest() {\n    if (this.isSamePage) {\n      return false\n    } else if (this.action == \"restore\") {\n      return !this.hasCachedSnapshot()\n    } else {\n      return this.willRender\n    }\n  }\n\n  cacheSnapshot() {\n    if (!this.snapshotCached) {\n      this.view.cacheSnapshot(this.snapshot).then((snapshot) => snapshot && this.visitCachedSnapshot(snapshot));\n      this.snapshotCached = true;\n    }\n  }\n\n  async render(callback) {\n    this.cancelRender();\n    await new Promise((resolve) => {\n      this.frame =\n        document.visibilityState === \"hidden\" ? setTimeout(() => resolve(), 0) : requestAnimationFrame(() => resolve());\n    });\n    await callback();\n    delete this.frame;\n  }\n\n  async renderPageSnapshot(snapshot, isPreview) {\n    await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(snapshot), async () => {\n      await this.view.renderPage(snapshot, isPreview, this.willRender, this);\n      this.performScroll();\n    });\n  }\n\n  cancelRender() {\n    if (this.frame) {\n      cancelAnimationFrame(this.frame);\n      delete this.frame;\n    }\n  }\n}\n\nfunction isSuccessful(statusCode) {\n  return statusCode >= 200 && statusCode < 300\n}\n\nclass BrowserAdapter {\n  progressBar = new ProgressBar()\n\n  constructor(session) {\n    this.session = session;\n  }\n\n  visitProposedToLocation(location, options) {\n    if (locationIsVisitable(location, this.navigator.rootLocation)) {\n      this.navigator.startVisit(location, options?.restorationIdentifier || uuid(), options);\n    } else {\n      window.location.href = location.toString();\n    }\n  }\n\n  visitStarted(visit) {\n    this.location = visit.location;\n    visit.loadCachedSnapshot();\n    visit.issueRequest();\n    visit.goToSamePageAnchor();\n  }\n\n  visitRequestStarted(visit) {\n    this.progressBar.setValue(0);\n    if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n      this.showVisitProgressBarAfterDelay();\n    } else {\n      this.showProgressBar();\n    }\n  }\n\n  visitRequestCompleted(visit) {\n    visit.loadResponse();\n  }\n\n  visitRequestFailedWithStatusCode(visit, statusCode) {\n    switch (statusCode) {\n      case SystemStatusCode.networkFailure:\n      case SystemStatusCode.timeoutFailure:\n      case SystemStatusCode.contentTypeMismatch:\n        return this.reload({\n          reason: \"request_failed\",\n          context: {\n            statusCode\n          }\n        })\n      default:\n        return visit.loadResponse()\n    }\n  }\n\n  visitRequestFinished(_visit) {}\n\n  visitCompleted(_visit) {\n    this.progressBar.setValue(1);\n    this.hideVisitProgressBar();\n  }\n\n  pageInvalidated(reason) {\n    this.reload(reason);\n  }\n\n  visitFailed(_visit) {\n    this.progressBar.setValue(1);\n    this.hideVisitProgressBar();\n  }\n\n  visitRendered(_visit) {}\n\n  // Form Submission Delegate\n\n  formSubmissionStarted(_formSubmission) {\n    this.progressBar.setValue(0);\n    this.showFormProgressBarAfterDelay();\n  }\n\n  formSubmissionFinished(_formSubmission) {\n    this.progressBar.setValue(1);\n    this.hideFormProgressBar();\n  }\n\n  // Private\n\n  showVisitProgressBarAfterDelay() {\n    this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n  }\n\n  hideVisitProgressBar() {\n    this.progressBar.hide();\n    if (this.visitProgressBarTimeout != null) {\n      window.clearTimeout(this.visitProgressBarTimeout);\n      delete this.visitProgressBarTimeout;\n    }\n  }\n\n  showFormProgressBarAfterDelay() {\n    if (this.formProgressBarTimeout == null) {\n      this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n    }\n  }\n\n  hideFormProgressBar() {\n    this.progressBar.hide();\n    if (this.formProgressBarTimeout != null) {\n      window.clearTimeout(this.formProgressBarTimeout);\n      delete this.formProgressBarTimeout;\n    }\n  }\n\n  showProgressBar = () => {\n    this.progressBar.show();\n  }\n\n  reload(reason) {\n    dispatch(\"turbo:reload\", { detail: reason });\n\n    window.location.href = this.location?.toString() || window.location.href;\n  }\n\n  get navigator() {\n    return this.session.navigator\n  }\n}\n\nclass CacheObserver {\n  selector = \"[data-turbo-temporary]\"\n  deprecatedSelector = \"[data-turbo-cache=false]\"\n\n  started = false\n\n  start() {\n    if (!this.started) {\n      this.started = true;\n      addEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false;\n      removeEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n    }\n  }\n\n  removeTemporaryElements = (_event) => {\n    for (const element of this.temporaryElements) {\n      element.remove();\n    }\n  }\n\n  get temporaryElements() {\n    return [...document.querySelectorAll(this.selector), ...this.temporaryElementsWithDeprecation]\n  }\n\n  get temporaryElementsWithDeprecation() {\n    const elements = document.querySelectorAll(this.deprecatedSelector);\n\n    if (elements.length) {\n      console.warn(\n        `The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`\n      );\n    }\n\n    return [...elements]\n  }\n}\n\nclass FrameRedirector {\n  constructor(session, element) {\n    this.session = session;\n    this.element = element;\n    this.linkInterceptor = new LinkInterceptor(this, element);\n    this.formSubmitObserver = new FormSubmitObserver(this, element);\n  }\n\n  start() {\n    this.linkInterceptor.start();\n    this.formSubmitObserver.start();\n  }\n\n  stop() {\n    this.linkInterceptor.stop();\n    this.formSubmitObserver.stop();\n  }\n\n  // Link interceptor delegate\n\n  shouldInterceptLinkClick(element, _location, _event) {\n    return this.#shouldRedirect(element)\n  }\n\n  linkClickIntercepted(element, url, event) {\n    const frame = this.#findFrameElement(element);\n    if (frame) {\n      frame.delegate.linkClickIntercepted(element, url, event);\n    }\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(element, submitter) {\n    return (\n      element.closest(\"turbo-frame\") == null &&\n      this.#shouldSubmit(element, submitter) &&\n      this.#shouldRedirect(element, submitter)\n    )\n  }\n\n  formSubmitted(element, submitter) {\n    const frame = this.#findFrameElement(element, submitter);\n    if (frame) {\n      frame.delegate.formSubmitted(element, submitter);\n    }\n  }\n\n  #shouldSubmit(form, submitter) {\n    const action = getAction$1(form, submitter);\n    const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n    const rootLocation = expandURL(meta?.content ?? \"/\");\n\n    return this.#shouldRedirect(form, submitter) && locationIsVisitable(action, rootLocation)\n  }\n\n  #shouldRedirect(element, submitter) {\n    const isNavigatable =\n      element instanceof HTMLFormElement\n        ? this.session.submissionIsNavigatable(element, submitter)\n        : this.session.elementIsNavigatable(element);\n\n    if (isNavigatable) {\n      const frame = this.#findFrameElement(element, submitter);\n      return frame ? frame != element.closest(\"turbo-frame\") : false\n    } else {\n      return false\n    }\n  }\n\n  #findFrameElement(element, submitter) {\n    const id = submitter?.getAttribute(\"data-turbo-frame\") || element.getAttribute(\"data-turbo-frame\");\n    if (id && id != \"_top\") {\n      const frame = this.element.querySelector(`#${id}:not([disabled])`);\n      if (frame instanceof FrameElement) {\n        return frame\n      }\n    }\n  }\n}\n\nclass History {\n  location\n  restorationIdentifier = uuid()\n  restorationData = {}\n  started = false\n  pageLoaded = false\n  currentIndex = 0\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      addEventListener(\"popstate\", this.onPopState, false);\n      addEventListener(\"load\", this.onPageLoad, false);\n      this.currentIndex = history.state?.turbo?.restorationIndex || 0;\n      this.started = true;\n      this.replace(new URL(window.location.href));\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      removeEventListener(\"popstate\", this.onPopState, false);\n      removeEventListener(\"load\", this.onPageLoad, false);\n      this.started = false;\n    }\n  }\n\n  push(location, restorationIdentifier) {\n    this.update(history.pushState, location, restorationIdentifier);\n  }\n\n  replace(location, restorationIdentifier) {\n    this.update(history.replaceState, location, restorationIdentifier);\n  }\n\n  update(method, location, restorationIdentifier = uuid()) {\n    if (method === history.pushState) ++this.currentIndex;\n\n    const state = { turbo: { restorationIdentifier, restorationIndex: this.currentIndex } };\n    method.call(history, state, \"\", location.href);\n    this.location = location;\n    this.restorationIdentifier = restorationIdentifier;\n  }\n\n  // Restoration data\n\n  getRestorationDataForIdentifier(restorationIdentifier) {\n    return this.restorationData[restorationIdentifier] || {}\n  }\n\n  updateRestorationData(additionalData) {\n    const { restorationIdentifier } = this;\n    const restorationData = this.restorationData[restorationIdentifier];\n    this.restorationData[restorationIdentifier] = {\n      ...restorationData,\n      ...additionalData\n    };\n  }\n\n  // Scroll restoration\n\n  assumeControlOfScrollRestoration() {\n    if (!this.previousScrollRestoration) {\n      this.previousScrollRestoration = history.scrollRestoration ?? \"auto\";\n      history.scrollRestoration = \"manual\";\n    }\n  }\n\n  relinquishControlOfScrollRestoration() {\n    if (this.previousScrollRestoration) {\n      history.scrollRestoration = this.previousScrollRestoration;\n      delete this.previousScrollRestoration;\n    }\n  }\n\n  // Event handlers\n\n  onPopState = (event) => {\n    if (this.shouldHandlePopState()) {\n      const { turbo } = event.state || {};\n      if (turbo) {\n        this.location = new URL(window.location.href);\n        const { restorationIdentifier, restorationIndex } = turbo;\n        this.restorationIdentifier = restorationIdentifier;\n        const direction = restorationIndex > this.currentIndex ? \"forward\" : \"back\";\n        this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location, restorationIdentifier, direction);\n        this.currentIndex = restorationIndex;\n      }\n    }\n  }\n\n  onPageLoad = async (_event) => {\n    await nextMicrotask();\n    this.pageLoaded = true;\n  }\n\n  // Private\n\n  shouldHandlePopState() {\n    // Safari dispatches a popstate event after window's load event, ignore it\n    return this.pageIsLoaded()\n  }\n\n  pageIsLoaded() {\n    return this.pageLoaded || document.readyState == \"complete\"\n  }\n}\n\nclass LinkPrefetchObserver {\n  started = false\n  #prefetchedLink = null\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (this.started) return\n\n    if (this.eventTarget.readyState === \"loading\") {\n      this.eventTarget.addEventListener(\"DOMContentLoaded\", this.#enable, { once: true });\n    } else {\n      this.#enable();\n    }\n  }\n\n  stop() {\n    if (!this.started) return\n\n    this.eventTarget.removeEventListener(\"mouseenter\", this.#tryToPrefetchRequest, {\n      capture: true,\n      passive: true\n    });\n    this.eventTarget.removeEventListener(\"mouseleave\", this.#cancelRequestIfObsolete, {\n      capture: true,\n      passive: true\n    });\n\n    this.eventTarget.removeEventListener(\"turbo:before-fetch-request\", this.#tryToUsePrefetchedRequest, true);\n    this.started = false;\n  }\n\n  #enable = () => {\n    this.eventTarget.addEventListener(\"mouseenter\", this.#tryToPrefetchRequest, {\n      capture: true,\n      passive: true\n    });\n    this.eventTarget.addEventListener(\"mouseleave\", this.#cancelRequestIfObsolete, {\n      capture: true,\n      passive: true\n    });\n\n    this.eventTarget.addEventListener(\"turbo:before-fetch-request\", this.#tryToUsePrefetchedRequest, true);\n    this.started = true;\n  }\n\n  #tryToPrefetchRequest = (event) => {\n    if (getMetaContent(\"turbo-prefetch\") === \"false\") return\n\n    const target = event.target;\n    const isLink = target.matches && target.matches(\"a[href]:not([target^=_]):not([download])\");\n\n    if (isLink && this.#isPrefetchable(target)) {\n      const link = target;\n      const location = getLocationForLink(link);\n\n      if (this.delegate.canPrefetchRequestToLocation(link, location)) {\n        this.#prefetchedLink = link;\n\n        const fetchRequest = new FetchRequest(\n          this,\n          FetchMethod.get,\n          location,\n          new URLSearchParams(),\n          target\n        );\n\n        prefetchCache.setLater(location.toString(), fetchRequest, this.#cacheTtl);\n      }\n    }\n  }\n\n  #cancelRequestIfObsolete = (event) => {\n    if (event.target === this.#prefetchedLink) this.#cancelPrefetchRequest();\n  }\n\n  #cancelPrefetchRequest = () => {\n    prefetchCache.clear();\n    this.#prefetchedLink = null;\n  }\n\n  #tryToUsePrefetchedRequest = (event) => {\n    if (event.target.tagName !== \"FORM\" && event.detail.fetchOptions.method === \"GET\") {\n      const cached = prefetchCache.get(event.detail.url.toString());\n\n      if (cached) {\n        // User clicked link, use cache response\n        event.detail.fetchRequest = cached;\n      }\n\n      prefetchCache.clear();\n    }\n  }\n\n  prepareRequest(request) {\n    const link = request.target;\n\n    request.headers[\"X-Sec-Purpose\"] = \"prefetch\";\n\n    const turboFrame = link.closest(\"turbo-frame\");\n    const turboFrameTarget = link.getAttribute(\"data-turbo-frame\") || turboFrame?.getAttribute(\"target\") || turboFrame?.id;\n\n    if (turboFrameTarget && turboFrameTarget !== \"_top\") {\n      request.headers[\"Turbo-Frame\"] = turboFrameTarget;\n    }\n  }\n\n  // Fetch request interface\n\n  requestSucceededWithResponse() {}\n\n  requestStarted(fetchRequest) {}\n\n  requestErrored(fetchRequest) {}\n\n  requestFinished(fetchRequest) {}\n\n  requestPreventedHandlingResponse(fetchRequest, fetchResponse) {}\n\n  requestFailedWithResponse(fetchRequest, fetchResponse) {}\n\n  get #cacheTtl() {\n    return Number(getMetaContent(\"turbo-prefetch-cache-time\")) || cacheTtl\n  }\n\n  #isPrefetchable(link) {\n    const href = link.getAttribute(\"href\");\n\n    if (!href) return false\n\n    if (unfetchableLink(link)) return false\n    if (linkToTheSamePage(link)) return false\n    if (linkOptsOut(link)) return false\n    if (nonSafeLink(link)) return false\n    if (eventPrevented(link)) return false\n\n    return true\n  }\n}\n\nconst unfetchableLink = (link) => {\n  return link.origin !== document.location.origin || ![\"http:\", \"https:\"].includes(link.protocol) || link.hasAttribute(\"target\")\n};\n\nconst linkToTheSamePage = (link) => {\n  return (link.pathname + link.search === document.location.pathname + document.location.search) || link.href.startsWith(\"#\")\n};\n\nconst linkOptsOut = (link) => {\n  if (link.getAttribute(\"data-turbo-prefetch\") === \"false\") return true\n  if (link.getAttribute(\"data-turbo\") === \"false\") return true\n\n  const turboPrefetchParent = findClosestRecursively(link, \"[data-turbo-prefetch]\");\n  if (turboPrefetchParent && turboPrefetchParent.getAttribute(\"data-turbo-prefetch\") === \"false\") return true\n\n  return false\n};\n\nconst nonSafeLink = (link) => {\n  const turboMethod = link.getAttribute(\"data-turbo-method\");\n  if (turboMethod && turboMethod.toLowerCase() !== \"get\") return true\n\n  if (isUJS(link)) return true\n  if (link.hasAttribute(\"data-turbo-confirm\")) return true\n  if (link.hasAttribute(\"data-turbo-stream\")) return true\n\n  return false\n};\n\nconst isUJS = (link) => {\n  return link.hasAttribute(\"data-remote\") || link.hasAttribute(\"data-behavior\") || link.hasAttribute(\"data-confirm\") || link.hasAttribute(\"data-method\")\n};\n\nconst eventPrevented = (link) => {\n  const event = dispatch(\"turbo:before-prefetch\", { target: link, cancelable: true });\n  return event.defaultPrevented\n};\n\nclass Navigator {\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  proposeVisit(location, options = {}) {\n    if (this.delegate.allowsVisitingLocationWithAction(location, options.action)) {\n      this.delegate.visitProposedToLocation(location, options);\n    }\n  }\n\n  startVisit(locatable, restorationIdentifier, options = {}) {\n    this.stop();\n    this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, {\n      referrer: this.location,\n      ...options\n    });\n    this.currentVisit.start();\n  }\n\n  submitForm(form, submitter) {\n    this.stop();\n    this.formSubmission = new FormSubmission(this, form, submitter, true);\n\n    this.formSubmission.start();\n  }\n\n  stop() {\n    if (this.formSubmission) {\n      this.formSubmission.stop();\n      delete this.formSubmission;\n    }\n\n    if (this.currentVisit) {\n      this.currentVisit.cancel();\n      delete this.currentVisit;\n    }\n  }\n\n  get adapter() {\n    return this.delegate.adapter\n  }\n\n  get view() {\n    return this.delegate.view\n  }\n\n  get rootLocation() {\n    return this.view.snapshot.rootLocation\n  }\n\n  get history() {\n    return this.delegate.history\n  }\n\n  // Form submission delegate\n\n  formSubmissionStarted(formSubmission) {\n    // Not all adapters implement formSubmissionStarted\n    if (typeof this.adapter.formSubmissionStarted === \"function\") {\n      this.adapter.formSubmissionStarted(formSubmission);\n    }\n  }\n\n  async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {\n    if (formSubmission == this.formSubmission) {\n      const responseHTML = await fetchResponse.responseHTML;\n      if (responseHTML) {\n        const shouldCacheSnapshot = formSubmission.isSafe;\n        if (!shouldCacheSnapshot) {\n          this.view.clearSnapshotCache();\n        }\n\n        const { statusCode, redirected } = fetchResponse;\n        const action = this.#getActionForFormSubmission(formSubmission, fetchResponse);\n        const visitOptions = {\n          action,\n          shouldCacheSnapshot,\n          response: { statusCode, responseHTML, redirected }\n        };\n        this.proposeVisit(fetchResponse.location, visitOptions);\n      }\n    }\n  }\n\n  async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n    const responseHTML = await fetchResponse.responseHTML;\n\n    if (responseHTML) {\n      const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n      if (fetchResponse.serverError) {\n        await this.view.renderError(snapshot, this.currentVisit);\n      } else {\n        await this.view.renderPage(snapshot, false, true, this.currentVisit);\n      }\n      if(!snapshot.shouldPreserveScrollPosition) {\n        this.view.scrollToTop();\n      }\n      this.view.clearSnapshotCache();\n    }\n  }\n\n  formSubmissionErrored(formSubmission, error) {\n    console.error(error);\n  }\n\n  formSubmissionFinished(formSubmission) {\n    // Not all adapters implement formSubmissionFinished\n    if (typeof this.adapter.formSubmissionFinished === \"function\") {\n      this.adapter.formSubmissionFinished(formSubmission);\n    }\n  }\n\n  // Visit delegate\n\n  visitStarted(visit) {\n    this.delegate.visitStarted(visit);\n  }\n\n  visitCompleted(visit) {\n    this.delegate.visitCompleted(visit);\n    delete this.currentVisit;\n  }\n\n  locationWithActionIsSamePage(location, action) {\n    const anchor = getAnchor(location);\n    const currentAnchor = getAnchor(this.view.lastRenderedLocation);\n    const isRestorationToTop = action === \"restore\" && typeof anchor === \"undefined\";\n\n    return (\n      action !== \"replace\" &&\n      getRequestURL(location) === getRequestURL(this.view.lastRenderedLocation) &&\n      (isRestorationToTop || (anchor != null && anchor !== currentAnchor))\n    )\n  }\n\n  visitScrolledToSamePageLocation(oldURL, newURL) {\n    this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);\n  }\n\n  // Visits\n\n  get location() {\n    return this.history.location\n  }\n\n  get restorationIdentifier() {\n    return this.history.restorationIdentifier\n  }\n\n  #getActionForFormSubmission(formSubmission, fetchResponse) {\n    const { submitter, formElement } = formSubmission;\n    return getVisitAction(submitter, formElement) || this.#getDefaultAction(fetchResponse)\n  }\n\n  #getDefaultAction(fetchResponse) {\n    const sameLocationRedirect = fetchResponse.redirected && fetchResponse.location.href === this.location?.href;\n    return sameLocationRedirect ? \"replace\" : \"advance\"\n  }\n}\n\nconst PageStage = {\n  initial: 0,\n  loading: 1,\n  interactive: 2,\n  complete: 3\n};\n\nclass PageObserver {\n  stage = PageStage.initial\n  started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      if (this.stage == PageStage.initial) {\n        this.stage = PageStage.loading;\n      }\n      document.addEventListener(\"readystatechange\", this.interpretReadyState, false);\n      addEventListener(\"pagehide\", this.pageWillUnload, false);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      document.removeEventListener(\"readystatechange\", this.interpretReadyState, false);\n      removeEventListener(\"pagehide\", this.pageWillUnload, false);\n      this.started = false;\n    }\n  }\n\n  interpretReadyState = () => {\n    const { readyState } = this;\n    if (readyState == \"interactive\") {\n      this.pageIsInteractive();\n    } else if (readyState == \"complete\") {\n      this.pageIsComplete();\n    }\n  }\n\n  pageIsInteractive() {\n    if (this.stage == PageStage.loading) {\n      this.stage = PageStage.interactive;\n      this.delegate.pageBecameInteractive();\n    }\n  }\n\n  pageIsComplete() {\n    this.pageIsInteractive();\n    if (this.stage == PageStage.interactive) {\n      this.stage = PageStage.complete;\n      this.delegate.pageLoaded();\n    }\n  }\n\n  pageWillUnload = () => {\n    this.delegate.pageWillUnload();\n  }\n\n  get readyState() {\n    return document.readyState\n  }\n}\n\nclass ScrollObserver {\n  started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      addEventListener(\"scroll\", this.onScroll, false);\n      this.onScroll();\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      removeEventListener(\"scroll\", this.onScroll, false);\n      this.started = false;\n    }\n  }\n\n  onScroll = () => {\n    this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });\n  }\n\n  // Private\n\n  updatePosition(position) {\n    this.delegate.scrollPositionChanged(position);\n  }\n}\n\nclass StreamMessageRenderer {\n  render({ fragment }) {\n    Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () => {\n      withAutofocusFromFragment(fragment, () => {\n        withPreservedFocus(() => {\n          document.documentElement.appendChild(fragment);\n        });\n      });\n    });\n  }\n\n  // Bardo delegate\n\n  enteringBardo(currentPermanentElement, newPermanentElement) {\n    newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));\n  }\n\n  leavingBardo() {}\n}\n\nfunction getPermanentElementMapForFragment(fragment) {\n  const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);\n  const permanentElementMap = {};\n  for (const permanentElementInDocument of permanentElementsInDocument) {\n    const { id } = permanentElementInDocument;\n\n    for (const streamElement of fragment.querySelectorAll(\"turbo-stream\")) {\n      const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);\n\n      if (elementInStream) {\n        permanentElementMap[id] = [permanentElementInDocument, elementInStream];\n      }\n    }\n  }\n\n  return permanentElementMap\n}\n\nasync function withAutofocusFromFragment(fragment, callback) {\n  const generatedID = `turbo-stream-autofocus-${uuid()}`;\n  const turboStreams = fragment.querySelectorAll(\"turbo-stream\");\n  const elementWithAutofocus = firstAutofocusableElementInStreams(turboStreams);\n  let willAutofocusId = null;\n\n  if (elementWithAutofocus) {\n    if (elementWithAutofocus.id) {\n      willAutofocusId = elementWithAutofocus.id;\n    } else {\n      willAutofocusId = generatedID;\n    }\n\n    elementWithAutofocus.id = willAutofocusId;\n  }\n\n  callback();\n  await nextRepaint();\n\n  const hasNoActiveElement = document.activeElement == null || document.activeElement == document.body;\n\n  if (hasNoActiveElement && willAutofocusId) {\n    const elementToAutofocus = document.getElementById(willAutofocusId);\n\n    if (elementIsFocusable(elementToAutofocus)) {\n      elementToAutofocus.focus();\n    }\n    if (elementToAutofocus && elementToAutofocus.id == generatedID) {\n      elementToAutofocus.removeAttribute(\"id\");\n    }\n  }\n}\n\nasync function withPreservedFocus(callback) {\n  const [activeElementBeforeRender, activeElementAfterRender] = await around(callback, () => document.activeElement);\n\n  const restoreFocusTo = activeElementBeforeRender && activeElementBeforeRender.id;\n\n  if (restoreFocusTo) {\n    const elementToFocus = document.getElementById(restoreFocusTo);\n\n    if (elementIsFocusable(elementToFocus) && elementToFocus != activeElementAfterRender) {\n      elementToFocus.focus();\n    }\n  }\n}\n\nfunction firstAutofocusableElementInStreams(nodeListOfStreamElements) {\n  for (const streamElement of nodeListOfStreamElements) {\n    const elementWithAutofocus = queryAutofocusableElement(streamElement.templateElement.content);\n\n    if (elementWithAutofocus) return elementWithAutofocus\n  }\n\n  return null\n}\n\nclass StreamObserver {\n  sources = new Set()\n  #started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.#started) {\n      this.#started = true;\n      addEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n    }\n  }\n\n  stop() {\n    if (this.#started) {\n      this.#started = false;\n      removeEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n    }\n  }\n\n  connectStreamSource(source) {\n    if (!this.streamSourceIsConnected(source)) {\n      this.sources.add(source);\n      source.addEventListener(\"message\", this.receiveMessageEvent, false);\n    }\n  }\n\n  disconnectStreamSource(source) {\n    if (this.streamSourceIsConnected(source)) {\n      this.sources.delete(source);\n      source.removeEventListener(\"message\", this.receiveMessageEvent, false);\n    }\n  }\n\n  streamSourceIsConnected(source) {\n    return this.sources.has(source)\n  }\n\n  inspectFetchResponse = (event) => {\n    const response = fetchResponseFromEvent(event);\n    if (response && fetchResponseIsStream(response)) {\n      event.preventDefault();\n      this.receiveMessageResponse(response);\n    }\n  }\n\n  receiveMessageEvent = (event) => {\n    if (this.#started && typeof event.data == \"string\") {\n      this.receiveMessageHTML(event.data);\n    }\n  }\n\n  async receiveMessageResponse(response) {\n    const html = await response.responseHTML;\n    if (html) {\n      this.receiveMessageHTML(html);\n    }\n  }\n\n  receiveMessageHTML(html) {\n    this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));\n  }\n}\n\nfunction fetchResponseFromEvent(event) {\n  const fetchResponse = event.detail?.fetchResponse;\n  if (fetchResponse instanceof FetchResponse) {\n    return fetchResponse\n  }\n}\n\nfunction fetchResponseIsStream(response) {\n  const contentType = response.contentType ?? \"\";\n  return contentType.startsWith(StreamMessage.contentType)\n}\n\nclass ErrorRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    const { documentElement, body } = document;\n\n    documentElement.replaceChild(newElement, body);\n  }\n\n  async render() {\n    this.replaceHeadAndBody();\n    this.activateScriptElements();\n  }\n\n  replaceHeadAndBody() {\n    const { documentElement, head } = document;\n    documentElement.replaceChild(this.newHead, head);\n    this.renderElement(this.currentElement, this.newElement);\n  }\n\n  activateScriptElements() {\n    for (const replaceableElement of this.scriptElements) {\n      const parentNode = replaceableElement.parentNode;\n      if (parentNode) {\n        const element = activateScriptElement(replaceableElement);\n        parentNode.replaceChild(element, replaceableElement);\n      }\n    }\n  }\n\n  get newHead() {\n    return this.newSnapshot.headSnapshot.element\n  }\n\n  get scriptElements() {\n    return document.documentElement.querySelectorAll(\"script\")\n  }\n}\n\nclass PageRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    if (document.body && newElement instanceof HTMLBodyElement) {\n      document.body.replaceWith(newElement);\n    } else {\n      document.documentElement.appendChild(newElement);\n    }\n  }\n\n  get shouldRender() {\n    return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical\n  }\n\n  get reloadReason() {\n    if (!this.newSnapshot.isVisitable) {\n      return {\n        reason: \"turbo_visit_control_is_reload\"\n      }\n    }\n\n    if (!this.trackedElementsAreIdentical) {\n      return {\n        reason: \"tracked_element_mismatch\"\n      }\n    }\n  }\n\n  async prepareToRender() {\n    this.#setLanguage();\n    await this.mergeHead();\n  }\n\n  async render() {\n    if (this.willRender) {\n      await this.replaceBody();\n    }\n  }\n\n  finishRendering() {\n    super.finishRendering();\n    if (!this.isPreview) {\n      this.focusFirstAutofocusableElement();\n    }\n  }\n\n  get currentHeadSnapshot() {\n    return this.currentSnapshot.headSnapshot\n  }\n\n  get newHeadSnapshot() {\n    return this.newSnapshot.headSnapshot\n  }\n\n  get newElement() {\n    return this.newSnapshot.element\n  }\n\n  #setLanguage() {\n    const { documentElement } = this.currentSnapshot;\n    const { lang } = this.newSnapshot;\n\n    if (lang) {\n      documentElement.setAttribute(\"lang\", lang);\n    } else {\n      documentElement.removeAttribute(\"lang\");\n    }\n  }\n\n  async mergeHead() {\n    const mergedHeadElements = this.mergeProvisionalElements();\n    const newStylesheetElements = this.copyNewHeadStylesheetElements();\n    this.copyNewHeadScriptElements();\n\n    await mergedHeadElements;\n    await newStylesheetElements;\n\n    if (this.willRender) {\n      this.removeUnusedDynamicStylesheetElements();\n    }\n  }\n\n  async replaceBody() {\n    await this.preservingPermanentElements(async () => {\n      this.activateNewBody();\n      await this.assignNewBody();\n    });\n  }\n\n  get trackedElementsAreIdentical() {\n    return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature\n  }\n\n  async copyNewHeadStylesheetElements() {\n    const loadingElements = [];\n\n    for (const element of this.newHeadStylesheetElements) {\n      loadingElements.push(waitForLoad(element));\n\n      document.head.appendChild(element);\n    }\n\n    await Promise.all(loadingElements);\n  }\n\n  copyNewHeadScriptElements() {\n    for (const element of this.newHeadScriptElements) {\n      document.head.appendChild(activateScriptElement(element));\n    }\n  }\n\n  removeUnusedDynamicStylesheetElements() {\n    for (const element of this.unusedDynamicStylesheetElements) {\n      document.head.removeChild(element);\n    }\n  }\n\n  async mergeProvisionalElements() {\n    const newHeadElements = [...this.newHeadProvisionalElements];\n\n    for (const element of this.currentHeadProvisionalElements) {\n      if (!this.isCurrentElementInElementList(element, newHeadElements)) {\n        document.head.removeChild(element);\n      }\n    }\n\n    for (const element of newHeadElements) {\n      document.head.appendChild(element);\n    }\n  }\n\n  isCurrentElementInElementList(element, elementList) {\n    for (const [index, newElement] of elementList.entries()) {\n      // if title element...\n      if (element.tagName == \"TITLE\") {\n        if (newElement.tagName != \"TITLE\") {\n          continue\n        }\n        if (element.innerHTML == newElement.innerHTML) {\n          elementList.splice(index, 1);\n          return true\n        }\n      }\n\n      // if any other element...\n      if (newElement.isEqualNode(element)) {\n        elementList.splice(index, 1);\n        return true\n      }\n    }\n\n    return false\n  }\n\n  removeCurrentHeadProvisionalElements() {\n    for (const element of this.currentHeadProvisionalElements) {\n      document.head.removeChild(element);\n    }\n  }\n\n  copyNewHeadProvisionalElements() {\n    for (const element of this.newHeadProvisionalElements) {\n      document.head.appendChild(element);\n    }\n  }\n\n  activateNewBody() {\n    document.adoptNode(this.newElement);\n    this.activateNewBodyScriptElements();\n  }\n\n  activateNewBodyScriptElements() {\n    for (const inertScriptElement of this.newBodyScriptElements) {\n      const activatedScriptElement = activateScriptElement(inertScriptElement);\n      inertScriptElement.replaceWith(activatedScriptElement);\n    }\n  }\n\n  async assignNewBody() {\n    await this.renderElement(this.currentElement, this.newElement);\n  }\n\n  get unusedDynamicStylesheetElements() {\n    return this.oldHeadStylesheetElements.filter((element) => {\n      return element.getAttribute(\"data-turbo-track\") === \"dynamic\"\n    })\n  }\n\n  get oldHeadStylesheetElements() {\n    return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)\n  }\n\n  get newHeadStylesheetElements() {\n    return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)\n  }\n\n  get newHeadScriptElements() {\n    return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)\n  }\n\n  get currentHeadProvisionalElements() {\n    return this.currentHeadSnapshot.provisionalElements\n  }\n\n  get newHeadProvisionalElements() {\n    return this.newHeadSnapshot.provisionalElements\n  }\n\n  get newBodyScriptElements() {\n    return this.newElement.querySelectorAll(\"script\")\n  }\n}\n\nclass MorphingPageRenderer extends PageRenderer {\n  static renderElement(currentElement, newElement) {\n    morphElements(currentElement, newElement, {\n      callbacks: {\n        beforeNodeMorphed: element => !canRefreshFrame(element)\n      }\n    });\n\n    for (const frame of currentElement.querySelectorAll(\"turbo-frame\")) {\n      if (canRefreshFrame(frame)) frame.reload();\n    }\n\n    dispatch(\"turbo:morph\", { detail: { currentElement, newElement } });\n  }\n\n  async preservingPermanentElements(callback) {\n    return await callback()\n  }\n\n  get renderMethod() {\n    return \"morph\"\n  }\n\n  get shouldAutofocus() {\n    return false\n  }\n}\n\nfunction canRefreshFrame(frame) {\n  return frame instanceof FrameElement &&\n    frame.src &&\n    frame.refresh === \"morph\" &&\n    !frame.closest(\"[data-turbo-permanent]\")\n}\n\nclass SnapshotCache {\n  keys = []\n  snapshots = {}\n\n  constructor(size) {\n    this.size = size;\n  }\n\n  has(location) {\n    return toCacheKey(location) in this.snapshots\n  }\n\n  get(location) {\n    if (this.has(location)) {\n      const snapshot = this.read(location);\n      this.touch(location);\n      return snapshot\n    }\n  }\n\n  put(location, snapshot) {\n    this.write(location, snapshot);\n    this.touch(location);\n    return snapshot\n  }\n\n  clear() {\n    this.snapshots = {};\n  }\n\n  // Private\n\n  read(location) {\n    return this.snapshots[toCacheKey(location)]\n  }\n\n  write(location, snapshot) {\n    this.snapshots[toCacheKey(location)] = snapshot;\n  }\n\n  touch(location) {\n    const key = toCacheKey(location);\n    const index = this.keys.indexOf(key);\n    if (index > -1) this.keys.splice(index, 1);\n    this.keys.unshift(key);\n    this.trim();\n  }\n\n  trim() {\n    for (const key of this.keys.splice(this.size)) {\n      delete this.snapshots[key];\n    }\n  }\n}\n\nclass PageView extends View {\n  snapshotCache = new SnapshotCache(10)\n  lastRenderedLocation = new URL(location.href)\n  forceReloaded = false\n\n  shouldTransitionTo(newSnapshot) {\n    return this.snapshot.prefersViewTransitions && newSnapshot.prefersViewTransitions\n  }\n\n  renderPage(snapshot, isPreview = false, willRender = true, visit) {\n    const shouldMorphPage = this.isPageRefresh(visit) && this.snapshot.shouldMorphPage;\n    const rendererClass = shouldMorphPage ? MorphingPageRenderer : PageRenderer;\n\n    const renderer = new rendererClass(this.snapshot, snapshot, isPreview, willRender);\n\n    if (!renderer.shouldRender) {\n      this.forceReloaded = true;\n    } else {\n      visit?.changeHistory();\n    }\n\n    return this.render(renderer)\n  }\n\n  renderError(snapshot, visit) {\n    visit?.changeHistory();\n    const renderer = new ErrorRenderer(this.snapshot, snapshot, false);\n    return this.render(renderer)\n  }\n\n  clearSnapshotCache() {\n    this.snapshotCache.clear();\n  }\n\n  async cacheSnapshot(snapshot = this.snapshot) {\n    if (snapshot.isCacheable) {\n      this.delegate.viewWillCacheSnapshot();\n      const { lastRenderedLocation: location } = this;\n      await nextEventLoopTick();\n      const cachedSnapshot = snapshot.clone();\n      this.snapshotCache.put(location, cachedSnapshot);\n      return cachedSnapshot\n    }\n  }\n\n  getCachedSnapshotForLocation(location) {\n    return this.snapshotCache.get(location)\n  }\n\n  isPageRefresh(visit) {\n    return !visit || (this.lastRenderedLocation.pathname === visit.location.pathname && visit.action === \"replace\")\n  }\n\n  shouldPreserveScrollPosition(visit) {\n    return this.isPageRefresh(visit) && this.snapshot.shouldPreserveScrollPosition\n  }\n\n  get snapshot() {\n    return PageSnapshot.fromElement(this.element)\n  }\n}\n\nclass Preloader {\n  selector = \"a[data-turbo-preload]\"\n\n  constructor(delegate, snapshotCache) {\n    this.delegate = delegate;\n    this.snapshotCache = snapshotCache;\n  }\n\n  start() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", this.#preloadAll);\n    } else {\n      this.preloadOnLoadLinksForView(document.body);\n    }\n  }\n\n  stop() {\n    document.removeEventListener(\"DOMContentLoaded\", this.#preloadAll);\n  }\n\n  preloadOnLoadLinksForView(element) {\n    for (const link of element.querySelectorAll(this.selector)) {\n      if (this.delegate.shouldPreloadLink(link)) {\n        this.preloadURL(link);\n      }\n    }\n  }\n\n  async preloadURL(link) {\n    const location = new URL(link.href);\n\n    if (this.snapshotCache.has(location)) {\n      return\n    }\n\n    const fetchRequest = new FetchRequest(this, FetchMethod.get, location, new URLSearchParams(), link);\n    await fetchRequest.perform();\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(fetchRequest) {\n    fetchRequest.headers[\"X-Sec-Purpose\"] = \"prefetch\";\n  }\n\n  async requestSucceededWithResponse(fetchRequest, fetchResponse) {\n    try {\n      const responseHTML = await fetchResponse.responseHTML;\n      const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n\n      this.snapshotCache.put(fetchRequest.url, snapshot);\n    } catch (_) {\n      // If we cannot preload that is ok!\n    }\n  }\n\n  requestStarted(fetchRequest) {}\n\n  requestErrored(fetchRequest) {}\n\n  requestFinished(fetchRequest) {}\n\n  requestPreventedHandlingResponse(fetchRequest, fetchResponse) {}\n\n  requestFailedWithResponse(fetchRequest, fetchResponse) {}\n\n  #preloadAll = () => {\n    this.preloadOnLoadLinksForView(document.body);\n  }\n}\n\nclass Cache {\n  constructor(session) {\n    this.session = session;\n  }\n\n  clear() {\n    this.session.clearCache();\n  }\n\n  resetCacheControl() {\n    this.#setCacheControl(\"\");\n  }\n\n  exemptPageFromCache() {\n    this.#setCacheControl(\"no-cache\");\n  }\n\n  exemptPageFromPreview() {\n    this.#setCacheControl(\"no-preview\");\n  }\n\n  #setCacheControl(value) {\n    setMetaContent(\"turbo-cache-control\", value);\n  }\n}\n\nclass Session {\n  navigator = new Navigator(this)\n  history = new History(this)\n  view = new PageView(this, document.documentElement)\n  adapter = new BrowserAdapter(this)\n\n  pageObserver = new PageObserver(this)\n  cacheObserver = new CacheObserver()\n  linkPrefetchObserver = new LinkPrefetchObserver(this, document)\n  linkClickObserver = new LinkClickObserver(this, window)\n  formSubmitObserver = new FormSubmitObserver(this, document)\n  scrollObserver = new ScrollObserver(this)\n  streamObserver = new StreamObserver(this)\n  formLinkClickObserver = new FormLinkClickObserver(this, document.documentElement)\n  frameRedirector = new FrameRedirector(this, document.documentElement)\n  streamMessageRenderer = new StreamMessageRenderer()\n  cache = new Cache(this)\n\n  enabled = true\n  started = false\n  #pageRefreshDebouncePeriod = 150\n\n  constructor(recentRequests) {\n    this.recentRequests = recentRequests;\n    this.preloader = new Preloader(this, this.view.snapshotCache);\n    this.debouncedRefresh = this.refresh;\n    this.pageRefreshDebouncePeriod = this.pageRefreshDebouncePeriod;\n  }\n\n  start() {\n    if (!this.started) {\n      this.pageObserver.start();\n      this.cacheObserver.start();\n      this.linkPrefetchObserver.start();\n      this.formLinkClickObserver.start();\n      this.linkClickObserver.start();\n      this.formSubmitObserver.start();\n      this.scrollObserver.start();\n      this.streamObserver.start();\n      this.frameRedirector.start();\n      this.history.start();\n      this.preloader.start();\n      this.started = true;\n      this.enabled = true;\n    }\n  }\n\n  disable() {\n    this.enabled = false;\n  }\n\n  stop() {\n    if (this.started) {\n      this.pageObserver.stop();\n      this.cacheObserver.stop();\n      this.linkPrefetchObserver.stop();\n      this.formLinkClickObserver.stop();\n      this.linkClickObserver.stop();\n      this.formSubmitObserver.stop();\n      this.scrollObserver.stop();\n      this.streamObserver.stop();\n      this.frameRedirector.stop();\n      this.history.stop();\n      this.preloader.stop();\n      this.started = false;\n    }\n  }\n\n  registerAdapter(adapter) {\n    this.adapter = adapter;\n  }\n\n  visit(location, options = {}) {\n    const frameElement = options.frame ? document.getElementById(options.frame) : null;\n\n    if (frameElement instanceof FrameElement) {\n      const action = options.action || getVisitAction(frameElement);\n\n      frameElement.delegate.proposeVisitIfNavigatedWithAction(frameElement, action);\n      frameElement.src = location.toString();\n    } else {\n      this.navigator.proposeVisit(expandURL(location), options);\n    }\n  }\n\n  refresh(url, requestId) {\n    const isRecentRequest = requestId && this.recentRequests.has(requestId);\n    if (!isRecentRequest && !this.navigator.currentVisit) {\n      this.visit(url, { action: \"replace\", shouldCacheSnapshot: false });\n    }\n  }\n\n  connectStreamSource(source) {\n    this.streamObserver.connectStreamSource(source);\n  }\n\n  disconnectStreamSource(source) {\n    this.streamObserver.disconnectStreamSource(source);\n  }\n\n  renderStreamMessage(message) {\n    this.streamMessageRenderer.render(StreamMessage.wrap(message));\n  }\n\n  clearCache() {\n    this.view.clearSnapshotCache();\n  }\n\n  setProgressBarDelay(delay) {\n    console.warn(\n      \"Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`\"\n    );\n\n    this.progressBarDelay = delay;\n  }\n\n  set progressBarDelay(delay) {\n    config.drive.progressBarDelay = delay;\n  }\n\n  get progressBarDelay() {\n    return config.drive.progressBarDelay\n  }\n\n  set drive(value) {\n    config.drive.enabled = value;\n  }\n\n  get drive() {\n    return config.drive.enabled\n  }\n\n  set formMode(value) {\n    config.forms.mode = value;\n  }\n\n  get formMode() {\n    return config.forms.mode\n  }\n\n  get location() {\n    return this.history.location\n  }\n\n  get restorationIdentifier() {\n    return this.history.restorationIdentifier\n  }\n\n  get pageRefreshDebouncePeriod() {\n    return this.#pageRefreshDebouncePeriod\n  }\n\n  set pageRefreshDebouncePeriod(value) {\n    this.refresh = debounce(this.debouncedRefresh.bind(this), value);\n    this.#pageRefreshDebouncePeriod = value;\n  }\n\n  // Preloader delegate\n\n  shouldPreloadLink(element) {\n    const isUnsafe = element.hasAttribute(\"data-turbo-method\");\n    const isStream = element.hasAttribute(\"data-turbo-stream\");\n    const frameTarget = element.getAttribute(\"data-turbo-frame\");\n    const frame = frameTarget == \"_top\" ?\n      null :\n      document.getElementById(frameTarget) || findClosestRecursively(element, \"turbo-frame:not([disabled])\");\n\n    if (isUnsafe || isStream || frame instanceof FrameElement) {\n      return false\n    } else {\n      const location = new URL(element.href);\n\n      return this.elementIsNavigatable(element) && locationIsVisitable(location, this.snapshot.rootLocation)\n    }\n  }\n\n  // History delegate\n\n  historyPoppedToLocationWithRestorationIdentifierAndDirection(location, restorationIdentifier, direction) {\n    if (this.enabled) {\n      this.navigator.startVisit(location, restorationIdentifier, {\n        action: \"restore\",\n        historyChanged: true,\n        direction\n      });\n    } else {\n      this.adapter.pageInvalidated({\n        reason: \"turbo_disabled\"\n      });\n    }\n  }\n\n  // Scroll observer delegate\n\n  scrollPositionChanged(position) {\n    this.history.updateRestorationData({ scrollPosition: position });\n  }\n\n  // Form click observer delegate\n\n  willSubmitFormLinkToLocation(link, location) {\n    return this.elementIsNavigatable(link) && locationIsVisitable(location, this.snapshot.rootLocation)\n  }\n\n  submittedFormLinkToLocation() {}\n\n  // Link hover observer delegate\n\n  canPrefetchRequestToLocation(link, location) {\n    return (\n      this.elementIsNavigatable(link) &&\n        locationIsVisitable(location, this.snapshot.rootLocation)\n    )\n  }\n\n  // Link click observer delegate\n\n  willFollowLinkToLocation(link, location, event) {\n    return (\n      this.elementIsNavigatable(link) &&\n      locationIsVisitable(location, this.snapshot.rootLocation) &&\n      this.applicationAllowsFollowingLinkToLocation(link, location, event)\n    )\n  }\n\n  followedLinkToLocation(link, location) {\n    const action = this.getActionForLink(link);\n    const acceptsStreamResponse = link.hasAttribute(\"data-turbo-stream\");\n\n    this.visit(location.href, { action, acceptsStreamResponse });\n  }\n\n  // Navigator delegate\n\n  allowsVisitingLocationWithAction(location, action) {\n    return this.locationWithActionIsSamePage(location, action) || this.applicationAllowsVisitingLocation(location)\n  }\n\n  visitProposedToLocation(location, options) {\n    extendURLWithDeprecatedProperties(location);\n    this.adapter.visitProposedToLocation(location, options);\n  }\n\n  // Visit delegate\n\n  visitStarted(visit) {\n    if (!visit.acceptsStreamResponse) {\n      markAsBusy(document.documentElement);\n      this.view.markVisitDirection(visit.direction);\n    }\n    extendURLWithDeprecatedProperties(visit.location);\n    if (!visit.silent) {\n      this.notifyApplicationAfterVisitingLocation(visit.location, visit.action);\n    }\n  }\n\n  visitCompleted(visit) {\n    this.view.unmarkVisitDirection();\n    clearBusyState(document.documentElement);\n    this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n  }\n\n  locationWithActionIsSamePage(location, action) {\n    return this.navigator.locationWithActionIsSamePage(location, action)\n  }\n\n  visitScrolledToSamePageLocation(oldURL, newURL) {\n    this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(form, submitter) {\n    const action = getAction$1(form, submitter);\n\n    return (\n      this.submissionIsNavigatable(form, submitter) &&\n      locationIsVisitable(expandURL(action), this.snapshot.rootLocation)\n    )\n  }\n\n  formSubmitted(form, submitter) {\n    this.navigator.submitForm(form, submitter);\n  }\n\n  // Page observer delegate\n\n  pageBecameInteractive() {\n    this.view.lastRenderedLocation = this.location;\n    this.notifyApplicationAfterPageLoad();\n  }\n\n  pageLoaded() {\n    this.history.assumeControlOfScrollRestoration();\n  }\n\n  pageWillUnload() {\n    this.history.relinquishControlOfScrollRestoration();\n  }\n\n  // Stream observer delegate\n\n  receivedMessageFromStream(message) {\n    this.renderStreamMessage(message);\n  }\n\n  // Page view delegate\n\n  viewWillCacheSnapshot() {\n    if (!this.navigator.currentVisit?.silent) {\n      this.notifyApplicationBeforeCachingSnapshot();\n    }\n  }\n\n  allowsImmediateRender({ element }, options) {\n    const event = this.notifyApplicationBeforeRender(element, options);\n    const {\n      defaultPrevented,\n      detail: { render }\n    } = event;\n\n    if (this.view.renderer && render) {\n      this.view.renderer.renderElement = render;\n    }\n\n    return !defaultPrevented\n  }\n\n  viewRenderedSnapshot(_snapshot, _isPreview, renderMethod) {\n    this.view.lastRenderedLocation = this.history.location;\n    this.notifyApplicationAfterRender(renderMethod);\n  }\n\n  preloadOnLoadLinksForView(element) {\n    this.preloader.preloadOnLoadLinksForView(element);\n  }\n\n  viewInvalidated(reason) {\n    this.adapter.pageInvalidated(reason);\n  }\n\n  // Frame element\n\n  frameLoaded(frame) {\n    this.notifyApplicationAfterFrameLoad(frame);\n  }\n\n  frameRendered(fetchResponse, frame) {\n    this.notifyApplicationAfterFrameRender(fetchResponse, frame);\n  }\n\n  // Application events\n\n  applicationAllowsFollowingLinkToLocation(link, location, ev) {\n    const event = this.notifyApplicationAfterClickingLinkToLocation(link, location, ev);\n    return !event.defaultPrevented\n  }\n\n  applicationAllowsVisitingLocation(location) {\n    const event = this.notifyApplicationBeforeVisitingLocation(location);\n    return !event.defaultPrevented\n  }\n\n  notifyApplicationAfterClickingLinkToLocation(link, location, event) {\n    return dispatch(\"turbo:click\", {\n      target: link,\n      detail: { url: location.href, originalEvent: event },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationBeforeVisitingLocation(location) {\n    return dispatch(\"turbo:before-visit\", {\n      detail: { url: location.href },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationAfterVisitingLocation(location, action) {\n    return dispatch(\"turbo:visit\", { detail: { url: location.href, action } })\n  }\n\n  notifyApplicationBeforeCachingSnapshot() {\n    return dispatch(\"turbo:before-cache\")\n  }\n\n  notifyApplicationBeforeRender(newBody, options) {\n    return dispatch(\"turbo:before-render\", {\n      detail: { newBody, ...options },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationAfterRender(renderMethod) {\n    return dispatch(\"turbo:render\", { detail: { renderMethod } })\n  }\n\n  notifyApplicationAfterPageLoad(timing = {}) {\n    return dispatch(\"turbo:load\", {\n      detail: { url: this.location.href, timing }\n    })\n  }\n\n  notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {\n    dispatchEvent(\n      new HashChangeEvent(\"hashchange\", {\n        oldURL: oldURL.toString(),\n        newURL: newURL.toString()\n      })\n    );\n  }\n\n  notifyApplicationAfterFrameLoad(frame) {\n    return dispatch(\"turbo:frame-load\", { target: frame })\n  }\n\n  notifyApplicationAfterFrameRender(fetchResponse, frame) {\n    return dispatch(\"turbo:frame-render\", {\n      detail: { fetchResponse },\n      target: frame,\n      cancelable: true\n    })\n  }\n\n  // Helpers\n\n  submissionIsNavigatable(form, submitter) {\n    if (config.forms.mode == \"off\") {\n      return false\n    } else {\n      const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;\n\n      if (config.forms.mode == \"optin\") {\n        return submitterIsNavigatable && form.closest('[data-turbo=\"true\"]') != null\n      } else {\n        return submitterIsNavigatable && this.elementIsNavigatable(form)\n      }\n    }\n  }\n\n  elementIsNavigatable(element) {\n    const container = findClosestRecursively(element, \"[data-turbo]\");\n    const withinFrame = findClosestRecursively(element, \"turbo-frame\");\n\n    // Check if Drive is enabled on the session or we're within a Frame.\n    if (config.drive.enabled || withinFrame) {\n      // Element is navigatable by default, unless `data-turbo=\"false\"`.\n      if (container) {\n        return container.getAttribute(\"data-turbo\") != \"false\"\n      } else {\n        return true\n      }\n    } else {\n      // Element isn't navigatable by default, unless `data-turbo=\"true\"`.\n      if (container) {\n        return container.getAttribute(\"data-turbo\") == \"true\"\n      } else {\n        return false\n      }\n    }\n  }\n\n  // Private\n\n  getActionForLink(link) {\n    return getVisitAction(link) || \"advance\"\n  }\n\n  get snapshot() {\n    return this.view.snapshot\n  }\n}\n\n// Older versions of the Turbo Native adapters referenced the\n// `Location#absoluteURL` property in their implementations of\n// the `Adapter#visitProposedToLocation()` and `#visitStarted()`\n// methods. The Location class has since been removed in favor\n// of the DOM URL API, and accordingly all Adapter methods now\n// receive URL objects.\n//\n// We alias #absoluteURL to #toString() here to avoid crashing\n// older adapters which do not expect URL objects. We should\n// consider removing this support at some point in the future.\n\nfunction extendURLWithDeprecatedProperties(url) {\n  Object.defineProperties(url, deprecatedLocationPropertyDescriptors);\n}\n\nconst deprecatedLocationPropertyDescriptors = {\n  absoluteURL: {\n    get() {\n      return this.toString()\n    }\n  }\n};\n\nconst session = new Session(recentRequests);\nconst { cache, navigator: navigator$1 } = session;\n\n/**\n * Starts the main session.\n * This initialises any necessary observers such as those to monitor\n * link interactions.\n */\nfunction start() {\n  session.start();\n}\n\n/**\n * Registers an adapter for the main session.\n *\n * @param adapter Adapter to register\n */\nfunction registerAdapter(adapter) {\n  session.registerAdapter(adapter);\n}\n\n/**\n * Performs an application visit to the given location.\n *\n * @param location Location to visit (a URL or path)\n * @param options Options to apply\n * @param options.action Type of history navigation to apply (\"restore\",\n * \"replace\" or \"advance\")\n * @param options.historyChanged Specifies whether the browser history has\n * already been changed for this visit or not\n * @param options.referrer Specifies the referrer of this visit such that\n * navigations to the same page will not result in a new history entry.\n * @param options.snapshotHTML Cached snapshot to render\n * @param options.response Response of the specified location\n */\nfunction visit(location, options) {\n  session.visit(location, options);\n}\n\n/**\n * Connects a stream source to the main session.\n *\n * @param source Stream source to connect\n */\nfunction connectStreamSource(source) {\n  session.connectStreamSource(source);\n}\n\n/**\n * Disconnects a stream source from the main session.\n *\n * @param source Stream source to disconnect\n */\nfunction disconnectStreamSource(source) {\n  session.disconnectStreamSource(source);\n}\n\n/**\n * Renders a stream message to the main session by appending it to the\n * current document.\n *\n * @param message Message to render\n */\nfunction renderStreamMessage(message) {\n  session.renderStreamMessage(message);\n}\n\n/**\n * Removes all entries from the Turbo Drive page cache.\n * Call this when state has changed on the server that may affect cached pages.\n *\n * @deprecated since version 7.2.0 in favor of `Turbo.cache.clear()`\n */\nfunction clearCache() {\n  console.warn(\n    \"Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  session.clearCache();\n}\n\n/**\n * Sets the delay after which the progress bar will appear during navigation.\n *\n * The progress bar appears after 500ms by default.\n *\n * Note that this method has no effect when used with the iOS or Android\n * adapters.\n *\n * @param delay Time to delay in milliseconds\n */\nfunction setProgressBarDelay(delay) {\n  console.warn(\n    \"Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.drive.progressBarDelay = delay;\n}\n\nfunction setConfirmMethod(confirmMethod) {\n  console.warn(\n    \"Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.forms.confirm = confirmMethod;\n}\n\nfunction setFormMode(mode) {\n  console.warn(\n    \"Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.forms.mode = mode;\n}\n\nvar Turbo = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  navigator: navigator$1,\n  session: session,\n  cache: cache,\n  PageRenderer: PageRenderer,\n  PageSnapshot: PageSnapshot,\n  FrameRenderer: FrameRenderer,\n  fetch: fetchWithTurboHeaders,\n  config: config,\n  start: start,\n  registerAdapter: registerAdapter,\n  visit: visit,\n  connectStreamSource: connectStreamSource,\n  disconnectStreamSource: disconnectStreamSource,\n  renderStreamMessage: renderStreamMessage,\n  clearCache: clearCache,\n  setProgressBarDelay: setProgressBarDelay,\n  setConfirmMethod: setConfirmMethod,\n  setFormMode: setFormMode\n});\n\nclass TurboFrameMissingError extends Error {}\n\nclass FrameController {\n  fetchResponseLoaded = (_fetchResponse) => Promise.resolve()\n  #currentFetchRequest = null\n  #resolveVisitPromise = () => {}\n  #connected = false\n  #hasBeenLoaded = false\n  #ignoredAttributes = new Set()\n  #shouldMorphFrame = false\n  action = null\n\n  constructor(element) {\n    this.element = element;\n    this.view = new FrameView(this, this.element);\n    this.appearanceObserver = new AppearanceObserver(this, this.element);\n    this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);\n    this.linkInterceptor = new LinkInterceptor(this, this.element);\n    this.restorationIdentifier = uuid();\n    this.formSubmitObserver = new FormSubmitObserver(this, this.element);\n  }\n\n  // Frame delegate\n\n  connect() {\n    if (!this.#connected) {\n      this.#connected = true;\n      if (this.loadingStyle == FrameLoadingStyle.lazy) {\n        this.appearanceObserver.start();\n      } else {\n        this.#loadSourceURL();\n      }\n      this.formLinkClickObserver.start();\n      this.linkInterceptor.start();\n      this.formSubmitObserver.start();\n    }\n  }\n\n  disconnect() {\n    if (this.#connected) {\n      this.#connected = false;\n      this.appearanceObserver.stop();\n      this.formLinkClickObserver.stop();\n      this.linkInterceptor.stop();\n      this.formSubmitObserver.stop();\n    }\n  }\n\n  disabledChanged() {\n    if (this.loadingStyle == FrameLoadingStyle.eager) {\n      this.#loadSourceURL();\n    }\n  }\n\n  sourceURLChanged() {\n    if (this.#isIgnoringChangesTo(\"src\")) return\n\n    if (this.element.isConnected) {\n      this.complete = false;\n    }\n\n    if (this.loadingStyle == FrameLoadingStyle.eager || this.#hasBeenLoaded) {\n      this.#loadSourceURL();\n    }\n  }\n\n  sourceURLReloaded() {\n    const { refresh, src } = this.element;\n\n    this.#shouldMorphFrame = src && refresh === \"morph\";\n\n    this.element.removeAttribute(\"complete\");\n    this.element.src = null;\n    this.element.src = src;\n    return this.element.loaded\n  }\n\n  loadingStyleChanged() {\n    if (this.loadingStyle == FrameLoadingStyle.lazy) {\n      this.appearanceObserver.start();\n    } else {\n      this.appearanceObserver.stop();\n      this.#loadSourceURL();\n    }\n  }\n\n  async #loadSourceURL() {\n    if (this.enabled && this.isActive && !this.complete && this.sourceURL) {\n      this.element.loaded = this.#visit(expandURL(this.sourceURL));\n      this.appearanceObserver.stop();\n      await this.element.loaded;\n      this.#hasBeenLoaded = true;\n    }\n  }\n\n  async loadResponse(fetchResponse) {\n    if (fetchResponse.redirected || (fetchResponse.succeeded && fetchResponse.isHTML)) {\n      this.sourceURL = fetchResponse.response.url;\n    }\n\n    try {\n      const html = await fetchResponse.responseHTML;\n      if (html) {\n        const document = parseHTMLDocument(html);\n        const pageSnapshot = PageSnapshot.fromDocument(document);\n\n        if (pageSnapshot.isVisitable) {\n          await this.#loadFrameResponse(fetchResponse, document);\n        } else {\n          await this.#handleUnvisitableFrameResponse(fetchResponse);\n        }\n      }\n    } finally {\n      this.#shouldMorphFrame = false;\n      this.fetchResponseLoaded = () => Promise.resolve();\n    }\n  }\n\n  // Appearance observer delegate\n\n  elementAppearedInViewport(element) {\n    this.proposeVisitIfNavigatedWithAction(element, getVisitAction(element));\n    this.#loadSourceURL();\n  }\n\n  // Form link click observer delegate\n\n  willSubmitFormLinkToLocation(link) {\n    return this.#shouldInterceptNavigation(link)\n  }\n\n  submittedFormLinkToLocation(link, _location, form) {\n    const frame = this.#findFrameElement(link);\n    if (frame) form.setAttribute(\"data-turbo-frame\", frame.id);\n  }\n\n  // Link interceptor delegate\n\n  shouldInterceptLinkClick(element, _location, _event) {\n    return this.#shouldInterceptNavigation(element)\n  }\n\n  linkClickIntercepted(element, location) {\n    this.#navigateFrame(element, location);\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(element, submitter) {\n    return element.closest(\"turbo-frame\") == this.element && this.#shouldInterceptNavigation(element, submitter)\n  }\n\n  formSubmitted(element, submitter) {\n    if (this.formSubmission) {\n      this.formSubmission.stop();\n    }\n\n    this.formSubmission = new FormSubmission(this, element, submitter);\n    const { fetchRequest } = this.formSubmission;\n    this.prepareRequest(fetchRequest);\n    this.formSubmission.start();\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    request.headers[\"Turbo-Frame\"] = this.id;\n\n    if (this.currentNavigationElement?.hasAttribute(\"data-turbo-stream\")) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted(_request) {\n    markAsBusy(this.element);\n  }\n\n  requestPreventedHandlingResponse(_request, _response) {\n    this.#resolveVisitPromise();\n  }\n\n  async requestSucceededWithResponse(request, response) {\n    await this.loadResponse(response);\n    this.#resolveVisitPromise();\n  }\n\n  async requestFailedWithResponse(request, response) {\n    await this.loadResponse(response);\n    this.#resolveVisitPromise();\n  }\n\n  requestErrored(request, error) {\n    console.error(error);\n    this.#resolveVisitPromise();\n  }\n\n  requestFinished(_request) {\n    clearBusyState(this.element);\n  }\n\n  // Form submission delegate\n\n  formSubmissionStarted({ formElement }) {\n    markAsBusy(formElement, this.#findFrameElement(formElement));\n  }\n\n  formSubmissionSucceededWithResponse(formSubmission, response) {\n    const frame = this.#findFrameElement(formSubmission.formElement, formSubmission.submitter);\n\n    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(formSubmission.submitter, formSubmission.formElement, frame));\n    frame.delegate.loadResponse(response);\n\n    if (!formSubmission.isSafe) {\n      session.clearCache();\n    }\n  }\n\n  formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n    this.element.delegate.loadResponse(fetchResponse);\n    session.clearCache();\n  }\n\n  formSubmissionErrored(formSubmission, error) {\n    console.error(error);\n  }\n\n  formSubmissionFinished({ formElement }) {\n    clearBusyState(formElement, this.#findFrameElement(formElement));\n  }\n\n  // View delegate\n\n  allowsImmediateRender({ element: newFrame }, options) {\n    const event = dispatch(\"turbo:before-frame-render\", {\n      target: this.element,\n      detail: { newFrame, ...options },\n      cancelable: true\n    });\n\n    const {\n      defaultPrevented,\n      detail: { render }\n    } = event;\n\n    if (this.view.renderer && render) {\n      this.view.renderer.renderElement = render;\n    }\n\n    return !defaultPrevented\n  }\n\n  viewRenderedSnapshot(_snapshot, _isPreview, _renderMethod) {}\n\n  preloadOnLoadLinksForView(element) {\n    session.preloadOnLoadLinksForView(element);\n  }\n\n  viewInvalidated() {}\n\n  // Frame renderer delegate\n\n  willRenderFrame(currentElement, _newElement) {\n    this.previousFrameElement = currentElement.cloneNode(true);\n  }\n\n  visitCachedSnapshot = ({ element }) => {\n    const frame = element.querySelector(\"#\" + this.element.id);\n\n    if (frame && this.previousFrameElement) {\n      frame.replaceChildren(...this.previousFrameElement.children);\n    }\n\n    delete this.previousFrameElement;\n  }\n\n  // Private\n\n  async #loadFrameResponse(fetchResponse, document) {\n    const newFrameElement = await this.extractForeignFrameElement(document.body);\n    const rendererClass = this.#shouldMorphFrame ? MorphingFrameRenderer : FrameRenderer;\n\n    if (newFrameElement) {\n      const snapshot = new Snapshot(newFrameElement);\n      const renderer = new rendererClass(this, this.view.snapshot, snapshot, false, false);\n      if (this.view.renderPromise) await this.view.renderPromise;\n      this.changeHistory();\n\n      await this.view.render(renderer);\n      this.complete = true;\n      session.frameRendered(fetchResponse, this.element);\n      session.frameLoaded(this.element);\n      await this.fetchResponseLoaded(fetchResponse);\n    } else if (this.#willHandleFrameMissingFromResponse(fetchResponse)) {\n      this.#handleFrameMissingFromResponse(fetchResponse);\n    }\n  }\n\n  async #visit(url) {\n    const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);\n\n    this.#currentFetchRequest?.cancel();\n    this.#currentFetchRequest = request;\n\n    return new Promise((resolve) => {\n      this.#resolveVisitPromise = () => {\n        this.#resolveVisitPromise = () => {};\n        this.#currentFetchRequest = null;\n        resolve();\n      };\n      request.perform();\n    })\n  }\n\n  #navigateFrame(element, url, submitter) {\n    const frame = this.#findFrameElement(element, submitter);\n\n    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(submitter, element, frame));\n\n    this.#withCurrentNavigationElement(element, () => {\n      frame.src = url;\n    });\n  }\n\n  proposeVisitIfNavigatedWithAction(frame, action = null) {\n    this.action = action;\n\n    if (this.action) {\n      const pageSnapshot = PageSnapshot.fromElement(frame).clone();\n      const { visitCachedSnapshot } = frame.delegate;\n\n      frame.delegate.fetchResponseLoaded = async (fetchResponse) => {\n        if (frame.src) {\n          const { statusCode, redirected } = fetchResponse;\n          const responseHTML = await fetchResponse.responseHTML;\n          const response = { statusCode, redirected, responseHTML };\n          const options = {\n            response,\n            visitCachedSnapshot,\n            willRender: false,\n            updateHistory: false,\n            restorationIdentifier: this.restorationIdentifier,\n            snapshot: pageSnapshot\n          };\n\n          if (this.action) options.action = this.action;\n\n          session.visit(frame.src, options);\n        }\n      };\n    }\n  }\n\n  changeHistory() {\n    if (this.action) {\n      const method = getHistoryMethodForAction(this.action);\n      session.history.update(method, expandURL(this.element.src || \"\"), this.restorationIdentifier);\n    }\n  }\n\n  async #handleUnvisitableFrameResponse(fetchResponse) {\n    console.warn(\n      `The response (${fetchResponse.statusCode}) from <turbo-frame id=\"${this.element.id}\"> is performing a full page visit due to turbo-visit-control.`\n    );\n\n    await this.#visitResponse(fetchResponse.response);\n  }\n\n  #willHandleFrameMissingFromResponse(fetchResponse) {\n    this.element.setAttribute(\"complete\", \"\");\n\n    const response = fetchResponse.response;\n    const visit = async (url, options) => {\n      if (url instanceof Response) {\n        this.#visitResponse(url);\n      } else {\n        session.visit(url, options);\n      }\n    };\n\n    const event = dispatch(\"turbo:frame-missing\", {\n      target: this.element,\n      detail: { response, visit },\n      cancelable: true\n    });\n\n    return !event.defaultPrevented\n  }\n\n  #handleFrameMissingFromResponse(fetchResponse) {\n    this.view.missing();\n    this.#throwFrameMissingError(fetchResponse);\n  }\n\n  #throwFrameMissingError(fetchResponse) {\n    const message = `The response (${fetchResponse.statusCode}) did not contain the expected <turbo-frame id=\"${this.element.id}\"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;\n    throw new TurboFrameMissingError(message)\n  }\n\n  async #visitResponse(response) {\n    const wrapped = new FetchResponse(response);\n    const responseHTML = await wrapped.responseHTML;\n    const { location, redirected, statusCode } = wrapped;\n\n    return session.visit(location, { response: { redirected, statusCode, responseHTML } })\n  }\n\n  #findFrameElement(element, submitter) {\n    const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n    return getFrameElementById(id) ?? this.element\n  }\n\n  async extractForeignFrameElement(container) {\n    let element;\n    const id = CSS.escape(this.id);\n\n    try {\n      element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);\n      if (element) {\n        return element\n      }\n\n      element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);\n      if (element) {\n        await element.loaded;\n        return await this.extractForeignFrameElement(element)\n      }\n    } catch (error) {\n      console.error(error);\n      return new FrameElement()\n    }\n\n    return null\n  }\n\n  #formActionIsVisitable(form, submitter) {\n    const action = getAction$1(form, submitter);\n\n    return locationIsVisitable(expandURL(action), this.rootLocation)\n  }\n\n  #shouldInterceptNavigation(element, submitter) {\n    const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n\n    if (element instanceof HTMLFormElement && !this.#formActionIsVisitable(element, submitter)) {\n      return false\n    }\n\n    if (!this.enabled || id == \"_top\") {\n      return false\n    }\n\n    if (id) {\n      const frameElement = getFrameElementById(id);\n      if (frameElement) {\n        return !frameElement.disabled\n      }\n    }\n\n    if (!session.elementIsNavigatable(element)) {\n      return false\n    }\n\n    if (submitter && !session.elementIsNavigatable(submitter)) {\n      return false\n    }\n\n    return true\n  }\n\n  // Computed properties\n\n  get id() {\n    return this.element.id\n  }\n\n  get enabled() {\n    return !this.element.disabled\n  }\n\n  get sourceURL() {\n    if (this.element.src) {\n      return this.element.src\n    }\n  }\n\n  set sourceURL(sourceURL) {\n    this.#ignoringChangesToAttribute(\"src\", () => {\n      this.element.src = sourceURL ?? null;\n    });\n  }\n\n  get loadingStyle() {\n    return this.element.loading\n  }\n\n  get isLoading() {\n    return this.formSubmission !== undefined || this.#resolveVisitPromise() !== undefined\n  }\n\n  get complete() {\n    return this.element.hasAttribute(\"complete\")\n  }\n\n  set complete(value) {\n    if (value) {\n      this.element.setAttribute(\"complete\", \"\");\n    } else {\n      this.element.removeAttribute(\"complete\");\n    }\n  }\n\n  get isActive() {\n    return this.element.isActive && this.#connected\n  }\n\n  get rootLocation() {\n    const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n    const root = meta?.content ?? \"/\";\n    return expandURL(root)\n  }\n\n  #isIgnoringChangesTo(attributeName) {\n    return this.#ignoredAttributes.has(attributeName)\n  }\n\n  #ignoringChangesToAttribute(attributeName, callback) {\n    this.#ignoredAttributes.add(attributeName);\n    callback();\n    this.#ignoredAttributes.delete(attributeName);\n  }\n\n  #withCurrentNavigationElement(element, callback) {\n    this.currentNavigationElement = element;\n    callback();\n    delete this.currentNavigationElement;\n  }\n}\n\nfunction getFrameElementById(id) {\n  if (id != null) {\n    const element = document.getElementById(id);\n    if (element instanceof FrameElement) {\n      return element\n    }\n  }\n}\n\nfunction activateElement(element, currentURL) {\n  if (element) {\n    const src = element.getAttribute(\"src\");\n    if (src != null && currentURL != null && urlsAreEqual(src, currentURL)) {\n      throw new Error(`Matching <turbo-frame id=\"${element.id}\"> element has a source URL which references itself`)\n    }\n    if (element.ownerDocument !== document) {\n      element = document.importNode(element, true);\n    }\n\n    if (element instanceof FrameElement) {\n      element.connectedCallback();\n      element.disconnectedCallback();\n      return element\n    }\n  }\n}\n\nconst StreamActions = {\n  after() {\n    this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e.nextSibling));\n  },\n\n  append() {\n    this.removeDuplicateTargetChildren();\n    this.targetElements.forEach((e) => e.append(this.templateContent));\n  },\n\n  before() {\n    this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e));\n  },\n\n  prepend() {\n    this.removeDuplicateTargetChildren();\n    this.targetElements.forEach((e) => e.prepend(this.templateContent));\n  },\n\n  remove() {\n    this.targetElements.forEach((e) => e.remove());\n  },\n\n  replace() {\n    const method = this.getAttribute(\"method\");\n\n    this.targetElements.forEach((targetElement) => {\n      if (method === \"morph\") {\n        morphElements(targetElement, this.templateContent);\n      } else {\n        targetElement.replaceWith(this.templateContent);\n      }\n    });\n  },\n\n  update() {\n    const method = this.getAttribute(\"method\");\n\n    this.targetElements.forEach((targetElement) => {\n      if (method === \"morph\") {\n        morphChildren(targetElement, this.templateContent);\n      } else {\n        targetElement.innerHTML = \"\";\n        targetElement.append(this.templateContent);\n      }\n    });\n  },\n\n  refresh() {\n    session.refresh(this.baseURI, this.requestId);\n  }\n};\n\n// <turbo-stream action=replace target=id><template>...\n\n/**\n * Renders updates to the page from a stream of messages.\n *\n * Using the `action` attribute, this can be configured one of eight ways:\n *\n * - `after` - inserts the result after the target\n * - `append` - appends the result to the target\n * - `before` - inserts the result before the target\n * - `prepend` - prepends the result to the target\n * - `refresh` - initiates a page refresh\n * - `remove` - removes the target\n * - `replace` - replaces the outer HTML of the target\n * - `update` - replaces the inner HTML of the target\n *\n * @customElement turbo-stream\n * @example\n *   <turbo-stream action=\"append\" target=\"dom_id\">\n *     <template>\n *       Content to append to target designated with the dom_id.\n *     </template>\n *   </turbo-stream>\n */\nclass StreamElement extends HTMLElement {\n  static async renderElement(newElement) {\n    await newElement.performAction();\n  }\n\n  async connectedCallback() {\n    try {\n      await this.render();\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.disconnect();\n    }\n  }\n\n  async render() {\n    return (this.renderPromise ??= (async () => {\n      const event = this.beforeRenderEvent;\n\n      if (this.dispatchEvent(event)) {\n        await nextRepaint();\n        await event.detail.render(this);\n      }\n    })())\n  }\n\n  disconnect() {\n    try {\n      this.remove();\n      // eslint-disable-next-line no-empty\n    } catch {}\n  }\n\n  /**\n   * Removes duplicate children (by ID)\n   */\n  removeDuplicateTargetChildren() {\n    this.duplicateChildren.forEach((c) => c.remove());\n  }\n\n  /**\n   * Gets the list of duplicate children (i.e. those with the same ID)\n   */\n  get duplicateChildren() {\n    const existingChildren = this.targetElements.flatMap((e) => [...e.children]).filter((c) => !!c.id);\n    const newChildrenIds = [...(this.templateContent?.children || [])].filter((c) => !!c.id).map((c) => c.id);\n\n    return existingChildren.filter((c) => newChildrenIds.includes(c.id))\n  }\n\n  /**\n   * Gets the action function to be performed.\n   */\n  get performAction() {\n    if (this.action) {\n      const actionFunction = StreamActions[this.action];\n      if (actionFunction) {\n        return actionFunction\n      }\n      this.#raise(\"unknown action\");\n    }\n    this.#raise(\"action attribute is missing\");\n  }\n\n  /**\n   * Gets the target elements which the template will be rendered to.\n   */\n  get targetElements() {\n    if (this.target) {\n      return this.targetElementsById\n    } else if (this.targets) {\n      return this.targetElementsByQuery\n    } else {\n      this.#raise(\"target or targets attribute is missing\");\n    }\n  }\n\n  /**\n   * Gets the contents of the main `<template>`.\n   */\n  get templateContent() {\n    return this.templateElement.content.cloneNode(true)\n  }\n\n  /**\n   * Gets the main `<template>` used for rendering\n   */\n  get templateElement() {\n    if (this.firstElementChild === null) {\n      const template = this.ownerDocument.createElement(\"template\");\n      this.appendChild(template);\n      return template\n    } else if (this.firstElementChild instanceof HTMLTemplateElement) {\n      return this.firstElementChild\n    }\n    this.#raise(\"first child element must be a <template> element\");\n  }\n\n  /**\n   * Gets the current action.\n   */\n  get action() {\n    return this.getAttribute(\"action\")\n  }\n\n  /**\n   * Gets the current target (an element ID) to which the result will\n   * be rendered.\n   */\n  get target() {\n    return this.getAttribute(\"target\")\n  }\n\n  /**\n   * Gets the current \"targets\" selector (a CSS selector)\n   */\n  get targets() {\n    return this.getAttribute(\"targets\")\n  }\n\n  /**\n   * Reads the request-id attribute\n   */\n  get requestId() {\n    return this.getAttribute(\"request-id\")\n  }\n\n  #raise(message) {\n    throw new Error(`${this.description}: ${message}`)\n  }\n\n  get description() {\n    return (this.outerHTML.match(/<[^>]+>/) ?? [])[0] ?? \"<turbo-stream>\"\n  }\n\n  get beforeRenderEvent() {\n    return new CustomEvent(\"turbo:before-stream-render\", {\n      bubbles: true,\n      cancelable: true,\n      detail: { newStream: this, render: StreamElement.renderElement }\n    })\n  }\n\n  get targetElementsById() {\n    const element = this.ownerDocument?.getElementById(this.target);\n\n    if (element !== null) {\n      return [element]\n    } else {\n      return []\n    }\n  }\n\n  get targetElementsByQuery() {\n    const elements = this.ownerDocument?.querySelectorAll(this.targets);\n\n    if (elements.length !== 0) {\n      return Array.prototype.slice.call(elements)\n    } else {\n      return []\n    }\n  }\n}\n\nclass StreamSourceElement extends HTMLElement {\n  streamSource = null\n\n  connectedCallback() {\n    this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);\n\n    connectStreamSource(this.streamSource);\n  }\n\n  disconnectedCallback() {\n    if (this.streamSource) {\n      this.streamSource.close();\n\n      disconnectStreamSource(this.streamSource);\n    }\n  }\n\n  get src() {\n    return this.getAttribute(\"src\") || \"\"\n  }\n}\n\nFrameElement.delegateConstructor = FrameController;\n\nif (customElements.get(\"turbo-frame\") === undefined) {\n  customElements.define(\"turbo-frame\", FrameElement);\n}\n\nif (customElements.get(\"turbo-stream\") === undefined) {\n  customElements.define(\"turbo-stream\", StreamElement);\n}\n\nif (customElements.get(\"turbo-stream-source\") === undefined) {\n  customElements.define(\"turbo-stream-source\", StreamSourceElement);\n}\n\n(() => {\n  let element = document.currentScript;\n  if (!element) return\n  if (element.hasAttribute(\"data-turbo-suppress-warning\")) return\n\n  element = element.parentElement;\n  while (element) {\n    if (element == document.body) {\n      return console.warn(\n        unindent`\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        \u2014\u2014\n        Suppress this warning by adding a \"data-turbo-suppress-warning\" attribute to: %s\n      `,\n        element.outerHTML\n      )\n    }\n\n    element = element.parentElement;\n  }\n})();\n\nwindow.Turbo = { ...Turbo, StreamActions };\nstart();\n\nexport { FetchEnctype, FetchMethod, FetchRequest, FetchResponse, FrameElement, FrameLoadingStyle, FrameRenderer, PageRenderer, PageSnapshot, StreamActions, StreamElement, StreamSourceElement, cache, clearCache, config, connectStreamSource, disconnectStreamSource, fetchWithTurboHeaders as fetch, fetchEnctypeFromString, fetchMethodFromString, isSafe, navigator$1 as navigator, registerAdapter, renderStreamMessage, session, setConfirmMethod, setFormMode, setProgressBarDelay, start, visit };\n", "let consumer\n\nexport async function getConsumer() {\n  return consumer || setConsumer(createConsumer().then(setConsumer))\n}\n\nexport function setConsumer(newConsumer) {\n  return consumer = newConsumer\n}\n\nexport async function createConsumer() {\n  const { createConsumer } = await import(/* webpackChunkName: \"actioncable\" */ \"@rails/actioncable/src\")\n  return createConsumer()\n}\n\nexport async function subscribeTo(channel, mixin) {\n  const { subscriptions } = await getConsumer()\n  return subscriptions.create(channel, mixin)\n}\n", "// Based on https://github.com/nathan7/snakeize\n//\n// This software is released under the MIT license:\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nexport default function walk (obj) {\n    if (!obj || typeof obj !== 'object') return obj;\n    if (obj instanceof Date || obj instanceof RegExp) return obj;\n    if (Array.isArray(obj)) return obj.map(walk);\n    return Object.keys(obj).reduce(function (acc, key) {\n        var camel = key[0].toLowerCase() + key.slice(1).replace(/([A-Z]+)/g, function (m, x) {\n            return '_' + x.toLowerCase();\n        });\n        acc[camel] = walk(obj[key]);\n        return acc;\n    }, {});\n};", "import { connectStreamSource, disconnectStreamSource } from \"@hotwired/turbo\"\nimport { subscribeTo } from \"./cable\"\nimport snakeize from \"./snakeize\"\n\nclass TurboCableStreamSourceElement extends HTMLElement {\n  static observedAttributes = [\"channel\", \"signed-stream-name\"]\n\n  async connectedCallback() {\n    connectStreamSource(this)\n    this.subscription = await subscribeTo(this.channel, {\n      received: this.dispatchMessageEvent.bind(this),\n      connected: this.subscriptionConnected.bind(this),\n      disconnected: this.subscriptionDisconnected.bind(this)\n    })\n  }\n\n  disconnectedCallback() {\n    disconnectStreamSource(this)\n    if (this.subscription) this.subscription.unsubscribe()\n    this.subscriptionDisconnected()\n  }\n\n  attributeChangedCallback() {\n    if (this.subscription) {\n      this.disconnectedCallback()\n      this.connectedCallback()\n    }\n  }\n\n  dispatchMessageEvent(data) {\n    const event = new MessageEvent(\"message\", { data })\n    return this.dispatchEvent(event)\n  }\n\n  subscriptionConnected() {\n    this.setAttribute(\"connected\", \"\")\n  }\n\n  subscriptionDisconnected() {\n    this.removeAttribute(\"connected\")\n  }\n\n  get channel() {\n    const channel = this.getAttribute(\"channel\")\n    const signed_stream_name = this.getAttribute(\"signed-stream-name\")\n    return { channel, signed_stream_name, ...snakeize({ ...this.dataset }) }\n  }\n}\n\n\nif (customElements.get(\"turbo-cable-stream-source\") === undefined) {\n  customElements.define(\"turbo-cable-stream-source\", TurboCableStreamSourceElement)\n}\n", "export function encodeMethodIntoRequestBody(event) {\n  if (event.target instanceof HTMLFormElement) {\n    const { target: form, detail: { fetchOptions } } = event\n\n    form.addEventListener(\"turbo:submit-start\", ({ detail: { formSubmission: { submitter } } }) => {\n      const body = isBodyInit(fetchOptions.body) ? fetchOptions.body : new URLSearchParams()\n      const method = determineFetchMethod(submitter, body, form)\n\n      if (!/get/i.test(method)) {\n        if (/post/i.test(method)) {\n          body.delete(\"_method\")\n        } else {\n          body.set(\"_method\", method)\n        }\n\n        fetchOptions.method = \"post\"\n      }\n    }, { once: true })\n  }\n}\n\nfunction determineFetchMethod(submitter, body, form) {\n  const formMethod = determineFormMethod(submitter)\n  const overrideMethod = body.get(\"_method\")\n  const method = form.getAttribute(\"method\") || \"get\"\n\n  if (typeof formMethod == \"string\") {\n    return formMethod\n  } else if (typeof overrideMethod == \"string\") {\n    return overrideMethod\n  } else {\n    return method\n  }\n}\n\nfunction determineFormMethod(submitter) {\n  if (submitter instanceof HTMLButtonElement || submitter instanceof HTMLInputElement) {\n    // Rails 7 ActionView::Helpers::FormBuilder#button method has an override\n    // for formmethod if the button does not have name or value attributes\n    // set, which is the default. This means that if you use <%= f.button\n    // formmethod: :delete %>, it will generate a <button name=\"_method\"\n    // value=\"delete\" formmethod=\"post\">. Therefore, if the submitter's name\n    // is already _method, it's value attribute already contains the desired\n    // method.\n    if (submitter.name === '_method') {\n      return submitter.value\n    } else if (submitter.hasAttribute(\"formmethod\")) {\n      return submitter.formMethod\n    } else {\n      return null\n    }\n  } else {\n    return null\n  }\n}\n\nfunction isBodyInit(body) {\n  return body instanceof FormData || body instanceof URLSearchParams\n}\n", "import \"./cable_stream_source_element\"\n\nimport * as Turbo from \"@hotwired/turbo\"\nexport { Turbo }\n\nimport * as cable from \"./cable\"\nexport { cable }\n\nimport { encodeMethodIntoRequestBody } from \"./fetch_requests\"\n\nwindow.Turbo = Turbo\n\naddEventListener(\"turbo:before-fetch-request\", encodeMethodIntoRequestBody)\n", "/*\nStimulus 3.2.1\nCopyright \u00A9 2023 Basecamp, LLC\n */\nclass EventListener {\n    constructor(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    connect() {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    }\n    disconnect() {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    }\n    bindingConnected(binding) {\n        this.unorderedBindings.add(binding);\n    }\n    bindingDisconnected(binding) {\n        this.unorderedBindings.delete(binding);\n    }\n    handleEvent(event) {\n        const extendedEvent = extendEvent(event);\n        for (const binding of this.bindings) {\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    }\n    hasBindings() {\n        return this.unorderedBindings.size > 0;\n    }\n    get bindings() {\n        return Array.from(this.unorderedBindings).sort((left, right) => {\n            const leftIndex = left.index, rightIndex = right.index;\n            return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n        });\n    }\n}\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        const { stopImmediatePropagation } = event;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation() {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation.call(this);\n            },\n        });\n    }\n}\n\nclass Dispatcher {\n    constructor(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map();\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach((eventListener) => eventListener.connect());\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach((eventListener) => eventListener.disconnect());\n        }\n    }\n    get eventListeners() {\n        return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);\n    }\n    bindingConnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    }\n    bindingDisconnected(binding, clearEventListeners = false) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n        if (clearEventListeners)\n            this.clearEventListenersForBinding(binding);\n    }\n    handleError(error, message, detail = {}) {\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    clearEventListenersForBinding(binding) {\n        const eventListener = this.fetchEventListenerForBinding(binding);\n        if (!eventListener.hasBindings()) {\n            eventListener.disconnect();\n            this.removeMappedEventListenerFor(binding);\n        }\n    }\n    removeMappedEventListenerFor(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        eventListenerMap.delete(cacheKey);\n        if (eventListenerMap.size == 0)\n            this.eventListenerMaps.delete(eventTarget);\n    }\n    fetchEventListenerForBinding(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    }\n    fetchEventListener(eventTarget, eventName, eventOptions) {\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        let eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    }\n    createEventListener(eventTarget, eventName, eventOptions) {\n        const eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    }\n    fetchEventListenerMapForEventTarget(eventTarget) {\n        let eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map();\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    }\n    cacheKey(eventName, eventOptions) {\n        const parts = [eventName];\n        Object.keys(eventOptions)\n            .sort()\n            .forEach((key) => {\n            parts.push(`${eventOptions[key] ? \"\" : \"!\"}${key}`);\n        });\n        return parts.join(\":\");\n    }\n}\n\nconst defaultActionDescriptorFilters = {\n    stop({ event, value }) {\n        if (value)\n            event.stopPropagation();\n        return true;\n    },\n    prevent({ event, value }) {\n        if (value)\n            event.preventDefault();\n        return true;\n    },\n    self({ event, value, element }) {\n        if (value) {\n            return element === event.target;\n        }\n        else {\n            return true;\n        }\n    },\n};\nconst descriptorPattern = /^(?:(?:([^.]+?)\\+)?(.+?)(?:\\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;\nfunction parseActionDescriptorString(descriptorString) {\n    const source = descriptorString.trim();\n    const matches = source.match(descriptorPattern) || [];\n    let eventName = matches[2];\n    let keyFilter = matches[3];\n    if (keyFilter && ![\"keydown\", \"keyup\", \"keypress\"].includes(eventName)) {\n        eventName += `.${keyFilter}`;\n        keyFilter = \"\";\n    }\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName,\n        eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},\n        identifier: matches[5],\n        methodName: matches[6],\n        keyFilter: matches[1] || keyFilter,\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions\n        .split(\":\")\n        .reduce((options, token) => Object.assign(options, { [token.replace(/^!/, \"\")]: !/^!/.test(token) }), {});\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\nfunction namespaceCamelize(value) {\n    return camelize(value.replace(/--/g, \"-\").replace(/__/g, \"_\"));\n}\nfunction capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);\n}\nfunction tokenize(value) {\n    return value.match(/[^\\s]+/g) || [];\n}\n\nfunction isSomething(object) {\n    return object !== null && object !== undefined;\n}\nfunction hasProperty(object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nconst allModifiers = [\"meta\", \"ctrl\", \"alt\", \"shift\"];\nclass Action {\n    constructor(element, index, descriptor, schema) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n        this.keyFilter = descriptor.keyFilter || \"\";\n        this.schema = schema;\n    }\n    static forToken(token, schema) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);\n    }\n    toString() {\n        const eventFilter = this.keyFilter ? `.${this.keyFilter}` : \"\";\n        const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : \"\";\n        return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;\n    }\n    shouldIgnoreKeyboardEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = this.keyFilter.split(\"+\");\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];\n        if (!standardFilter) {\n            return false;\n        }\n        if (!hasProperty(this.keyMappings, standardFilter)) {\n            error(`contains unknown key filter: ${this.keyFilter}`);\n        }\n        return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();\n    }\n    shouldIgnoreMouseEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = [this.keyFilter];\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        return false;\n    }\n    get params() {\n        const params = {};\n        const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, \"i\");\n        for (const { name, value } of Array.from(this.element.attributes)) {\n            const match = name.match(pattern);\n            const key = match && match[1];\n            if (key) {\n                params[camelize(key)] = typecast(value);\n            }\n        }\n        return params;\n    }\n    get eventTargetName() {\n        return stringifyEventTarget(this.eventTarget);\n    }\n    get keyMappings() {\n        return this.schema.keyMappings;\n    }\n    keyFilterDissatisfied(event, filters) {\n        const [meta, ctrl, alt, shift] = allModifiers.map((modifier) => filters.includes(modifier));\n        return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift;\n    }\n}\nconst defaultEventNames = {\n    a: () => \"click\",\n    button: () => \"click\",\n    form: () => \"submit\",\n    details: () => \"toggle\",\n    input: (e) => (e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\"),\n    select: () => \"change\",\n    textarea: () => \"input\",\n};\nfunction getDefaultEventNameForElement(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\nfunction typecast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\n\nclass Binding {\n    constructor(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    get index() {\n        return this.action.index;\n    }\n    get eventTarget() {\n        return this.action.eventTarget;\n    }\n    get eventOptions() {\n        return this.action.eventOptions;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    handleEvent(event) {\n        const actionEvent = this.prepareActionEvent(event);\n        if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {\n            this.invokeWithEvent(actionEvent);\n        }\n    }\n    get eventName() {\n        return this.action.eventName;\n    }\n    get method() {\n        const method = this.controller[this.methodName];\n        if (typeof method == \"function\") {\n            return method;\n        }\n        throw new Error(`Action \"${this.action}\" references undefined method \"${this.methodName}\"`);\n    }\n    applyEventModifiers(event) {\n        const { element } = this.action;\n        const { actionDescriptorFilters } = this.context.application;\n        const { controller } = this.context;\n        let passes = true;\n        for (const [name, value] of Object.entries(this.eventOptions)) {\n            if (name in actionDescriptorFilters) {\n                const filter = actionDescriptorFilters[name];\n                passes = passes && filter({ name, value, event, element, controller });\n            }\n            else {\n                continue;\n            }\n        }\n        return passes;\n    }\n    prepareActionEvent(event) {\n        return Object.assign(event, { params: this.action.params });\n    }\n    invokeWithEvent(event) {\n        const { target, currentTarget } = event;\n        try {\n            this.method.call(this.controller, event);\n            this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });\n        }\n        catch (error) {\n            const { identifier, controller, element, index } = this;\n            const detail = { identifier, controller, element, index, event };\n            this.context.handleError(error, `invoking action \"${this.action}\"`, detail);\n        }\n    }\n    willBeInvokedByEvent(event) {\n        const eventTarget = event.target;\n        if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {\n            return false;\n        }\n        if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {\n            return false;\n        }\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    get methodName() {\n        return this.action.methodName;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass ElementObserver {\n    constructor(element, delegate) {\n        this.mutationObserverInit = { attributes: true, childList: true, subtree: true };\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.refresh();\n        }\n    }\n    pause(callback) {\n        if (this.started) {\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n        callback();\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            const matches = new Set(this.matchElementsInTree());\n            for (const element of Array.from(this.elements)) {\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (const element of Array.from(matches)) {\n                this.addElement(element);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    }\n    processAttributeChange(element, attributeName) {\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    }\n    processRemovedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    }\n    processAddedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    }\n    matchElement(element) {\n        return this.delegate.matchElement(element);\n    }\n    matchElementsInTree(tree = this.element) {\n        return this.delegate.matchElementsInTree(tree);\n    }\n    processTree(tree, processor) {\n        for (const element of this.matchElementsInTree(tree)) {\n            processor.call(this, element);\n        }\n    }\n    elementFromNode(node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    }\n    elementIsActive(element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    }\n    addElement(element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    }\n    removeElement(element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    }\n}\n\nclass AttributeObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    get selector() {\n        return `[${this.attributeName}]`;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    matchElement(element) {\n        return element.hasAttribute(this.attributeName);\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementUnmatched(element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementAttributeChanged(element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    }\n}\n\nfunction add(map, key, value) {\n    fetch(map, key).add(value);\n}\nfunction del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nfunction fetch(map, key) {\n    let values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nfunction prune(map, key) {\n    const values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n\nclass Multimap {\n    constructor() {\n        this.valuesByKey = new Map();\n    }\n    get keys() {\n        return Array.from(this.valuesByKey.keys());\n    }\n    get values() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((values, set) => values.concat(Array.from(set)), []);\n    }\n    get size() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((size, set) => size + set.size, 0);\n    }\n    add(key, value) {\n        add(this.valuesByKey, key, value);\n    }\n    delete(key, value) {\n        del(this.valuesByKey, key, value);\n    }\n    has(key, value) {\n        const values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    }\n    hasKey(key) {\n        return this.valuesByKey.has(key);\n    }\n    hasValue(value) {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.some((set) => set.has(value));\n    }\n    getValuesForKey(key) {\n        const values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    }\n    getKeysForValue(value) {\n        return Array.from(this.valuesByKey)\n            .filter(([_key, values]) => values.has(value))\n            .map(([key, _values]) => key);\n    }\n}\n\nclass IndexedMultimap extends Multimap {\n    constructor() {\n        super();\n        this.keysByValue = new Map();\n    }\n    get values() {\n        return Array.from(this.keysByValue.keys());\n    }\n    add(key, value) {\n        super.add(key, value);\n        add(this.keysByValue, value, key);\n    }\n    delete(key, value) {\n        super.delete(key, value);\n        del(this.keysByValue, value, key);\n    }\n    hasValue(value) {\n        return this.keysByValue.has(value);\n    }\n    getKeysForValue(value) {\n        const set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    }\n}\n\nclass SelectorObserver {\n    constructor(element, selector, delegate, details) {\n        this._selector = selector;\n        this.details = details;\n        this.elementObserver = new ElementObserver(element, this);\n        this.delegate = delegate;\n        this.matchesByElement = new Multimap();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    get selector() {\n        return this._selector;\n    }\n    set selector(selector) {\n        this._selector = selector;\n        this.refresh();\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    matchElement(element) {\n        const { selector } = this;\n        if (selector) {\n            const matches = element.matches(selector);\n            if (this.delegate.selectorMatchElement) {\n                return matches && this.delegate.selectorMatchElement(element, this.details);\n            }\n            return matches;\n        }\n        else {\n            return false;\n        }\n    }\n    matchElementsInTree(tree) {\n        const { selector } = this;\n        if (selector) {\n            const match = this.matchElement(tree) ? [tree] : [];\n            const matches = Array.from(tree.querySelectorAll(selector)).filter((match) => this.matchElement(match));\n            return match.concat(matches);\n        }\n        else {\n            return [];\n        }\n    }\n    elementMatched(element) {\n        const { selector } = this;\n        if (selector) {\n            this.selectorMatched(element, selector);\n        }\n    }\n    elementUnmatched(element) {\n        const selectors = this.matchesByElement.getKeysForValue(element);\n        for (const selector of selectors) {\n            this.selectorUnmatched(element, selector);\n        }\n    }\n    elementAttributeChanged(element, _attributeName) {\n        const { selector } = this;\n        if (selector) {\n            const matches = this.matchElement(element);\n            const matchedBefore = this.matchesByElement.has(selector, element);\n            if (matches && !matchedBefore) {\n                this.selectorMatched(element, selector);\n            }\n            else if (!matches && matchedBefore) {\n                this.selectorUnmatched(element, selector);\n            }\n        }\n    }\n    selectorMatched(element, selector) {\n        this.delegate.selectorMatched(element, selector, this.details);\n        this.matchesByElement.add(selector, element);\n    }\n    selectorUnmatched(element, selector) {\n        this.delegate.selectorUnmatched(element, selector, this.details);\n        this.matchesByElement.delete(selector, element);\n    }\n}\n\nclass StringMapObserver {\n    constructor(element, delegate) {\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });\n            this.refresh();\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            for (const attributeName of this.knownAttributeNames) {\n                this.refreshAttribute(attributeName, null);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        const attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName, mutation.oldValue);\n        }\n    }\n    refreshAttribute(attributeName, oldValue) {\n        const key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            const value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key, oldValue);\n            }\n            if (value == null) {\n                const oldValue = this.stringMap.get(attributeName);\n                this.stringMap.delete(attributeName);\n                if (oldValue)\n                    this.stringMapKeyRemoved(key, attributeName, oldValue);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    }\n    stringMapValueChanged(value, key, oldValue) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key, oldValue);\n        }\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);\n        }\n    }\n    get knownAttributeNames() {\n        return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n    }\n    get currentAttributeNames() {\n        return Array.from(this.element.attributes).map((attribute) => attribute.name);\n    }\n    get recordedAttributeNames() {\n        return Array.from(this.stringMap.keys());\n    }\n}\n\nclass TokenListObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap();\n    }\n    get started() {\n        return this.attributeObserver.started;\n    }\n    start() {\n        this.attributeObserver.start();\n    }\n    pause(callback) {\n        this.attributeObserver.pause(callback);\n    }\n    stop() {\n        this.attributeObserver.stop();\n    }\n    refresh() {\n        this.attributeObserver.refresh();\n    }\n    get element() {\n        return this.attributeObserver.element;\n    }\n    get attributeName() {\n        return this.attributeObserver.attributeName;\n    }\n    elementMatchedAttribute(element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    }\n    elementAttributeValueChanged(element) {\n        const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    }\n    elementUnmatchedAttribute(element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    }\n    tokensMatched(tokens) {\n        tokens.forEach((token) => this.tokenMatched(token));\n    }\n    tokensUnmatched(tokens) {\n        tokens.forEach((token) => this.tokenUnmatched(token));\n    }\n    tokenMatched(token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    }\n    tokenUnmatched(token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    }\n    refreshTokensForElement(element) {\n        const previousTokens = this.tokensByElement.getValuesForKey(element);\n        const currentTokens = this.readTokensForElement(element);\n        const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    }\n    readTokensForElement(element) {\n        const attributeName = this.attributeName;\n        const tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    }\n}\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString\n        .trim()\n        .split(/\\s+/)\n        .filter((content) => content.length)\n        .map((content, index) => ({ element, attributeName, content, index }));\n}\nfunction zip(left, right) {\n    const length = Math.max(left.length, right.length);\n    return Array.from({ length }, (_, index) => [left[index], right[index]]);\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n\nclass ValueListObserver {\n    constructor(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap();\n        this.valuesByTokenByElement = new WeakMap();\n    }\n    get started() {\n        return this.tokenListObserver.started;\n    }\n    start() {\n        this.tokenListObserver.start();\n    }\n    stop() {\n        this.tokenListObserver.stop();\n    }\n    refresh() {\n        this.tokenListObserver.refresh();\n    }\n    get element() {\n        return this.tokenListObserver.element;\n    }\n    get attributeName() {\n        return this.tokenListObserver.attributeName;\n    }\n    tokenMatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    }\n    tokenUnmatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    }\n    fetchParseResultForToken(token) {\n        let parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    }\n    fetchValuesByTokenForElement(element) {\n        let valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map();\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    }\n    parseToken(token) {\n        try {\n            const value = this.delegate.parseValueForToken(token);\n            return { value };\n        }\n        catch (error) {\n            return { error };\n        }\n    }\n}\n\nclass BindingObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map();\n    }\n    start() {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    }\n    stop() {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    }\n    get element() {\n        return this.context.element;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get actionAttribute() {\n        return this.schema.actionAttribute;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get bindings() {\n        return Array.from(this.bindingsByAction.values());\n    }\n    connectAction(action) {\n        const binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    }\n    disconnectAction(action) {\n        const binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    }\n    disconnectAllActions() {\n        this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));\n        this.bindingsByAction.clear();\n    }\n    parseValueForToken(token) {\n        const action = Action.forToken(token, this.schema);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    }\n    elementMatchedValue(element, action) {\n        this.connectAction(action);\n    }\n    elementUnmatchedValue(element, action) {\n        this.disconnectAction(action);\n    }\n}\n\nclass ValueObserver {\n    constructor(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n    }\n    start() {\n        this.stringMapObserver.start();\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    stop() {\n        this.stringMapObserver.stop();\n    }\n    get element() {\n        return this.context.element;\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    getStringMapKeyForAttribute(attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        const descriptor = this.valueDescriptorMap[attributeName];\n        if (!this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));\n        }\n    }\n    stringMapValueChanged(value, name, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[name];\n        if (value === null)\n            return;\n        if (oldValue === null) {\n            oldValue = descriptor.writer(descriptor.defaultValue);\n        }\n        this.invokeChangedCallback(name, value, oldValue);\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[key];\n        if (this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);\n        }\n        else {\n            this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);\n        }\n    }\n    invokeChangedCallbacksForDefaultValues() {\n        for (const { key, name, defaultValue, writer } of this.valueDescriptors) {\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallback(name, writer(defaultValue), undefined);\n            }\n        }\n    }\n    invokeChangedCallback(name, rawValue, rawOldValue) {\n        const changedMethodName = `${name}Changed`;\n        const changedMethod = this.receiver[changedMethodName];\n        if (typeof changedMethod == \"function\") {\n            const descriptor = this.valueDescriptorNameMap[name];\n            try {\n                const value = descriptor.reader(rawValue);\n                let oldValue = rawOldValue;\n                if (rawOldValue) {\n                    oldValue = descriptor.reader(rawOldValue);\n                }\n                changedMethod.call(this.receiver, value, oldValue);\n            }\n            catch (error) {\n                if (error instanceof TypeError) {\n                    error.message = `Stimulus Value \"${this.context.identifier}.${descriptor.name}\" - ${error.message}`;\n                }\n                throw error;\n            }\n        }\n    }\n    get valueDescriptors() {\n        const { valueDescriptorMap } = this;\n        return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);\n    }\n    get valueDescriptorNameMap() {\n        const descriptors = {};\n        Object.keys(this.valueDescriptorMap).forEach((key) => {\n            const descriptor = this.valueDescriptorMap[key];\n            descriptors[descriptor.name] = descriptor;\n        });\n        return descriptors;\n    }\n    hasValue(attributeName) {\n        const descriptor = this.valueDescriptorNameMap[attributeName];\n        const hasMethodName = `has${capitalize(descriptor.name)}`;\n        return this.receiver[hasMethodName];\n    }\n}\n\nclass TargetObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.targetsByName = new Multimap();\n    }\n    start() {\n        if (!this.tokenListObserver) {\n            this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n            this.tokenListObserver.start();\n        }\n    }\n    stop() {\n        if (this.tokenListObserver) {\n            this.disconnectAllTargets();\n            this.tokenListObserver.stop();\n            delete this.tokenListObserver;\n        }\n    }\n    tokenMatched({ element, content: name }) {\n        if (this.scope.containsElement(element)) {\n            this.connectTarget(element, name);\n        }\n    }\n    tokenUnmatched({ element, content: name }) {\n        this.disconnectTarget(element, name);\n    }\n    connectTarget(element, name) {\n        var _a;\n        if (!this.targetsByName.has(name, element)) {\n            this.targetsByName.add(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));\n        }\n    }\n    disconnectTarget(element, name) {\n        var _a;\n        if (this.targetsByName.has(name, element)) {\n            this.targetsByName.delete(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));\n        }\n    }\n    disconnectAllTargets() {\n        for (const name of this.targetsByName.keys) {\n            for (const element of this.targetsByName.getValuesForKey(name)) {\n                this.disconnectTarget(element, name);\n            }\n        }\n    }\n    get attributeName() {\n        return `data-${this.context.identifier}-target`;\n    }\n    get element() {\n        return this.context.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nfunction readInheritableStaticArrayValues(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce((values, constructor) => {\n        getOwnStaticArrayValues(constructor, propertyName).forEach((name) => values.add(name));\n        return values;\n    }, new Set()));\n}\nfunction readInheritableStaticObjectPairs(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce((pairs, constructor) => {\n        pairs.push(...getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    const ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];\n}\n\nclass OutletObserver {\n    constructor(context, delegate) {\n        this.started = false;\n        this.context = context;\n        this.delegate = delegate;\n        this.outletsByName = new Multimap();\n        this.outletElementsByName = new Multimap();\n        this.selectorObserverMap = new Map();\n        this.attributeObserverMap = new Map();\n    }\n    start() {\n        if (!this.started) {\n            this.outletDefinitions.forEach((outletName) => {\n                this.setupSelectorObserverForOutlet(outletName);\n                this.setupAttributeObserverForOutlet(outletName);\n            });\n            this.started = true;\n            this.dependentContexts.forEach((context) => context.refresh());\n        }\n    }\n    refresh() {\n        this.selectorObserverMap.forEach((observer) => observer.refresh());\n        this.attributeObserverMap.forEach((observer) => observer.refresh());\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.disconnectAllOutlets();\n            this.stopSelectorObservers();\n            this.stopAttributeObservers();\n        }\n    }\n    stopSelectorObservers() {\n        if (this.selectorObserverMap.size > 0) {\n            this.selectorObserverMap.forEach((observer) => observer.stop());\n            this.selectorObserverMap.clear();\n        }\n    }\n    stopAttributeObservers() {\n        if (this.attributeObserverMap.size > 0) {\n            this.attributeObserverMap.forEach((observer) => observer.stop());\n            this.attributeObserverMap.clear();\n        }\n    }\n    selectorMatched(element, _selector, { outletName }) {\n        const outlet = this.getOutlet(element, outletName);\n        if (outlet) {\n            this.connectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorUnmatched(element, _selector, { outletName }) {\n        const outlet = this.getOutletFromMap(element, outletName);\n        if (outlet) {\n            this.disconnectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorMatchElement(element, { outletName }) {\n        const selector = this.selector(outletName);\n        const hasOutlet = this.hasOutlet(element, outletName);\n        const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);\n        if (selector) {\n            return hasOutlet && hasOutletController && element.matches(selector);\n        }\n        else {\n            return false;\n        }\n    }\n    elementMatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementAttributeValueChanged(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementUnmatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    connectOutlet(outlet, element, outletName) {\n        var _a;\n        if (!this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.add(outletName, outlet);\n            this.outletElementsByName.add(outletName, element);\n            (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));\n        }\n    }\n    disconnectOutlet(outlet, element, outletName) {\n        var _a;\n        if (this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.delete(outletName, outlet);\n            this.outletElementsByName.delete(outletName, element);\n            (_a = this.selectorObserverMap\n                .get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));\n        }\n    }\n    disconnectAllOutlets() {\n        for (const outletName of this.outletElementsByName.keys) {\n            for (const element of this.outletElementsByName.getValuesForKey(outletName)) {\n                for (const outlet of this.outletsByName.getValuesForKey(outletName)) {\n                    this.disconnectOutlet(outlet, element, outletName);\n                }\n            }\n        }\n    }\n    updateSelectorObserverForOutlet(outletName) {\n        const observer = this.selectorObserverMap.get(outletName);\n        if (observer) {\n            observer.selector = this.selector(outletName);\n        }\n    }\n    setupSelectorObserverForOutlet(outletName) {\n        const selector = this.selector(outletName);\n        const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });\n        this.selectorObserverMap.set(outletName, selectorObserver);\n        selectorObserver.start();\n    }\n    setupAttributeObserverForOutlet(outletName) {\n        const attributeName = this.attributeNameForOutletName(outletName);\n        const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);\n        this.attributeObserverMap.set(outletName, attributeObserver);\n        attributeObserver.start();\n    }\n    selector(outletName) {\n        return this.scope.outlets.getSelectorForOutletName(outletName);\n    }\n    attributeNameForOutletName(outletName) {\n        return this.scope.schema.outletAttributeForScope(this.identifier, outletName);\n    }\n    getOutletNameFromOutletAttributeName(attributeName) {\n        return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);\n    }\n    get outletDependencies() {\n        const dependencies = new Multimap();\n        this.router.modules.forEach((module) => {\n            const constructor = module.definition.controllerConstructor;\n            const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n            outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));\n        });\n        return dependencies;\n    }\n    get outletDefinitions() {\n        return this.outletDependencies.getKeysForValue(this.identifier);\n    }\n    get dependentControllerIdentifiers() {\n        return this.outletDependencies.getValuesForKey(this.identifier);\n    }\n    get dependentContexts() {\n        const identifiers = this.dependentControllerIdentifiers;\n        return this.router.contexts.filter((context) => identifiers.includes(context.identifier));\n    }\n    hasOutlet(element, outletName) {\n        return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);\n    }\n    getOutlet(element, outletName) {\n        return this.application.getControllerForElementAndIdentifier(element, outletName);\n    }\n    getOutletFromMap(element, outletName) {\n        return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get router() {\n        return this.application.router;\n    }\n}\n\nclass Context {\n    constructor(module, scope) {\n        this.logDebugActivity = (functionName, detail = {}) => {\n            const { identifier, controller, element } = this;\n            detail = Object.assign({ identifier, controller, element }, detail);\n            this.application.logDebugActivity(this.identifier, functionName, detail);\n        };\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        this.targetObserver = new TargetObserver(this, this);\n        this.outletObserver = new OutletObserver(this, this);\n        try {\n            this.controller.initialize();\n            this.logDebugActivity(\"initialize\");\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    connect() {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        this.targetObserver.start();\n        this.outletObserver.start();\n        try {\n            this.controller.connect();\n            this.logDebugActivity(\"connect\");\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    }\n    refresh() {\n        this.outletObserver.refresh();\n    }\n    disconnect() {\n        try {\n            this.controller.disconnect();\n            this.logDebugActivity(\"disconnect\");\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.outletObserver.stop();\n        this.targetObserver.stop();\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    }\n    get application() {\n        return this.module.application;\n    }\n    get identifier() {\n        return this.module.identifier;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get dispatcher() {\n        return this.application.dispatcher;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get parentElement() {\n        return this.element.parentElement;\n    }\n    handleError(error, message, detail = {}) {\n        const { identifier, controller, element } = this;\n        detail = Object.assign({ identifier, controller, element }, detail);\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    targetConnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetConnected`, element);\n    }\n    targetDisconnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetDisconnected`, element);\n    }\n    outletConnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);\n    }\n    outletDisconnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);\n    }\n    invokeControllerMethod(methodName, ...args) {\n        const controller = this.controller;\n        if (typeof controller[methodName] == \"function\") {\n            controller[methodName](...args);\n        }\n    }\n}\n\nfunction bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    const shadowConstructor = extend(constructor);\n    const shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    const blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce((blessedProperties, blessing) => {\n        const properties = blessing(constructor);\n        for (const key in properties) {\n            const descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce((shadowProperties, key) => {\n        const descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, { [key]: descriptor });\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    const shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nconst getOwnKeys = (() => {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nconst extend = (() => {\n    function extendWithReflect(constructor) {\n        function extended() {\n            return Reflect.construct(constructor, arguments, new.target);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended },\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        const a = function () {\n            this.a.call(this);\n        };\n        const b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b();\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return (constructor) => class extended extends constructor {\n        };\n    }\n})();\n\nfunction blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor),\n    };\n}\n\nclass Module {\n    constructor(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap();\n        this.connectedContexts = new Set();\n    }\n    get identifier() {\n        return this.definition.identifier;\n    }\n    get controllerConstructor() {\n        return this.definition.controllerConstructor;\n    }\n    get contexts() {\n        return Array.from(this.connectedContexts);\n    }\n    connectContextForScope(scope) {\n        const context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    }\n    disconnectContextForScope(scope) {\n        const context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    }\n    fetchContextForScope(scope) {\n        let context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    }\n}\n\nclass ClassMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    has(name) {\n        return this.data.has(this.getDataKey(name));\n    }\n    get(name) {\n        return this.getAll(name)[0];\n    }\n    getAll(name) {\n        const tokenString = this.data.get(this.getDataKey(name)) || \"\";\n        return tokenize(tokenString);\n    }\n    getAttributeName(name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    }\n    getDataKey(name) {\n        return `${name}-class`;\n    }\n    get data() {\n        return this.scope.data;\n    }\n}\n\nclass DataMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    }\n    set(key, value) {\n        const name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    }\n    has(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    }\n    delete(key) {\n        if (this.has(key)) {\n            const name = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    getAttributeNameForKey(key) {\n        return `data-${this.identifier}-${dasherize(key)}`;\n    }\n}\n\nclass Guide {\n    constructor(logger) {\n        this.warnedKeysByObject = new WeakMap();\n        this.logger = logger;\n    }\n    warn(object, key, message) {\n        let warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set();\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    }\n}\n\nfunction attributeValueContainsToken(attributeName, token) {\n    return `[${attributeName}~=\"${token}\"]`;\n}\n\nclass TargetSet {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(targetName) {\n        return this.find(targetName) != null;\n    }\n    find(...targetNames) {\n        return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), undefined);\n    }\n    findAll(...targetNames) {\n        return targetNames.reduce((targets, targetName) => [\n            ...targets,\n            ...this.findAllTargets(targetName),\n            ...this.findAllLegacyTargets(targetName),\n        ], []);\n    }\n    findTarget(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    }\n    findAllTargets(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    }\n    getSelectorForTargetName(targetName) {\n        const attributeName = this.schema.targetAttributeForScope(this.identifier);\n        return attributeValueContainsToken(attributeName, targetName);\n    }\n    findLegacyTarget(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    }\n    findAllLegacyTargets(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));\n    }\n    getLegacySelectorForTargetName(targetName) {\n        const targetDescriptor = `${this.identifier}.${targetName}`;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    }\n    deprecate(element, targetName) {\n        if (element) {\n            const { identifier } = this;\n            const attributeName = this.schema.targetAttribute;\n            const revisedAttributeName = this.schema.targetAttributeForScope(identifier);\n            this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}=\"${identifier}.${targetName}\" with ${revisedAttributeName}=\"${targetName}\". ` +\n                `The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);\n        }\n        return element;\n    }\n    get guide() {\n        return this.scope.guide;\n    }\n}\n\nclass OutletSet {\n    constructor(scope, controllerElement) {\n        this.scope = scope;\n        this.controllerElement = controllerElement;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(outletName) {\n        return this.find(outletName) != null;\n    }\n    find(...outletNames) {\n        return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), undefined);\n    }\n    findAll(...outletNames) {\n        return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);\n    }\n    getSelectorForOutletName(outletName) {\n        const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);\n        return this.controllerElement.getAttribute(attributeName);\n    }\n    findOutlet(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        if (selector)\n            return this.findElement(selector, outletName);\n    }\n    findAllOutlets(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        return selector ? this.findAllElements(selector, outletName) : [];\n    }\n    findElement(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];\n    }\n    findAllElements(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName));\n    }\n    matchesElement(element, selector, outletName) {\n        const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || \"\";\n        return element.matches(selector) && controllerAttribute.split(\" \").includes(outletName);\n    }\n}\n\nclass Scope {\n    constructor(schema, element, identifier, logger) {\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = (element) => {\n            return element.closest(this.controllerSelector) === this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n        this.outlets = new OutletSet(this.documentScope, element);\n    }\n    findElement(selector) {\n        return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);\n    }\n    findAllElements(selector) {\n        return [\n            ...(this.element.matches(selector) ? [this.element] : []),\n            ...this.queryElements(selector).filter(this.containsElement),\n        ];\n    }\n    queryElements(selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    }\n    get controllerSelector() {\n        return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    }\n    get isDocumentScope() {\n        return this.element === document.documentElement;\n    }\n    get documentScope() {\n        return this.isDocumentScope\n            ? this\n            : new Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);\n    }\n}\n\nclass ScopeObserver {\n    constructor(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap();\n        this.scopeReferenceCounts = new WeakMap();\n    }\n    start() {\n        this.valueListObserver.start();\n    }\n    stop() {\n        this.valueListObserver.stop();\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    parseValueForToken(token) {\n        const { element, content: identifier } = token;\n        return this.parseValueForElementAndIdentifier(element, identifier);\n    }\n    parseValueForElementAndIdentifier(element, identifier) {\n        const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        let scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    }\n    elementMatchedValue(element, value) {\n        const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    }\n    elementUnmatchedValue(element, value) {\n        const referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    }\n    fetchScopesByIdentifierForElement(element) {\n        let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map();\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    }\n}\n\nclass Router {\n    constructor(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap();\n        this.modulesByIdentifier = new Map();\n    }\n    get element() {\n        return this.application.element;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get logger() {\n        return this.application.logger;\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    get modules() {\n        return Array.from(this.modulesByIdentifier.values());\n    }\n    get contexts() {\n        return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);\n    }\n    start() {\n        this.scopeObserver.start();\n    }\n    stop() {\n        this.scopeObserver.stop();\n    }\n    loadDefinition(definition) {\n        this.unloadIdentifier(definition.identifier);\n        const module = new Module(this.application, definition);\n        this.connectModule(module);\n        const afterLoad = definition.controllerConstructor.afterLoad;\n        if (afterLoad) {\n            afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);\n        }\n    }\n    unloadIdentifier(identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    }\n    getContextForElementAndIdentifier(element, identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find((context) => context.element == element);\n        }\n    }\n    proposeToConnectScopeForElementAndIdentifier(element, identifier) {\n        const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);\n        if (scope) {\n            this.scopeObserver.elementMatchedValue(scope.element, scope);\n        }\n        else {\n            console.error(`Couldn't find or create scope for identifier: \"${identifier}\" and element:`, element);\n        }\n    }\n    handleError(error, message, detail) {\n        this.application.handleError(error, message, detail);\n    }\n    createScopeForElementAndIdentifier(element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    }\n    scopeConnected(scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    }\n    scopeDisconnected(scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    }\n    connectModule(module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.connectContextForScope(scope));\n    }\n    disconnectModule(module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.disconnectContextForScope(scope));\n    }\n}\n\nconst defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\",\n    targetAttributeForScope: (identifier) => `data-${identifier}-target`,\n    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,\n    keyMappings: Object.assign(Object.assign({ enter: \"Enter\", tab: \"Tab\", esc: \"Escape\", space: \" \", up: \"ArrowUp\", down: \"ArrowDown\", left: \"ArrowLeft\", right: \"ArrowRight\", home: \"Home\", end: \"End\", page_up: \"PageUp\", page_down: \"PageDown\" }, objectFromEntries(\"abcdefghijklmnopqrstuvwxyz\".split(\"\").map((c) => [c, c]))), objectFromEntries(\"0123456789\".split(\"\").map((n) => [n, n]))),\n};\nfunction objectFromEntries(array) {\n    return array.reduce((memo, [k, v]) => (Object.assign(Object.assign({}, memo), { [k]: v })), {});\n}\n\nclass Application {\n    constructor(element = document.documentElement, schema = defaultSchema) {\n        this.logger = console;\n        this.debug = false;\n        this.logDebugActivity = (identifier, functionName, detail = {}) => {\n            if (this.debug) {\n                this.logFormattedMessage(identifier, functionName, detail);\n            }\n        };\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n        this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);\n    }\n    static start(element, schema) {\n        const application = new this(element, schema);\n        application.start();\n        return application;\n    }\n    async start() {\n        await domReady();\n        this.logDebugActivity(\"application\", \"starting\");\n        this.dispatcher.start();\n        this.router.start();\n        this.logDebugActivity(\"application\", \"start\");\n    }\n    stop() {\n        this.logDebugActivity(\"application\", \"stopping\");\n        this.dispatcher.stop();\n        this.router.stop();\n        this.logDebugActivity(\"application\", \"stop\");\n    }\n    register(identifier, controllerConstructor) {\n        this.load({ identifier, controllerConstructor });\n    }\n    registerActionOption(name, filter) {\n        this.actionDescriptorFilters[name] = filter;\n    }\n    load(head, ...rest) {\n        const definitions = Array.isArray(head) ? head : [head, ...rest];\n        definitions.forEach((definition) => {\n            if (definition.controllerConstructor.shouldLoad) {\n                this.router.loadDefinition(definition);\n            }\n        });\n    }\n    unload(head, ...rest) {\n        const identifiers = Array.isArray(head) ? head : [head, ...rest];\n        identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));\n    }\n    get controllers() {\n        return this.router.contexts.map((context) => context.controller);\n    }\n    getControllerForElementAndIdentifier(element, identifier) {\n        const context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    }\n    handleError(error, message, detail) {\n        var _a;\n        this.logger.error(`%s\\n\\n%o\\n\\n%o`, message, error, detail);\n        (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message, \"\", 0, 0, error);\n    }\n    logFormattedMessage(identifier, functionName, detail = {}) {\n        detail = Object.assign({ application: this }, detail);\n        this.logger.groupCollapsed(`${identifier} #${functionName}`);\n        this.logger.log(\"details:\", Object.assign({}, detail));\n        this.logger.groupEnd();\n    }\n}\nfunction domReady() {\n    return new Promise((resolve) => {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => resolve());\n        }\n        else {\n            resolve();\n        }\n    });\n}\n\nfunction ClassPropertiesBlessing(constructor) {\n    const classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce((properties, classDefinition) => {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    return {\n        [`${key}Class`]: {\n            get() {\n                const { classes } = this;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    const attribute = classes.getAttributeName(key);\n                    throw new Error(`Missing attribute \"${attribute}\"`);\n                }\n            },\n        },\n        [`${key}Classes`]: {\n            get() {\n                return this.classes.getAll(key);\n            },\n        },\n        [`has${capitalize(key)}Class`]: {\n            get() {\n                return this.classes.has(key);\n            },\n        },\n    };\n}\n\nfunction OutletPropertiesBlessing(constructor) {\n    const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n    return outlets.reduce((properties, outletDefinition) => {\n        return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));\n    }, {});\n}\nfunction getOutletController(controller, element, identifier) {\n    return controller.application.getControllerForElementAndIdentifier(element, identifier);\n}\nfunction getControllerAndEnsureConnectedScope(controller, element, outletName) {\n    let outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);\n    outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n}\nfunction propertiesForOutletDefinition(name) {\n    const camelizedName = namespaceCamelize(name);\n    return {\n        [`${camelizedName}Outlet`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                    if (outletController)\n                        return outletController;\n                    throw new Error(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`);\n                }\n                throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n            },\n        },\n        [`${camelizedName}Outlets`]: {\n            get() {\n                const outlets = this.outlets.findAll(name);\n                if (outlets.length > 0) {\n                    return outlets\n                        .map((outletElement) => {\n                        const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                        if (outletController)\n                            return outletController;\n                        console.warn(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`, outletElement);\n                    })\n                        .filter((controller) => controller);\n                }\n                return [];\n            },\n        },\n        [`${camelizedName}OutletElement`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    return outletElement;\n                }\n                else {\n                    throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n                }\n            },\n        },\n        [`${camelizedName}OutletElements`]: {\n            get() {\n                return this.outlets.findAll(name);\n            },\n        },\n        [`has${capitalize(camelizedName)}Outlet`]: {\n            get() {\n                return this.outlets.has(name);\n            },\n        },\n    };\n}\n\nfunction TargetPropertiesBlessing(constructor) {\n    const targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce((properties, targetDefinition) => {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    return {\n        [`${name}Target`]: {\n            get() {\n                const target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(`Missing target element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${name}Targets`]: {\n            get() {\n                return this.targets.findAll(name);\n            },\n        },\n        [`has${capitalize(name)}Target`]: {\n            get() {\n                return this.targets.has(name);\n            },\n        },\n    };\n}\n\nfunction ValuePropertiesBlessing(constructor) {\n    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    const propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get() {\n                return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {\n                    const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);\n                    const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, { [attributeName]: valueDescriptor });\n                }, {});\n            },\n        },\n    };\n    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\nfunction propertiesForValueDefinitionPair(valueDefinitionPair, controller) {\n    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);\n    const { key, name, reader: read, writer: write } = definition;\n    return {\n        [name]: {\n            get() {\n                const value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set(value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            },\n        },\n        [`has${capitalize(name)}`]: {\n            get() {\n                return this.data.has(key) || definition.hasCustomDefaultValue;\n            },\n        },\n    };\n}\nfunction parseValueDefinitionPair([token, typeDefinition], controller) {\n    return valueDescriptorForTokenAndTypeDefinition({\n        controller,\n        token,\n        typeDefinition,\n    });\n}\nfunction parseValueTypeConstant(constant) {\n    switch (constant) {\n        case Array:\n            return \"array\";\n        case Boolean:\n            return \"boolean\";\n        case Number:\n            return \"number\";\n        case Object:\n            return \"object\";\n        case String:\n            return \"string\";\n    }\n}\nfunction parseValueTypeDefault(defaultValue) {\n    switch (typeof defaultValue) {\n        case \"boolean\":\n            return \"boolean\";\n        case \"number\":\n            return \"number\";\n        case \"string\":\n            return \"string\";\n    }\n    if (Array.isArray(defaultValue))\n        return \"array\";\n    if (Object.prototype.toString.call(defaultValue) === \"[object Object]\")\n        return \"object\";\n}\nfunction parseValueTypeObject(payload) {\n    const { controller, token, typeObject } = payload;\n    const hasType = isSomething(typeObject.type);\n    const hasDefault = isSomething(typeObject.default);\n    const fullObject = hasType && hasDefault;\n    const onlyType = hasType && !hasDefault;\n    const onlyDefault = !hasType && hasDefault;\n    const typeFromObject = parseValueTypeConstant(typeObject.type);\n    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);\n    if (onlyType)\n        return typeFromObject;\n    if (onlyDefault)\n        return typeFromDefaultValue;\n    if (typeFromObject !== typeFromDefaultValue) {\n        const propertyPath = controller ? `${controller}.${token}` : token;\n        throw new Error(`The specified default value for the Stimulus Value \"${propertyPath}\" must match the defined type \"${typeFromObject}\". The provided default value of \"${typeObject.default}\" is of type \"${typeFromDefaultValue}\".`);\n    }\n    if (fullObject)\n        return typeFromObject;\n}\nfunction parseValueTypeDefinition(payload) {\n    const { controller, token, typeDefinition } = payload;\n    const typeObject = { controller, token, typeObject: typeDefinition };\n    const typeFromObject = parseValueTypeObject(typeObject);\n    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);\n    const typeFromConstant = parseValueTypeConstant(typeDefinition);\n    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;\n    if (type)\n        return type;\n    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;\n    throw new Error(`Unknown value type \"${propertyPath}\" for \"${token}\" value`);\n}\nfunction defaultValueForDefinition(typeDefinition) {\n    const constant = parseValueTypeConstant(typeDefinition);\n    if (constant)\n        return defaultValuesByType[constant];\n    const hasDefault = hasProperty(typeDefinition, \"default\");\n    const hasType = hasProperty(typeDefinition, \"type\");\n    const typeObject = typeDefinition;\n    if (hasDefault)\n        return typeObject.default;\n    if (hasType) {\n        const { type } = typeObject;\n        const constantFromType = parseValueTypeConstant(type);\n        if (constantFromType)\n            return defaultValuesByType[constantFromType];\n    }\n    return typeDefinition;\n}\nfunction valueDescriptorForTokenAndTypeDefinition(payload) {\n    const { token, typeDefinition } = payload;\n    const key = `${dasherize(token)}-value`;\n    const type = parseValueTypeDefinition(payload);\n    return {\n        type,\n        key,\n        name: camelize(key),\n        get defaultValue() {\n            return defaultValueForDefinition(typeDefinition);\n        },\n        get hasCustomDefaultValue() {\n            return parseValueTypeDefault(typeDefinition) !== undefined;\n        },\n        reader: readers[type],\n        writer: writers[type] || writers.default,\n    };\n}\nconst defaultValuesByType = {\n    get array() {\n        return [];\n    },\n    boolean: false,\n    number: 0,\n    get object() {\n        return {};\n    },\n    string: \"\",\n};\nconst readers = {\n    array(value) {\n        const array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(`expected value of type \"array\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(array)}\"`);\n        }\n        return array;\n    },\n    boolean(value) {\n        return !(value == \"0\" || String(value).toLowerCase() == \"false\");\n    },\n    number(value) {\n        return Number(value.replace(/_/g, \"\"));\n    },\n    object(value) {\n        const object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(`expected value of type \"object\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(object)}\"`);\n        }\n        return object;\n    },\n    string(value) {\n        return value;\n    },\n};\nconst writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON,\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return `${value}`;\n}\n\nclass Controller {\n    constructor(context) {\n        this.context = context;\n    }\n    static get shouldLoad() {\n        return true;\n    }\n    static afterLoad(_identifier, _application) {\n        return;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get targets() {\n        return this.scope.targets;\n    }\n    get outlets() {\n        return this.scope.outlets;\n    }\n    get classes() {\n        return this.scope.classes;\n    }\n    get data() {\n        return this.scope.data;\n    }\n    initialize() {\n    }\n    connect() {\n    }\n    disconnect() {\n    }\n    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true, } = {}) {\n        const type = prefix ? `${prefix}:${eventName}` : eventName;\n        const event = new CustomEvent(type, { detail, bubbles, cancelable });\n        target.dispatchEvent(event);\n        return event;\n    }\n}\nController.blessings = [\n    ClassPropertiesBlessing,\n    TargetPropertiesBlessing,\n    ValuePropertiesBlessing,\n    OutletPropertiesBlessing,\n];\nController.targets = [];\nController.outlets = [];\nController.values = {};\n\nexport { Application, AttributeObserver, Context, Controller, ElementObserver, IndexedMultimap, Multimap, SelectorObserver, StringMapObserver, TokenListObserver, ValueListObserver, add, defaultSchema, del, fetch, prune };\n", "import { Application } from \"@hotwired/stimulus\"\n\nconst application = Application.start()\n\n// Configure Stimulus development experience\napplication.debug = false\nwindow.Stimulus   = application\n\nexport { application }\n", "import { Controller } from \"@hotwired/stimulus\"\nimport { Modal } from \"bootstrap\"\n\nexport default class extends Controller {\n    connect() {\n    }\n\n    call(e) {\n        let message = this.element.getAttribute(\"data-confirm\");\n        if (!confirm(message)) {\n            e.preventDefault();\n        }\n    }\n\n    newCall(e) {\n        let mainModal = document.getElementById('mainModal');\n        let okButton = mainModal.querySelector('#mainModalCompleteBtn');\n        let modal = new Modal(mainModal);\n        let ask = this.element.getAttribute(\"data-confirm\");\n        if (e.target.hasAttribute(\"data-confirmed\")) {\n            console.log(e.target);\n            return e.target.removeAttribute(\"data-confirmed\");\n        }\n\n        e.preventDefault();\n        mainModal.querySelector('.modal-body').textContent = ask;\n        let containsDelete = ask.toLowerCase().includes(\"\u0443\u0434\u0430\u043B\");\n        okButton.textContent = containsDelete ? \"\u0423\u0434\u0430\u043B\u0438\u0442\u044C\" : \"\u041E\u041A\";\n        mainModal.querySelector('#mainModalTitle').textContent = '\u0412\u043D\u0438\u043C\u0430\u043D\u0438\u0435!';\n        okButton.classList.remove('btn-primary');\n        okButton.classList.add('btn-danger');\n        modal.show();\n\n        okButton.addEventListener(\"click\", () => {\n            modal.hide();\n            e.target.setAttribute(\"data-confirmed\", \"true\");\n            e.target.click();\n            setTimeout(() => {\n                e.target.removeAttribute(\"data-confirmed\");\n            }, 0)\n        })\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    call(e) {\n        this.element.insertAdjacentHTML('afterbegin', '<div id=\"loader\" class=\"loader\"></div>');\n\n        setTimeout(() => {\n            this.element.querySelector('#loader').remove();\n        }, 1000);\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    connect() {\n        this.startTimer();\n    }\n\n    startTimer() {\n        this.timer = setInterval(() => {\n            this.fadeOutAndRemove();\n        }, 7000)\n    }\n\n    fadeOutAndRemove() {\n        // \u0414\u043E\u0431\u0430\u0432\u043B\u044F\u0435\u043C \u043A\u043B\u0430\u0441\u0441 \u0434\u043B\u044F \u0430\u043D\u0438\u043C\u0430\u0446\u0438\u0438 \u043F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u043E\u0441\u0442\u0438\n        this.element.classList.add(\"fade-out\");\n        // \u0416\u0434\u0435\u043C 0.5 \u0441\u0435\u043A\u0443\u043D\u0434\u044B (\u0432\u0440\u0435\u043C\u044F \u0430\u043D\u0438\u043C\u0430\u0446\u0438\u0438) \u0438 \u0443\u0434\u0430\u043B\u044F\u0435\u043C \u044D\u043B\u0435\u043C\u0435\u043D\u0442\n        setTimeout(() => {\n            this.element.remove();\n        }, 1000);\n    }\n\n    close() {\n        clearInterval(this.timer);\n        this.fadeOutAndRemove();\n    }\n}", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    clearForm(event) {\n        if (event.detail.success) {\n            this.element.reset();\n        }\n    }\n}\n", "const t=(t,e=1e4)=>(t=parseFloat(t+\"\")||0,Math.round((t+Number.EPSILON)*e)/e),e=function(t){if(!(t&&t instanceof Element&&t.offsetParent))return!1;const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY,n=-1!==i.indexOf(\"hidden\"),s=-1!==i.indexOf(\"visible\");return e&&!n&&!s},i=function(t,n=void 0){return!(!t||t===document.body||n&&t===n)&&(e(t)?t:i(t.parentElement,n))},n=function(t){var e=(new DOMParser).parseFromString(t,\"text/html\").body;if(e.childElementCount>1){for(var i=document.createElement(\"div\");e.firstChild;)i.appendChild(e.firstChild);return i}return e.firstChild},s=t=>`${t||\"\"}`.split(\" \").filter((t=>!!t)),o=(t,e,i)=>{t&&s(e).forEach((e=>{t.classList.toggle(e,i||!1)}))};class a{constructor(t){Object.defineProperty(this,\"pageX\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"pageY\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"clientX\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"clientY\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"id\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"time\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"nativePointer\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,this.id=self.Touch&&t instanceof Touch?t.identifier:-1,this.time=Date.now()}}const r={passive:!1};class l{constructor(t,{start:e=(()=>!0),move:i=(()=>{}),end:n=(()=>{})}){Object.defineProperty(this,\"element\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"startCallback\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"moveCallback\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"endCallback\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"currentPointers\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,\"startPointers\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=t,this.startCallback=e,this.moveCallback=i,this.endCallback=n;for(const t of[\"onPointerStart\",\"onTouchStart\",\"onMove\",\"onTouchEnd\",\"onPointerEnd\",\"onWindowBlur\"])this[t]=this[t].bind(this);this.element.addEventListener(\"mousedown\",this.onPointerStart,r),this.element.addEventListener(\"touchstart\",this.onTouchStart,r),this.element.addEventListener(\"touchmove\",this.onMove,r),this.element.addEventListener(\"touchend\",this.onTouchEnd),this.element.addEventListener(\"touchcancel\",this.onTouchEnd)}onPointerStart(t){if(!t.buttons||0!==t.button)return;const e=new a(t);this.currentPointers.some((t=>t.id===e.id))||this.triggerPointerStart(e,t)&&(window.addEventListener(\"mousemove\",this.onMove),window.addEventListener(\"mouseup\",this.onPointerEnd),window.addEventListener(\"blur\",this.onWindowBlur))}onTouchStart(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerStart(new a(e),t);window.addEventListener(\"blur\",this.onWindowBlur)}onMove(t){const e=this.currentPointers.slice(),i=\"changedTouches\"in t?Array.from(t.changedTouches||[]).map((t=>new a(t))):[new a(t)],n=[];for(const t of i){const e=this.currentPointers.findIndex((e=>e.id===t.id));e<0||(n.push(t),this.currentPointers[e]=t)}n.length&&this.moveCallback(t,this.currentPointers.slice(),e)}onPointerEnd(t){t.buttons>0&&0!==t.button||(this.triggerPointerEnd(t,new a(t)),window.removeEventListener(\"mousemove\",this.onMove),window.removeEventListener(\"mouseup\",this.onPointerEnd),window.removeEventListener(\"blur\",this.onWindowBlur))}onTouchEnd(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerEnd(t,new a(e))}triggerPointerStart(t,e){return!!this.startCallback(e,t,this.currentPointers.slice())&&(this.currentPointers.push(t),this.startPointers.push(t),!0)}triggerPointerEnd(t,e){const i=this.currentPointers.findIndex((t=>t.id===e.id));i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(t,e,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const t=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event(\"touchend\",{bubbles:!0,cancelable:!0,clientX:t.clientX,clientY:t.clientY}),t,this.currentPointers.slice())}}stop(){this.element.removeEventListener(\"mousedown\",this.onPointerStart,r),this.element.removeEventListener(\"touchstart\",this.onTouchStart,r),this.element.removeEventListener(\"touchmove\",this.onMove,r),this.element.removeEventListener(\"touchend\",this.onTouchEnd),this.element.removeEventListener(\"touchcancel\",this.onTouchEnd),window.removeEventListener(\"mousemove\",this.onMove),window.removeEventListener(\"mouseup\",this.onPointerEnd),window.removeEventListener(\"blur\",this.onWindowBlur)}}function c(t,e){return e?Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2)):0}function h(t,e){return e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t}const d=t=>\"object\"==typeof t&&null!==t&&t.constructor===Object&&\"[object Object]\"===Object.prototype.toString.call(t),u=(t,...e)=>{const i=e.length;for(let n=0;n<i;n++){const i=e[n]||{};Object.entries(i).forEach((([e,i])=>{const n=Array.isArray(i)?[]:{};t[e]||Object.assign(t,{[e]:n}),d(i)?Object.assign(t[e],u(n,i)):Array.isArray(i)?Object.assign(t,{[e]:[...i]}):Object.assign(t,{[e]:i})}))}return t},p=function(t,e){return t.split(\".\").reduce(((t,e)=>\"object\"==typeof t?t[e]:void 0),e)};class f{constructor(t={}){Object.defineProperty(this,\"options\",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,\"events\",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t);for(const t of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))t.startsWith(\"on\")&&\"function\"==typeof this[t]&&(this[t]=this[t].bind(this))}setOptions(t){this.options=t?u({},this.constructor.defaults,t):{};for(const[t,e]of Object.entries(this.option(\"on\")||{}))this.on(t,e)}option(t,...e){let i=p(t,this.options);return i&&\"function\"==typeof i&&(i=i.call(this,this,...e)),i}optionFor(t,e,i,...n){let s=p(e,t);var o;\"string\"!=typeof(o=s)||isNaN(o)||isNaN(parseFloat(o))||(s=parseFloat(s)),\"true\"===s&&(s=!0),\"false\"===s&&(s=!1),s&&\"function\"==typeof s&&(s=s.call(this,this,t,...n));let a=p(e,this.options);return a&&\"function\"==typeof a?s=a.call(this,this,t,...n,s):void 0===s&&(s=a),void 0===s?i:s}cn(t){const e=this.options.classes;return e&&e[t]||\"\"}localize(t,e=[]){t=String(t).replace(/\\{\\{(\\w+).?(\\w+)?\\}\\}/g,((t,e,i)=>{let n=\"\";return i?n=this.option(`${e[0]+e.toLowerCase().substring(1)}.l10n.${i}`):e&&(n=this.option(`l10n.${e}`)),n||(n=t),n}));for(let i=0;i<e.length;i++)t=t.split(e[i][0]).join(e[i][1]);return t=t.replace(/\\{\\{(.*?)\\}\\}/g,((t,e)=>e))}on(t,e){let i=[];\"string\"==typeof t?i=t.split(\" \"):Array.isArray(t)&&(i=t),this.events||(this.events=new Map),i.forEach((t=>{let i=this.events.get(t);i||(this.events.set(t,[]),i=[]),i.includes(e)||i.push(e),this.events.set(t,i)}))}off(t,e){let i=[];\"string\"==typeof t?i=t.split(\" \"):Array.isArray(t)&&(i=t),i.forEach((t=>{const i=this.events.get(t);if(Array.isArray(i)){const t=i.indexOf(e);t>-1&&i.splice(t,1)}}))}emit(t,...e){[...this.events.get(t)||[]].forEach((t=>t(this,...e))),\"*\"!==t&&this.emit(\"*\",t,...e)}}Object.defineProperty(f,\"version\",{enumerable:!0,configurable:!0,writable:!0,value:\"5.0.36\"}),Object.defineProperty(f,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{}});class g extends f{constructor(t={}){super(t),Object.defineProperty(this,\"plugins\",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(t={}){const e=new Map;for(const[i,n]of Object.entries(t)){const t=this.option(i),s=this.plugins[i];s||!1===t?s&&!1===t&&(s.detach(),delete this.plugins[i]):e.set(i,new n(this,t||{}))}for(const[t,i]of e)this.plugins[t]=i,i.attach()}detachPlugins(t){t=t||Object.keys(this.plugins);for(const e of t){const t=this.plugins[e];t&&t.detach(),delete this.plugins[e]}return this.emit(\"detachPlugins\"),this}}var m;!function(t){t[t.Init=0]=\"Init\",t[t.Error=1]=\"Error\",t[t.Ready=2]=\"Ready\",t[t.Panning=3]=\"Panning\",t[t.Mousemove=4]=\"Mousemove\",t[t.Destroy=5]=\"Destroy\"}(m||(m={}));const v=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"],b={PANUP:\"Move up\",PANDOWN:\"Move down\",PANLEFT:\"Move left\",PANRIGHT:\"Move right\",ZOOMIN:\"Zoom in\",ZOOMOUT:\"Zoom out\",TOGGLEZOOM:\"Toggle zoom level\",TOGGLE1TO1:\"Toggle zoom level\",ITERATEZOOM:\"Toggle zoom level\",ROTATECCW:\"Rotate counterclockwise\",ROTATECW:\"Rotate clockwise\",FLIPX:\"Flip horizontally\",FLIPY:\"Flip vertically\",FITX:\"Fit horizontally\",FITY:\"Fit vertically\",RESET:\"Reset\",TOGGLEFS:\"Toggle fullscreen\"},y={content:null,width:\"auto\",height:\"auto\",panMode:\"drag\",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:\"auto\",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:\"toggleZoom\",dblClick:!1,wheel:\"zoom\",wheelLimit:7,spinner:!0,bounds:\"auto\",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:\"f-panzoom__content\",isLoading:\"is-loading\",canZoomIn:\"can-zoom_in\",canZoomOut:\"can-zoom_out\",isDraggable:\"is-draggable\",isDragging:\"is-dragging\",inFullscreen:\"in-fullscreen\",htmlHasFullscreen:\"with-panzoom-in-fullscreen\"},l10n:b},w='<circle cx=\"25\" cy=\"25\" r=\"20\"></circle>',x='<div class=\"f-spinner\"><svg viewBox=\"0 0 50 50\">'+w+w+\"</svg></div>\",E=t=>t&&null!==t&&t instanceof Element&&\"nodeType\"in t,S=(t,e)=>{t&&s(e).forEach((e=>{t.classList.remove(e)}))},P=(t,e)=>{t&&s(e).forEach((e=>{t.classList.add(e)}))},C={a:1,b:0,c:0,d:1,e:0,f:0},T=1e5,M=1e4,O=\"mousemove\",A=\"drag\",L=\"content\",z=\"auto\";let R=null,k=null;class I extends g{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return null===k&&(k=window.matchMedia(\"(hover: none)\").matches),k}get isMobile(){return null===R&&(R=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),R}get panMode(){return this.options.panMode!==O||this.isTouchDevice?A:O}get panOnlyZoomed(){const t=this.options.panOnlyZoomed;return t===z?this.isTouchDevice:t}get isInfinite(){return this.option(\"infinite\")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:t,b:e}=this.current;return Math.sqrt(t*t+e*e)||1}get targetScale(){const{a:t,b:e}=this.target;return Math.sqrt(t*t+e*e)||1}get minScale(){return this.option(\"minScale\")||1}get fullScale(){const{contentRect:t}=this;return t.fullWidth/t.fitWidth||1}get maxScale(){return this.fullScale*(this.option(\"maxScale\")||1)||1}get coverScale(){const{containerRect:t,contentRect:e}=this,i=Math.max(t.height/e.fitHeight,t.width/e.fitWidth)||1;return Math.min(this.fullScale,i)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const t=this.content;return!!(t&&t instanceof HTMLImageElement)&&!t.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const t of v){const e=\"e\"==t||\"f\"===t?1e-4:1e-5;if(Math.abs(this.target[t]-this.current[t])>e)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(t,e={},i={}){var s;if(super(e),Object.defineProperty(this,\"pointerTracker\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"resizeObserver\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"updateTimer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"clickTimer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"rAF\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"isTicking\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"ignoreBounds\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"isBouncingX\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"isBouncingY\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"clicks\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"trackingPoints\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,\"pwt\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"cwd\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"pmme\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"friction\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:m.Init}),Object.defineProperty(this,\"isDragging\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"content\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"spinner\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"containerRect\",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,\"contentRect\",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,\"dragStart\",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,\"dragOffset\",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,\"current\",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},C)}),Object.defineProperty(this,\"target\",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},C)}),Object.defineProperty(this,\"velocity\",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,\"lockedAxis\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!t)throw new Error(\"Container Element Not Found\");this.container=t,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},I.Plugins),i)),this.emit(\"attachPlugins\"),this.emit(\"init\");const o=this.content;if(o.addEventListener(\"load\",this.onLoad),o.addEventListener(\"error\",this.onError),this.isContentLoading){if(this.option(\"spinner\")){t.classList.add(this.cn(\"isLoading\"));const e=n(x);!t.contains(o)||o.parentElement instanceof HTMLPictureElement?this.spinner=t.appendChild(e):this.spinner=(null===(s=o.parentElement)||void 0===s?void 0:s.insertBefore(e,o))||null}this.emit(\"beforeLoad\")}else queueMicrotask((()=>{this.enable()}))}initContent(){const{container:t}=this,e=this.cn(L);let i=this.option(L)||t.querySelector(`.${e}`);if(i||(i=t.querySelector(\"img,picture\")||t.firstElementChild,i&&P(i,e)),i instanceof HTMLPictureElement&&(i=i.querySelector(\"img\")),!i)throw new Error(\"No content found\");this.content=i}onLoad(){const{spinner:t,container:e,state:i}=this;t&&(t.remove(),this.spinner=null),this.option(\"spinner\")&&e.classList.remove(this.cn(\"isLoading\")),this.emit(\"afterLoad\"),i===m.Init?this.enable():this.updateMetrics()}onError(){this.state!==m.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=m.Error,this.emit(\"error\"))}getNextScale(t){const{fullScale:e,targetScale:i,coverScale:n,maxScale:s,minScale:o}=this;let a=o;switch(t){case\"toggleMax\":a=i-o<.5*(s-o)?s:o;break;case\"toggleCover\":a=i-o<.5*(n-o)?n:o;break;case\"toggleZoom\":a=i-o<.5*(e-o)?e:o;break;case\"iterateZoom\":let t=[1,e,s].sort(((t,e)=>t-e)),r=t.findIndex((t=>t>i+1e-5));a=t[r]||1}return a}attachObserver(){var t;const e=()=>{const{container:t,containerRect:e}=this;return Math.abs(e.width-t.getBoundingClientRect().width)>.1||Math.abs(e.height-t.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((()=>{this.updateTimer||(e()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout((()=>{e()&&this.onResize(),this.updateTimer=null}),500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))}))),null===(t=this.resizeObserver)||void 0===t||t.observe(this.container)}detachObserver(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect()}attachEvents(){const{container:t}=this;t.addEventListener(\"click\",this.onClick,{passive:!1,capture:!1}),t.addEventListener(\"wheel\",this.onWheel,{passive:!1}),this.pointerTracker=new l(t,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(O,this.onMouseMove)}detachEvents(){var t;const{container:e}=this;e.removeEventListener(\"click\",this.onClick,{passive:!1,capture:!1}),e.removeEventListener(\"wheel\",this.onWheel,{passive:!1}),null===(t=this.pointerTracker)||void 0===t||t.stop(),this.pointerTracker=null,document.removeEventListener(O,this.onMouseMove),document.removeEventListener(\"keydown\",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const t=this.friction,e=this.option(\"maxVelocity\");for(const i of v)t?(this.velocity[i]*=1-t,e&&!this.isScaling&&(this.velocity[i]=Math.max(Math.min(this.velocity[i],e),-1*e)),this.current[i]+=this.velocity[i]):this.current[i]=this.target[i];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((()=>this.animate())):this.stop(\"current\")}setTargetForce(){for(const t of v)\"e\"===t&&this.isBouncingX||\"f\"===t&&this.isBouncingY||(this.velocity[t]=(1/(1-this.friction)-1)*(this.target[t]-this.current[t]))}checkBounds(t=0,e=0){const{current:i}=this,n=i.e+t,s=i.f+e,o=this.getBounds(),{x:a,y:r}=o,l=a.min,c=a.max,h=r.min,d=r.max;let u=0,p=0;return l!==1/0&&n<l?u=l-n:c!==1/0&&n>c&&(u=c-n),h!==1/0&&s<h?p=h-s:d!==1/0&&s>d&&(p=d-s),Math.abs(u)<1e-4&&(u=0),Math.abs(p)<1e-4&&(p=0),Object.assign(Object.assign({},o),{xDiff:u,yDiff:p,inBounds:!u&&!p})}clampTargetBounds(){const{target:t}=this,{x:e,y:i}=this.getBounds();e.min!==1/0&&(t.e=Math.max(t.e,e.min)),e.max!==1/0&&(t.e=Math.min(t.e,e.max)),i.min!==1/0&&(t.f=Math.max(t.f,i.min)),i.max!==1/0&&(t.f=Math.min(t.f,i.max))}calculateContentDim(t=this.current){const{content:e,contentRect:i}=this,{fitWidth:n,fitHeight:s,fullWidth:o,fullHeight:a}=i;let r=o,l=a;if(this.option(\"zoom\")||0!==this.angle){const i=!(e instanceof HTMLImageElement)&&(\"none\"===window.getComputedStyle(e).maxWidth||\"none\"===window.getComputedStyle(e).maxHeight),c=i?o:n,h=i?a:s,d=this.getMatrix(t),u=new DOMPoint(0,0).matrixTransform(d),p=new DOMPoint(0+c,0).matrixTransform(d),f=new DOMPoint(0+c,0+h).matrixTransform(d),g=new DOMPoint(0,0+h).matrixTransform(d),m=Math.abs(f.x-u.x),v=Math.abs(f.y-u.y),b=Math.abs(g.x-p.x),y=Math.abs(g.y-p.y);r=Math.max(m,b),l=Math.max(v,y)}return{contentWidth:r,contentHeight:l}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===O||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:t}=this,{x:e,y:i,xDiff:n,yDiff:s}=this.checkBounds();const o=this.option(\"maxVelocity\");let a=this.velocity.e,r=this.velocity.f;0!==n?(this.isBouncingX=!0,n*a<=0?a+=.14*n:(a=.14*n,e.min!==1/0&&(this.target.e=Math.max(t.e,e.min)),e.max!==1/0&&(this.target.e=Math.min(t.e,e.max))),o&&(a=Math.max(Math.min(a,o),-1*o))):this.isBouncingX=!1,0!==s?(this.isBouncingY=!0,s*r<=0?r+=.14*s:(r=.14*s,i.min!==1/0&&(this.target.f=Math.max(t.f,i.min)),i.max!==1/0&&(this.target.f=Math.min(t.f,i.max))),o&&(r=Math.max(Math.min(r,o),-1*o))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=a),this.isBouncingY&&(this.velocity.f=r)}enable(){const{content:t}=this,e=new DOMMatrixReadOnly(window.getComputedStyle(t).transform);for(const t of v)this.current[t]=this.target[t]=e[t];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=m.Ready,this.emit(\"ready\")}onClick(t){var e;\"click\"===t.type&&0===t.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(e=this.pointerTracker)||void 0===e||e.clear(),this.trackingPoints=[],this.startDecelAnim());const i=t.target;if(!i||t.defaultPrevented)return;if(i.hasAttribute(\"disabled\"))return t.preventDefault(),void t.stopPropagation();if((()=>{const t=window.getSelection();return t&&\"Range\"===t.type})()&&!i.closest(\"button\"))return;const n=i.closest(\"[data-panzoom-action]\"),s=i.closest(\"[data-panzoom-change]\"),o=n||s,a=o&&E(o)?o.dataset:null;if(a){const e=a.panzoomChange,i=a.panzoomAction;if((e||i)&&t.preventDefault(),e){let t={};try{t=JSON.parse(e)}catch(t){console&&console.warn(\"The given data was not valid JSON\")}return void this.applyChange(t)}if(i)return void(this[i]&&this[i]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return t.preventDefault(),void t.stopPropagation();if(i.closest(\"[data-fancybox]\"))return;const r=this.content.getBoundingClientRect(),l=this.dragStart;if(l.time&&!this.canZoomOut()&&(Math.abs(r.x-l.x)>2||Math.abs(r.y-l.y)>2))return;this.dragStart.time=0;const c=e=>{this.option(\"zoom\",t)&&e&&\"string\"==typeof e&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(e)&&\"function\"==typeof this[e]&&(t.preventDefault(),this[e]({event:t}))},h=this.option(\"click\",t),d=this.option(\"dblClick\",t);d?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((()=>{1===this.clicks?(this.emit(\"click\",t),!t.defaultPrevented&&h&&c(h)):(this.emit(\"dblClick\",t),t.defaultPrevented||c(d)),this.clicks=0,this.clickTimer=null}),350))):(this.emit(\"click\",t),!t.defaultPrevented&&h&&c(h))}addTrackingPoint(t){const e=this.trackingPoints.filter((t=>t.time>Date.now()-100));e.push(t),this.trackingPoints=e}onPointerDown(t,e,i){var n;if(!1===this.option(\"touch\",t))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const s=this.content.getBoundingClientRect();if(this.dragStart={x:s.x,y:s.y,top:s.top,left:s.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===O&&this.targetScale>1)return t.preventDefault(),t.stopPropagation(),!1;const o=t.composedPath()[0];if(!i.length){if([\"TEXTAREA\",\"OPTION\",\"INPUT\",\"SELECT\",\"VIDEO\",\"IFRAME\"].includes(o.nodeName)||o.closest(\"[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]\"))return!1;null===(n=window.getSelection())||void 0===n||n.removeAllRanges()}if(\"mousedown\"===t.type)[\"A\",\"BUTTON\"].includes(o.nodeName)||t.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(e),this.emit(\"touchStart\",t)),!0}onPointerMove(e,n,s){if(!1===this.option(\"touch\",e))return;if(!this.isDragging)return;if(n.length<2&&this.panOnlyZoomed&&t(this.targetScale)<=t(this.minScale))return;if(this.emit(\"touchMove\",e),e.defaultPrevented)return;this.addTrackingPoint(n[0]);const{content:o}=this,a=h(s[0],s[1]),r=h(n[0],n[1]);let l=0,d=0;if(n.length>1){const t=o.getBoundingClientRect();l=a.clientX-t.left-.5*t.width,d=a.clientY-t.top-.5*t.height}const u=c(s[0],s[1]),p=c(n[0],n[1]);let f=u?p/u:1,g=r.clientX-a.clientX,m=r.clientY-a.clientY;this.dragOffset.x+=g,this.dragOffset.y+=m,this.dragOffset.time=Date.now()-this.dragStart.time;let v=t(this.targetScale)===t(this.minScale)&&this.option(\"lockAxis\");if(v&&!this.lockedAxis)if(\"xy\"===v||\"y\"===v||\"touchmove\"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();const t=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=t>45&&t<135?\"y\":\"x\",this.dragOffset.x=0,this.dragOffset.y=0,g=0,m=0}else this.lockedAxis=v;if(i(e.target,this.content)&&(v=\"x\",this.dragOffset.y=0),v&&\"xy\"!==v&&this.lockedAxis!==v&&t(this.targetScale)===t(this.minScale))return;e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn(\"isDragging\"));const b=this.checkBounds(g,m);this.option(\"rubberband\")?(\"x\"!==this.isInfinite&&(b.xDiff>0&&g<0||b.xDiff<0&&g>0)&&(g*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*b.xDiff))),\"y\"!==this.isInfinite&&(b.yDiff>0&&m<0||b.yDiff<0&&m>0)&&(m*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*b.yDiff)))):(b.xDiff&&(g=0),b.yDiff&&(m=0));const y=this.targetScale,w=this.minScale,x=this.maxScale;y<.5*w&&(f=Math.max(f,w)),y>1.5*x&&(f=Math.min(f,x)),\"y\"===this.lockedAxis&&t(y)===t(w)&&(g=0),\"x\"===this.lockedAxis&&t(y)===t(w)&&(m=0),this.applyChange({originX:l,originY:d,panX:g,panY:m,scale:f,friction:this.option(\"dragFriction\"),ignoreBounds:!0})}onPointerUp(t,e,n){if(n.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn(\"isDragging\")),this.isDragging&&(this.addTrackingPoint(e),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),i(t.target,this.content)&&\"y\"===this.lockedAxis&&(this.trackingPoints=[]),this.emit(\"touchEnd\",t),this.isDragging=!1,this.lockedAxis=!1,this.state!==m.Destroy&&(t.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var e;const i=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const t of v)this.velocity[t]=0;this.target.e=this.current.e,this.target.f=this.current.f,S(this.container,\"is-scaling\"),S(this.container,\"is-animating\"),this.isTicking=!1;const{trackingPoints:n}=this,s=n[0],o=n[n.length-1];let a=0,r=0,l=0;o&&s&&(a=o.clientX-s.clientX,r=o.clientY-s.clientY,l=o.time-s.time);const c=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==c&&(a*=c,r*=c);let h=0,d=0,u=0,p=0,f=this.option(\"decelFriction\");const g=this.targetScale;if(l>0){u=Math.abs(a)>3?a/(l/30):0,p=Math.abs(r)>3?r/(l/30):0;const t=this.option(\"maxVelocity\");t&&(u=Math.max(Math.min(u,t),-1*t),p=Math.max(Math.min(p,t),-1*t))}u&&(h=u/(1/(1-f)-1)),p&&(d=p/(1/(1-f)-1)),(\"y\"===this.option(\"lockAxis\")||\"xy\"===this.option(\"lockAxis\")&&\"y\"===this.lockedAxis&&t(g)===this.minScale)&&(h=u=0),(\"x\"===this.option(\"lockAxis\")||\"xy\"===this.option(\"lockAxis\")&&\"x\"===this.lockedAxis&&t(g)===this.minScale)&&(d=p=0);const m=this.dragOffset.x,b=this.dragOffset.y,y=this.option(\"dragMinThreshold\")||0;Math.abs(m)<y&&Math.abs(b)<y&&(h=d=0,u=p=0),(this.option(\"zoom\")&&(g<this.minScale-1e-5||g>this.maxScale+1e-5)||i&&!h&&!d)&&(f=.35),this.applyChange({panX:h,panY:d,friction:f}),this.emit(\"decel\",u,p,m,b)}onWheel(t){var e=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t}));const i=Math.max(-1,Math.min(1,e));if(this.emit(\"wheel\",t,i),this.panMode===O)return;if(t.defaultPrevented)return;const n=this.option(\"wheel\");\"pan\"===n?(t.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-t.deltaX,panY:2*-t.deltaY,bounce:!1})):\"zoom\"===n&&!1!==this.option(\"zoom\")&&this.zoomWithWheel(t)}onMouseMove(t){this.panWithMouse(t)}onKeydown(t){\"Escape\"===t.key&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit(\"beforeTransform\");const{current:e,target:i,content:n,contentRect:s}=this,o=Object.assign({},C);for(const n of v){const s=\"e\"==n||\"f\"===n?M:T;o[n]=t(e[n],s),Math.abs(i[n]-e[n])<(\"e\"==n||\"f\"===n?.51:.001)&&(e[n]=i[n])}let{a:a,b:r,c:l,d:c,e:h,f:d}=o,u=`matrix(${a}, ${r}, ${l}, ${c}, ${h}, ${d})`,p=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;if(this.option(\"transformParent\")&&(p=p.parentElement||p),p.style.transform===u)return;p.style.transform=u;const{contentWidth:f,contentHeight:g}=this.calculateContentDim();s.width=f,s.height=g,this.emit(\"afterTransform\")}updateMetrics(e=!1){var i;if(!this||this.state===m.Destroy)return;if(this.isContentLoading)return;const n=Math.max(1,(null===(i=window.visualViewport)||void 0===i?void 0:i.scale)||1),{container:s,content:o}=this,a=o instanceof HTMLImageElement,r=s.getBoundingClientRect(),l=getComputedStyle(this.container);let c=r.width*n,h=r.height*n;const d=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),u=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),p=h-d;this.containerRect={width:c,height:h,innerWidth:u,innerHeight:p};const f=parseFloat(o.dataset.width||\"\")||(t=>{let e=0;return e=t instanceof HTMLImageElement?t.naturalWidth:t instanceof SVGElement?t.width.baseVal.value:Math.max(t.offsetWidth,t.scrollWidth),e||0})(o),g=parseFloat(o.dataset.height||\"\")||(t=>{let e=0;return e=t instanceof HTMLImageElement?t.naturalHeight:t instanceof SVGElement?t.height.baseVal.value:Math.max(t.offsetHeight,t.scrollHeight),e||0})(o);let v=this.option(\"width\",f)||z,b=this.option(\"height\",g)||z;const y=v===z,w=b===z;\"number\"!=typeof v&&(v=f),\"number\"!=typeof b&&(b=g),y&&(v=f*(b/g)),w&&(b=g/(f/v));let x=o.parentElement instanceof HTMLPictureElement?o.parentElement:o;this.option(\"transformParent\")&&(x=x.parentElement||x);const E=x.getAttribute(\"style\")||\"\";x.style.setProperty(\"transform\",\"none\",\"important\"),a&&(x.style.width=\"\",x.style.height=\"\"),x.offsetHeight;const S=o.getBoundingClientRect();let P=S.width*n,C=S.height*n,T=P,M=C;P=Math.min(P,v),C=Math.min(C,b),a?({width:P,height:C}=((t,e,i,n)=>{const s=i/t,o=n/e,a=Math.min(s,o);return{width:t*=a,height:e*=a}})(v,b,P,C)):(P=Math.min(P,v),C=Math.min(C,b));let O=.5*(M-C),A=.5*(T-P);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:S.top-r.top+O,bottom:r.bottom-S.bottom+O,left:S.left-r.left+A,right:r.right-S.right+A,fitWidth:P,fitHeight:C,width:P,height:C,fullWidth:v,fullHeight:b}),x.style.cssText=E,a&&(x.style.width=`${P}px`,x.style.height=`${C}px`),this.setTransform(),!0!==e&&this.emit(\"refresh\"),this.ignoreBounds||(t(this.targetScale)<t(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===m.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:e,contentHeight:i}=this.calculateContentDim(this.target),{targetScale:n,lockedAxis:s}=this,{fitWidth:o,fitHeight:a}=this.contentRect;let r=0,l=0,c=0,h=0;const d=this.option(\"infinite\");if(!0===d||s&&d===s)r=-1/0,c=1/0,l=-1/0,h=1/0;else{let{containerRect:s,contentRect:d}=this,u=t(o*n,M),p=t(a*n,M),{innerWidth:f,innerHeight:g}=s;if(s.width===u&&(f=s.width),s.width===p&&(g=s.height),e>f){c=.5*(e-f),r=-1*c;let t=.5*(d.right-d.left);r+=t,c+=t}if(o>f&&e<f&&(r-=.5*(o-f),c-=.5*(o-f)),i>g){h=.5*(i-g),l=-1*h;let t=.5*(d.bottom-d.top);l+=t,h+=t}a>g&&i<g&&(r-=.5*(a-g),c-=.5*(a-g))}return{x:{min:r,max:c},y:{min:l,max:h}}}getBounds(){const t=this.option(\"bounds\");return t!==z?t:this.calculateBounds()}updateControls(){const e=this,i=e.container,{panMode:n,contentRect:s,targetScale:a,minScale:r}=e;let l=r,c=e.option(\"click\")||!1;c&&(l=e.getNextScale(c));let h=e.canZoomIn(),d=e.canZoomOut(),u=n===A&&!!this.option(\"touch\"),p=d&&u;if(u&&(t(a)<t(r)&&!this.panOnlyZoomed&&(p=!0),(t(s.width,1)>t(s.fitWidth,1)||t(s.height,1)>t(s.fitHeight,1))&&(p=!0)),t(s.width*a,1)<t(s.fitWidth,1)&&(p=!1),n===O&&(p=!1),o(i,this.cn(\"isDraggable\"),p),!this.option(\"zoom\"))return;let f=h&&t(l)>t(a),g=!f&&!p&&d&&t(l)<t(a);o(i,this.cn(\"canZoomIn\"),f),o(i,this.cn(\"canZoomOut\"),g);for(const t of i.querySelectorAll(\"[data-panzoom-action]\")){let e=!1,i=!1;switch(t.dataset.panzoomAction){case\"zoomIn\":h?e=!0:i=!0;break;case\"zoomOut\":d?e=!0:i=!0;break;case\"toggleZoom\":case\"iterateZoom\":h||d?e=!0:i=!0;const n=t.querySelector(\"g\");n&&(n.style.display=h?\"\":\"none\")}e?(t.removeAttribute(\"disabled\"),t.removeAttribute(\"tabindex\")):i&&(t.setAttribute(\"disabled\",\"\"),t.setAttribute(\"tabindex\",\"-1\"))}}panTo({x:t=this.target.e,y:e=this.target.f,scale:i=this.targetScale,friction:n=this.option(\"friction\"),angle:s=0,originX:o=0,originY:a=0,flipX:r=!1,flipY:l=!1,ignoreBounds:c=!1}){this.state!==m.Destroy&&this.applyChange({panX:t-this.target.e,panY:e-this.target.f,scale:i/this.targetScale,angle:s,originX:o,originY:a,friction:n,flipX:r,flipY:l,ignoreBounds:c})}applyChange({panX:e=0,panY:i=0,scale:n=1,angle:s=0,originX:o=-this.current.e,originY:a=-this.current.f,friction:r=this.option(\"friction\"),flipX:l=!1,flipY:c=!1,ignoreBounds:h=!1,bounce:d=this.option(\"bounce\")}){const u=this.state;if(u===m.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=r||0,this.ignoreBounds=h;const{current:p}=this,f=p.e,g=p.f,b=this.getMatrix(this.target);let y=(new DOMMatrix).translate(f,g).translate(o,a).translate(e,i);if(this.option(\"zoom\")){if(!h){const t=this.targetScale,e=this.minScale,i=this.maxScale;t*n<e&&(n=e/t),t*n>i&&(n=i/t)}y=y.scale(n)}y=y.translate(-o,-a).translate(-f,-g).multiply(b),s&&(y=y.rotate(s)),l&&(y=y.scale(-1,1)),c&&(y=y.scale(1,-1));for(const e of v)\"e\"!==e&&\"f\"!==e&&(y[e]>this.minScale+1e-5||y[e]<this.minScale-1e-5)?this.target[e]=y[e]:this.target[e]=t(y[e],M);(this.targetScale<this.scale||Math.abs(n-1)>.1||this.panMode===O||!1===d)&&!h&&this.clampTargetBounds(),u===m.Init?this.animate():this.isResting||(this.state=m.Panning,this.requestTick())}stop(t=!1){if(this.state===m.Init||this.state===m.Destroy)return;const e=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const e of v)this.velocity[e]=0,\"current\"===t?this.current[e]=this.target[e]:\"target\"===t&&(this.target[e]=this.current[e]);this.setTransform(),S(this.container,\"is-scaling\"),S(this.container,\"is-animating\"),this.isTicking=!1,this.state=m.Ready,e&&(this.emit(\"endAnimation\"),this.updateControls())}requestTick(){this.isTicking||(this.emit(\"startAnimation\"),this.updateControls(),P(this.container,\"is-animating\"),this.isScaling&&P(this.container,\"is-scaling\")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((()=>this.animate())))}panWithMouse(e,i=this.option(\"mouseMoveFriction\")){if(this.pmme=e,this.panMode!==O||!e)return;if(t(this.targetScale)<=t(this.minScale))return;this.emit(\"mouseMove\",e);const{container:n,containerRect:s,contentRect:o}=this,a=s.width,r=s.height,l=n.getBoundingClientRect(),c=(e.clientX||0)-l.left,h=(e.clientY||0)-l.top;let{contentWidth:d,contentHeight:u}=this.calculateContentDim(this.target);const p=this.option(\"mouseMoveFactor\");p>1&&(d!==a&&(d*=p),u!==r&&(u*=p));let f=.5*(d-a)-c/a*100/100*(d-a);f+=.5*(o.right-o.left);let g=.5*(u-r)-h/r*100/100*(u-r);g+=.5*(o.bottom-o.top),this.applyChange({panX:f-this.target.e,panY:g-this.target.f,friction:i})}zoomWithWheel(e){if(this.state===m.Destroy||this.state===m.Init)return;const i=Date.now();if(i-this.pwt<45)return void e.preventDefault();this.pwt=i;var n=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t}));const s=Math.max(-1,Math.min(1,n)),{targetScale:o,maxScale:a,minScale:r}=this;let l=o*(100+45*s)/100;t(l)<t(r)&&t(o)<=t(r)?(this.cwd+=Math.abs(s),l=r):t(l)>t(a)&&t(o)>=t(a)?(this.cwd+=Math.abs(s),l=a):(this.cwd=0,l=Math.max(Math.min(l,a),r)),this.cwd>this.option(\"wheelLimit\")||(e.preventDefault(),t(l)!==t(o)&&this.zoomTo(l,{event:e}))}canZoomIn(){return this.option(\"zoom\")&&(t(this.contentRect.width,1)<t(this.contentRect.fitWidth,1)||t(this.targetScale)<t(this.maxScale))}canZoomOut(){return this.option(\"zoom\")&&t(this.targetScale)>t(this.minScale)}zoomIn(t=1.25,e){this.zoomTo(this.targetScale*t,e)}zoomOut(t=.8,e){this.zoomTo(this.targetScale*t,e)}zoomToFit(t){this.zoomTo(\"fit\",t)}zoomToCover(t){this.zoomTo(\"cover\",t)}zoomToFull(t){this.zoomTo(\"full\",t)}zoomToMax(t){this.zoomTo(\"max\",t)}toggleZoom(t){this.zoomTo(this.getNextScale(\"toggleZoom\"),t)}toggleMax(t){this.zoomTo(this.getNextScale(\"toggleMax\"),t)}toggleCover(t){this.zoomTo(this.getNextScale(\"toggleCover\"),t)}iterateZoom(t){this.zoomTo(\"next\",t)}zoomTo(t=1,{friction:e=z,originX:i=z,originY:n=z,event:s}={}){if(this.isContentLoading||this.state===m.Destroy)return;const{targetScale:o,fullScale:a,maxScale:r,coverScale:l}=this;if(this.stop(),this.panMode===O&&(s=this.pmme||s),s||i===z||n===z){const t=this.content.getBoundingClientRect(),e=this.container.getBoundingClientRect(),o=s?s.clientX:e.left+.5*e.width,a=s?s.clientY:e.top+.5*e.height;i=o-t.left-.5*t.width,n=a-t.top-.5*t.height}let c=1;\"number\"==typeof t?c=t:\"full\"===t?c=a:\"cover\"===t?c=l:\"max\"===t?c=r:\"fit\"===t?c=1:\"next\"===t&&(c=this.getNextScale(\"iterateZoom\")),c=c/o||1,e=e===z?c>1?.15:.25:e,this.applyChange({scale:c,originX:i,originY:n,friction:e}),s&&this.panMode===O&&this.panWithMouse(s,e)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop(\"target\");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.height-(e.top+.5*e.fitHeight)-i.f,scale:t.width/e.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop(\"target\");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.innerHeight-(e.top+.5*e.fitHeight)-i.f,scale:t.height/e.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:t}=this,e=this.cn(\"inFullscreen\"),i=this.cn(\"htmlHasFullscreen\");t.classList.toggle(e);const n=t.classList.contains(e);n?(document.documentElement.classList.add(i),document.addEventListener(\"keydown\",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener(\"keydown\",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?\"enterFS\":\"exitFS\")}getMatrix(t=this.current){const{a:e,b:i,c:n,d:s,e:o,f:a}=t;return new DOMMatrix([e,i,n,s,o,a])}reset(t){if(this.state!==m.Init&&this.state!==m.Destroy){this.stop(\"current\");for(const t of v)this.target[t]=C[t];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===t?this.option(\"friction\"):t,this.state=m.Panning,this.requestTick())}}destroy(){this.stop(),this.state=m.Destroy,this.detachEvents(),this.detachObserver();const{container:t,content:e}=this,i=this.option(\"classes\")||{};for(const e of Object.values(i))t.classList.remove(e+\"\");e&&(e.removeEventListener(\"load\",this.onLoad),e.removeEventListener(\"error\",this.onError)),this.detachPlugins()}}Object.defineProperty(I,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:y}),Object.defineProperty(I,\"Plugins\",{enumerable:!0,configurable:!0,writable:!0,value:{}});const D=function(t,e){let i=!0;return(...n)=>{i&&(i=!1,t(...n),setTimeout((()=>{i=!0}),e))}},F=(t,e)=>{let i=[];return t.childNodes.forEach((t=>{t.nodeType!==Node.ELEMENT_NODE||e&&!t.matches(e)||i.push(t)})),i},j={viewport:null,track:null,enabled:!0,slides:[],axis:\"x\",transition:\"fade\",preload:1,slidesPerPage:\"auto\",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:\"ltr\",classes:{container:\"f-carousel\",viewport:\"f-carousel__viewport\",track:\"f-carousel__track\",slide:\"f-carousel__slide\",isLTR:\"is-ltr\",isRTL:\"is-rtl\",isHorizontal:\"is-horizontal\",isVertical:\"is-vertical\",inTransition:\"in-transition\",isSelected:\"is-selected\"},l10n:{NEXT:\"Next slide\",PREV:\"Previous slide\",GOTO:\"Go to slide #%d\"}};var B;!function(t){t[t.Init=0]=\"Init\",t[t.Ready=1]=\"Ready\",t[t.Destroy=2]=\"Destroy\"}(B||(B={}));const H=t=>{if(\"string\"==typeof t||t instanceof HTMLElement)t={html:t};else{const e=t.thumb;void 0!==e&&(\"string\"==typeof e&&(t.thumbSrc=e),e instanceof HTMLImageElement&&(t.thumbEl=e,t.thumbElSrc=e.src,t.thumbSrc=e.src),delete t.thumb)}return Object.assign({html:\"\",el:null,isDom:!1,class:\"\",customClass:\"\",index:-1,dim:0,gap:0,pos:0,transition:!1},t)},N=(t={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},t);class _ extends f{constructor(t,e){super(e),Object.defineProperty(this,\"instance\",{enumerable:!0,configurable:!0,writable:!0,value:t})}attach(){}detach(){}}const $={classes:{list:\"f-carousel__dots\",isDynamic:\"is-dynamic\",hasDots:\"has-dots\",dot:\"f-carousel__dot\",isBeforePrev:\"is-before-prev\",isPrev:\"is-prev\",isCurrent:\"is-current\",isNext:\"is-next\",isAfterNext:\"is-after-next\"},dotTpl:'<button type=\"button\" data-carousel-page=\"%i\" aria-label=\"{{GOTO}}\"><span class=\"f-carousel__dot\" aria-hidden=\"true\"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2};class W extends _{constructor(){super(...arguments),Object.defineProperty(this,\"isDynamic\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"list\",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let t=this.list;if(!t){t=document.createElement(\"ul\"),P(t,this.cn(\"list\")),t.setAttribute(\"role\",\"tablist\");const e=this.instance.container;e.appendChild(t),P(e,this.cn(\"hasDots\")),this.list=t}return t}refresh(){var t;const e=this.instance.pages.length,i=Math.min(2,this.option(\"minCount\")),n=Math.max(2e3,this.option(\"maxCount\")),s=this.option(\"dynamicFrom\");if(e<i||e>n)return void this.cleanup();const a=\"number\"==typeof s&&e>5&&e>=s,r=!this.list||this.isDynamic!==a||this.list.children.length!==e;r&&this.cleanup();const l=this.build();if(o(l,this.cn(\"isDynamic\"),!!a),r)for(let t=0;t<e;t++)l.append(this.createItem(t));let c,h=0;for(const e of[...l.children]){const i=h===this.instance.page;i&&(c=e),o(e,this.cn(\"isCurrent\"),i),null===(t=e.children[0])||void 0===t||t.setAttribute(\"aria-selected\",i?\"true\":\"false\");for(const t of[\"isBeforePrev\",\"isPrev\",\"isNext\",\"isAfterNext\"])S(e,this.cn(t));h++}if(c=c||l.firstChild,a&&c){const t=c.previousElementSibling,e=t&&t.previousElementSibling;P(t,this.cn(\"isPrev\")),P(e,this.cn(\"isBeforePrev\"));const i=c.nextElementSibling,n=i&&i.nextElementSibling;P(i,this.cn(\"isNext\")),P(n,this.cn(\"isAfterNext\"))}this.isDynamic=a}createItem(t=0){var e;const i=document.createElement(\"li\");i.setAttribute(\"role\",\"presentation\");const s=n(this.instance.localize(this.option(\"dotTpl\"),[[\"%d\",t+1]]).replace(/\\%i/g,t+\"\"));return i.appendChild(s),null===(e=i.children[0])||void 0===e||e.setAttribute(\"role\",\"tab\"),i}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,S(this.instance.container,this.cn(\"hasDots\"))}attach(){this.instance.on([\"refresh\",\"change\"],this.onRefresh)}detach(){this.instance.off([\"refresh\",\"change\"],this.onRefresh),this.cleanup()}}Object.defineProperty(W,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:$});const X=\"disabled\",q=\"next\",Y=\"prev\";class V extends _{constructor(){super(...arguments),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"prev\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"next\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"isDom\",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const t=this.instance,e=t.pages.length,i=t.page;if(e<2)return void this.cleanup();this.build();let n=this.prev,s=this.next;n&&s&&(n.removeAttribute(X),s.removeAttribute(X),t.isInfinite||(i<=0&&n.setAttribute(X,\"\"),i>=e-1&&s.setAttribute(X,\"\")))}addBtn(t){var e;const i=this.instance,n=document.createElement(\"button\");n.setAttribute(\"tabindex\",\"0\"),n.setAttribute(\"title\",i.localize(`{{${t.toUpperCase()}}}`)),P(n,this.cn(\"button\")+\" \"+this.cn(t===q?\"isNext\":\"isPrev\"));const s=i.isRTL?t===q?Y:q:t;var o;return n.innerHTML=i.localize(this.option(`${s}Tpl`)),n.dataset[`carousel${o=t,o?o.match(\"^[a-z]\")?o.charAt(0).toUpperCase()+o.substring(1):o:\"\"}`]=\"true\",null===(e=this.container)||void 0===e||e.appendChild(n),n}build(){const t=this.instance.container,e=this.cn(\"container\");let{container:i,prev:n,next:s}=this;i||(i=t.querySelector(\".\"+e),this.isDom=!!i),i||(i=document.createElement(\"div\"),P(i,e),t.appendChild(i)),this.container=i,s||(s=i.querySelector(\"[data-carousel-next]\")),s||(s=this.addBtn(q)),this.next=s,n||(n=i.querySelector(\"[data-carousel-prev]\")),n||(n=this.addBtn(Y)),this.prev=n}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on([\"refresh\",\"change\"],this.onRefresh)}detach(){this.instance.off([\"refresh\",\"change\"],this.onRefresh),this.cleanup()}}Object.defineProperty(V,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:\"f-carousel__nav\",button:\"f-button\",isNext:\"is-next\",isPrev:\"is-prev\"},nextTpl:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M9 3l9 9-9 9\"/></svg>',prevTpl:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M15 3l-9 9 9 9\"/></svg>'}});class Z extends _{constructor(){super(...arguments),Object.defineProperty(this,\"selectedIndex\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"target\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"nav\",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(t){this.target=this.instance,this.nav=t,this.attachEvents()}addAsNavFor(t){this.nav=this.instance,this.target=t,this.attachEvents()}attachEvents(){const{nav:t,target:e}=this;t&&e&&(t.options.initialSlide=e.options.initialPage,t.state===B.Ready?this.onNavReady(t):t.on(\"ready\",this.onNavReady),e.state===B.Ready?this.onTargetReady(e):e.on(\"ready\",this.onTargetReady))}onNavReady(t){t.on(\"createSlide\",this.onNavCreateSlide),t.on(\"Panzoom.click\",this.onNavClick),t.on(\"Panzoom.touchEnd\",this.onNavTouch),this.onTargetChange()}onTargetReady(t){t.on(\"change\",this.onTargetChange),t.on(\"Panzoom.refresh\",this.onTargetChange),this.onTargetChange()}onNavClick(t,e,i){this.onNavTouch(t,t.panzoom,i)}onNavTouch(t,e,i){var n,s;if(Math.abs(e.dragOffset.x)>3||Math.abs(e.dragOffset.y)>3)return;const o=i.target,{nav:a,target:r}=this;if(!a||!r||!o)return;const l=o.closest(\"[data-index]\");if(i.stopPropagation(),i.preventDefault(),!l)return;const c=parseInt(l.dataset.index||\"\",10)||0,h=r.getPageForSlide(c),d=a.getPageForSlide(c);a.slideTo(d),r.slideTo(h,{friction:(null===(s=null===(n=this.nav)||void 0===n?void 0:n.plugins)||void 0===s?void 0:s.Sync.option(\"friction\"))||0}),this.markSelectedSlide(c)}onNavCreateSlide(t,e){e.index===this.selectedIndex&&this.markSelectedSlide(e.index)}onTargetChange(){var t,e;const{target:i,nav:n}=this;if(!i||!n)return;if(n.state!==B.Ready||i.state!==B.Ready)return;const s=null===(e=null===(t=i.pages[i.page])||void 0===t?void 0:t.slides[0])||void 0===e?void 0:e.index,o=n.getPageForSlide(s);this.markSelectedSlide(s),n.slideTo(o,null===n.prevPage&&null===i.prevPage?{friction:0}:void 0)}markSelectedSlide(t){const e=this.nav;e&&e.state===B.Ready&&(this.selectedIndex=t,[...e.slides].map((e=>{e.el&&e.el.classList[e.index===t?\"add\":\"remove\"](\"is-nav-selected\")})))}attach(){const t=this;let e=t.options.target,i=t.options.nav;e?t.addAsNavFor(e):i&&t.addAsTargetFor(i)}detach(){const t=this,e=t.nav,i=t.target;e&&(e.off(\"ready\",t.onNavReady),e.off(\"createSlide\",t.onNavCreateSlide),e.off(\"Panzoom.click\",t.onNavClick),e.off(\"Panzoom.touchEnd\",t.onNavTouch)),t.nav=null,i&&(i.off(\"ready\",t.onTargetReady),i.off(\"refresh\",t.onTargetChange),i.off(\"change\",t.onTargetChange)),t.target=null}}Object.defineProperty(Z,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const U={Navigation:V,Dots:W,Sync:Z},G=\"animationend\",K=\"isSelected\",J=\"slide\";class Q extends g{get axis(){return this.isHorizontal?\"e\":\"f\"}get isEnabled(){return this.state===B.Ready}get isInfinite(){let t=!1;const{contentDim:e,viewportDim:i,pages:n,slides:s}=this,o=s[0];return n.length>=2&&o&&e+o.dim>=i&&(t=this.option(\"infinite\")),t}get isRTL(){return\"rtl\"===this.option(\"direction\")}get isHorizontal(){return\"x\"===this.option(\"axis\")}constructor(t,e={},i={}){if(super(),Object.defineProperty(this,\"bp\",{enumerable:!0,configurable:!0,writable:!0,value:\"\"}),Object.defineProperty(this,\"lp\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"userOptions\",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,\"userPlugins\",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:B.Init}),Object.defineProperty(this,\"page\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"prevPage\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"viewport\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"track\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"slides\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,\"pages\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,\"panzoom\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"inTransition\",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,\"contentDim\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"viewportDim\",{enumerable:!0,configurable:!0,writable:!0,value:0}),\"string\"==typeof t&&(t=document.querySelector(t)),!t||!E(t))throw new Error(\"No Element found\");this.container=t,this.slideNext=D(this.slideNext.bind(this),150),this.slidePrev=D(this.slidePrev.bind(this),150),this.userOptions=e,this.userPlugins=i,queueMicrotask((()=>{this.processOptions()}))}processOptions(){var t,e;const i=u({},Q.defaults,this.userOptions);let n=\"\";const s=i.breakpoints;if(s&&d(s))for(const[t,e]of Object.entries(s))window.matchMedia(t).matches&&d(e)&&(n+=t,u(i,e));n===this.bp&&this.state!==B.Init||(this.bp=n,this.state===B.Ready&&(i.initialSlide=(null===(e=null===(t=this.pages[this.page])||void 0===t?void 0:t.slides[0])||void 0===e?void 0:e.index)||0),this.state!==B.Init&&this.destroy(),super.setOptions(i),!1===this.option(\"enabled\")?this.attachEvents():setTimeout((()=>{this.init()}),0))}init(){this.state=B.Init,this.emit(\"init\"),this.attachPlugins(Object.assign(Object.assign({},Q.Plugins),this.userPlugins)),this.emit(\"attachPlugins\"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=B.Ready,this.emit(\"ready\")}initLayout(){const{container:t}=this,e=this.option(\"classes\");P(t,this.cn(\"container\")),o(t,e.isLTR,!this.isRTL),o(t,e.isRTL,this.isRTL),o(t,e.isVertical,!this.isHorizontal),o(t,e.isHorizontal,this.isHorizontal);let i=this.option(\"viewport\")||t.querySelector(`.${e.viewport}`);i||(i=document.createElement(\"div\"),P(i,e.viewport),i.append(...F(t,`.${e.slide}`)),t.prepend(i)),i.addEventListener(\"scroll\",this.onScroll);let n=this.option(\"track\")||t.querySelector(`.${e.track}`);n||(n=document.createElement(\"div\"),P(n,e.track),n.append(...Array.from(i.childNodes))),n.setAttribute(\"aria-live\",\"polite\"),i.contains(n)||i.prepend(n),this.viewport=i,this.track=n,this.emit(\"initLayout\")}initSlides(){const{track:t}=this;if(!t)return;const e=[...this.slides],i=[];[...F(t,`.${this.cn(J)}`)].forEach((t=>{if(E(t)){const e=H({el:t,isDom:!0,index:this.slides.length});i.push(e)}}));for(let t of[...this.option(\"slides\",[])||[],...e])i.push(H(t));this.slides=i;for(let t=0;t<this.slides.length;t++)this.slides[t].index=t;for(const t of i)this.emit(\"beforeInitSlide\",t,t.index),this.emit(\"initSlide\",t,t.index);this.emit(\"initSlides\")}setInitialPage(){const t=this.option(\"initialSlide\");this.page=\"number\"==typeof t?this.getPageForSlide(t):parseInt(this.option(\"initialPage\",0)+\"\",10)||0}setInitialPosition(){const{track:t,pages:e,isHorizontal:i}=this;if(!t||!e.length)return;let n=this.page;e[n]||(this.page=n=0);const s=(e[n].pos||0)*(this.isRTL&&i?1:-1),o=i?`${s}px`:\"0\",a=i?\"0\":`${s}px`;t.style.transform=`translate3d(${o}, ${a}, 0) scale(1)`,this.option(\"adaptiveHeight\")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const t=this.option(\"Panzoom\")||{};this.panzoom=new I(this.viewport,u({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?\"x\":\"y\",infinite:this.isInfinite,click:!1,dblClick:!1,touch:t=>!(this.pages.length<2&&!t.options.infinite),bounds:()=>this.getBounds(),maxVelocity:t=>Math.abs(t.target[this.axis]-t.current[this.axis])<2*this.viewportDim?100:0},t)),this.panzoom.on(\"*\",((t,e,...i)=>{this.emit(`Panzoom.${e}`,t,...i)})),this.panzoom.on(\"decel\",this.onDecel),this.panzoom.on(\"refresh\",this.onRefresh),this.panzoom.on(\"beforeTransform\",this.onBeforeTransform),this.panzoom.on(\"endAnimation\",this.onEndAnimation)}attachEvents(){const t=this.container;t&&(t.addEventListener(\"click\",this.onClick,{passive:!1,capture:!1}),t.addEventListener(\"slideTo\",this.onSlideTo)),window.addEventListener(\"resize\",this.onResize)}createPages(){let t=[];const{contentDim:e,viewportDim:i}=this;let n=this.option(\"slidesPerPage\");n=(\"auto\"===n||e<=i)&&!1!==this.option(\"fill\")?1/0:parseFloat(n+\"\");let s=0,o=0,a=0;for(const e of this.slides)(!t.length||o+e.dim-i>.05||a>=n)&&(t.push(N()),s=t.length-1,o=0,a=0),t[s].slides.push(e),o+=e.dim+e.gap,a++;return t}processPages(){const e=this.pages,{contentDim:i,viewportDim:n,isInfinite:s}=this,o=this.option(\"center\"),a=this.option(\"fill\"),r=a&&o&&i>n&&!s;if(e.forEach(((t,e)=>{var s;t.index=e,t.pos=(null===(s=t.slides[0])||void 0===s?void 0:s.pos)||0,t.dim=0;for(const[e,i]of t.slides.entries())t.dim+=i.dim,e<t.slides.length-1&&(t.dim+=i.gap);r&&t.pos+.5*t.dim<.5*n?t.pos=0:r&&t.pos+.5*t.dim>=i-.5*n?t.pos=i-n:o&&(t.pos+=-.5*(n-t.dim))})),e.forEach((e=>{a&&!s&&i>n&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,i-n)),e.pos=t(e.pos,1e3),e.dim=t(e.dim,1e3),Math.abs(e.pos)<=.1&&(e.pos=0)})),s)return e;const l=[];let c;return e.forEach((t=>{const e=Object.assign({},t);c&&e.pos===c.pos?(c.dim+=e.dim,c.slides=[...c.slides,...e.slides]):(e.index=l.length,c=e,l.push(e))})),l}getPageFromIndex(t=0){const e=this.pages.length;let i;return t=parseInt((t||0).toString())||0,i=this.isInfinite?(t%e+e)%e:Math.max(Math.min(t,e-1),0),i}getSlideMetrics(e){var i,n;const s=this.isHorizontal?\"width\":\"height\";let o=0,a=0,r=e.el;const l=!(!r||r.parentNode);if(r?o=parseFloat(r.dataset[s]||\"\")||0:(r=document.createElement(\"div\"),r.style.visibility=\"hidden\",(this.track||document.body).prepend(r)),P(r,this.cn(J)+\" \"+e.class+\" \"+e.customClass),o)r.style[s]=`${o}px`,r.style[\"width\"===s?\"height\":\"width\"]=\"\";else{l&&(this.track||document.body).prepend(r),o=r.getBoundingClientRect()[s]*Math.max(1,(null===(i=window.visualViewport)||void 0===i?void 0:i.scale)||1);let t=r[this.isHorizontal?\"offsetWidth\":\"offsetHeight\"];t-1>o&&(o=t)}const c=getComputedStyle(r);return\"content-box\"===c.boxSizing&&(this.isHorizontal?(o+=parseFloat(c.paddingLeft)||0,o+=parseFloat(c.paddingRight)||0):(o+=parseFloat(c.paddingTop)||0,o+=parseFloat(c.paddingBottom)||0)),a=parseFloat(c[this.isHorizontal?\"marginRight\":\"marginBottom\"])||0,l?null===(n=r.parentElement)||void 0===n||n.removeChild(r):e.el||r.remove(),{dim:t(o,1e3),gap:t(a,1e3)}}getBounds(){const{isInfinite:t,isRTL:e,isHorizontal:i,pages:n}=this;let s={min:0,max:0};if(t)s={min:-1/0,max:1/0};else if(n.length){const t=n[0].pos,o=n[n.length-1].pos;s=e&&i?{min:t,max:o}:{min:-1*o,max:-1*t}}return{x:i?s:{min:0,max:0},y:i?{min:0,max:0}:s}}repositionSlides(){let e,{isHorizontal:i,isRTL:n,isInfinite:s,viewport:o,viewportDim:a,contentDim:r,page:l,pages:c,slides:h,panzoom:d}=this,u=0,p=0,f=0,g=0;d?g=-1*d.current[this.axis]:c[l]&&(g=c[l].pos||0),e=i?n?\"right\":\"left\":\"top\",n&&i&&(g*=-1);for(const i of h){const n=i.el;n?(\"top\"===e?(n.style.right=\"\",n.style.left=\"\"):n.style.top=\"\",i.index!==u?n.style[e]=0===p?\"\":`${t(p,1e3)}px`:n.style[e]=\"\",f+=i.dim+i.gap,u++):p+=i.dim+i.gap}if(s&&f&&o){let n=getComputedStyle(o),s=\"padding\",l=i?\"Right\":\"Bottom\",c=parseFloat(n[s+(i?\"Left\":\"Top\")]);g-=c,a+=c,a+=parseFloat(n[s+l]);for(const i of h)i.el&&(t(i.pos)<t(a)&&t(i.pos+i.dim+i.gap)<t(g)&&t(g)>t(r-a)&&(i.el.style[e]=`${t(p+f,1e3)}px`),t(i.pos+i.gap)>=t(r-a)&&t(i.pos)>t(g+a)&&t(g)<t(a)&&(i.el.style[e]=`-${t(f,1e3)}px`))}let m,v,b=[...this.inTransition];if(b.length>1&&(m=c[b[0]],v=c[b[1]]),m&&v){let i=0;for(const n of h)n.el?this.inTransition.has(n.index)&&m.slides.indexOf(n)<0&&(n.el.style[e]=`${t(i+(m.pos-v.pos),1e3)}px`):i+=n.dim+n.gap}}createSlideEl(t){const{track:e,slides:i}=this;if(!e||!t)return;if(t.el&&t.el.parentNode)return;const n=t.el||document.createElement(\"div\");P(n,this.cn(J)),P(n,t.class),P(n,t.customClass);const s=t.html;s&&(s instanceof HTMLElement?n.appendChild(s):n.innerHTML=t.html+\"\");const o=[];i.forEach(((t,e)=>{t.el&&o.push(e)}));const a=t.index;let r=null;if(o.length){r=i[o.reduce(((t,e)=>Math.abs(e-a)<Math.abs(t-a)?e:t))]}const l=r&&r.el&&r.el.parentNode?r.index<t.index?r.el.nextSibling:r.el:null;e.insertBefore(n,e.contains(l)?l:null),t.el=n,this.emit(\"createSlide\",t)}removeSlideEl(t,e=!1){const i=null==t?void 0:t.el;if(!i||!i.parentNode)return;const n=this.cn(K);if(i.classList.contains(n)&&(S(i,n),this.emit(\"unselectSlide\",t)),t.isDom&&!e)return i.removeAttribute(\"aria-hidden\"),i.removeAttribute(\"data-index\"),void(i.style.left=\"\");this.emit(\"removeSlide\",t);const s=new CustomEvent(G);i.dispatchEvent(s),t.el&&(t.el.remove(),t.el=null)}transitionTo(t=0,e=this.option(\"transition\")){var i,n,s,o;if(!e)return!1;const a=this.page,{pages:r,panzoom:l}=this;t=parseInt((t||0).toString())||0;const c=this.getPageFromIndex(t);if(!l||!r[c]||r.length<2||Math.abs(((null===(n=null===(i=r[a])||void 0===i?void 0:i.slides[0])||void 0===n?void 0:n.dim)||0)-this.viewportDim)>1)return!1;let h=t>a?1:-1;this.isInfinite&&(0===a&&t===r.length-1&&(h=-1),a===r.length-1&&0===t&&(h=1));const d=r[c].pos*(this.isRTL?1:-1);if(a===c&&Math.abs(d-l.target[this.axis])<1)return!1;this.clearTransitions();const u=l.isResting;P(this.container,this.cn(\"inTransition\"));const p=(null===(s=r[a])||void 0===s?void 0:s.slides[0])||null,f=(null===(o=r[c])||void 0===o?void 0:o.slides[0])||null;this.inTransition.add(f.index),this.createSlideEl(f);let g=p.el,m=f.el;u||e===J||(e=\"fadeFast\",g=null);const v=this.isRTL?\"next\":\"prev\",b=this.isRTL?\"prev\":\"next\";return g&&(this.inTransition.add(p.index),p.transition=e,g.addEventListener(G,this.onAnimationEnd),g.classList.add(`f-${e}Out`,`to-${h>0?b:v}`)),m&&(f.transition=e,m.addEventListener(G,this.onAnimationEnd),m.classList.add(`f-${e}In`,`from-${h>0?v:b}`)),l.current[this.axis]=d,l.target[this.axis]=d,l.requestTick(),this.onChange(c),!0}manageSlideVisiblity(){const t=new Set,e=new Set,i=this.getVisibleSlides(parseFloat(this.option(\"preload\",0)+\"\")||0);for(const n of this.slides)i.has(n)?t.add(n):e.add(n);for(const e of this.inTransition)t.add(this.slides[e]);for(const e of t)this.createSlideEl(e),this.lazyLoadSlide(e);for(const i of e)t.has(i)||this.removeSlideEl(i);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const t=\"aria-hidden\";let e=this.cn(K);if(e)for(const i of this.slides){const n=i.el;n&&(n.dataset.index=`${i.index}`,n.classList.contains(\"f-thumbs__slide\")?this.getVisibleSlides(0).has(i)?n.removeAttribute(t):n.setAttribute(t,\"true\"):this.pages[this.page].slides.includes(i)?(n.classList.contains(e)||(P(n,e),this.emit(\"selectSlide\",i)),n.removeAttribute(t)):(n.classList.contains(e)&&(S(n,e),this.emit(\"unselectSlide\",i)),n.setAttribute(t,\"true\")))}}flipInfiniteTrack(){const{axis:t,isHorizontal:e,isInfinite:i,isRTL:n,viewportDim:s,contentDim:o}=this,a=this.panzoom;if(!a||!i)return;let r=a.current[t],l=a.target[t]-r,c=0,h=.5*s;n&&e?(r<-h&&(c=-1,r+=o),r>o-h&&(c=1,r-=o)):(r>h&&(c=1,r-=o),r<-o+h&&(c=-1,r+=o)),c&&(a.current[t]=r,a.target[t]=r+l)}lazyLoadImg(t,e){const i=this,s=\"f-fadeIn\",o=\"is-preloading\";let a=!1,r=null;const l=()=>{a||(a=!0,r&&(r.remove(),r=null),S(e,o),e.complete&&(P(e,s),setTimeout((()=>{S(e,s)}),350)),this.option(\"adaptiveHeight\")&&t.el&&this.pages[this.page].slides.indexOf(t)>-1&&(i.updateMetrics(),i.setViewportHeight()),this.emit(\"load\",t))};P(e,o),e.src=e.dataset.lazySrcset||e.dataset.lazySrc||\"\",delete e.dataset.lazySrc,delete e.dataset.lazySrcset,e.addEventListener(\"error\",(()=>{l()})),e.addEventListener(\"load\",(()=>{l()})),setTimeout((()=>{const i=e.parentNode;i&&t.el&&(e.complete?l():a||(r=n(x),i.insertBefore(r,e)))}),300)}lazyLoadSlide(t){const e=t&&t.el;if(!e)return;const i=new Set;let n=Array.from(e.querySelectorAll(\"[data-lazy-src],[data-lazy-srcset]\"));e.dataset.lazySrc&&n.push(e),n.map((t=>{t instanceof HTMLImageElement?i.add(t):t instanceof HTMLElement&&t.dataset.lazySrc&&(t.style.backgroundImage=`url('${t.dataset.lazySrc}')`,delete t.dataset.lazySrc)}));for(const e of i)this.lazyLoadImg(t,e)}onAnimationEnd(t){var e;const i=t.target,n=i?parseInt(i.dataset.index||\"\",10)||0:-1,s=this.slides[n],o=t.animationName;if(!i||!s||!o)return;const a=!!this.inTransition.has(n)&&s.transition;a&&o.substring(0,a.length+2)===`f-${a}`&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(null===(e=this.panzoom)||void 0===e?void 0:e.isResting)&&this.emit(\"settle\")}onDecel(t,e=0,i=0,n=0,s=0){if(this.option(\"dragFree\"))return void this.setPageFromPosition();const{isRTL:o,isHorizontal:a,axis:r,pages:l}=this,c=l.length,h=Math.abs(Math.atan2(i,e)/(Math.PI/180));let d=0;if(d=h>45&&h<135?a?0:i:a?e:0,!c)return;let u=this.page,p=o&&a?1:-1;const f=t.current[r]*p;let{pageIndex:g}=this.getPageFromPosition(f);Math.abs(d)>5?(l[u].dim<document.documentElement[\"client\"+(this.isHorizontal?\"Width\":\"Height\")]-1&&(u=g),u=o&&a?d<0?u-1:u+1:d<0?u+1:u-1):u=0===n&&0===s?u:g,this.slideTo(u,{transition:!1,friction:t.option(\"decelFriction\")})}onClick(t){const e=t.target,i=e&&E(e)?e.dataset:null;let n,s;i&&(void 0!==i.carouselPage?(s=\"slideTo\",n=i.carouselPage):void 0!==i.carouselNext?s=\"slideNext\":void 0!==i.carouselPrev&&(s=\"slidePrev\")),s?(t.preventDefault(),t.stopPropagation(),e&&!e.hasAttribute(\"disabled\")&&this[s](n)):this.emit(\"click\",t)}onSlideTo(t){const e=t.detail||0;this.slideTo(this.getPageForSlide(e),{friction:0})}onChange(t,e=0){const i=this.page;this.prevPage=i,this.page=t,this.option(\"adaptiveHeight\")&&this.setViewportHeight(),t!==i&&(this.markSelectedSlides(),this.emit(\"change\",t,i,e))}onRefresh(){let t=this.contentDim,e=this.viewportDim;this.updateMetrics(),this.contentDim===t&&this.viewportDim===e||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var t;null===(t=this.viewport)||void 0===t||t.scroll(0,0)}onResize(){this.option(\"breakpoints\")&&this.processOptions()}onBeforeTransform(t){this.lp!==t.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=t.current.e}onEndAnimation(){this.inTransition.size||this.emit(\"settle\")}reInit(t=null,e=null){this.destroy(),this.state=B.Init,this.prevPage=null,this.userOptions=t||this.userOptions,this.userPlugins=e||this.userPlugins,this.processOptions()}slideTo(t=0,{friction:e=this.option(\"friction\"),transition:i=this.option(\"transition\")}={}){if(this.state===B.Destroy)return;t=parseInt((t||0).toString())||0;const n=this.getPageFromIndex(t),{axis:s,isHorizontal:o,isRTL:a,pages:r,panzoom:l}=this,c=r.length,h=a&&o?1:-1;if(!l||!c)return;if(this.page!==n){const e=new Event(\"beforeChange\",{bubbles:!0,cancelable:!0});if(this.emit(\"beforeChange\",e,t),e.defaultPrevented)return}if(this.transitionTo(t,i))return;let d=r[n].pos;if(this.isInfinite){const e=this.contentDim,i=l.target[s]*h;if(2===c)d+=e*Math.floor(parseFloat(t+\"\")/2);else{d=[d,d-e,d+e].reduce((function(t,e){return Math.abs(e-i)<Math.abs(t-i)?e:t}))}}d*=h,Math.abs(l.target[s]-d)<1||(l.panTo({x:o?d:0,y:o?0:d,friction:e}),this.onChange(n))}slideToClosest(t){if(this.panzoom){const{pageIndex:e}=this.getPageFromPosition();this.slideTo(e,t)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),S(this.container,this.cn(\"inTransition\"));const t=[\"to-prev\",\"to-next\",\"from-prev\",\"from-next\"];for(const e of this.slides){const i=e.el;if(i){i.removeEventListener(G,this.onAnimationEnd),i.classList.remove(...t);const n=e.transition;n&&i.classList.remove(`f-${n}Out`,`f-${n}In`)}}this.manageSlideVisiblity()}addSlide(t,e){var i,n,s,o;const a=this.panzoom,r=(null===(i=this.pages[this.page])||void 0===i?void 0:i.pos)||0,l=(null===(n=this.pages[this.page])||void 0===n?void 0:n.dim)||0,c=this.contentDim<this.viewportDim;let h=Array.isArray(e)?e:[e];const d=[];for(const t of h)d.push(H(t));this.slides.splice(t,0,...d);for(let t=0;t<this.slides.length;t++)this.slides[t].index=t;for(const t of d)this.emit(\"beforeInitSlide\",t,t.index);if(this.page>=t&&(this.page+=d.length),this.updateMetrics(),a){const e=(null===(s=this.pages[this.page])||void 0===s?void 0:s.pos)||0,i=(null===(o=this.pages[this.page])||void 0===o?void 0:o.dim)||0,n=this.pages.length||1,h=this.isRTL?l-i:i-l,d=this.isRTL?r-e:e-r;c&&1===n?(t<=this.page&&(a.current[this.axis]-=h,a.target[this.axis]-=h),a.panTo({[this.isHorizontal?\"x\":\"y\"]:-1*e})):d&&t<=this.page&&(a.target[this.axis]-=d,a.current[this.axis]-=d,a.requestTick())}for(const t of d)this.emit(\"initSlide\",t,t.index)}prependSlide(t){this.addSlide(0,t)}appendSlide(t){this.addSlide(this.slides.length,t)}removeSlide(t){const e=this.slides.length;t=(t%e+e)%e;const i=this.slides[t];if(i){this.removeSlideEl(i,!0),this.slides.splice(t,1);for(let t=0;t<this.slides.length;t++)this.slides[t].index=t;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit(\"destroySlide\",i)}}updateMetrics(){const{panzoom:e,viewport:i,track:n,slides:s,isHorizontal:o,isInfinite:a}=this;if(!n)return;const r=o?\"width\":\"height\",l=o?\"offsetWidth\":\"offsetHeight\";if(i){let e=Math.max(i[l],t(i.getBoundingClientRect()[r],1e3)),n=getComputedStyle(i),s=\"padding\",a=o?\"Right\":\"Bottom\";e-=parseFloat(n[s+(o?\"Left\":\"Top\")])+parseFloat(n[s+a]),this.viewportDim=e}let c,h=0;for(const[e,i]of s.entries()){let n=0,o=0;!i.el&&c?(n=c.dim,o=c.gap):(({dim:n,gap:o}=this.getSlideMetrics(i)),c=i),n=t(n,1e3),o=t(o,1e3),i.dim=n,i.gap=o,i.pos=h,h+=n,(a||e<s.length-1)&&(h+=o)}h=t(h,1e3),this.contentDim=h,e&&(e.contentRect[r]=h,e.contentRect[o?\"fullWidth\":\"fullHeight\"]=h),this.pages=this.createPages(),this.pages=this.processPages(),this.state===B.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit(\"refresh\")}getProgress(e,i=!1,n=!1){void 0===e&&(e=this.page);const s=this,o=s.panzoom,a=s.contentDim,r=s.pages[e]||0;if(!r||!o)return e>this.page?-1:1;let l=-1*o.current.e,c=t((l-r.pos)/(1*r.dim),1e3),h=c,d=c;this.isInfinite&&!0!==n&&(h=t((l-r.pos+a)/(1*r.dim),1e3),d=t((l-r.pos-a)/(1*r.dim),1e3));let u=[c,h,d].reduce((function(t,e){return Math.abs(e)<Math.abs(t)?e:t}));return i?u:u>1?1:u<-1?-1:u}setViewportHeight(){const{page:t,pages:e,viewport:i,isHorizontal:n}=this;if(!i||!e[t])return;let s=0;n&&this.track&&(this.track.style.height=\"auto\",e[t].slides.forEach((t=>{t.el&&(s=Math.max(s,t.el.offsetHeight))}))),i.style.height=s?`${s}px`:\"\"}getPageForSlide(t){for(const e of this.pages)for(const i of e.slides)if(i.index===t)return e.index;return-1}getVisibleSlides(t=0){var e;const i=new Set;let{panzoom:n,contentDim:s,viewportDim:o,pages:a,page:r}=this;if(o){s=s+(null===(e=this.slides[this.slides.length-1])||void 0===e?void 0:e.gap)||0;let l=0;l=n&&n.state!==m.Init&&n.state!==m.Destroy?-1*n.current[this.axis]:a[r]&&a[r].pos||0,this.isInfinite&&(l-=Math.floor(l/s)*s),this.isRTL&&this.isHorizontal&&(l*=-1);const c=l-o*t,h=l+o*(t+1),d=this.isInfinite?[-1,0,1]:[0];for(const t of this.slides)for(const e of d){const n=t.pos+e*s,o=n+t.dim+t.gap;n<h&&o>c&&i.add(t)}}return i}getPageFromPosition(t){const{viewportDim:e,contentDim:i,slides:n,pages:s,panzoom:o}=this,a=s.length,r=n.length,l=n[0],c=n[r-1],h=this.option(\"center\");let d=0,u=0,p=0,f=void 0===t?-1*((null==o?void 0:o.target[this.axis])||0):t;h&&(f+=.5*e),this.isInfinite?(f<l.pos-.5*c.gap&&(f-=i,p=-1),f>c.pos+c.dim+.5*c.gap&&(f-=i,p=1)):f=Math.max(l.pos||0,Math.min(f,c.pos));let g=c,m=n.find((t=>{const e=t.pos-.5*g.gap,i=t.pos+t.dim+.5*t.gap;return g=t,f>=e&&f<i}));return m||(m=c),u=this.getPageForSlide(m.index),d=u+p*a,{page:d,pageIndex:u}}setPageFromPosition(){const{pageIndex:t}=this.getPageFromPosition();this.onChange(t)}destroy(){if([B.Destroy].includes(this.state))return;this.state=B.Destroy;const{container:t,viewport:e,track:i,slides:n,panzoom:s}=this,o=this.option(\"classes\");t.removeEventListener(\"click\",this.onClick,{passive:!1,capture:!1}),t.removeEventListener(\"slideTo\",this.onSlideTo),window.removeEventListener(\"resize\",this.onResize),s&&(s.destroy(),this.panzoom=null),n&&n.forEach((t=>{this.removeSlideEl(t)})),this.detachPlugins(),e&&(e.removeEventListener(\"scroll\",this.onScroll),e.offsetParent&&i&&i.offsetParent&&e.replaceWith(...i.childNodes));for(const[e,i]of Object.entries(o))\"container\"!==e&&i&&t.classList.remove(i);this.track=null,this.viewport=null,this.page=0,this.slides=[];const a=this.events.get(\"ready\");this.events=new Map,a&&this.events.set(\"ready\",a)}}Object.defineProperty(Q,\"Panzoom\",{enumerable:!0,configurable:!0,writable:!0,value:I}),Object.defineProperty(Q,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:j}),Object.defineProperty(Q,\"Plugins\",{enumerable:!0,configurable:!0,writable:!0,value:U});const tt=function(t){if(!E(t))return 0;const e=window.scrollY,i=window.innerHeight,n=e+i,s=t.getBoundingClientRect(),o=s.y+e,a=s.height,r=o+a;if(e>r||n<o)return 0;if(e<o&&n>r)return 100;if(o<e&&r>n)return 100;let l=a;o<e&&(l-=e-o),r>n&&(l-=r-n);const c=l/i*100;return Math.round(c)},et=!(\"undefined\"==typeof window||!window.document||!window.document.createElement);let it;const nt=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)\",\"iframe\",\"object\",\"embed\",\"video\",\"audio\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"]):not([disabled]):not([aria-hidden])'].join(\",\"),st=t=>{if(t&&et){void 0===it&&document.createElement(\"div\").focus({get preventScroll(){return it=!0,!1}});try{if(it)t.focus({preventScroll:!0});else{const e=window.scrollY||document.body.scrollTop,i=window.scrollX||document.body.scrollLeft;t.focus(),document.body.scrollTo({top:e,left:i,behavior:\"auto\"})}}catch(t){}}},ot=()=>{const t=document;let e,i=\"\",n=\"\",s=\"\";return t.fullscreenEnabled?(i=\"requestFullscreen\",n=\"exitFullscreen\",s=\"fullscreenElement\"):t.webkitFullscreenEnabled&&(i=\"webkitRequestFullscreen\",n=\"webkitExitFullscreen\",s=\"webkitFullscreenElement\"),i&&(e={request:function(e=t.documentElement){return\"webkitRequestFullscreen\"===i?e[i](Element.ALLOW_KEYBOARD_INPUT):e[i]()},exit:function(){return t[s]&&t[n]()},isFullscreen:function(){return t[s]}}),e},at={animated:!0,autoFocus:!0,backdropClick:\"close\",Carousel:{classes:{container:\"fancybox__carousel\",viewport:\"fancybox__viewport\",track:\"fancybox__track\",slide:\"fancybox__slide\"}},closeButton:\"auto\",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia(\"(max-width: 578px), (max-height: 578px)\").matches,contentClick:\"toggleZoom\",contentDblClick:!1,defaultType:\"image\",defaultDisplay:\"flex\",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:\"data-fancybox\",hideClass:\"f-fadeOut\",hideScrollbar:!0,idle:3500,keyboard:{Escape:\"close\",Delete:\"close\",Backspace:\"close\",PageUp:\"next\",PageDown:\"prev\",ArrowUp:\"prev\",ArrowDown:\"next\",ArrowRight:\"next\",ArrowLeft:\"prev\"},l10n:Object.assign(Object.assign({},b),{CLOSE:\"Close\",NEXT:\"Next\",PREV:\"Previous\",MODAL:\"You can close this modal content with the ESC key\",ERROR:\"Something Went Wrong, Please Try Again Later\",IMAGE_ERROR:\"Image Not Found\",ELEMENT_NOT_FOUND:\"HTML Element Not Found\",AJAX_NOT_FOUND:\"Error Loading AJAX : Not Found\",AJAX_FORBIDDEN:\"Error Loading AJAX : Forbidden\",IFRAME_ERROR:\"Error Loading Page\",TOGGLE_ZOOM:\"Toggle zoom level\",TOGGLE_THUMBS:\"Toggle thumbnails\",TOGGLE_SLIDESHOW:\"Toggle slideshow\",TOGGLE_FULLSCREEN:\"Toggle full-screen mode\",DOWNLOAD:\"Download\"}),parentEl:null,placeFocusBack:!0,showClass:\"f-zoomInUp\",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class=\"f-button is-close-btn\" title=\"{{CLOSE}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M20 20L4 4m16 0L4 20\"/></svg></button>',main:'<div class=\"fancybox__container\" role=\"dialog\" aria-modal=\"true\" aria-label=\"{{MODAL}}\" tabindex=\"-1\">\\n    <div class=\"fancybox__backdrop\"></div>\\n    <div class=\"fancybox__carousel\"></div>\\n    <div class=\"fancybox__footer\"></div>\\n  </div>'},trapFocus:!0,wheel:\"zoom\"};var rt,lt;!function(t){t[t.Init=0]=\"Init\",t[t.Ready=1]=\"Ready\",t[t.Closing=2]=\"Closing\",t[t.CustomClosing=3]=\"CustomClosing\",t[t.Destroy=4]=\"Destroy\"}(rt||(rt={})),function(t){t[t.Loading=0]=\"Loading\",t[t.Opening=1]=\"Opening\",t[t.Ready=2]=\"Ready\",t[t.Closing=3]=\"Closing\"}(lt||(lt={}));let ct=\"\",ht=!1,dt=!1,ut=null;const pt=()=>{let t=\"\",e=\"\";const i=Oe.getInstance();if(i){const n=i.carousel,s=i.getSlide();if(n&&s){let o=s.slug||void 0,a=s.triggerEl||void 0;e=o||(i.option(\"slug\")||\"\"),!e&&a&&a.dataset&&(e=a.dataset.fancybox||\"\"),e&&\"true\"!==e&&(t=\"#\"+e+(!o&&n.slides.length>1?\"-\"+(s.index+1):\"\"))}}return{hash:t,slug:e,index:1}},ft=()=>{const t=new URL(document.URL).hash,e=t.slice(1).split(\"-\"),i=e[e.length-1],n=i&&/^\\+?\\d+$/.test(i)&&parseInt(e.pop()||\"1\",10)||1;return{hash:t,slug:e.join(\"-\"),index:n}},gt=()=>{const{slug:t,index:e}=ft();if(!t)return;let i=document.querySelector(`[data-slug=\"${t}\"]`);if(i&&i.dispatchEvent(new CustomEvent(\"click\",{bubbles:!0,cancelable:!0})),Oe.getInstance())return;const n=document.querySelectorAll(`[data-fancybox=\"${t}\"]`);n.length&&(i=n[e-1],i&&i.dispatchEvent(new CustomEvent(\"click\",{bubbles:!0,cancelable:!0})))},mt=()=>{if(!1===Oe.defaults.Hash)return;const t=Oe.getInstance();if(!1===(null==t?void 0:t.options.Hash))return;const{slug:e,index:i}=ft(),{slug:n}=pt();t&&(e===n?t.jumpTo(i-1):(ht=!0,t.close())),gt()},vt=()=>{ut&&clearTimeout(ut),queueMicrotask((()=>{mt()}))},bt=()=>{window.addEventListener(\"hashchange\",vt,!1),setTimeout((()=>{mt()}),500)};et&&(/complete|interactive|loaded/.test(document.readyState)?bt():document.addEventListener(\"DOMContentLoaded\",bt));const yt=\"is-zooming-in\";class wt extends _{onCreateSlide(t,e,i){const n=this.instance.optionFor(i,\"src\")||\"\";i.el&&\"image\"===i.type&&\"string\"==typeof n&&this.setImage(i,n)}onRemoveSlide(t,e,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0}onChange(t,e,i,n){S(this.instance.container,yt);for(const t of e.slides){const e=t.panzoom;e&&t.index!==i&&e.reset(.35)}}onClose(){var t;const e=this.instance,i=e.container,n=e.getSlide();if(!i||!i.parentElement||!n)return;const{el:s,contentEl:o,panzoom:a,thumbElSrc:r}=n;if(!s||!r||!o||!a||a.isContentLoading||a.state===m.Init||a.state===m.Destroy)return;a.updateMetrics();let l=this.getZoomInfo(n);if(!l)return;this.instance.state=rt.CustomClosing,i.classList.remove(yt),i.classList.add(\"is-zooming-out\"),o.style.backgroundImage=`url('${r}')`;const c=i.getBoundingClientRect();1===((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)&&Object.assign(i.style,{position:\"absolute\",top:`${i.offsetTop+window.scrollY}px`,left:`${i.offsetLeft+window.scrollX}px`,bottom:\"auto\",right:\"auto\",width:`${c.width}px`,height:`${c.height}px`,overflow:\"hidden\"});const{x:h,y:d,scale:u,opacity:p}=l;if(p){const t=((t,e,i,n)=>{const s=e-t,o=n-i;return e=>i+((e-t)/s*o||0)})(a.scale,u,1,0);a.on(\"afterTransform\",(()=>{o.style.opacity=t(a.scale)+\"\"}))}a.on(\"endAnimation\",(()=>{e.destroy()})),a.target.a=u,a.target.b=0,a.target.c=0,a.target.d=u,a.panTo({x:h,y:d,scale:u,friction:p?.2:.33,ignoreBounds:!0}),a.isResting&&e.destroy()}setImage(t,e){const i=this.instance;t.src=e,this.process(t,e).then((e=>{const{contentEl:n,imageEl:s,thumbElSrc:o,el:a}=t;if(i.isClosing()||!n||!s)return;n.offsetHeight;const r=!!i.isOpeningSlide(t)&&this.getZoomInfo(t);if(this.option(\"protected\")&&a){a.addEventListener(\"contextmenu\",(t=>{t.preventDefault()}));const t=document.createElement(\"div\");P(t,\"fancybox-protected\"),n.appendChild(t)}if(o&&r){const s=e.contentRect,a=Math.max(s.fullWidth,s.fullHeight);let c=null;!r.opacity&&a>1200&&(c=document.createElement(\"img\"),P(c,\"fancybox-ghost\"),c.src=o,n.appendChild(c));const h=()=>{c&&(P(c,\"f-fadeFastOut\"),setTimeout((()=>{c&&(c.remove(),c=null)}),200))};(l=o,new Promise(((t,e)=>{const i=new Image;i.onload=t,i.onerror=e,i.src=l}))).then((()=>{i.hideLoading(t),t.state=lt.Opening,this.instance.emit(\"reveal\",t),this.zoomIn(t).then((()=>{h(),this.instance.done(t)}),(()=>{})),c&&setTimeout((()=>{h()}),a>2500?800:200)}),(()=>{i.hideLoading(t),i.revealContent(t)}))}else{const n=this.optionFor(t,\"initialSize\"),s=this.optionFor(t,\"zoom\"),o={event:i.prevMouseMoveEvent||i.options.event,friction:s?.12:0};let a=i.optionFor(t,\"showClass\")||void 0,r=!0;i.isOpeningSlide(t)&&(\"full\"===n?e.zoomToFull(o):\"cover\"===n?e.zoomToCover(o):\"max\"===n?e.zoomToMax(o):r=!1,e.stop(\"current\")),r&&a&&(a=e.isDragging?\"f-fadeIn\":\"\"),i.hideLoading(t),i.revealContent(t,a)}var l}),(()=>{i.setError(t,\"{{IMAGE_ERROR}}\")}))}process(t,e){return new Promise(((i,s)=>{var o;const a=this.instance,r=t.el;a.clearContent(t),a.showLoading(t);let l=this.optionFor(t,\"content\");if(\"string\"==typeof l&&(l=n(l)),!l||!E(l)){if(l=document.createElement(\"img\"),l instanceof HTMLImageElement){let i=\"\",n=t.caption;i=\"string\"==typeof n&&n?n.replace(/<[^>]+>/gi,\"\").substring(0,1e3):`Image ${t.index+1} of ${(null===(o=a.carousel)||void 0===o?void 0:o.pages.length)||1}`,l.src=e||\"\",l.alt=i,l.draggable=!1,t.srcset&&l.setAttribute(\"srcset\",t.srcset),this.instance.isOpeningSlide(t)&&(l.fetchPriority=\"high\")}t.sizes&&l.setAttribute(\"sizes\",t.sizes)}P(l,\"fancybox-image\"),t.imageEl=l,a.setContent(t,l,!1);t.panzoom=new I(r,u({transformParent:!0},this.option(\"Panzoom\")||{},{content:l,width:(e,i)=>a.optionFor(t,\"width\",\"auto\",i)||\"auto\",height:(e,i)=>a.optionFor(t,\"height\",\"auto\",i)||\"auto\",wheel:()=>{const t=a.option(\"wheel\");return(\"zoom\"===t||\"pan\"==t)&&t},click:(e,i)=>{var n,s;if(a.isCompact||a.isClosing())return!1;if(t.index!==(null===(n=a.getSlide())||void 0===n?void 0:n.index))return!1;if(i){const t=i.composedPath()[0];if([\"A\",\"BUTTON\",\"TEXTAREA\",\"OPTION\",\"INPUT\",\"SELECT\",\"VIDEO\"].includes(t.nodeName))return!1}let o=!i||i.target&&(null===(s=t.contentEl)||void 0===s?void 0:s.contains(i.target));return a.option(o?\"contentClick\":\"backdropClick\")||!1},dblClick:()=>a.isCompact?\"toggleZoom\":a.option(\"contentDblClick\")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:t=>{i(t)},error:()=>{s()},destroy:()=>{s()}}}))}))}zoomIn(t){return new Promise(((e,i)=>{const n=this.instance,s=n.container,{panzoom:o,contentEl:a,el:r}=t;o&&o.updateMetrics();const l=this.getZoomInfo(t);if(!(l&&r&&a&&o&&s))return void i();const{x:c,y:h,scale:d,opacity:u}=l,p=()=>{t.state!==lt.Closing&&(u&&(a.style.opacity=Math.max(Math.min(1,1-(1-o.scale)/(1-d)),0)+\"\"),o.scale>=1&&o.scale>o.targetScale-.1&&e(o))},f=t=>{(t.scale<.99||t.scale>1.01)&&!t.isDragging||(S(s,yt),a.style.opacity=\"\",t.off(\"endAnimation\",f),t.off(\"touchStart\",f),t.off(\"afterTransform\",p),e(t))};o.on(\"endAnimation\",f),o.on(\"touchStart\",f),o.on(\"afterTransform\",p),o.on([\"error\",\"destroy\"],(()=>{i()})),o.panTo({x:c,y:h,scale:d,friction:0,ignoreBounds:!0}),o.stop(\"current\");const g={event:\"mousemove\"===o.panMode?n.prevMouseMoveEvent||n.options.event:void 0},m=this.optionFor(t,\"initialSize\");P(s,yt),n.hideLoading(t),\"full\"===m?o.zoomToFull(g):\"cover\"===m?o.zoomToCover(g):\"max\"===m?o.zoomToMax(g):o.reset(.172)}))}getZoomInfo(t){const{el:e,imageEl:i,thumbEl:n,panzoom:s}=t,o=this.instance,a=o.container;if(!e||!i||!n||!s||tt(n)<3||!this.optionFor(t,\"zoom\")||!a||o.state===rt.Destroy)return!1;if(\"0\"===getComputedStyle(a).getPropertyValue(\"--f-images-zoom\"))return!1;const r=window.visualViewport||null;if(1!==(r?r.scale:1))return!1;let{top:l,left:c,width:h,height:d}=n.getBoundingClientRect(),{top:u,left:p,fitWidth:f,fitHeight:g}=s.contentRect;if(!(h&&d&&f&&g))return!1;const m=s.container.getBoundingClientRect();p+=m.left,u+=m.top;const v=-1*(p+.5*f-(c+.5*h)),b=-1*(u+.5*g-(l+.5*d)),y=h/f;let w=this.option(\"zoomOpacity\")||!1;return\"auto\"===w&&(w=Math.abs(h/d-f/g)>.1),{x:v,y:b,scale:y,opacity:w}}attach(){const t=this,e=t.instance;e.on(\"Carousel.change\",t.onChange),e.on(\"Carousel.createSlide\",t.onCreateSlide),e.on(\"Carousel.removeSlide\",t.onRemoveSlide),e.on(\"close\",t.onClose)}detach(){const t=this,e=t.instance;e.off(\"Carousel.change\",t.onChange),e.off(\"Carousel.createSlide\",t.onCreateSlide),e.off(\"Carousel.removeSlide\",t.onRemoveSlide),e.off(\"close\",t.onClose)}}Object.defineProperty(wt,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:\"fit\",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:\"auto\"}}),\"function\"==typeof SuppressedError&&SuppressedError;const xt=\"html\",Et=\"image\",St=\"map\",Pt=\"youtube\",Ct=\"vimeo\",Tt=\"html5video\",Mt=(t,e={})=>{const i=new URL(t),n=new URLSearchParams(i.search),s=new URLSearchParams;for(const[t,i]of[...n,...Object.entries(e)]){let e=i+\"\";if(\"t\"===t){let t=e.match(/((\\d*)m)?(\\d*)s?/);t&&s.set(\"start\",60*parseInt(t[2]||\"0\")+parseInt(t[3]||\"0\")+\"\")}else s.set(t,e)}let o=s+\"\",a=t.match(/#t=((.*)?\\d+s)/);return a&&(o+=`#t=${a[1]}`),o},Ot={ajax:null,autoSize:!0,iframeAttr:{allow:\"autoplay; fullscreen\",scrolling:\"auto\"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class=\"fancybox__html5video\" playsinline controls controlsList=\"nodownload\" poster=\"{{poster}}\">\\n  <source src=\"{{src}}\" type=\"{{format}}\" />Sorry, your browser doesn\\'t support embedded videos.</video>',videoFormat:\"\",vimeo:{byline:1,color:\"00adef\",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},At=[\"image\",\"html\",\"ajax\",\"inline\",\"clone\",\"iframe\",\"map\",\"pdf\",\"html5video\",\"youtube\",\"vimeo\"];class Lt extends _{onBeforeInitSlide(t,e,i){this.processType(i)}onCreateSlide(t,e,i){this.setContent(i)}onClearContent(t,e){e.xhr&&(e.xhr.abort(),e.xhr=null);const i=e.iframeEl;i&&(i.onload=i.onerror=null,i.src=\"//about:blank\",e.iframeEl=null);const n=e.contentEl,s=e.placeholderEl;if(\"inline\"===e.type&&n&&s)n.classList.remove(\"fancybox__content\"),\"none\"!==getComputedStyle(n).getPropertyValue(\"display\")&&(n.style.display=\"none\"),setTimeout((()=>{s&&(n&&s.parentNode&&s.parentNode.insertBefore(n,s),s.remove())}),0),e.contentEl=void 0,e.placeholderEl=void 0;else for(;e.el&&e.el.firstChild;)e.el.removeChild(e.el.firstChild)}onSelectSlide(t,e,i){i.state===lt.Ready&&this.playVideo()}onUnselectSlide(t,e,i){var n,s;if(i.type===Tt){try{null===(s=null===(n=i.el)||void 0===n?void 0:n.querySelector(\"video\"))||void 0===s||s.pause()}catch(t){}return}let o;i.type===Ct?o={method:\"pause\",value:\"true\"}:i.type===Pt&&(o={event:\"command\",func:\"pauseVideo\"}),o&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(o),\"*\"),i.poller&&clearTimeout(i.poller)}onDone(t,e){t.isCurrentSlide(e)&&!t.isClosing()&&this.playVideo()}onRefresh(t,e){e.slides.forEach((t=>{t.el&&(this.resizeIframe(t),this.setAspectRatio(t))}))}onMessage(t){try{let e=JSON.parse(t.data);if(\"https://player.vimeo.com\"===t.origin){if(\"ready\"===e.event)for(let e of Array.from(document.getElementsByClassName(\"fancybox__iframe\")))e instanceof HTMLIFrameElement&&e.contentWindow===t.source&&(e.dataset.ready=\"true\")}else if(t.origin.match(/^https:\\/\\/(www.)?youtube(-nocookie)?.com$/)&&\"onReady\"===e.event){const t=document.getElementById(e.id);t&&(t.dataset.ready=\"true\")}}catch(t){}}loadAjaxContent(t){const e=this.instance.optionFor(t,\"src\")||\"\";this.instance.showLoading(t);const i=this.instance,n=new XMLHttpRequest;i.showLoading(t),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&i.state===rt.Ready&&(i.hideLoading(t),200===n.status?i.setContent(t,n.responseText):i.setError(t,404===n.status?\"{{AJAX_NOT_FOUND}}\":\"{{AJAX_FORBIDDEN}}\"))};const s=t.ajax||null;n.open(s?\"POST\":\"GET\",e+\"\"),n.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),n.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),n.send(s),t.xhr=n}setInlineContent(t){let e=null;if(E(t.src))e=t.src;else if(\"string\"==typeof t.src){const i=t.src.split(\"#\",2).pop();e=i?document.getElementById(i):null}if(e){if(\"clone\"===t.type||e.closest(\".fancybox__slide\")){e=e.cloneNode(!0);const i=e.dataset.animationName;i&&(e.classList.remove(i),delete e.dataset.animationName);let n=e.getAttribute(\"id\");n=n?`${n}--clone`:`clone-${this.instance.id}-${t.index}`,e.setAttribute(\"id\",n)}else if(e.parentNode){const i=document.createElement(\"div\");i.classList.add(\"fancybox-placeholder\"),e.parentNode.insertBefore(i,e),t.placeholderEl=i}this.instance.setContent(t,e)}else this.instance.setError(t,\"{{ELEMENT_NOT_FOUND}}\")}setIframeContent(t){const{src:e,el:i}=t;if(!e||\"string\"!=typeof e||!i)return;i.classList.add(\"is-loading\");const n=this.instance,s=document.createElement(\"iframe\");s.className=\"fancybox__iframe\",s.setAttribute(\"id\",`fancybox__iframe_${n.id}_${t.index}`);for(const[e,i]of Object.entries(this.optionFor(t,\"iframeAttr\")||{}))s.setAttribute(e,i);s.onerror=()=>{n.setError(t,\"{{IFRAME_ERROR}}\")},t.iframeEl=s;const o=this.optionFor(t,\"preload\");if(\"iframe\"!==t.type||!1===o)return s.setAttribute(\"src\",t.src+\"\"),n.setContent(t,s,!1),this.resizeIframe(t),void n.revealContent(t);n.showLoading(t),s.onload=()=>{if(!s.src.length)return;const e=\"true\"!==s.dataset.ready;s.dataset.ready=\"true\",this.resizeIframe(t),e?n.revealContent(t):n.hideLoading(t)},s.setAttribute(\"src\",e),n.setContent(t,s,!1)}resizeIframe(t){const{type:e,iframeEl:i}=t;if(e===Pt||e===Ct)return;const n=null==i?void 0:i.parentElement;if(!i||!n)return;let s=t.autoSize;void 0===s&&(s=this.optionFor(t,\"autoSize\"));let o=t.width||0,a=t.height||0;o&&a&&(s=!1);const r=n&&n.style;if(!1!==t.preload&&!1!==s&&r)try{const t=window.getComputedStyle(n),e=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),s=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),l=i.contentWindow;if(l){const t=l.document,i=t.getElementsByTagName(xt)[0],n=t.body;r.width=\"\",n.style.overflow=\"hidden\",o=o||i.scrollWidth+e,r.width=`${o}px`,n.style.overflow=\"\",r.flex=\"0 0 auto\",r.height=`${n.scrollHeight}px`,a=i.scrollHeight+s}}catch(t){}if(o||a){const t={flex:\"0 1 auto\",width:\"\",height:\"\"};o&&\"auto\"!==o&&(t.width=`${o}px`),a&&\"auto\"!==a&&(t.height=`${a}px`),Object.assign(r,t)}}playVideo(){const t=this.instance.getSlide();if(!t)return;const{el:e}=t;if(!e||!e.offsetParent)return;if(!this.optionFor(t,\"videoAutoplay\"))return;if(t.type===Tt)try{const t=e.querySelector(\"video\");if(t){const e=t.play();void 0!==e&&e.then((()=>{})).catch((e=>{t.muted=!0,t.play()}))}}catch(t){}if(t.type!==Pt&&t.type!==Ct)return;const i=()=>{if(t.iframeEl&&t.iframeEl.contentWindow){let e;if(\"true\"===t.iframeEl.dataset.ready)return e=t.type===Pt?{event:\"command\",func:\"playVideo\"}:{method:\"play\",value:\"true\"},e&&t.iframeEl.contentWindow.postMessage(JSON.stringify(e),\"*\"),void(t.poller=void 0);t.type===Pt&&(e={event:\"listening\",id:t.iframeEl.getAttribute(\"id\")},t.iframeEl.contentWindow.postMessage(JSON.stringify(e),\"*\"))}t.poller=setTimeout(i,250)};i()}processType(t){if(t.html)return t.type=xt,t.src=t.html,void(t.html=\"\");const e=this.instance.optionFor(t,\"src\",\"\");if(!e||\"string\"!=typeof e)return;let i=t.type,n=null;if(n=e.match(/(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(?:watch\\?(?:.*&)?v=|v\\/|u\\/|shorts\\/|embed\\/?)?(videoseries\\?list=(?:.*)|[\\w-]{11}|\\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const s=this.optionFor(t,Pt),{nocookie:o}=s,a=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]])}return i}(s,[\"nocookie\"]),r=`www.youtube${o?\"-nocookie\":\"\"}.com`,l=Mt(e,a),c=encodeURIComponent(n[2]);t.videoId=c,t.src=`https://${r}/embed/${c}?${l}`,t.thumbSrc=t.thumbSrc||`https://i.ytimg.com/vi/${c}/mqdefault.jpg`,i=Pt}else if(n=e.match(/^.+vimeo.com\\/(?:\\/)?([\\d]+)((\\/|\\?h=)([a-z0-9]+))?(.*)?/)){const s=Mt(e,this.optionFor(t,Ct)),o=encodeURIComponent(n[1]),a=n[4]||\"\";t.videoId=o,t.src=`https://player.vimeo.com/video/${o}?${a?`h=${a}${s?\"&\":\"\"}`:\"\"}${s}`,i=Ct}if(!i&&t.triggerEl){const e=t.triggerEl.dataset.type;At.includes(e)&&(i=e)}i||\"string\"==typeof e&&(\"#\"===e.charAt(0)?i=\"inline\":(n=e.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))?(i=Tt,t.videoFormat=t.videoFormat||\"video/\"+(\"ogv\"===n[1]?\"ogg\":n[1])):e.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)?i=Et:e.match(/\\.(pdf)((\\?|#).*)?$/i)&&(i=\"pdf\")),(n=e.match(/(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:(?:(?:maps\\/(?:place\\/(?:.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(?:\\?ll=))(.*)?/i))?(t.src=`https://maps.google.${n[1]}/?ll=${(n[2]?n[2]+\"&z=\"+Math.floor(parseFloat(n[3]))+(n[4]?n[4].replace(/^\\//,\"&\"):\"\"):n[4]+\"\").replace(/\\?/,\"&\")}&output=${n[4]&&n[4].indexOf(\"layer=c\")>0?\"svembed\":\"embed\"}`,i=St):(n=e.match(/(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:maps\\/search\\/)(.*)/i))&&(t.src=`https://maps.google.${n[1]}/maps?q=${n[2].replace(\"query=\",\"q=\").replace(\"api=1\",\"\")}&output=embed`,i=St),i=i||this.instance.option(\"defaultType\"),t.type=i,i===Et&&(t.thumbSrc=t.thumbSrc||t.src)}setContent(t){const e=this.instance.optionFor(t,\"src\")||\"\";if(t&&t.type&&e){switch(t.type){case xt:this.instance.setContent(t,e);break;case Tt:const i=this.option(\"videoTpl\");i&&this.instance.setContent(t,i.replace(/\\{\\{src\\}\\}/gi,e+\"\").replace(/\\{\\{format\\}\\}/gi,this.optionFor(t,\"videoFormat\")||\"\").replace(/\\{\\{poster\\}\\}/gi,t.poster||t.thumbSrc||\"\"));break;case\"inline\":case\"clone\":this.setInlineContent(t);break;case\"ajax\":this.loadAjaxContent(t);break;case\"pdf\":case St:case Pt:case Ct:t.preload=!1;case\"iframe\":this.setIframeContent(t)}this.setAspectRatio(t)}}setAspectRatio(t){const e=t.contentEl;if(!(t.el&&e&&t.type&&[Pt,Ct,Tt].includes(t.type)))return;let i,n=t.width||\"auto\",s=t.height||\"auto\";if(\"auto\"===n||\"auto\"===s){i=this.optionFor(t,\"videoRatio\");const e=(i+\"\").match(/(\\d+)\\s*\\/\\s?(\\d+)/);i=e&&e.length>2?parseFloat(e[1])/parseFloat(e[2]):parseFloat(i+\"\")}else n&&s&&(i=n/s);if(!i)return;e.style.aspectRatio=\"\",e.style.width=\"\",e.style.height=\"\",e.offsetHeight;const o=e.getBoundingClientRect(),a=o.width||1,r=o.height||1;e.style.aspectRatio=i+\"\",i<a/r?(s=\"auto\"===s?r:Math.min(r,s),e.style.width=\"auto\",e.style.height=`${s}px`):(n=\"auto\"===n?a:Math.min(a,n),e.style.width=`${n}px`,e.style.height=\"auto\")}attach(){const t=this,e=t.instance;e.on(\"Carousel.beforeInitSlide\",t.onBeforeInitSlide),e.on(\"Carousel.createSlide\",t.onCreateSlide),e.on(\"Carousel.selectSlide\",t.onSelectSlide),e.on(\"Carousel.unselectSlide\",t.onUnselectSlide),e.on(\"Carousel.Panzoom.refresh\",t.onRefresh),e.on(\"done\",t.onDone),e.on(\"clearContent\",t.onClearContent),window.addEventListener(\"message\",t.onMessage)}detach(){const t=this,e=t.instance;e.off(\"Carousel.beforeInitSlide\",t.onBeforeInitSlide),e.off(\"Carousel.createSlide\",t.onCreateSlide),e.off(\"Carousel.selectSlide\",t.onSelectSlide),e.off(\"Carousel.unselectSlide\",t.onUnselectSlide),e.off(\"Carousel.Panzoom.refresh\",t.onRefresh),e.off(\"done\",t.onDone),e.off(\"clearContent\",t.onClearContent),window.removeEventListener(\"message\",t.onMessage)}}Object.defineProperty(Lt,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:Ot});const zt=\"play\",Rt=\"pause\",kt=\"ready\";class It extends _{constructor(){super(...arguments),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:kt}),Object.defineProperty(this,\"inHover\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"timer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"progressBar\",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==kt}onReady(t){this.option(\"autoStart\")&&(t.isInfinite||t.page<t.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){\"visible\"===document.visibilityState?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var t;this.inHover=!1,(null===(t=this.instance.panzoom)||void 0===t?void 0:t.isResting)&&this.resume()}onTimerEnd(){const t=this.instance;\"play\"===this.state&&(t.isInfinite||t.page!==t.pages.length-1?t.slideNext():t.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var t;if(!this.option(\"showProgress\"))return null;this.removeProgressBar();const e=this.instance,i=(null===(t=e.pages[e.page])||void 0===t?void 0:t.slides)||[];let n=this.option(\"progressParentEl\");if(n||(n=(1===i.length?i[0].el:null)||e.viewport),!n)return null;const s=document.createElement(\"div\");return P(s,\"f-progress\"),n.prepend(s),this.progressBar=s,s.offsetHeight,s}set(){const t=this,e=t.instance;if(e.pages.length<2)return;if(t.timer)return;const i=t.option(\"timeout\");t.state=zt,P(e.container,\"has-autoplay\");let n=t.createProgressBar();n&&(n.style.transitionDuration=`${i}ms`,n.style.transform=\"scaleX(1)\"),t.timer=setTimeout((()=>{t.timer=null,t.inHover||t.onTimerEnd()}),i),t.emit(\"set\")}clear(){const t=this;t.timer&&(clearTimeout(t.timer),t.timer=null),t.removeProgressBar()}start(){const t=this;if(t.set(),t.state!==kt){if(t.option(\"pauseOnHover\")){const e=t.instance.container;e.addEventListener(\"mouseenter\",t.onMouseEnter,!1),e.addEventListener(\"mouseleave\",t.onMouseLeave,!1)}document.addEventListener(\"visibilitychange\",t.onVisibilityChange,!1),t.emit(\"start\")}}stop(){const t=this,e=t.state,i=t.instance.container;t.clear(),t.state=kt,i.removeEventListener(\"mouseenter\",t.onMouseEnter,!1),i.removeEventListener(\"mouseleave\",t.onMouseLeave,!1),document.removeEventListener(\"visibilitychange\",t.onVisibilityChange,!1),S(i,\"has-autoplay\"),e!==kt&&t.emit(\"stop\")}pause(){const t=this;t.state===zt&&(t.state=Rt,t.clear(),t.emit(Rt))}resume(){const t=this,e=t.instance;if(e.isInfinite||e.page!==e.pages.length-1)if(t.state!==zt){if(t.state===Rt&&!t.inHover){const e=new Event(\"resume\",{bubbles:!0,cancelable:!0});t.emit(\"resume\",e),e.defaultPrevented||t.set()}}else t.set();else t.stop()}toggle(){this.state===zt||this.state===Rt?this.stop():this.start()}attach(){const t=this,e=t.instance;e.on(\"ready\",t.onReady),e.on(\"Panzoom.startAnimation\",t.onChange),e.on(\"Panzoom.endAnimation\",t.onSettle),e.on(\"Panzoom.touchMove\",t.onChange)}detach(){const t=this,e=t.instance;e.off(\"ready\",t.onReady),e.off(\"Panzoom.startAnimation\",t.onChange),e.off(\"Panzoom.endAnimation\",t.onSettle),e.off(\"Panzoom.touchMove\",t.onChange),t.stop()}}Object.defineProperty(It,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class Dt extends _{constructor(){super(...arguments),Object.defineProperty(this,\"ref\",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(t){const e=t.carousel;if(!e)return;const i=t.container;i&&(e.options.Autoplay=u({autoStart:!1},this.option(\"Autoplay\")||{},{pauseOnHover:!1,timeout:this.option(\"timeout\"),progressParentEl:()=>this.option(\"progressParentEl\")||null,on:{start:()=>{t.emit(\"startSlideshow\")},set:e=>{var n;i.classList.add(\"has-slideshow\"),(null===(n=t.getSlide())||void 0===n?void 0:n.state)!==lt.Ready&&e.pause()},stop:()=>{i.classList.remove(\"has-slideshow\"),t.isCompact||t.endIdle(),t.emit(\"endSlideshow\")},resume:(e,i)=>{var n,s,o;!i||!i.cancelable||(null===(n=t.getSlide())||void 0===n?void 0:n.state)===lt.Ready&&(null===(o=null===(s=t.carousel)||void 0===s?void 0:s.panzoom)||void 0===o?void 0:o.isResting)||i.preventDefault()}}}),e.attachPlugins({Autoplay:It}),this.ref=e.plugins.Autoplay)}onReady(t){const e=t.carousel,i=this.ref;i&&e&&this.option(\"playOnStart\")&&(e.isInfinite||e.page<e.pages.length-1)&&i.start()}onDone(t,e){const i=this.ref,n=t.carousel;if(!i||!n)return;const s=e.panzoom;s&&s.on(\"startAnimation\",(()=>{t.isCurrentSlide(e)&&i.stop()})),t.isCurrentSlide(e)&&i.resume()}onKeydown(t,e){var i;const n=this.ref;n&&e===this.option(\"key\")&&\"BUTTON\"!==(null===(i=document.activeElement)||void 0===i?void 0:i.nodeName)&&n.toggle()}attach(){const t=this,e=t.instance;e.on(\"Carousel.init\",t.onPrepare),e.on(\"Carousel.ready\",t.onReady),e.on(\"done\",t.onDone),e.on(\"keydown\",t.onKeydown)}detach(){const t=this,e=t.instance;e.off(\"Carousel.init\",t.onPrepare),e.off(\"Carousel.ready\",t.onReady),e.off(\"done\",t.onDone),e.off(\"keydown\",t.onKeydown)}}Object.defineProperty(Dt,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:{key:\" \",playOnStart:!1,progressParentEl:t=>{var e;return(null===(e=t.instance.container)||void 0===e?void 0:e.querySelector(\".fancybox__toolbar [data-fancybox-toggle-slideshow]\"))||t.instance.container},timeout:3e3}});const Ft={classes:{container:\"f-thumbs f-carousel__thumbs\",viewport:\"f-thumbs__viewport\",track:\"f-thumbs__track\",slide:\"f-thumbs__slide\",isResting:\"is-resting\",isSelected:\"is-selected\",isLoading:\"is-loading\",hasThumbs:\"has-thumbs\"},minCount:2,parentEl:null,thumbTpl:'<button class=\"f-thumbs__slide__button\" tabindex=\"0\" type=\"button\" aria-label=\"{{GOTO}}\" data-carousel-index=\"%i\"><img class=\"f-thumbs__slide__img\" data-lazy-src=\"{{%s}}\" alt=\"\" /></button>',type:\"modern\"};var jt;!function(t){t[t.Init=0]=\"Init\",t[t.Ready=1]=\"Ready\",t[t.Hidden=2]=\"Hidden\"}(jt||(jt={}));const Bt=\"isResting\",Ht=\"thumbWidth\",Nt=\"thumbHeight\",_t=\"thumbClipWidth\";let $t=class extends _{constructor(){super(...arguments),Object.defineProperty(this,\"type\",{enumerable:!0,configurable:!0,writable:!0,value:\"modern\"}),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"track\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"carousel\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"thumbWidth\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"thumbClipWidth\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"thumbHeight\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"thumbGap\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"thumbExtraGap\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:jt.Init})}get isModern(){return\"modern\"===this.type}onInitSlide(t,e){const i=e.el?e.el.dataset:void 0;i&&(e.thumbSrc=i.thumbSrc||e.thumbSrc||\"\",e[_t]=parseFloat(i[_t]||\"\")||e[_t]||0,e[Nt]=parseFloat(i.thumbHeight||\"\")||e[Nt]||0),this.addSlide(e)}onInitSlides(){this.build()}onChange(){var t;if(!this.isModern)return;const e=this.container,i=this.instance,n=i.panzoom,s=this.carousel,a=s?s.panzoom:null,r=i.page;if(n&&s&&a){if(n.isDragging){S(e,this.cn(Bt));let n=(null===(t=s.pages[r])||void 0===t?void 0:t.pos)||0;n+=i.getProgress(r)*(this[_t]+this.thumbGap);let o=a.getBounds();-1*n>o.x.min&&-1*n<o.x.max&&a.panTo({x:-1*n,friction:.12})}else o(e,this.cn(Bt),n.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const t of this.instance.slides||[])this.resizeModernSlide(t);this.shiftModern()}isDisabled(){const t=this.option(\"minCount\")||0;if(t){const e=this.instance;let i=0;for(const t of e.slides||[])t.thumbSrc&&i++;if(i<t)return!0}const e=this.option(\"type\");return[\"modern\",\"classic\"].indexOf(e)<0}getThumb(t){const e=this.option(\"thumbTpl\")||\"\";return{html:this.instance.localize(e,[[\"%i\",t.index],[\"%d\",t.index+1],[\"%s\",t.thumbSrc||\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"]])}}addSlide(t){const e=this.carousel;e&&e.addSlide(t.index,this.getThumb(t))}getSlides(){const t=[];for(const e of this.instance.slides||[])t.push(this.getThumb(e));return t}resizeModernSlide(t){this.isModern&&(t[Ht]=t[_t]&&t[Nt]?Math.round(this[Nt]*(t[_t]/t[Nt])):this[Ht])}updateProps(){const t=this.container;if(!t)return;const e=e=>parseFloat(getComputedStyle(t).getPropertyValue(\"--f-thumb-\"+e))||0;this.thumbGap=e(\"gap\"),this.thumbExtraGap=e(\"extra-gap\"),this[Ht]=e(\"width\")||40,this[_t]=e(\"clip-width\")||40,this[Nt]=e(\"height\")||40}build(){const t=this;if(t.state!==jt.Init)return;if(t.isDisabled())return void t.emit(\"disabled\");const e=t.instance,i=e.container,n=t.getSlides(),s=t.option(\"type\");t.type=s;const o=t.option(\"parentEl\"),a=t.cn(\"container\"),r=t.cn(\"track\");let l=null==o?void 0:o.querySelector(\".\"+a);l||(l=document.createElement(\"div\"),P(l,a),o?o.appendChild(l):i.after(l)),P(l,`is-${s}`),P(i,t.cn(\"hasThumbs\")),t.container=l,t.updateProps();let c=l.querySelector(\".\"+r);c||(c=document.createElement(\"div\"),P(c,t.cn(\"track\")),l.appendChild(c)),t.track=c;const h=u({},{track:c,infinite:!1,center:!0,fill:\"classic\"===s,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:\"f-thumbs\",viewport:\"f-thumbs__viewport\",track:\"f-thumbs__track\",slide:\"f-thumbs__slide\"}},t.option(\"Carousel\")||{},{Sync:{target:e},slides:n}),d=new e.constructor(l,h);d.on(\"createSlide\",((e,i)=>{t.setProps(i.index),t.emit(\"createSlide\",i,i.el)})),d.on(\"ready\",(()=>{t.shiftModern(),t.emit(\"ready\")})),d.on(\"refresh\",(()=>{t.shiftModern()})),d.on(\"Panzoom.click\",((e,i,n)=>{t.onClick(n)})),t.carousel=d,t.state=jt.Ready}onClick(t){t.preventDefault(),t.stopPropagation();const e=this.instance,{pages:i,page:n}=e,s=t=>{if(t){const e=t.closest(\"[data-carousel-index]\");if(e)return[parseInt(e.dataset.carouselIndex||\"\",10)||0,e]}return[-1,void 0]},o=(t,e)=>{const i=document.elementFromPoint(t,e);return i?s(i):[-1,void 0]};let[a,r]=s(t.target);if(a>-1)return;const l=this[_t],c=t.clientX,h=t.clientY;let[d,u]=o(c-l,h),[p,f]=o(c+l,h);u&&f?(a=Math.abs(c-u.getBoundingClientRect().right)<Math.abs(c-f.getBoundingClientRect().left)?d:p,a===n&&(a=a===d?p:d)):u?a=d:f&&(a=p),a>-1&&i[a]&&e.slideTo(a)}getShift(t){var e;const i=this,{instance:n}=i,s=i.carousel;if(!n||!s)return 0;const o=i[Ht],a=i[_t],r=i.thumbGap,l=i.thumbExtraGap;if(!(null===(e=s.slides[t])||void 0===e?void 0:e.el))return 0;const c=.5*(o-a),h=n.pages.length-1;let d=n.getProgress(0),u=n.getProgress(h),p=n.getProgress(t,!1,!0),f=0,g=c+l+r;const m=d<0&&d>-1,v=u>0&&u<1;return 0===t?(f=g*Math.abs(d),v&&1===d&&(f-=g*Math.abs(u))):t===h?(f=g*Math.abs(u)*-1,m&&-1===u&&(f+=g*Math.abs(d))):m||v?(f=-1*g,f+=g*Math.abs(d),f+=g*(1-Math.abs(u))):f=g*p,f}setProps(e){var i;const n=this;if(!n.isModern)return;const{instance:s}=n,o=n.carousel;if(s&&o){const a=null===(i=o.slides[e])||void 0===i?void 0:i.el;if(a&&a.childNodes.length){let i=t(1-Math.abs(s.getProgress(e))),o=t(n.getShift(e));a.style.setProperty(\"--progress\",i?i+\"\":\"\"),a.style.setProperty(\"--shift\",o+\"\")}}}shiftModern(){const t=this;if(!t.isModern)return;const{instance:e,track:i}=t,n=e.panzoom,s=t.carousel;if(!(e&&i&&n&&s))return;if(n.state===m.Init||n.state===m.Destroy)return;for(const i of e.slides)t.setProps(i.index);let o=(t[_t]+t.thumbGap)*(s.slides.length||0);i.style.setProperty(\"--width\",o+\"\")}cleanup(){const t=this;t.carousel&&t.carousel.destroy(),t.carousel=null,t.container&&t.container.remove(),t.container=null,t.track&&t.track.remove(),t.track=null,t.state=jt.Init,S(t.instance.container,t.cn(\"hasThumbs\"))}attach(){const t=this,e=t.instance;e.on(\"initSlide\",t.onInitSlide),e.state===B.Init?e.on(\"initSlides\",t.onInitSlides):t.onInitSlides(),e.on([\"change\",\"Panzoom.afterTransform\"],t.onChange),e.on(\"Panzoom.refresh\",t.onRefresh)}detach(){const t=this,e=t.instance;e.off(\"initSlide\",t.onInitSlide),e.off(\"initSlides\",t.onInitSlides),e.off([\"change\",\"Panzoom.afterTransform\"],t.onChange),e.off(\"Panzoom.refresh\",t.onRefresh),t.cleanup()}};Object.defineProperty($t,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:Ft});const Wt=Object.assign(Object.assign({},Ft),{key:\"t\",showOnStart:!0,parentEl:null}),Xt=\"is-masked\",qt=\"aria-hidden\";class Yt extends _{constructor(){super(...arguments),Object.defineProperty(this,\"ref\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"hidden\",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const t=this.ref;return t&&!t.isDisabled()}get isHidden(){return this.hidden}onClick(t,e){e.stopPropagation()}onCreateSlide(t,e){var i,n,s;const o=(null===(s=null===(n=null===(i=this.instance)||void 0===i?void 0:i.carousel)||void 0===n?void 0:n.slides[e.index])||void 0===s?void 0:s.type)||\"\",a=e.el;if(a&&o){let t=`for-${o}`;[\"video\",\"youtube\",\"vimeo\",\"html5video\"].includes(o)&&(t+=\" for-video\"),P(a,t)}}onInit(){var t;const e=this,i=e.instance,n=i.carousel;if(e.ref||!n)return;const s=e.option(\"parentEl\")||i.footer||i.container;if(!s)return;const o=u({},e.options,{parentEl:s,classes:{container:\"f-thumbs fancybox__thumbs\"},Carousel:{Sync:{friction:i.option(\"Carousel.friction\")||0}},on:{ready:t=>{const i=t.container;i&&this.hidden&&(e.refresh(),i.style.transition=\"none\",e.hide(),i.offsetHeight,queueMicrotask((()=>{i.style.transition=\"\",e.show()})))}}});o.Carousel=o.Carousel||{},o.Carousel.on=u((null===(t=e.options.Carousel)||void 0===t?void 0:t.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),n.options.Thumbs=o,n.attachPlugins({Thumbs:$t}),e.ref=n.plugins.Thumbs,e.option(\"showOnStart\")||(e.ref.state=jt.Hidden,e.hidden=!0)}onResize(){var t;const e=null===(t=this.ref)||void 0===t?void 0:t.container;e&&(e.style.maxHeight=\"\")}onKeydown(t,e){const i=this.option(\"key\");i&&i===e&&this.toggle()}toggle(){const t=this.ref;if(t&&!t.isDisabled())return t.state===jt.Hidden?(t.state=jt.Init,void t.build()):void(this.hidden?this.show():this.hide())}show(){const t=this.ref;if(!t||t.isDisabled())return;const e=t.container;e&&(this.refresh(),e.offsetHeight,e.removeAttribute(qt),e.classList.remove(Xt),this.hidden=!1)}hide(){const t=this.ref,e=t&&t.container;e&&(this.refresh(),e.offsetHeight,e.classList.add(Xt),e.setAttribute(qt,\"true\")),this.hidden=!0}refresh(){const t=this.ref;if(!t||!t.state)return;const e=t.container,i=(null==e?void 0:e.firstChild)||null;e&&i&&i.childNodes.length&&(e.style.maxHeight=`${i.getBoundingClientRect().height}px`)}attach(){const t=this,e=t.instance;e.state===rt.Init?e.on(\"Carousel.init\",t.onInit):t.onInit(),e.on(\"resize\",t.onResize),e.on(\"keydown\",t.onKeydown)}detach(){var t;const e=this,i=e.instance;i.off(\"Carousel.init\",e.onInit),i.off(\"resize\",e.onResize),i.off(\"keydown\",e.onKeydown),null===(t=i.carousel)||void 0===t||t.detachPlugins([\"Thumbs\"]),e.ref=null}}Object.defineProperty(Yt,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:Wt});const Vt={panLeft:{icon:'<svg><path d=\"M5 12h14M5 12l6 6M5 12l6-6\"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d=\"M5 12h14M13 18l6-6M13 6l6 6\"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d=\"M12 5v14M18 11l-6-6M6 11l6-6\"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d=\"M12 5v14M18 13l-6 6M6 13l6 6\"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx=\"11\" cy=\"11\" r=\"7.5\"/><path d=\"m21 21-4.35-4.35M11 8v6M8 11h6\"/></svg>',action:\"zoomIn\"},zoomOut:{icon:'<svg><circle cx=\"11\" cy=\"11\" r=\"7.5\"/><path d=\"m21 21-4.35-4.35M8 11h6\"/></svg>',action:\"zoomOut\"},toggle1to1:{icon:'<svg><path d=\"M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z\"/><path d=\"M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0\"/></svg>',action:\"toggleZoom\"},toggleZoom:{icon:'<svg><g><line x1=\"11\" y1=\"8\" x2=\"11\" y2=\"14\"></line></g><circle cx=\"11\" cy=\"11\" r=\"7.5\"/><path d=\"m21 21-4.35-4.35M8 11h6\"/></svg>',action:\"toggleZoom\"},iterateZoom:{icon:'<svg><g><line x1=\"11\" y1=\"8\" x2=\"11\" y2=\"14\"></line></g><circle cx=\"11\" cy=\"11\" r=\"7.5\"/><path d=\"m21 21-4.35-4.35M8 11h6\"/></svg>',action:\"iterateZoom\"},rotateCCW:{icon:'<svg><path d=\"M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01\"/></svg>',action:\"rotateCCW\"},rotateCW:{icon:'<svg><path d=\"M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01\"/></svg>',action:\"rotateCW\"},flipX:{icon:'<svg style=\"stroke-width: 1.3\"><path d=\"M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7\"/></svg>',action:\"flipX\"},flipY:{icon:'<svg style=\"stroke-width: 1.3\"><path d=\"M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5\"/></svg>',action:\"flipY\"},fitX:{icon:'<svg><path d=\"M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3\"/></svg>',action:\"fitX\"},fitY:{icon:'<svg><path d=\"M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3\"/></svg>',action:\"fitY\"},reset:{icon:'<svg><path d=\"M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4\"/></svg>',action:\"reset\"},toggleFS:{icon:'<svg><g><path d=\"M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6\"/></g><g><path d=\"m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4\"/></g></svg>',action:\"toggleFS\"}};var Zt;!function(t){t[t.Init=0]=\"Init\",t[t.Ready=1]=\"Ready\",t[t.Disabled=2]=\"Disabled\"}(Zt||(Zt={}));const Ut={absolute:\"auto\",display:{left:[\"infobar\"],middle:[],right:[\"iterateZoom\",\"slideshow\",\"fullscreen\",\"thumbs\",\"close\"]},enabled:\"auto\",items:{infobar:{tpl:'<div class=\"fancybox__infobar\" tabindex=\"-1\"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class=\"f-button\" title=\"{{DOWNLOAD}}\" data-fancybox-download href=\"javasript:;\"><svg><path d=\"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12\"/></svg></a>'},prev:{tpl:'<button class=\"f-button\" title=\"{{PREV}}\" data-fancybox-prev><svg><path d=\"m15 6-6 6 6 6\"/></svg></button>'},next:{tpl:'<button class=\"f-button\" title=\"{{NEXT}}\" data-fancybox-next><svg><path d=\"m9 6 6 6-6 6\"/></svg></button>'},slideshow:{tpl:'<button class=\"f-button\" title=\"{{TOGGLE_SLIDESHOW}}\" data-fancybox-toggle-slideshow><svg><g><path d=\"M8 4v16l13 -8z\"></path></g><g><path d=\"M8 4v15M17 4v15\"/></g></svg></button>'},fullscreen:{tpl:'<button class=\"f-button\" title=\"{{TOGGLE_FULLSCREEN}}\" data-fancybox-toggle-fullscreen><svg><g><path d=\"M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2\"/></g><g><path d=\"M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5\"/></g></svg></button>'},thumbs:{tpl:'<button class=\"f-button\" title=\"{{TOGGLE_THUMBS}}\" data-fancybox-toggle-thumbs><svg><circle cx=\"5.5\" cy=\"5.5\" r=\"1\"/><circle cx=\"12\" cy=\"5.5\" r=\"1\"/><circle cx=\"18.5\" cy=\"5.5\" r=\"1\"/><circle cx=\"5.5\" cy=\"12\" r=\"1\"/><circle cx=\"12\" cy=\"12\" r=\"1\"/><circle cx=\"18.5\" cy=\"12\" r=\"1\"/><circle cx=\"5.5\" cy=\"18.5\" r=\"1\"/><circle cx=\"12\" cy=\"18.5\" r=\"1\"/><circle cx=\"18.5\" cy=\"18.5\" r=\"1\"/></svg></button>'},close:{tpl:'<button class=\"f-button\" title=\"{{CLOSE}}\" data-fancybox-close><svg><path d=\"m19.5 4.5-15 15M4.5 4.5l15 15\"/></svg></button>'}},parentEl:null},Gt={tabindex:\"-1\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},Kt=\"has-toolbar\",Jt=\"fancybox__toolbar\";class Qt extends _{constructor(){super(...arguments),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:Zt.Init}),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(t){var e;if(!t.carousel)return;let i=this.option(\"display\"),n=this.option(\"absolute\"),s=this.option(\"enabled\");if(\"auto\"===s){const t=this.instance.carousel;let e=0;if(t)for(const i of t.slides)(i.panzoom||\"image\"===i.type)&&e++;e||(s=!1)}s||(i=void 0);let o=0;const a={left:[],middle:[],right:[]};if(i)for(const t of[\"left\",\"middle\",\"right\"])for(const n of i[t]){const i=this.createEl(n);i&&(null===(e=a[t])||void 0===e||e.push(i),o++)}let r=null;if(o&&(r=this.createContainer()),r){for(const[t,e]of Object.entries(a)){const i=document.createElement(\"div\");P(i,Jt+\"__column is-\"+t);for(const t of e)i.appendChild(t);\"auto\"!==n||\"middle\"!==t||e.length||(n=!0),r.appendChild(i)}!0===n&&P(r,\"is-absolute\"),this.state=Zt.Ready,this.onRefresh()}else this.state=Zt.Disabled}onClick(t){var e,i;const n=this.instance,s=n.getSlide(),o=null==s?void 0:s.panzoom,a=t.target,r=a&&E(a)?a.dataset:null;if(!r)return;if(void 0!==r.fancyboxToggleThumbs)return t.preventDefault(),t.stopPropagation(),void(null===(e=n.plugins.Thumbs)||void 0===e||e.toggle());if(void 0!==r.fancyboxToggleFullscreen)return t.preventDefault(),t.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==r.fancyboxToggleSlideshow){t.preventDefault(),t.stopPropagation();const e=null===(i=n.carousel)||void 0===i?void 0:i.plugins.Autoplay;let s=e.isActive;return o&&\"mousemove\"===o.panMode&&!s&&o.reset(),void(s?e.stop():e.start())}const l=r.panzoomAction,c=r.panzoomChange;if((c||l)&&(t.preventDefault(),t.stopPropagation()),c){let t={};try{t=JSON.parse(c)}catch(t){}o&&o.applyChange(t)}else l&&o&&o[l]&&o[l]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const t=this.container;if(!t)return;const e=this.instance.getSlide();if(!e||e.state!==lt.Ready)return;const i=e&&!e.error&&e.panzoom;for(const e of t.querySelectorAll(\"[data-panzoom-action]\"))i?(e.removeAttribute(\"disabled\"),e.removeAttribute(\"tabindex\")):(e.setAttribute(\"disabled\",\"\"),e.setAttribute(\"tabindex\",\"-1\"));let n=i&&i.canZoomIn(),s=i&&i.canZoomOut();for(const e of t.querySelectorAll('[data-panzoom-action=\"zoomIn\"]'))n?(e.removeAttribute(\"disabled\"),e.removeAttribute(\"tabindex\")):(e.setAttribute(\"disabled\",\"\"),e.setAttribute(\"tabindex\",\"-1\"));for(const e of t.querySelectorAll('[data-panzoom-action=\"zoomOut\"]'))s?(e.removeAttribute(\"disabled\"),e.removeAttribute(\"tabindex\")):(e.setAttribute(\"disabled\",\"\"),e.setAttribute(\"tabindex\",\"-1\"));for(const e of t.querySelectorAll('[data-panzoom-action=\"toggleZoom\"],[data-panzoom-action=\"iterateZoom\"]')){s||n?(e.removeAttribute(\"disabled\"),e.removeAttribute(\"tabindex\")):(e.setAttribute(\"disabled\",\"\"),e.setAttribute(\"tabindex\",\"-1\"));const t=e.querySelector(\"g\");t&&(t.style.display=n?\"\":\"none\")}}onDone(t,e){var i;null===(i=e.panzoom)||void 0===i||i.on(\"afterTransform\",(()=>{this.instance.isCurrentSlide(e)&&this.onRefresh()})),this.instance.isCurrentSlide(e)&&this.onRefresh()}createContainer(){const t=this.instance.container;if(!t)return null;const e=this.option(\"parentEl\")||t;let i=e.querySelector(\".\"+Jt);return i||(i=document.createElement(\"div\"),P(i,Jt),e.prepend(i)),i.addEventListener(\"click\",this.onClick,{passive:!1,capture:!0}),t&&P(t,Kt),this.container=i,i}createEl(t){const e=this.instance,i=e.carousel;if(!i)return null;if(\"toggleFS\"===t)return null;if(\"fullscreen\"===t&&!ot())return null;let s=null;const o=i.slides.length||0;let a=0,r=0;for(const t of i.slides)(t.panzoom||\"image\"===t.type)&&a++,(\"image\"===t.type||t.downloadSrc)&&r++;if(o<2&&[\"infobar\",\"prev\",\"next\"].includes(t))return s;if(void 0!==Vt[t]&&!a)return null;if(\"download\"===t&&!r)return null;if(\"thumbs\"===t){const t=e.plugins.Thumbs;if(!t||!t.isEnabled)return null}if(\"slideshow\"===t){if(!i.plugins.Autoplay||o<2)return null}if(void 0!==Vt[t]){const e=Vt[t];s=document.createElement(\"button\"),s.setAttribute(\"title\",this.instance.localize(`{{${t.toUpperCase()}}}`)),P(s,\"f-button\"),e.action&&(s.dataset.panzoomAction=e.action),e.change&&(s.dataset.panzoomChange=JSON.stringify(e.change)),s.appendChild(n(this.instance.localize(e.icon)))}else{const e=(this.option(\"items\")||[])[t];e&&(s=n(this.instance.localize(e.tpl)),\"function\"==typeof e.click&&s.addEventListener(\"click\",(t=>{t.preventDefault(),t.stopPropagation(),\"function\"==typeof e.click&&e.click.call(this,this,t)})))}const l=null==s?void 0:s.querySelector(\"svg\");if(l)for(const[t,e]of Object.entries(Gt))l.getAttribute(t)||l.setAttribute(t,String(e));return s}removeContainer(){const t=this.container;t&&t.remove(),this.container=null,this.state=Zt.Disabled;const e=this.instance.container;e&&S(e,Kt)}attach(){const t=this,e=t.instance;e.on(\"Carousel.initSlides\",t.onReady),e.on(\"done\",t.onDone),e.on([\"reveal\",\"Carousel.change\"],t.onChange),t.onReady(t.instance)}detach(){const t=this,e=t.instance;e.off(\"Carousel.initSlides\",t.onReady),e.off(\"done\",t.onDone),e.off([\"reveal\",\"Carousel.change\"],t.onChange),t.removeContainer()}}Object.defineProperty(Qt,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:Ut});const te={Hash:class extends _{onReady(){ht=!1}onChange(t){ut&&clearTimeout(ut);const{hash:e}=pt(),{hash:i}=ft(),n=t.isOpeningSlide(t.getSlide());n&&(ct=i===e?\"\":i),e&&e!==i&&(ut=setTimeout((()=>{try{if(t.state===rt.Ready){let t=\"replaceState\";n&&!dt&&(t=\"pushState\",dt=!0),window.history[t]({},document.title,window.location.pathname+window.location.search+e)}}catch(t){}}),300))}onClose(t){if(ut&&clearTimeout(ut),!ht&&dt)return dt=!1,ht=!1,void window.history.back();if(!ht)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(ct||\"\"))}catch(t){}}attach(){const t=this.instance;t.on(\"ready\",this.onReady),t.on([\"Carousel.ready\",\"Carousel.change\"],this.onChange),t.on(\"close\",this.onClose)}detach(){const t=this.instance;t.off(\"ready\",this.onReady),t.off([\"Carousel.ready\",\"Carousel.change\"],this.onChange),t.off(\"close\",this.onClose)}static parseURL(){return ft()}static startFromUrl(){gt()}static destroy(){window.removeEventListener(\"hashchange\",vt,!1)}},Html:Lt,Images:wt,Slideshow:Dt,Thumbs:Yt,Toolbar:Qt},ee=\"with-fancybox\",ie=\"hide-scrollbar\",ne=\"--fancybox-scrollbar-compensate\",se=\"--fancybox-body-margin\",oe=\"aria-hidden\",ae=\"is-using-tab\",re=\"is-animated\",le=\"is-compact\",ce=\"is-loading\",he=\"is-opening\",de=\"has-caption\",ue=\"disabled\",pe=\"tabindex\",fe=\"download\",ge=\"href\",me=\"src\",ve=t=>\"string\"==typeof t,be=function(){var t=window.getSelection();return!!t&&\"Range\"===t.type};let ye,we=null,xe=null,Ee=0,Se=0,Pe=0,Ce=0;const Te=new Map;let Me=0;class Oe extends g{get isIdle(){return this.idle}get isCompact(){return this.option(\"compact\")}constructor(t=[],e={},i={}){super(e),Object.defineProperty(this,\"userSlides\",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,\"userPlugins\",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,\"idle\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"idleTimer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"clickTimer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"pwt\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"ignoreFocusChange\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"startedFs\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"state\",{enumerable:!0,configurable:!0,writable:!0,value:rt.Init}),Object.defineProperty(this,\"id\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"container\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"caption\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"footer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"carousel\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"lastFocus\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"prevMouseMoveEvent\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),ye||(ye=ot()),this.id=e.id||++Me,Te.set(this.id,this),this.userSlides=t,this.userPlugins=i,queueMicrotask((()=>{this.init()}))}init(){if(this.state===rt.Destroy)return;this.state=rt.Init,this.attachPlugins(Object.assign(Object.assign({},Oe.Plugins),this.userPlugins)),this.emit(\"init\"),this.emit(\"attachPlugins\"),!0===this.option(\"hideScrollbar\")&&(()=>{if(!et)return;const t=document,e=t.body,i=t.documentElement;if(e.classList.contains(ie))return;let n=window.innerWidth-i.getBoundingClientRect().width;const s=parseFloat(window.getComputedStyle(e).marginRight);n<0&&(n=0),i.style.setProperty(ne,`${n}px`),s&&e.style.setProperty(se,`${s}px`),e.classList.add(ie)})(),this.initLayout(),this.scale();const t=()=>{this.initCarousel(this.userSlides),this.state=rt.Ready,this.attachEvents(),this.emit(\"ready\"),setTimeout((()=>{this.container&&this.container.setAttribute(oe,\"false\")}),16)};this.option(\"Fullscreen.autoStart\")&&ye&&!ye.isFullscreen()?ye.request().then((()=>{this.startedFs=!0,t()})).catch((()=>t())):t()}initLayout(){var t,e;const i=this.option(\"parentEl\")||document.body,s=n(this.localize(this.option(\"tpl.main\")||\"\"));if(s){if(s.setAttribute(\"id\",`fancybox-${this.id}`),s.setAttribute(\"aria-label\",this.localize(\"{{MODAL}}\")),s.classList.toggle(le,this.isCompact),P(s,this.option(\"mainClass\")||\"\"),P(s,he),this.container=s,this.footer=s.querySelector(\".fancybox__footer\"),i.appendChild(s),P(document.documentElement,ee),we&&xe||(we=document.createElement(\"span\"),P(we,\"fancybox-focus-guard\"),we.setAttribute(pe,\"0\"),we.setAttribute(oe,\"true\"),we.setAttribute(\"aria-label\",\"Focus guard\"),xe=we.cloneNode(),null===(t=s.parentElement)||void 0===t||t.insertBefore(we,s),null===(e=s.parentElement)||void 0===e||e.append(xe)),s.addEventListener(\"mousedown\",(t=>{Ee=t.pageX,Se=t.pageY,S(s,ae)})),this.option(\"closeExisting\"))for(const t of Te.values())t.id!==this.id&&t.close();else this.option(\"animated\")&&(P(s,re),setTimeout((()=>{this.isClosing()||S(s,re)}),350));this.emit(\"initLayout\")}}initCarousel(t){const i=this.container;if(!i)return;const n=i.querySelector(\".fancybox__carousel\");if(!n)return;const s=this.carousel=new Q(n,u({},{slides:t,transition:\"fade\",Panzoom:{lockAxis:this.option(\"dragToClose\")?\"xy\":\"x\",infinite:!!this.option(\"dragToClose\")&&\"y\"},Dots:!1,Navigation:{classes:{container:\"fancybox__nav\",button:\"f-button\",isNext:\"is-next\",isPrev:\"is-prev\"}},initialPage:this.option(\"startIndex\"),l10n:this.option(\"l10n\")},this.option(\"Carousel\")||{}));s.on(\"*\",((t,e,...i)=>{this.emit(`Carousel.${e}`,t,...i)})),s.on([\"ready\",\"change\"],(()=>{this.manageCaption()})),this.on(\"Carousel.removeSlide\",((t,e,i)=>{this.clearContent(i),i.state=void 0})),s.on(\"Panzoom.touchStart\",(()=>{var t,e;this.isCompact||this.endIdle(),(null===(t=document.activeElement)||void 0===t?void 0:t.closest(\".f-thumbs\"))&&(null===(e=this.container)||void 0===e||e.focus())})),s.on(\"settle\",(()=>{this.idleTimer||this.isCompact||!this.option(\"idle\")||this.setIdle(),this.option(\"autoFocus\")&&!this.isClosing&&this.checkFocus()})),this.option(\"dragToClose\")&&(s.on(\"Panzoom.afterTransform\",((t,i)=>{const n=this.getSlide();if(n&&e(n.el))return;const s=this.container;if(s){const t=Math.abs(i.current.f),e=t<1?\"\":Math.max(.5,Math.min(1,1-t/i.contentRect.fitHeight*1.5));s.style.setProperty(\"--fancybox-ts\",e?\"0s\":\"\"),s.style.setProperty(\"--fancybox-opacity\",e+\"\")}})),s.on(\"Panzoom.touchEnd\",((t,i,n)=>{var s;const o=this.getSlide();if(o&&e(o.el))return;if(i.isMobile&&document.activeElement&&-1!==[\"TEXTAREA\",\"INPUT\"].indexOf(null===(s=document.activeElement)||void 0===s?void 0:s.nodeName))return;const a=Math.abs(i.dragOffset.y);\"y\"===i.lockedAxis&&(a>=200||a>=50&&i.dragOffset.time<300)&&(n&&n.cancelable&&n.preventDefault(),this.close(n,\"f-throwOut\"+(i.current.f<0?\"Up\":\"Down\")))}))),s.on(\"change\",(t=>{var e;let i=null===(e=this.getSlide())||void 0===e?void 0:e.triggerEl;if(i){const e=new CustomEvent(\"slideTo\",{bubbles:!0,cancelable:!0,detail:t.page});i.dispatchEvent(e)}})),s.on([\"refresh\",\"change\"],(t=>{const e=this.container;if(!e)return;for(const i of e.querySelectorAll(\"[data-fancybox-current-index]\"))i.innerHTML=t.page+1;for(const i of e.querySelectorAll(\"[data-fancybox-count]\"))i.innerHTML=t.pages.length;if(!t.isInfinite){for(const i of e.querySelectorAll(\"[data-fancybox-next]\"))t.page<t.pages.length-1?(i.removeAttribute(ue),i.removeAttribute(pe)):(i.setAttribute(ue,\"\"),i.setAttribute(pe,\"-1\"));for(const i of e.querySelectorAll(\"[data-fancybox-prev]\"))t.page>0?(i.removeAttribute(ue),i.removeAttribute(pe)):(i.setAttribute(ue,\"\"),i.setAttribute(pe,\"-1\"))}const i=this.getSlide();if(!i)return;let n=i.downloadSrc||\"\";n||\"image\"!==i.type||i.error||!ve(i[me])||(n=i[me]);for(const t of e.querySelectorAll(\"[data-fancybox-download]\")){const e=i.downloadFilename;n?(t.removeAttribute(ue),t.removeAttribute(pe),t.setAttribute(ge,n),t.setAttribute(fe,e||n),t.setAttribute(\"target\",\"_blank\")):(t.setAttribute(ue,\"\"),t.setAttribute(pe,\"-1\"),t.removeAttribute(ge),t.removeAttribute(fe))}})),this.emit(\"initCarousel\")}attachEvents(){const t=this,e=t.container;if(!e)return;e.addEventListener(\"click\",t.onClick,{passive:!1,capture:!1}),e.addEventListener(\"wheel\",t.onWheel,{passive:!1,capture:!1}),document.addEventListener(\"keydown\",t.onKeydown,{passive:!1,capture:!0}),document.addEventListener(\"visibilitychange\",t.onVisibilityChange,!1),document.addEventListener(\"mousemove\",t.onMousemove),t.option(\"trapFocus\")&&document.addEventListener(\"focus\",t.onFocus,!0),window.addEventListener(\"resize\",t.onResize);const i=window.visualViewport;i&&(i.addEventListener(\"scroll\",t.onResize),i.addEventListener(\"resize\",t.onResize))}detachEvents(){const t=this,e=t.container;if(!e)return;document.removeEventListener(\"keydown\",t.onKeydown,{passive:!1,capture:!0}),e.removeEventListener(\"wheel\",t.onWheel,{passive:!1,capture:!1}),e.removeEventListener(\"click\",t.onClick,{passive:!1,capture:!1}),document.removeEventListener(\"mousemove\",t.onMousemove),window.removeEventListener(\"resize\",t.onResize);const i=window.visualViewport;i&&(i.removeEventListener(\"resize\",t.onResize),i.removeEventListener(\"scroll\",t.onResize)),document.removeEventListener(\"visibilitychange\",t.onVisibilityChange,!1),document.removeEventListener(\"focus\",t.onFocus,!0)}scale(){const t=this.container;if(!t)return;const e=window.visualViewport,i=Math.max(1,(null==e?void 0:e.scale)||1);let n=\"\",s=\"\",o=\"\";if(e&&i>1){let t=`${e.offsetLeft}px`,a=`${e.offsetTop}px`;n=e.width*i+\"px\",s=e.height*i+\"px\",o=`translate3d(${t}, ${a}, 0) scale(${1/i})`}t.style.transform=o,t.style.width=n,t.style.height=s}onClick(t){var e;const{container:i,isCompact:n}=this;if(!i||this.isClosing())return;!n&&this.option(\"idle\")&&this.resetIdle();const s=t.composedPath()[0];if(s.closest(\".fancybox-spinner\")||s.closest(\"[data-fancybox-close]\"))return t.preventDefault(),void this.close(t);if(s.closest(\"[data-fancybox-prev]\"))return t.preventDefault(),void this.prev();if(s.closest(\"[data-fancybox-next]\"))return t.preventDefault(),void this.next();if(\"click\"===t.type&&0===t.detail)return;if(Math.abs(t.pageX-Ee)>30||Math.abs(t.pageY-Se)>30)return;const o=document.activeElement;if(be()&&o&&i.contains(o))return;if(n&&\"image\"===(null===(e=this.getSlide())||void 0===e?void 0:e.type))return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((()=>{this.toggleIdle(),this.clickTimer=null}),350));if(this.emit(\"click\",t),t.defaultPrevented)return;let a=!1;if(s.closest(\".fancybox__content\")){if(o){if(o.closest(\"[contenteditable]\"))return;s.matches(nt)||o.blur()}if(be())return;a=this.option(\"contentClick\")}else s.closest(\".fancybox__carousel\")&&!s.matches(nt)&&(a=this.option(\"backdropClick\"));\"close\"===a?(t.preventDefault(),this.close(t)):\"next\"===a?(t.preventDefault(),this.next()):\"prev\"===a&&(t.preventDefault(),this.prev())}onWheel(t){const e=t.target;let n=this.option(\"wheel\",t);e.closest(\".fancybox__thumbs\")&&(n=\"slide\");const s=\"slide\"===n,o=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t})),a=Math.max(-1,Math.min(1,o)),r=Date.now();this.pwt&&r-this.pwt<300?s&&t.preventDefault():(this.pwt=r,this.emit(\"wheel\",t,a),t.defaultPrevented||(\"close\"===n?(t.preventDefault(),this.close(t)):\"slide\"===n&&(i(e)||(t.preventDefault(),this[a>0?\"prev\":\"next\"]()))))}onScroll(){window.scrollTo(Pe,Ce)}onKeydown(t){if(!this.isTopmost())return;this.isCompact||!this.option(\"idle\")||this.isClosing()||this.resetIdle();const e=t.key,i=this.option(\"keyboard\");if(!i)return;const n=t.composedPath()[0],s=document.activeElement&&document.activeElement.classList,o=s&&s.contains(\"f-button\")||n.dataset.carouselPage||n.dataset.carouselIndex;if(\"Escape\"!==e&&!o&&E(n)){if(n.isContentEditable||-1!==[\"TEXTAREA\",\"OPTION\",\"INPUT\",\"SELECT\",\"VIDEO\"].indexOf(n.nodeName))return}if(\"Tab\"===t.key?P(this.container,ae):S(this.container,ae),t.ctrlKey||t.altKey||t.shiftKey)return;this.emit(\"keydown\",e,t);const a=i[e];a&&\"function\"==typeof this[a]&&(t.preventDefault(),this[a]())}onResize(){const t=this.container;if(!t)return;const e=this.isCompact;t.classList.toggle(le,e),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit(\"resize\")}onFocus(t){this.isTopmost()&&this.checkFocus(t)}onMousemove(t){this.prevMouseMoveEvent=t,!this.isCompact&&this.option(\"idle\")&&this.resetIdle()}onVisibilityChange(){\"visible\"===document.visibilityState?this.checkFocus():this.endIdle()}manageCloseBtn(t){const e=this.optionFor(t,\"closeButton\")||!1;if(\"auto\"===e){const t=this.plugins.Toolbar;if(t&&t.state===Zt.Ready)return}if(!e)return;if(!t.contentEl||t.closeBtnEl)return;const i=this.option(\"tpl.closeButton\");if(i){const e=n(this.localize(i));t.closeBtnEl=t.contentEl.appendChild(e),t.el&&P(t.el,\"has-close-btn\")}}manageCaption(t=void 0){var e,i;const n=\"fancybox__caption\",s=this.container;if(!s)return;S(s,de);const o=this.isCompact||this.option(\"commonCaption\"),a=!o;if(this.caption&&this.stop(this.caption),a&&this.caption&&(this.caption.remove(),this.caption=null),o&&!this.caption)for(const t of(null===(e=this.carousel)||void 0===e?void 0:e.slides)||[])t.captionEl&&(t.captionEl.remove(),t.captionEl=void 0,S(t.el,de),null===(i=t.el)||void 0===i||i.removeAttribute(\"aria-labelledby\"));if(t||(t=this.getSlide()),!t||o&&!this.isCurrentSlide(t))return;const r=t.el;let l=this.optionFor(t,\"caption\",\"\");if(!l)return void(o&&this.caption&&this.animate(this.caption,\"f-fadeOut\",(()=>{this.caption&&(this.caption.innerHTML=\"\")})));let c=null;if(a){if(c=t.captionEl||null,r&&!c){const e=n+`_${this.id}_${t.index}`;c=document.createElement(\"div\"),P(c,n),c.setAttribute(\"id\",e),t.captionEl=r.appendChild(c),P(r,de),r.setAttribute(\"aria-labelledby\",e)}}else{if(c=this.caption,c||(c=s.querySelector(\".\"+n)),!c){c=document.createElement(\"div\"),c.dataset.fancyboxCaption=\"\",P(c,n);(this.footer||s).prepend(c)}P(s,de),this.caption=c}c&&(c.innerHTML=\"\",ve(l)||\"number\"==typeof l?c.innerHTML=l+\"\":l instanceof HTMLElement&&c.appendChild(l))}checkFocus(t){this.focus(t)}focus(t){var e;if(this.ignoreFocusChange)return;const i=document.activeElement||null,n=(null==t?void 0:t.target)||null,s=this.container,o=null===(e=this.carousel)||void 0===e?void 0:e.viewport;if(!s||!o)return;if(!t&&i&&s.contains(i))return;const a=this.getSlide(),r=a&&a.state===lt.Ready?a.el:null;if(!r||r.contains(i)||s===i)return;t&&t.cancelable&&t.preventDefault(),this.ignoreFocusChange=!0;const l=Array.from(s.querySelectorAll(nt));let c=[],h=null;for(let t of l){const e=!t.offsetParent||!!t.closest('[aria-hidden=\"true\"]'),i=r&&r.contains(t),n=!o.contains(t);if(t===s||(i||n)&&!e){c.push(t);const e=t.dataset.origTabindex;void 0!==e&&e&&(t.tabIndex=parseFloat(e)),t.removeAttribute(\"data-orig-tabindex\"),!t.hasAttribute(\"autoFocus\")&&h||(h=t)}else{const e=void 0===t.dataset.origTabindex?t.getAttribute(\"tabindex\")||\"\":t.dataset.origTabindex;e&&(t.dataset.origTabindex=e),t.tabIndex=-1}}let d=null;t?(!n||c.indexOf(n)<0)&&(d=h||s,c.length&&(i===xe?d=c[0]:this.lastFocus!==s&&i!==we||(d=c[c.length-1]))):d=a&&\"image\"===a.type?s:h||s,d&&st(d),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const t=this.carousel;t&&t.pages.length>1&&t.slideNext()}prev(){const t=this.carousel;t&&t.pages.length>1&&t.slidePrev()}jumpTo(...t){this.carousel&&this.carousel.slideTo(...t)}isTopmost(){var t;return(null===(t=Oe.getInstance())||void 0===t?void 0:t.id)==this.id}animate(t=null,e=\"\",i){if(!t||!e)return void(i&&i());this.stop(t);const n=s=>{s.target===t&&t.dataset.animationName&&(t.removeEventListener(\"animationend\",n),delete t.dataset.animationName,i&&i(),S(t,e))};t.dataset.animationName=e,t.addEventListener(\"animationend\",n),P(t,e)}stop(t){t&&t.dispatchEvent(new CustomEvent(\"animationend\",{bubbles:!1,cancelable:!0,currentTarget:t}))}setContent(t,e=\"\",i=!0){if(this.isClosing())return;const s=t.el;if(!s)return;let o=null;if(E(e)?o=e:(o=n(e+\"\"),E(o)||(o=document.createElement(\"div\"),o.innerHTML=e+\"\")),[\"img\",\"picture\",\"iframe\",\"video\",\"audio\"].includes(o.nodeName.toLowerCase())){const t=document.createElement(\"div\");t.appendChild(o),o=t}E(o)&&t.filter&&!t.error&&(o=o.querySelector(t.filter)),o&&E(o)?(P(o,\"fancybox__content\"),t.id&&o.setAttribute(\"id\",t.id),s.classList.add(`has-${t.error?\"error\":t.type||\"unknown\"}`),s.prepend(o),\"none\"===o.style.display&&(o.style.display=\"\"),\"none\"===getComputedStyle(o).getPropertyValue(\"display\")&&(o.style.display=t.display||this.option(\"defaultDisplay\")||\"flex\"),t.contentEl=o,i&&this.revealContent(t),this.manageCloseBtn(t),this.manageCaption(t)):this.setError(t,\"{{ELEMENT_NOT_FOUND}}\")}revealContent(t,e){const i=t.el,n=t.contentEl;i&&n&&(this.emit(\"reveal\",t),this.hideLoading(t),t.state=lt.Opening,(e=this.isOpeningSlide(t)?void 0===e?this.optionFor(t,\"showClass\"):e:\"f-fadeIn\")?this.animate(n,e,(()=>{this.done(t)})):this.done(t))}done(t){this.isClosing()||(t.state=lt.Ready,this.emit(\"done\",t),P(t.el,\"is-done\"),this.isCurrentSlide(t)&&this.option(\"autoFocus\")&&queueMicrotask((()=>{var e;null===(e=t.panzoom)||void 0===e||e.updateControls(),this.option(\"autoFocus\")&&this.focus()})),this.isOpeningSlide(t)&&(S(this.container,he),!this.isCompact&&this.option(\"idle\")&&this.setIdle()))}isCurrentSlide(t){const e=this.getSlide();return!(!t||!e)&&e.index===t.index}isOpeningSlide(t){var e,i;return null===(null===(e=this.carousel)||void 0===e?void 0:e.prevPage)&&t&&t.index===(null===(i=this.getSlide())||void 0===i?void 0:i.index)}showLoading(t){t.state=lt.Loading;const e=t.el;if(!e)return;P(e,ce),this.emit(\"loading\",t),t.spinnerEl||setTimeout((()=>{if(!this.isClosing()&&!t.spinnerEl&&t.state===lt.Loading){let i=n(x);P(i,\"fancybox-spinner\"),t.spinnerEl=i,e.prepend(i),this.animate(i,\"f-fadeIn\")}}),250)}hideLoading(t){const e=t.el;if(!e)return;const i=t.spinnerEl;this.isClosing()?null==i||i.remove():(S(e,ce),i&&this.animate(i,\"f-fadeOut\",(()=>{i.remove()})),t.state===lt.Loading&&(this.emit(\"loaded\",t),t.state=lt.Ready))}setError(t,e){if(this.isClosing())return;const i=new Event(\"error\",{bubbles:!0,cancelable:!0});if(this.emit(\"error\",i,t),i.defaultPrevented)return;t.error=e,this.hideLoading(t),this.clearContent(t);const n=document.createElement(\"div\");n.classList.add(\"fancybox-error\"),n.innerHTML=this.localize(e||\"<p>{{ERROR}}</p>\"),this.setContent(t,n)}clearContent(t){if(void 0===t.state)return;this.emit(\"clearContent\",t),t.contentEl&&(t.contentEl.remove(),t.contentEl=void 0);const e=t.el;e&&(S(e,\"has-error\"),S(e,\"has-unknown\"),S(e,`has-${t.type||\"unknown\"}`)),t.closeBtnEl&&t.closeBtnEl.remove(),t.closeBtnEl=void 0,t.captionEl&&t.captionEl.remove(),t.captionEl=void 0,t.spinnerEl&&t.spinnerEl.remove(),t.spinnerEl=void 0}getSlide(){var t;const e=this.carousel;return(null===(t=null==e?void 0:e.pages[null==e?void 0:e.page])||void 0===t?void 0:t.slides[0])||void 0}close(t,e){if(this.isClosing())return;const i=new Event(\"shouldClose\",{bubbles:!0,cancelable:!0});if(this.emit(\"shouldClose\",i,t),i.defaultPrevented)return;t&&t.cancelable&&(t.preventDefault(),t.stopPropagation());const n=()=>{this.proceedClose(t,e)};this.startedFs&&ye&&ye.isFullscreen()?Promise.resolve(ye.exit()).then((()=>n())):n()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(t=!1){const e=()=>{this.clearIdle(),this.idle=!0,P(this.container,\"is-idle\"),this.emit(\"setIdle\")};if(this.clearIdle(),!this.isClosing())if(t)e();else{const t=this.option(\"idle\");t&&(this.idleTimer=setTimeout(e,t))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,S(this.container,\"is-idle\"),this.emit(\"endIdle\"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){ye&&(ye.isFullscreen()?ye.exit():ye.request().then((()=>{this.startedFs=!0})))}isClosing(){return[rt.Closing,rt.CustomClosing,rt.Destroy].includes(this.state)}proceedClose(t,e){var i,n;this.state=rt.Closing,this.clearIdle(),this.detachEvents();const s=this.container,o=this.carousel,a=this.getSlide(),r=a&&this.option(\"placeFocusBack\")?a.triggerEl||this.option(\"triggerEl\"):null;if(r&&(tt(r)?st(r):r.focus()),s&&(S(s,he),P(s,\"is-closing\"),s.setAttribute(oe,\"true\"),this.option(\"animated\")&&P(s,re),s.style.pointerEvents=\"none\"),o){o.clearTransitions(),null===(i=o.panzoom)||void 0===i||i.destroy(),null===(n=o.plugins.Navigation)||void 0===n||n.detach();for(const t of o.slides){t.state=lt.Closing,this.hideLoading(t);const e=t.contentEl;e&&this.stop(e);const i=null==t?void 0:t.panzoom;i&&(i.stop(),i.detachEvents(),i.detachObserver()),this.isCurrentSlide(t)||o.emit(\"removeSlide\",t)}}Pe=window.scrollX,Ce=window.scrollY,window.addEventListener(\"scroll\",this.onScroll),this.emit(\"close\",t),this.state!==rt.CustomClosing?(void 0===e&&a&&(e=this.optionFor(a,\"hideClass\")),e&&a?(this.animate(a.contentEl,e,(()=>{o&&o.emit(\"removeSlide\",a)})),setTimeout((()=>{this.destroy()}),500)):this.destroy()):setTimeout((()=>{this.destroy()}),500)}destroy(){var t;if(this.state===rt.Destroy)return;window.removeEventListener(\"scroll\",this.onScroll),this.state=rt.Destroy,null===(t=this.carousel)||void 0===t||t.destroy();const e=this.container;e&&e.remove(),Te.delete(this.id);const i=Oe.getInstance();i?i.focus():(we&&(we.remove(),we=null),xe&&(xe.remove(),xe=null),S(document.documentElement,ee),(()=>{if(!et)return;const t=document,e=t.body;e.classList.remove(ie),e.style.setProperty(se,\"\"),t.documentElement.style.setProperty(ne,\"\")})(),this.emit(\"destroy\"))}static bind(t,e,i){if(!et)return;let n,s=\"\",o={};if(void 0===t?n=document.body:ve(t)?(n=document.body,s=t,\"object\"==typeof e&&(o=e||{})):(n=t,ve(e)&&(s=e),\"object\"==typeof i&&(o=i||{})),!n||!E(n))return;s=s||\"[data-fancybox]\";const a=Oe.openers.get(n)||new Map;a.set(s,o),Oe.openers.set(n,a),1===a.size&&n.addEventListener(\"click\",Oe.fromEvent)}static unbind(t,e){let i,n=\"\";if(ve(t)?(i=document.body,n=t):(i=t,ve(e)&&(n=e)),!i)return;const s=Oe.openers.get(i);s&&n&&s.delete(n),n&&s||(Oe.openers.delete(i),i.removeEventListener(\"click\",Oe.fromEvent))}static destroy(){let t;for(;t=Oe.getInstance();)t.destroy();for(const t of Oe.openers.keys())t.removeEventListener(\"click\",Oe.fromEvent);Oe.openers=new Map}static fromEvent(t){if(t.defaultPrevented)return;if(t.button&&0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey)return;let e=t.composedPath()[0];const i=e.closest(\"[data-fancybox-trigger]\");if(i){const t=i.dataset.fancyboxTrigger||\"\",n=document.querySelectorAll(`[data-fancybox=\"${t}\"]`),s=parseInt(i.dataset.fancyboxIndex||\"\",10)||0;e=n[s]||e}if(!(e&&e instanceof Element))return;let n,s,o,a;if([...Oe.openers].reverse().find((([t,i])=>!(!t.contains(e)||![...i].reverse().find((([i,r])=>{let l=e.closest(i);return!!l&&(n=t,s=i,o=l,a=r,!0)}))))),!n||!s||!o)return;a=a||{},t.preventDefault(),e=o;let r=[],l=u({},at,a);l.event=t,l.triggerEl=e,l.delegate=i;const c=l.groupAll,h=l.groupAttr,d=h&&e?e.getAttribute(`${h}`):\"\";if((!e||d||c)&&(r=[].slice.call(n.querySelectorAll(s))),e&&!c&&(r=d?r.filter((t=>t.getAttribute(`${h}`)===d)):[e]),!r.length)return;const p=Oe.getInstance();return p&&p.options.triggerEl&&r.indexOf(p.options.triggerEl)>-1?void 0:(e&&(l.startIndex=r.indexOf(e)),Oe.fromNodes(r,l))}static fromSelector(t,e,i){let n=null,s=\"\",o={};if(ve(t)?(n=document.body,s=t,\"object\"==typeof e&&(o=e||{})):t instanceof HTMLElement&&ve(e)&&(n=t,s=e,\"object\"==typeof i&&(o=i||{})),!n||!s)return!1;const a=Oe.openers.get(n);return!!a&&(o=u({},a.get(s)||{},o),!!o&&Oe.fromNodes(Array.from(n.querySelectorAll(s)),o))}static fromNodes(t,e){e=u({},at,e||{});const i=[];for(const n of t){const t=n.dataset||{},s=t[me]||n.getAttribute(ge)||n.getAttribute(\"currentSrc\")||n.getAttribute(me)||void 0;let o;const a=e.delegate;let r;a&&i.length===e.startIndex&&(o=a instanceof HTMLImageElement?a:a.querySelector(\"img:not([aria-hidden])\")),o||(o=n instanceof HTMLImageElement?n:n.querySelector(\"img:not([aria-hidden])\")),o&&(r=o.currentSrc||o[me]||void 0,!r&&o.dataset&&(r=o.dataset.lazySrc||o.dataset[me]||void 0));const l={src:s,triggerEl:n,thumbEl:o,thumbElSrc:r,thumbSrc:r};for(const e in t){let i=t[e]+\"\";i=\"false\"!==i&&(\"true\"===i||i),l[e]=i}i.push(l)}return new Oe(i,e)}static getInstance(t){if(t)return Te.get(t);return Array.from(Te.values()).reverse().find((t=>!t.isClosing()&&t))||null}static getSlide(){var t;return(null===(t=Oe.getInstance())||void 0===t?void 0:t.getSlide())||null}static show(t=[],e={}){return new Oe(t,e)}static next(){const t=Oe.getInstance();t&&t.next()}static prev(){const t=Oe.getInstance();t&&t.prev()}static close(t=!0,...e){if(t)for(const t of Te.values())t.close(...e);else{const t=Oe.getInstance();t&&t.close(...e)}}}Object.defineProperty(Oe,\"version\",{enumerable:!0,configurable:!0,writable:!0,value:\"5.0.36\"}),Object.defineProperty(Oe,\"defaults\",{enumerable:!0,configurable:!0,writable:!0,value:at}),Object.defineProperty(Oe,\"Plugins\",{enumerable:!0,configurable:!0,writable:!0,value:te}),Object.defineProperty(Oe,\"openers\",{enumerable:!0,configurable:!0,writable:!0,value:new Map});export{Q as Carousel,Oe as Fancybox,I as Panzoom};\n", "import { Controller } from \"@hotwired/stimulus\"\nimport {Fancybox} from \"@fancyapps/ui\";\n\nexport default class extends Controller {\n    connect() {\n        Fancybox.bind(\"[data-fancybox]\");\n    }\n}\n", "const Pagy = (() => {\n  const rjsObserver = new ResizeObserver((entries) => entries.forEach((e) => e.target.querySelectorAll(\".pagy-rjs\").forEach((el) => el.pagyRender())));\n  const initNav = (el, [tokens, sequels, labelSequels, trimParam]) => {\n    const container = el.parentElement ?? el;\n    const widths = Object.keys(sequels).map((w) => parseInt(w)).sort((a, b) => b - a);\n    let lastWidth = -1;\n    const fillIn = (a, page, label) => a.replace(/__pagy_page__/g, page).replace(/__pagy_label__/g, label);\n    (el.pagyRender = function() {\n      const width = widths.find((w) => w < container.clientWidth) || 0;\n      if (width === lastWidth) {\n        return;\n      }\n      let html = tokens.before;\n      const series = sequels[width.toString()];\n      const labels = labelSequels?.[width.toString()] ?? series.map((l) => l.toString());\n      series.forEach((item, i) => {\n        const label = labels[i];\n        let filled;\n        if (typeof item === \"number\") {\n          filled = fillIn(tokens.a, item.toString(), label);\n        } else if (item === \"gap\") {\n          filled = tokens.gap;\n        } else {\n          filled = fillIn(tokens.current, item, label);\n        }\n        html += typeof trimParam === \"string\" && item == 1 ? trim(filled, trimParam) : filled;\n      });\n      html += tokens.after;\n      el.innerHTML = \"\";\n      el.insertAdjacentHTML(\"afterbegin\", html);\n      lastWidth = width;\n    })();\n    if (el.classList.contains(\"pagy-rjs\")) {\n      rjsObserver.observe(container);\n    }\n  };\n  const initCombo = (el, [url_token, trimParam]) => initInput(el, (inputValue) => [inputValue, url_token.replace(/__pagy_page__/, inputValue)], trimParam);\n  const initSelector = (el, [from, url_token, trimParam]) => {\n    initInput(el, (inputValue) => {\n      const page = Math.max(Math.ceil(from / parseInt(inputValue)), 1).toString();\n      const url = url_token.replace(/__pagy_page__/, page).replace(/__pagy_items__/, inputValue);\n      return [page, url];\n    }, trimParam);\n  };\n  const initInput = (el, getVars, trimParam) => {\n    const input = el.querySelector(\"input\");\n    const link = el.querySelector(\"a\");\n    const initial = input.value;\n    const action = function() {\n      if (input.value === initial) {\n        return;\n      }\n      const [min, val, max] = [input.min, input.value, input.max].map((n) => parseInt(n) || 0);\n      if (val < min || val > max) {\n        input.value = initial;\n        input.select();\n        return;\n      }\n      let [page, url] = getVars(input.value);\n      if (typeof trimParam === \"string\" && page === \"1\") {\n        url = trim(url, trimParam);\n      }\n      link.href = url;\n      link.click();\n    };\n    [\"change\", \"focus\"].forEach((e) => input.addEventListener(e, () => input.select()));\n    input.addEventListener(\"focusout\", action);\n    input.addEventListener(\"keypress\", (e) => {\n      if (e.key === \"Enter\") {\n        action();\n      }\n    });\n  };\n  const trim = (a, param) => a.replace(new RegExp(`[?&]${param}=1\\\\b(?!&)|\\\\b${param}=1&`), \"\");\n  return {\n    version: \"8.6.3\",\n    init(arg) {\n      const target = arg instanceof Element ? arg : document;\n      const elements = target.querySelectorAll(\"[data-pagy]\");\n      for (const el of elements) {\n        try {\n          const uint8array = Uint8Array.from(atob(el.getAttribute(\"data-pagy\")), (c) => c.charCodeAt(0));\n          const [keyword, ...args] = JSON.parse(new TextDecoder().decode(uint8array));\n          if (keyword === \"nav\") {\n            initNav(el, args);\n          } else if (keyword === \"combo\") {\n            initCombo(el, args);\n          } else if (keyword === \"selector\") {\n            initSelector(el, args);\n          } else {\n            console.warn(\"Skipped Pagy.init() for: %o\\nUnknown keyword '%s'\", el, keyword);\n          }\n        } catch (err) {\n          console.warn(\"Skipped Pagy.init() for: %o\\n%s\", el, err);\n        }\n      }\n    }\n  };\n})();\nexport default Pagy;\n", "import { Controller } from \"@hotwired/stimulus\";\nimport Pagy from \"../others/pagy.mjs\";\n\nexport default class extends Controller {\n    connect() {\n        Pagy.init(this.element);\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\";\n\nexport default class extends Controller {\n    static targets = [\"map\", \"addresses\"];\n\n    connect() {\n        ymaps.ready(() => {\n            this.initMap();\n            this.processAddresses();\n        });\n    }\n\n    initMap() {\n        this.myMap = new ymaps.Map(this.mapTarget, {\n            center: [55.753994, 37.622093],\n            zoom: 10,\n            controls: ['zoomControl', 'fullscreenControl']\n        });\n    }\n\n    processAddresses() {\n        const addresses = this.addressesTarget.querySelectorAll('span');\n        addresses.forEach((address) => {\n            const cityName = address.textContent.trim();\n            this.addCityToMap(cityName);\n        });\n    }\n\n    addCityToMap(cityName) {\n        if (!this.myMap) return console.error('\u041A\u0430\u0440\u0442\u0430 \u0435\u0449\u0435 \u043D\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u0430');\n\n        ymaps.geocode(cityName, {\n            results: 1\n        }).then((res) => {\n            let firstGeoObject = res.geoObjects.get(0),\n                coords = firstGeoObject.geometry.getCoordinates(),\n                bounds = firstGeoObject.properties.get('boundedBy');\n            firstGeoObject.options.set('preset', 'islands#darkBlueDotIconWithCaption');\n            firstGeoObject.properties.set('iconCaption', firstGeoObject.getAddressLine());\n\n            this.myMap.geoObjects.add(firstGeoObject);\n            this.myMap.setBounds(this.myMap.geoObjects.getBounds(), {\n                checkZoomRange: true\n            });\n        });\n    }\n}\n", "/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n  return obj !== null && typeof obj === 'object' && 'constructor' in obj && obj.constructor === Object;\n}\nfunction extend(target, src) {\n  if (target === void 0) {\n    target = {};\n  }\n  if (src === void 0) {\n    src = {};\n  }\n  Object.keys(src).forEach(key => {\n    if (typeof target[key] === 'undefined') target[key] = src[key];else if (isObject(src[key]) && isObject(target[key]) && Object.keys(src[key]).length > 0) {\n      extend(target[key], src[key]);\n    }\n  });\n}\nconst ssrDocument = {\n  body: {},\n  addEventListener() {},\n  removeEventListener() {},\n  activeElement: {\n    blur() {},\n    nodeName: ''\n  },\n  querySelector() {\n    return null;\n  },\n  querySelectorAll() {\n    return [];\n  },\n  getElementById() {\n    return null;\n  },\n  createEvent() {\n    return {\n      initEvent() {}\n    };\n  },\n  createElement() {\n    return {\n      children: [],\n      childNodes: [],\n      style: {},\n      setAttribute() {},\n      getElementsByTagName() {\n        return [];\n      }\n    };\n  },\n  createElementNS() {\n    return {};\n  },\n  importNode() {\n    return null;\n  },\n  location: {\n    hash: '',\n    host: '',\n    hostname: '',\n    href: '',\n    origin: '',\n    pathname: '',\n    protocol: '',\n    search: ''\n  }\n};\nfunction getDocument() {\n  const doc = typeof document !== 'undefined' ? document : {};\n  extend(doc, ssrDocument);\n  return doc;\n}\nconst ssrWindow = {\n  document: ssrDocument,\n  navigator: {\n    userAgent: ''\n  },\n  location: {\n    hash: '',\n    host: '',\n    hostname: '',\n    href: '',\n    origin: '',\n    pathname: '',\n    protocol: '',\n    search: ''\n  },\n  history: {\n    replaceState() {},\n    pushState() {},\n    go() {},\n    back() {}\n  },\n  CustomEvent: function CustomEvent() {\n    return this;\n  },\n  addEventListener() {},\n  removeEventListener() {},\n  getComputedStyle() {\n    return {\n      getPropertyValue() {\n        return '';\n      }\n    };\n  },\n  Image() {},\n  Date() {},\n  screen: {},\n  setTimeout() {},\n  clearTimeout() {},\n  matchMedia() {\n    return {};\n  },\n  requestAnimationFrame(callback) {\n    if (typeof setTimeout === 'undefined') {\n      callback();\n      return null;\n    }\n    return setTimeout(callback, 0);\n  },\n  cancelAnimationFrame(id) {\n    if (typeof setTimeout === 'undefined') {\n      return;\n    }\n    clearTimeout(id);\n  }\n};\nfunction getWindow() {\n  const win = typeof window !== 'undefined' ? window : {};\n  extend(win, ssrWindow);\n  return win;\n}\n\nexport { getWindow as a, getDocument as g };\n", "import { a as getWindow, g as getDocument } from './ssr-window.esm.mjs';\n\nfunction classesToTokens(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n  return classes.trim().split(' ').filter(c => !!c.trim());\n}\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {\n      // no getter for object\n    }\n    try {\n      delete object[key];\n    } catch (e) {\n      // something got wrong\n    }\n  });\n}\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n  return setTimeout(callback, delay);\n}\nfunction now() {\n  return Date.now();\n}\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n  if (!style) {\n    style = el.style;\n  }\n  return style;\n}\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el);\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    }\n    // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41;\n    // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]);\n    // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42;\n    // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]);\n    // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n  return curTransform || 0;\n}\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\nfunction extend() {\n  const to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n  for (let i = 1; i < arguments.length; i += 1) {\n    const nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n  return to;\n}\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\nfunction animateCSSModeScroll(_ref) {\n  let {\n    swiper,\n    targetPosition,\n    side\n  } = _ref;\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n  const animate = () => {\n    time = new Date().getTime();\n    if (startTime === null) {\n      startTime = time;\n    }\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n  animate();\n}\nfunction getSlideTransformEl(slideEl) {\n  return slideEl.querySelector('.swiper-slide-transform') || slideEl.shadowRoot && slideEl.shadowRoot.querySelector('.swiper-slide-transform') || slideEl;\n}\nfunction elementChildren(element, selector) {\n  if (selector === void 0) {\n    selector = '';\n  }\n  const children = [...element.children];\n  if (element instanceof HTMLSlotElement) {\n    children.push(...element.assignedElements());\n  }\n  if (!selector) {\n    return children;\n  }\n  return children.filter(el => el.matches(selector));\n}\nfunction elementIsChildOf(el, parent) {\n  const isChild = parent.contains(el);\n  if (!isChild && parent instanceof HTMLSlotElement) {\n    const children = [...parent.assignedElements()];\n    return children.includes(el);\n  }\n  return isChild;\n}\nfunction showWarning(text) {\n  try {\n    console.warn(text);\n    return;\n  } catch (err) {\n    // err\n  }\n}\nfunction createElement(tag, classes) {\n  if (classes === void 0) {\n    classes = [];\n  }\n  const el = document.createElement(tag);\n  el.classList.add(...(Array.isArray(classes) ? classes : classesToTokens(classes)));\n  return el;\n}\nfunction elementOffset(el) {\n  const window = getWindow();\n  const document = getDocument();\n  const box = el.getBoundingClientRect();\n  const body = document.body;\n  const clientTop = el.clientTop || body.clientTop || 0;\n  const clientLeft = el.clientLeft || body.clientLeft || 0;\n  const scrollTop = el === window ? window.scrollY : el.scrollTop;\n  const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n  return {\n    top: box.top + scrollTop - clientTop,\n    left: box.left + scrollLeft - clientLeft\n  };\n}\nfunction elementPrevAll(el, selector) {\n  const prevEls = [];\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n    if (selector) {\n      if (prev.matches(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n    el = prev;\n  }\n  return prevEls;\n}\nfunction elementNextAll(el, selector) {\n  const nextEls = [];\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n    if (selector) {\n      if (next.matches(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n    el = next;\n  }\n  return nextEls;\n}\nfunction elementStyle(el, prop) {\n  const window = getWindow();\n  return window.getComputedStyle(el, null).getPropertyValue(prop);\n}\nfunction elementIndex(el) {\n  let child = el;\n  let i;\n  if (child) {\n    i = 0;\n    // eslint-disable-next-line\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n    return i;\n  }\n  return undefined;\n}\nfunction elementParents(el, selector) {\n  const parents = []; // eslint-disable-line\n  let parent = el.parentElement; // eslint-disable-line\n  while (parent) {\n    if (selector) {\n      if (parent.matches(selector)) parents.push(parent);\n    } else {\n      parents.push(parent);\n    }\n    parent = parent.parentElement;\n  }\n  return parents;\n}\nfunction elementTransitionEnd(el, callback) {\n  function fireCallBack(e) {\n    if (e.target !== el) return;\n    callback.call(el, e);\n    el.removeEventListener('transitionend', fireCallBack);\n  }\n  if (callback) {\n    el.addEventListener('transitionend', fireCallBack);\n  }\n}\nfunction elementOuterSize(el, size, includeMargins) {\n  const window = getWindow();\n  if (includeMargins) {\n    return el[size === 'width' ? 'offsetWidth' : 'offsetHeight'] + parseFloat(window.getComputedStyle(el, null).getPropertyValue(size === 'width' ? 'margin-right' : 'margin-top')) + parseFloat(window.getComputedStyle(el, null).getPropertyValue(size === 'width' ? 'margin-left' : 'margin-bottom'));\n  }\n  return el.offsetWidth;\n}\nfunction makeElementsArray(el) {\n  return (Array.isArray(el) ? el : [el]).filter(e => !!e);\n}\nfunction getRotateFix(swiper) {\n  return v => {\n    if (Math.abs(v) > 0 && swiper.browser && swiper.browser.need3dFix && Math.abs(v) % 90 === 0) {\n      return v + 0.001;\n    }\n    return v;\n  };\n}\n\nexport { elementParents as a, elementOffset as b, createElement as c, now as d, elementChildren as e, elementOuterSize as f, getSlideTransformEl as g, elementIndex as h, classesToTokens as i, getTranslate as j, elementTransitionEnd as k, isObject as l, makeElementsArray as m, nextTick as n, getRotateFix as o, elementStyle as p, elementNextAll as q, elementPrevAll as r, setCSSProperty as s, animateCSSModeScroll as t, showWarning as u, elementIsChildOf as v, extend as w, deleteProps as x };\n", "import { a as getWindow, g as getDocument } from './ssr-window.esm.mjs';\nimport { a as elementParents, p as elementStyle, e as elementChildren, s as setCSSProperty, f as elementOuterSize, q as elementNextAll, r as elementPrevAll, j as getTranslate, t as animateCSSModeScroll, n as nextTick, u as showWarning, c as createElement, v as elementIsChildOf, d as now, w as extend, h as elementIndex, x as deleteProps } from './utils.mjs';\n\nlet support;\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && document.documentElement.style && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch)\n  };\n}\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n  return support;\n}\n\nlet deviceCached;\nfunction calcDevice(_temp) {\n  let {\n    userAgent\n  } = _temp === void 0 ? {} : _temp;\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel';\n\n  // iPadOs 13 fix\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  }\n\n  // Android\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  }\n\n  // Export object\n  return device;\n}\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n  return deviceCached;\n}\n\nlet browser;\nfunction calcBrowser() {\n  const window = getWindow();\n  const device = getDevice();\n  let needPerspectiveFix = false;\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n  if (isSafari()) {\n    const ua = String(window.navigator.userAgent);\n    if (ua.includes('Version/')) {\n      const [major, minor] = ua.split('Version/')[1].split(' ')[0].split('.').map(num => Number(num));\n      needPerspectiveFix = major < 16 || major === 16 && minor < 2;\n    }\n  }\n  const isWebView = /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent);\n  const isSafariBrowser = isSafari();\n  const need3dFix = isSafariBrowser || isWebView && device.ios;\n  return {\n    isSafari: needPerspectiveFix || isSafariBrowser,\n    needPerspectiveFix,\n    need3dFix,\n    isWebView\n  };\n}\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n  return browser;\n}\n\nfunction Resize(_ref) {\n  let {\n    swiper,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(_ref2 => {\n          let {\n            contentBoxSize,\n            contentRect,\n            target\n          } = _ref2;\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}\n\nfunction Observer(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const observers = [];\n  const window = getWindow();\n  const attach = function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (swiper.__preventObserver__) return;\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: swiper.isElement || (typeof options.childList === 'undefined' ? true : options).childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n  const init = () => {\n    if (!swiper.params.observer) return;\n    if (swiper.params.observeParents) {\n      const containerParents = elementParents(swiper.hostEl);\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    }\n    // Observe container\n    attach(swiper.hostEl, {\n      childList: swiper.params.observeSlideChildren\n    });\n\n    // Observe wrapper\n    attach(swiper.wrapperEl, {\n      attributes: false\n    });\n  };\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}\n\n/* eslint-disable no-underscore-dangle */\n\nvar eventsEmitter = {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    function onceHandler() {\n      self.off(events, onceHandler);\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      handler.apply(self, args);\n    }\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n    return self;\n  },\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n    return self;\n  },\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n  emit() {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n};\n\nfunction updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const el = swiper.el;\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = el.clientWidth;\n  }\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = el.clientHeight;\n  }\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  }\n\n  // Subtract paddings\n  width = width - parseInt(elementStyle(el, 'padding-left') || 0, 10) - parseInt(elementStyle(el, 'padding-right') || 0, 10);\n  height = height - parseInt(elementStyle(el, 'padding-top') || 0, 10) - parseInt(elementStyle(el, 'padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}\n\nfunction updateSlides() {\n  const swiper = this;\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(swiper.getDirectionLabel(label)) || 0);\n  }\n  const params = swiper.params;\n  const {\n    wrapperEl,\n    slidesEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = elementChildren(slidesEl, `.${swiper.params.slideClass}, swiper-slide`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n  let offsetAfter = params.slidesOffsetAfter;\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  } else if (typeof spaceBetween === 'string') {\n    spaceBetween = parseFloat(spaceBetween);\n  }\n  swiper.virtualSize = -spaceBetween;\n\n  // reset margins\n  slides.forEach(slideEl => {\n    if (rtl) {\n      slideEl.style.marginLeft = '';\n    } else {\n      slideEl.style.marginRight = '';\n    }\n    slideEl.style.marginBottom = '';\n    slideEl.style.marginTop = '';\n  });\n\n  // reset cssMode offsets\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-after', '');\n  }\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n  if (gridEnabled) {\n    swiper.grid.initSlides(slides);\n  } else if (swiper.grid) {\n    swiper.grid.unsetSlides();\n  }\n\n  // Calc slides\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    let slide;\n    if (slides[i]) slide = slides[i];\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slides);\n    }\n    if (slides[i] && elementStyle(slide, 'display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[swiper.getDirectionLabel('width')] = ``;\n      }\n      const slideStyles = getComputedStyle(slide);\n      const currentTransform = slide.style.transform;\n      const currentWebKitTransform = slide.style.webkitTransform;\n      if (currentTransform) {\n        slide.style.transform = 'none';\n      }\n      if (currentWebKitTransform) {\n        slide.style.webkitTransform = 'none';\n      }\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? elementOuterSize(slide, 'width', true) : elementOuterSize(slide, 'height', true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide;\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n      if (currentTransform) {\n        slide.style.transform = currentTransform;\n      }\n      if (currentWebKitTransform) {\n        slide.style.webkitTransform = currentWebKitTransform;\n      }\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n      if (slides[i]) {\n        slides[i].style[swiper.getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n    slidesSizesGrid.push(slideSize);\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    wrapperEl.style.width = `${swiper.virtualSize + spaceBetween}px`;\n  }\n  if (params.setWrapperSize) {\n    wrapperEl.style[swiper.getDirectionLabel('width')] = `${swiper.virtualSize + spaceBetween}px`;\n  }\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid);\n  }\n\n  // Remove last grid elements depending on width\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n    snapGrid = newSlidesGrid;\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n  if (isVirtual && params.loop) {\n    const size = slidesSizesGrid[0] + spaceBetween;\n    if (params.slidesPerGroup > 1) {\n      const groups = Math.ceil((swiper.virtual.slidesBefore + swiper.virtual.slidesAfter) / params.slidesPerGroup);\n      const groupSize = size * params.slidesPerGroup;\n      for (let i = 0; i < groups; i += 1) {\n        snapGrid.push(snapGrid[snapGrid.length - 1] + groupSize);\n      }\n    }\n    for (let i = 0; i < swiper.virtual.slidesBefore + swiper.virtual.slidesAfter; i += 1) {\n      if (params.slidesPerGroup === 1) {\n        snapGrid.push(snapGrid[snapGrid.length - 1] + size);\n      }\n      slidesGrid.push(slidesGrid[slidesGrid.length - 1] + size);\n      swiper.virtualSize += size;\n    }\n  }\n  if (snapGrid.length === 0) snapGrid = [0];\n  if (spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : swiper.getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode || params.loop) return true;\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n      return true;\n    }).forEach(slideEl => {\n      slideEl.style[key] = `${spaceBetween}px`;\n    });\n  }\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (spaceBetween || 0);\n    });\n    allSlidesSize -= spaceBetween;\n    const maxSnap = allSlidesSize > swiperSize ? allSlidesSize - swiperSize : 0;\n    snapGrid = snapGrid.map(snap => {\n      if (snap <= 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (spaceBetween || 0);\n    });\n    allSlidesSize -= spaceBetween;\n    const offsetSize = (params.slidesOffsetBefore || 0) + (params.slidesOffsetAfter || 0);\n    if (allSlidesSize + offsetSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize - offsetSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n  swiper.emit('slidesUpdated');\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.el.classList.contains(backFaceHiddenClass);\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.el.classList.add(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.el.classList.remove(backFaceHiddenClass);\n    }\n  }\n}\n\nfunction updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides[swiper.getSlideIndexByData(index)];\n    }\n    return swiper.slides[index];\n  };\n  // Find slides currently in view\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || []).forEach(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  }\n\n  // Find new height from highest slide in view\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  }\n\n  // Update Height\n  if (newHeight || newHeight === 0) swiper.wrapperEl.style.height = `${newHeight}px`;\n}\n\nfunction updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n  // eslint-disable-next-line\n  const minusOffset = swiper.isElement ? swiper.isHorizontal() ? swiper.wrapperEl.offsetLeft : swiper.wrapperEl.offsetTop : 0;\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = (swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop) - minusOffset - swiper.cssOverflowAdjustment();\n  }\n}\n\nconst toggleSlideClasses$1 = (slideEl, condition, className) => {\n  if (condition && !slideEl.classList.contains(className)) {\n    slideEl.classList.add(className);\n  } else if (!condition && slideEl.classList.contains(className)) {\n    slideEl.classList.remove(className);\n  }\n};\nfunction updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate;\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n  let spaceBetween = params.spaceBetween;\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiper.size;\n  } else if (typeof spaceBetween === 'string') {\n    spaceBetween = parseFloat(spaceBetween);\n  }\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isFullyVisible = slideBefore >= 0 && slideBefore <= swiper.size - swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n    }\n    toggleSlideClasses$1(slide, isVisible, params.slideVisibleClass);\n    toggleSlideClasses$1(slide, isFullyVisible, params.slideFullyVisibleClass);\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n}\n\nfunction updateProgress(translate) {\n  const swiper = this;\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1;\n    // eslint-disable-next-line\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd,\n    progressLoop\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    const isBeginningRounded = Math.abs(translate - swiper.minTranslate()) < 1;\n    const isEndRounded = Math.abs(translate - swiper.maxTranslate()) < 1;\n    isBeginning = isBeginningRounded || progress <= 0;\n    isEnd = isEndRounded || progress >= 1;\n    if (isBeginningRounded) progress = 0;\n    if (isEndRounded) progress = 1;\n  }\n  if (params.loop) {\n    const firstSlideIndex = swiper.getSlideIndexByData(0);\n    const lastSlideIndex = swiper.getSlideIndexByData(swiper.slides.length - 1);\n    const firstSlideTranslate = swiper.slidesGrid[firstSlideIndex];\n    const lastSlideTranslate = swiper.slidesGrid[lastSlideIndex];\n    const translateMax = swiper.slidesGrid[swiper.slidesGrid.length - 1];\n    const translateAbs = Math.abs(translate);\n    if (translateAbs >= firstSlideTranslate) {\n      progressLoop = (translateAbs - firstSlideTranslate) / translateMax;\n    } else {\n      progressLoop = (translateAbs + translateMax - lastSlideTranslate) / translateMax;\n    }\n    if (progressLoop > 1) progressLoop -= 1;\n  }\n  Object.assign(swiper, {\n    progress,\n    progressLoop,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n  swiper.emit('progress', progress);\n}\n\nconst toggleSlideClasses = (slideEl, condition, className) => {\n  if (condition && !slideEl.classList.contains(className)) {\n    slideEl.classList.add(className);\n  } else if (!condition && slideEl.classList.contains(className)) {\n    slideEl.classList.remove(className);\n  }\n};\nfunction updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    slidesEl,\n    activeIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n  const getFilteredSlide = selector => {\n    return elementChildren(slidesEl, `.${params.slideClass}${selector}, swiper-slide${selector}`)[0];\n  };\n  let activeSlide;\n  let prevSlide;\n  let nextSlide;\n  if (isVirtual) {\n    if (params.loop) {\n      let slideIndex = activeIndex - swiper.virtual.slidesBefore;\n      if (slideIndex < 0) slideIndex = swiper.virtual.slides.length + slideIndex;\n      if (slideIndex >= swiper.virtual.slides.length) slideIndex -= swiper.virtual.slides.length;\n      activeSlide = getFilteredSlide(`[data-swiper-slide-index=\"${slideIndex}\"]`);\n    } else {\n      activeSlide = getFilteredSlide(`[data-swiper-slide-index=\"${activeIndex}\"]`);\n    }\n  } else {\n    if (gridEnabled) {\n      activeSlide = slides.filter(slideEl => slideEl.column === activeIndex)[0];\n      nextSlide = slides.filter(slideEl => slideEl.column === activeIndex + 1)[0];\n      prevSlide = slides.filter(slideEl => slideEl.column === activeIndex - 1)[0];\n    } else {\n      activeSlide = slides[activeIndex];\n    }\n  }\n  if (activeSlide) {\n    if (!gridEnabled) {\n      // Next Slide\n      nextSlide = elementNextAll(activeSlide, `.${params.slideClass}, swiper-slide`)[0];\n      if (params.loop && !nextSlide) {\n        nextSlide = slides[0];\n      }\n\n      // Prev Slide\n      prevSlide = elementPrevAll(activeSlide, `.${params.slideClass}, swiper-slide`)[0];\n      if (params.loop && !prevSlide === 0) {\n        prevSlide = slides[slides.length - 1];\n      }\n    }\n  }\n  slides.forEach(slideEl => {\n    toggleSlideClasses(slideEl, slideEl === activeSlide, params.slideActiveClass);\n    toggleSlideClasses(slideEl, slideEl === nextSlide, params.slideNextClass);\n    toggleSlideClasses(slideEl, slideEl === prevSlide, params.slidePrevClass);\n  });\n  swiper.emitSlidesClasses();\n}\n\nconst processLazyPreloader = (swiper, imageEl) => {\n  if (!swiper || swiper.destroyed || !swiper.params) return;\n  const slideSelector = () => swiper.isElement ? `swiper-slide` : `.${swiper.params.slideClass}`;\n  const slideEl = imageEl.closest(slideSelector());\n  if (slideEl) {\n    let lazyEl = slideEl.querySelector(`.${swiper.params.lazyPreloaderClass}`);\n    if (!lazyEl && swiper.isElement) {\n      if (slideEl.shadowRoot) {\n        lazyEl = slideEl.shadowRoot.querySelector(`.${swiper.params.lazyPreloaderClass}`);\n      } else {\n        // init later\n        requestAnimationFrame(() => {\n          if (slideEl.shadowRoot) {\n            lazyEl = slideEl.shadowRoot.querySelector(`.${swiper.params.lazyPreloaderClass}`);\n            if (lazyEl) lazyEl.remove();\n          }\n        });\n      }\n    }\n    if (lazyEl) lazyEl.remove();\n  }\n};\nconst unlazy = (swiper, index) => {\n  if (!swiper.slides[index]) return;\n  const imageEl = swiper.slides[index].querySelector('[loading=\"lazy\"]');\n  if (imageEl) imageEl.removeAttribute('loading');\n};\nconst preload = swiper => {\n  if (!swiper || swiper.destroyed || !swiper.params) return;\n  let amount = swiper.params.lazyPreloadPrevNext;\n  const len = swiper.slides.length;\n  if (!len || !amount || amount < 0) return;\n  amount = Math.min(amount, len);\n  const slidesPerView = swiper.params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(swiper.params.slidesPerView);\n  const activeIndex = swiper.activeIndex;\n  if (swiper.params.grid && swiper.params.grid.rows > 1) {\n    const activeColumn = activeIndex;\n    const preloadColumns = [activeColumn - amount];\n    preloadColumns.push(...Array.from({\n      length: amount\n    }).map((_, i) => {\n      return activeColumn + slidesPerView + i;\n    }));\n    swiper.slides.forEach((slideEl, i) => {\n      if (preloadColumns.includes(slideEl.column)) unlazy(swiper, i);\n    });\n    return;\n  }\n  const slideIndexLastInView = activeIndex + slidesPerView - 1;\n  if (swiper.params.rewind || swiper.params.loop) {\n    for (let i = activeIndex - amount; i <= slideIndexLastInView + amount; i += 1) {\n      const realIndex = (i % len + len) % len;\n      if (realIndex < activeIndex || realIndex > slideIndexLastInView) unlazy(swiper, realIndex);\n    }\n  } else {\n    for (let i = Math.max(activeIndex - amount, 0); i <= Math.min(slideIndexLastInView + amount, len - 1); i += 1) {\n      if (i !== activeIndex && (i > slideIndexLastInView || i < activeIndex)) {\n        unlazy(swiper, i);\n      }\n    }\n  }\n};\n\nfunction getActiveIndexByTranslate(swiper) {\n  const {\n    slidesGrid,\n    params\n  } = swiper;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  let activeIndex;\n  for (let i = 0; i < slidesGrid.length; i += 1) {\n    if (typeof slidesGrid[i + 1] !== 'undefined') {\n      if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n        activeIndex = i;\n      } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n        activeIndex = i + 1;\n      }\n    } else if (translate >= slidesGrid[i]) {\n      activeIndex = i;\n    }\n  }\n  // Normalize slideIndex\n  if (params.normalizeSlideIndex) {\n    if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n  }\n  return activeIndex;\n}\nfunction updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n  const getVirtualRealIndex = aIndex => {\n    let realIndex = aIndex - swiper.virtual.slidesBefore;\n    if (realIndex < 0) {\n      realIndex = swiper.virtual.slides.length + realIndex;\n    }\n    if (realIndex >= swiper.virtual.slides.length) {\n      realIndex -= swiper.virtual.slides.length;\n    }\n    return realIndex;\n  };\n  if (typeof activeIndex === 'undefined') {\n    activeIndex = getActiveIndexByTranslate(swiper);\n  }\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  if (activeIndex === previousIndex && !swiper.params.loop) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n    return;\n  }\n  if (activeIndex === previousIndex && swiper.params.loop && swiper.virtual && swiper.params.virtual.enabled) {\n    swiper.realIndex = getVirtualRealIndex(activeIndex);\n    return;\n  }\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n\n  // Get real index\n  let realIndex;\n  if (swiper.virtual && params.virtual.enabled && params.loop) {\n    realIndex = getVirtualRealIndex(activeIndex);\n  } else if (gridEnabled) {\n    const firstSlideInColumn = swiper.slides.filter(slideEl => slideEl.column === activeIndex)[0];\n    let activeSlideIndex = parseInt(firstSlideInColumn.getAttribute('data-swiper-slide-index'), 10);\n    if (Number.isNaN(activeSlideIndex)) {\n      activeSlideIndex = Math.max(swiper.slides.indexOf(firstSlideInColumn), 0);\n    }\n    realIndex = Math.floor(activeSlideIndex / params.grid.rows);\n  } else if (swiper.slides[activeIndex]) {\n    const slideIndex = swiper.slides[activeIndex].getAttribute('data-swiper-slide-index');\n    if (slideIndex) {\n      realIndex = parseInt(slideIndex, 10);\n    } else {\n      realIndex = activeIndex;\n    }\n  } else {\n    realIndex = activeIndex;\n  }\n  Object.assign(swiper, {\n    previousSnapIndex,\n    snapIndex,\n    previousRealIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  if (swiper.initialized) {\n    preload(swiper);\n  }\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    if (previousRealIndex !== realIndex) {\n      swiper.emit('realIndexChange');\n    }\n    swiper.emit('slideChange');\n  }\n}\n\nfunction updateClickedSlide(el, path) {\n  const swiper = this;\n  const params = swiper.params;\n  let slide = el.closest(`.${params.slideClass}, swiper-slide`);\n  if (!slide && swiper.isElement && path && path.length > 1 && path.includes(el)) {\n    [...path.slice(path.indexOf(el) + 1, path.length)].forEach(pathEl => {\n      if (!slide && pathEl.matches && pathEl.matches(`.${params.slideClass}, swiper-slide`)) {\n        slide = pathEl;\n      }\n    });\n  }\n  let slideFound = false;\n  let slideIndex;\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt(slide.getAttribute('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}\n\nvar update = {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};\n\nfunction getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    wrapperEl\n  } = swiper;\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n  if (params.cssMode) {\n    return translate;\n  }\n  let currentTranslate = getTranslate(wrapperEl, axis);\n  currentTranslate += swiper.cssOverflowAdjustment();\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}\n\nfunction setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y;\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    if (swiper.isHorizontal()) {\n      x -= swiper.cssOverflowAdjustment();\n    } else {\n      y -= swiper.cssOverflowAdjustment();\n    }\n    wrapperEl.style.transform = `translate3d(${x}px, ${y}px, ${z}px)`;\n  }\n\n  // Check if we need to update progress\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n  swiper.emit('setTranslate', swiper.translate, byController);\n}\n\nfunction minTranslate() {\n  return -this.snapGrid[0];\n}\n\nfunction maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}\n\nfunction translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate;\n\n  // Update progress\n  swiper.updateProgress(newTranslate);\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n    return true;\n  }\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n    if (!swiper.animating) {\n      swiper.animating = true;\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.wrapperEl.removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n          swiper.animating = false;\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n      swiper.wrapperEl.addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n  return true;\n}\n\nvar translate = {\n  getTranslate: getSwiperTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};\n\nfunction setTransition(duration, byController) {\n  const swiper = this;\n  if (!swiper.params.cssMode) {\n    swiper.wrapperEl.style.transitionDuration = `${duration}ms`;\n    swiper.wrapperEl.style.transitionDelay = duration === 0 ? `0ms` : '';\n  }\n  swiper.emit('setTransition', duration, byController);\n}\n\nfunction transitionEmit(_ref) {\n  let {\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  } = _ref;\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n  swiper.emit(`transition${step}`);\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n    swiper.emit(`slideChangeTransition${step}`);\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}\n\nfunction transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}\n\nfunction transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}\n\nvar transition = {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};\n\nfunction slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (typeof index === 'string') {\n    index = parseInt(index, 10);\n  }\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n  if (!enabled && !internal && !initial || swiper.destroyed || swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  const translate = -snapGrid[snapIndex];\n  // Normalize slideIndex\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  }\n  // Directions locks\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && (rtl ? translate > swiper.translate && translate > swiper.minTranslate() : translate < swiper.translate && translate < swiper.minTranslate())) {\n      return false;\n    }\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) {\n        return false;\n      }\n    }\n  }\n  if (slideIndex !== (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  // Update progress\n  swiper.updateProgress(translate);\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset';\n\n  // initial virtual\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  const isInitialVirtual = isVirtual && initial;\n  // Update Index\n  if (!isInitialVirtual && (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate)) {\n    swiper.updateActiveIndex(slideIndex);\n    // Update Height\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n    swiper.updateSlidesClasses();\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n    return false;\n  }\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n    if (speed === 0) {\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n      if (isVirtual && !swiper._cssModeVirtualInitialSet && swiper.params.initialSlide > 0) {\n        swiper._cssModeVirtualInitialSet = true;\n        requestAnimationFrame(() => {\n          wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n        });\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n      }\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._immediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n    return true;\n  }\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.wrapperEl.removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n    swiper.wrapperEl.addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n  }\n  return true;\n}\n\nfunction slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (typeof index === 'string') {\n    const indexAsNumber = parseInt(index, 10);\n    index = indexAsNumber;\n  }\n  const swiper = this;\n  if (swiper.destroyed) return;\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  const gridEnabled = swiper.grid && swiper.params.grid && swiper.params.grid.rows > 1;\n  let newIndex = index;\n  if (swiper.params.loop) {\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      // eslint-disable-next-line\n      newIndex = newIndex + swiper.virtual.slidesBefore;\n    } else {\n      let targetSlideIndex;\n      if (gridEnabled) {\n        const slideIndex = newIndex * swiper.params.grid.rows;\n        targetSlideIndex = swiper.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') * 1 === slideIndex)[0].column;\n      } else {\n        targetSlideIndex = swiper.getSlideIndexByData(newIndex);\n      }\n      const cols = gridEnabled ? Math.ceil(swiper.slides.length / swiper.params.grid.rows) : swiper.slides.length;\n      const {\n        centeredSlides\n      } = swiper.params;\n      let slidesPerView = swiper.params.slidesPerView;\n      if (slidesPerView === 'auto') {\n        slidesPerView = swiper.slidesPerViewDynamic();\n      } else {\n        slidesPerView = Math.ceil(parseFloat(swiper.params.slidesPerView, 10));\n        if (centeredSlides && slidesPerView % 2 === 0) {\n          slidesPerView = slidesPerView + 1;\n        }\n      }\n      let needLoopFix = cols - targetSlideIndex < slidesPerView;\n      if (centeredSlides) {\n        needLoopFix = needLoopFix || targetSlideIndex < Math.ceil(slidesPerView / 2);\n      }\n      if (internal && centeredSlides && swiper.params.slidesPerView !== 'auto' && !gridEnabled) {\n        needLoopFix = false;\n      }\n      if (needLoopFix) {\n        const direction = centeredSlides ? targetSlideIndex < swiper.activeIndex ? 'prev' : 'next' : targetSlideIndex - swiper.activeIndex - 1 < swiper.params.slidesPerView ? 'next' : 'prev';\n        swiper.loopFix({\n          direction,\n          slideTo: true,\n          activeSlideIndex: direction === 'next' ? targetSlideIndex + 1 : targetSlideIndex - cols + 1,\n          slideRealIndex: direction === 'next' ? swiper.realIndex : undefined\n        });\n      }\n      if (gridEnabled) {\n        const slideIndex = newIndex * swiper.params.grid.rows;\n        newIndex = swiper.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') * 1 === slideIndex)[0].column;\n      } else {\n        newIndex = swiper.getSlideIndexByData(newIndex);\n      }\n    }\n  }\n  requestAnimationFrame(() => {\n    swiper.slideTo(newIndex, speed, runCallbacks, internal);\n  });\n  return swiper;\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slideNext(speed, runCallbacks, internal) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    enabled,\n    params,\n    animating\n  } = swiper;\n  if (!enabled || swiper.destroyed) return swiper;\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  let perGroup = params.slidesPerGroup;\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  if (params.loop) {\n    if (animating && !isVirtual && params.loopPreventsSliding) return false;\n    swiper.loopFix({\n      direction: 'next'\n    });\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.wrapperEl.clientLeft;\n    if (swiper.activeIndex === swiper.slides.length - 1 && params.cssMode) {\n      requestAnimationFrame(() => {\n        swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n      });\n      return true;\n    }\n  }\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slidePrev(speed, runCallbacks, internal) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled,\n    animating\n  } = swiper;\n  if (!enabled || swiper.destroyed) return swiper;\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  if (params.loop) {\n    if (animating && !isVirtual && params.loopPreventsSliding) return false;\n    swiper.loopFix({\n      direction: 'prev'\n    });\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.wrapperEl.clientLeft;\n  }\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n  let prevIndex = 0;\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  } else if (params.loop && swiper.activeIndex === 0 && params.cssMode) {\n    requestAnimationFrame(() => {\n      swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n    });\n    return true;\n  }\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slideReset(speed, runCallbacks, internal) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  if (swiper.destroyed) return;\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n  const swiper = this;\n  if (swiper.destroyed) return;\n  if (typeof speed === 'undefined') {\n    speed = swiper.params.speed;\n  }\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}\n\nfunction slideToClickedSlide() {\n  const swiper = this;\n  if (swiper.destroyed) return;\n  const {\n    params,\n    slidesEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n  const slideSelector = swiper.isElement ? `swiper-slide` : `.${params.slideClass}`;\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt(swiper.clickedSlide.getAttribute('data-swiper-slide-index'), 10);\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = swiper.getSlideIndex(elementChildren(slidesEl, `${slideSelector}[data-swiper-slide-index=\"${realIndex}\"]`)[0]);\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = swiper.getSlideIndex(elementChildren(slidesEl, `${slideSelector}[data-swiper-slide-index=\"${realIndex}\"]`)[0]);\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}\n\nvar slide = {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};\n\nfunction loopCreate(slideRealIndex) {\n  const swiper = this;\n  const {\n    params,\n    slidesEl\n  } = swiper;\n  if (!params.loop || swiper.virtual && swiper.params.virtual.enabled) return;\n  const initSlides = () => {\n    const slides = elementChildren(slidesEl, `.${params.slideClass}, swiper-slide`);\n    slides.forEach((el, index) => {\n      el.setAttribute('data-swiper-slide-index', index);\n    });\n  };\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n  const slidesPerGroup = params.slidesPerGroup * (gridEnabled ? params.grid.rows : 1);\n  const shouldFillGroup = swiper.slides.length % slidesPerGroup !== 0;\n  const shouldFillGrid = gridEnabled && swiper.slides.length % params.grid.rows !== 0;\n  const addBlankSlides = amountOfSlides => {\n    for (let i = 0; i < amountOfSlides; i += 1) {\n      const slideEl = swiper.isElement ? createElement('swiper-slide', [params.slideBlankClass]) : createElement('div', [params.slideClass, params.slideBlankClass]);\n      swiper.slidesEl.append(slideEl);\n    }\n  };\n  if (shouldFillGroup) {\n    if (params.loopAddBlankSlides) {\n      const slidesToAdd = slidesPerGroup - swiper.slides.length % slidesPerGroup;\n      addBlankSlides(slidesToAdd);\n      swiper.recalcSlides();\n      swiper.updateSlides();\n    } else {\n      showWarning('Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)');\n    }\n    initSlides();\n  } else if (shouldFillGrid) {\n    if (params.loopAddBlankSlides) {\n      const slidesToAdd = params.grid.rows - swiper.slides.length % params.grid.rows;\n      addBlankSlides(slidesToAdd);\n      swiper.recalcSlides();\n      swiper.updateSlides();\n    } else {\n      showWarning('Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)');\n    }\n    initSlides();\n  } else {\n    initSlides();\n  }\n  swiper.loopFix({\n    slideRealIndex,\n    direction: params.centeredSlides ? undefined : 'next'\n  });\n}\n\nfunction loopFix(_temp) {\n  let {\n    slideRealIndex,\n    slideTo = true,\n    direction,\n    setTranslate,\n    activeSlideIndex,\n    byController,\n    byMousewheel\n  } = _temp === void 0 ? {} : _temp;\n  const swiper = this;\n  if (!swiper.params.loop) return;\n  swiper.emit('beforeLoopFix');\n  const {\n    slides,\n    allowSlidePrev,\n    allowSlideNext,\n    slidesEl,\n    params\n  } = swiper;\n  const {\n    centeredSlides\n  } = params;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  if (swiper.virtual && params.virtual.enabled) {\n    if (slideTo) {\n      if (!params.centeredSlides && swiper.snapIndex === 0) {\n        swiper.slideTo(swiper.virtual.slides.length, 0, false, true);\n      } else if (params.centeredSlides && swiper.snapIndex < params.slidesPerView) {\n        swiper.slideTo(swiper.virtual.slides.length + swiper.snapIndex, 0, false, true);\n      } else if (swiper.snapIndex === swiper.snapGrid.length - 1) {\n        swiper.slideTo(swiper.virtual.slidesBefore, 0, false, true);\n      }\n    }\n    swiper.allowSlidePrev = allowSlidePrev;\n    swiper.allowSlideNext = allowSlideNext;\n    swiper.emit('loopFix');\n    return;\n  }\n  let slidesPerView = params.slidesPerView;\n  if (slidesPerView === 'auto') {\n    slidesPerView = swiper.slidesPerViewDynamic();\n  } else {\n    slidesPerView = Math.ceil(parseFloat(params.slidesPerView, 10));\n    if (centeredSlides && slidesPerView % 2 === 0) {\n      slidesPerView = slidesPerView + 1;\n    }\n  }\n  const slidesPerGroup = params.slidesPerGroupAuto ? slidesPerView : params.slidesPerGroup;\n  let loopedSlides = slidesPerGroup;\n  if (loopedSlides % slidesPerGroup !== 0) {\n    loopedSlides += slidesPerGroup - loopedSlides % slidesPerGroup;\n  }\n  loopedSlides += params.loopAdditionalSlides;\n  swiper.loopedSlides = loopedSlides;\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n  if (slides.length < slidesPerView + loopedSlides) {\n    showWarning('Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters');\n  } else if (gridEnabled && params.grid.fill === 'row') {\n    showWarning('Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`');\n  }\n  const prependSlidesIndexes = [];\n  const appendSlidesIndexes = [];\n  let activeIndex = swiper.activeIndex;\n  if (typeof activeSlideIndex === 'undefined') {\n    activeSlideIndex = swiper.getSlideIndex(slides.filter(el => el.classList.contains(params.slideActiveClass))[0]);\n  } else {\n    activeIndex = activeSlideIndex;\n  }\n  const isNext = direction === 'next' || !direction;\n  const isPrev = direction === 'prev' || !direction;\n  let slidesPrepended = 0;\n  let slidesAppended = 0;\n  const cols = gridEnabled ? Math.ceil(slides.length / params.grid.rows) : slides.length;\n  const activeColIndex = gridEnabled ? slides[activeSlideIndex].column : activeSlideIndex;\n  const activeColIndexWithShift = activeColIndex + (centeredSlides && typeof setTranslate === 'undefined' ? -slidesPerView / 2 + 0.5 : 0);\n  // prepend last slides before start\n  if (activeColIndexWithShift < loopedSlides) {\n    slidesPrepended = Math.max(loopedSlides - activeColIndexWithShift, slidesPerGroup);\n    for (let i = 0; i < loopedSlides - activeColIndexWithShift; i += 1) {\n      const index = i - Math.floor(i / cols) * cols;\n      if (gridEnabled) {\n        const colIndexToPrepend = cols - index - 1;\n        for (let i = slides.length - 1; i >= 0; i -= 1) {\n          if (slides[i].column === colIndexToPrepend) prependSlidesIndexes.push(i);\n        }\n        // slides.forEach((slide, slideIndex) => {\n        //   if (slide.column === colIndexToPrepend) prependSlidesIndexes.push(slideIndex);\n        // });\n      } else {\n        prependSlidesIndexes.push(cols - index - 1);\n      }\n    }\n  } else if (activeColIndexWithShift + slidesPerView > cols - loopedSlides) {\n    slidesAppended = Math.max(activeColIndexWithShift - (cols - loopedSlides * 2), slidesPerGroup);\n    for (let i = 0; i < slidesAppended; i += 1) {\n      const index = i - Math.floor(i / cols) * cols;\n      if (gridEnabled) {\n        slides.forEach((slide, slideIndex) => {\n          if (slide.column === index) appendSlidesIndexes.push(slideIndex);\n        });\n      } else {\n        appendSlidesIndexes.push(index);\n      }\n    }\n  }\n  swiper.__preventObserver__ = true;\n  requestAnimationFrame(() => {\n    swiper.__preventObserver__ = false;\n  });\n  if (isPrev) {\n    prependSlidesIndexes.forEach(index => {\n      slides[index].swiperLoopMoveDOM = true;\n      slidesEl.prepend(slides[index]);\n      slides[index].swiperLoopMoveDOM = false;\n    });\n  }\n  if (isNext) {\n    appendSlidesIndexes.forEach(index => {\n      slides[index].swiperLoopMoveDOM = true;\n      slidesEl.append(slides[index]);\n      slides[index].swiperLoopMoveDOM = false;\n    });\n  }\n  swiper.recalcSlides();\n  if (params.slidesPerView === 'auto') {\n    swiper.updateSlides();\n  } else if (gridEnabled && (prependSlidesIndexes.length > 0 && isPrev || appendSlidesIndexes.length > 0 && isNext)) {\n    swiper.slides.forEach((slide, slideIndex) => {\n      swiper.grid.updateSlide(slideIndex, slide, swiper.slides);\n    });\n  }\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n  if (slideTo) {\n    if (prependSlidesIndexes.length > 0 && isPrev) {\n      if (typeof slideRealIndex === 'undefined') {\n        const currentSlideTranslate = swiper.slidesGrid[activeIndex];\n        const newSlideTranslate = swiper.slidesGrid[activeIndex + slidesPrepended];\n        const diff = newSlideTranslate - currentSlideTranslate;\n        if (byMousewheel) {\n          swiper.setTranslate(swiper.translate - diff);\n        } else {\n          swiper.slideTo(activeIndex + Math.ceil(slidesPrepended), 0, false, true);\n          if (setTranslate) {\n            swiper.touchEventsData.startTranslate = swiper.touchEventsData.startTranslate - diff;\n            swiper.touchEventsData.currentTranslate = swiper.touchEventsData.currentTranslate - diff;\n          }\n        }\n      } else {\n        if (setTranslate) {\n          const shift = gridEnabled ? prependSlidesIndexes.length / params.grid.rows : prependSlidesIndexes.length;\n          swiper.slideTo(swiper.activeIndex + shift, 0, false, true);\n          swiper.touchEventsData.currentTranslate = swiper.translate;\n        }\n      }\n    } else if (appendSlidesIndexes.length > 0 && isNext) {\n      if (typeof slideRealIndex === 'undefined') {\n        const currentSlideTranslate = swiper.slidesGrid[activeIndex];\n        const newSlideTranslate = swiper.slidesGrid[activeIndex - slidesAppended];\n        const diff = newSlideTranslate - currentSlideTranslate;\n        if (byMousewheel) {\n          swiper.setTranslate(swiper.translate - diff);\n        } else {\n          swiper.slideTo(activeIndex - slidesAppended, 0, false, true);\n          if (setTranslate) {\n            swiper.touchEventsData.startTranslate = swiper.touchEventsData.startTranslate - diff;\n            swiper.touchEventsData.currentTranslate = swiper.touchEventsData.currentTranslate - diff;\n          }\n        }\n      } else {\n        const shift = gridEnabled ? appendSlidesIndexes.length / params.grid.rows : appendSlidesIndexes.length;\n        swiper.slideTo(swiper.activeIndex - shift, 0, false, true);\n      }\n    }\n  }\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  if (swiper.controller && swiper.controller.control && !byController) {\n    const loopParams = {\n      slideRealIndex,\n      direction,\n      setTranslate,\n      activeSlideIndex,\n      byController: true\n    };\n    if (Array.isArray(swiper.controller.control)) {\n      swiper.controller.control.forEach(c => {\n        if (!c.destroyed && c.params.loop) c.loopFix({\n          ...loopParams,\n          slideTo: c.params.slidesPerView === params.slidesPerView ? slideTo : false\n        });\n      });\n    } else if (swiper.controller.control instanceof swiper.constructor && swiper.controller.control.params.loop) {\n      swiper.controller.control.loopFix({\n        ...loopParams,\n        slideTo: swiper.controller.control.params.slidesPerView === params.slidesPerView ? slideTo : false\n      });\n    }\n  }\n  swiper.emit('loopFix');\n}\n\nfunction loopDestroy() {\n  const swiper = this;\n  const {\n    params,\n    slidesEl\n  } = swiper;\n  if (!params.loop || swiper.virtual && swiper.params.virtual.enabled) return;\n  swiper.recalcSlides();\n  const newSlidesOrder = [];\n  swiper.slides.forEach(slideEl => {\n    const index = typeof slideEl.swiperSlideIndex === 'undefined' ? slideEl.getAttribute('data-swiper-slide-index') * 1 : slideEl.swiperSlideIndex;\n    newSlidesOrder[index] = slideEl;\n  });\n  swiper.slides.forEach(slideEl => {\n    slideEl.removeAttribute('data-swiper-slide-index');\n  });\n  newSlidesOrder.forEach(slideEl => {\n    slidesEl.append(slideEl);\n  });\n  swiper.recalcSlides();\n  swiper.slideTo(swiper.realIndex, 0);\n}\n\nvar loop = {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};\n\nfunction setGrabCursor(moving) {\n  const swiper = this;\n  if (!swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  if (swiper.isElement) {\n    swiper.__preventObserver__ = true;\n  }\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n  if (swiper.isElement) {\n    requestAnimationFrame(() => {\n      swiper.__preventObserver__ = false;\n    });\n  }\n}\n\nfunction unsetGrabCursor() {\n  const swiper = this;\n  if (swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n  if (swiper.isElement) {\n    swiper.__preventObserver__ = true;\n  }\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n  if (swiper.isElement) {\n    requestAnimationFrame(() => {\n      swiper.__preventObserver__ = false;\n    });\n  }\n}\n\nvar grabCursor = {\n  setGrabCursor,\n  unsetGrabCursor\n};\n\n// Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n    return found || __closestFrom(el.getRootNode().host);\n  }\n  return __closestFrom(base);\n}\nfunction preventEdgeSwipe(swiper, event, startX) {\n  const window = getWindow();\n  const {\n    params\n  } = swiper;\n  const edgeSwipeDetection = params.edgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold;\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n      return true;\n    }\n    return false;\n  }\n  return true;\n}\nfunction onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  const data = swiper.touchEventsData;\n  if (e.type === 'pointerdown') {\n    if (data.pointerId !== null && data.pointerId !== e.pointerId) {\n      return;\n    }\n    data.pointerId = e.pointerId;\n  } else if (e.type === 'touchstart' && e.targetTouches.length === 1) {\n    data.touchId = e.targetTouches[0].identifier;\n  }\n  if (e.type === 'touchstart') {\n    // don't proceed touch event\n    preventEdgeSwipe(swiper, e, e.targetTouches[0].pageX);\n    return;\n  }\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && e.pointerType === 'mouse') return;\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n  let targetEl = e.target;\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!elementIsChildOf(targetEl, swiper.wrapperEl)) return;\n  }\n  if ('which' in e && e.which === 3) return;\n  if ('button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return;\n\n  // change target el for shadow root component\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n  // eslint-disable-next-line\n  const eventPath = e.composedPath ? e.composedPath() : e.path;\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && eventPath) {\n    targetEl = eventPath[0];\n  }\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot);\n\n  // use closestElement for shadow root element to get the actual closest for nested shadow root element\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, targetEl) : targetEl.closest(noSwipingSelector))) {\n    swiper.allowClick = true;\n    return;\n  }\n  if (params.swipeHandler) {\n    if (!targetEl.closest(params.swipeHandler)) return;\n  }\n  touches.currentX = e.pageX;\n  touches.currentY = e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY;\n\n  // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  if (!preventEdgeSwipe(swiper, e, startX)) {\n    return;\n  }\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n  let preventDefault = true;\n  if (targetEl.matches(data.focusableElements)) {\n    preventDefault = false;\n    if (targetEl.nodeName === 'SELECT') {\n      data.isTouched = false;\n    }\n  }\n  if (document.activeElement && document.activeElement.matches(data.focusableElements) && document.activeElement !== targetEl && (e.pointerType === 'mouse' || e.pointerType !== 'mouse' && !targetEl.matches(data.focusableElements))) {\n    document.activeElement.blur();\n  }\n  const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n  if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !targetEl.isContentEditable) {\n    e.preventDefault();\n  }\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n  swiper.emit('touchStart', e);\n}\n\nfunction onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && event.pointerType === 'mouse') return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  if (e.type === 'pointermove') {\n    if (data.touchId !== null) return; // return from pointer if we use touch\n    const id = e.pointerId;\n    if (id !== data.pointerId) return;\n  }\n  let targetTouch;\n  if (e.type === 'touchmove') {\n    targetTouch = [...e.changedTouches].filter(t => t.identifier === data.touchId)[0];\n    if (!targetTouch || targetTouch.identifier !== data.touchId) return;\n  } else {\n    targetTouch = e;\n  }\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n    return;\n  }\n  const pageX = targetTouch.pageX;\n  const pageY = targetTouch.pageY;\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n  if (!swiper.allowTouchMove) {\n    if (!e.target.matches(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n    return;\n  }\n  if (params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n  if (document.activeElement && document.activeElement.matches(data.focusableElements) && document.activeElement !== e.target && e.pointerType !== 'mouse') {\n    document.activeElement.blur();\n  }\n  if (document.activeElement) {\n    if (e.target === document.activeElement && e.target.matches(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n  touches.previousX = touches.currentX;\n  touches.previousY = touches.currentY;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n  if (data.isScrolling || e.type === 'touchmove' && data.preventTouchMoveFromPointerMove) {\n    data.isTouched = false;\n    return;\n  }\n  if (!data.startMoving) {\n    return;\n  }\n  swiper.allowClick = false;\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  let touchesDiff = swiper.isHorizontal() ? touches.currentX - touches.previousX : touches.currentY - touches.previousY;\n  if (params.oneWayMovement) {\n    diff = Math.abs(diff) * (rtl ? 1 : -1);\n    touchesDiff = Math.abs(touchesDiff) * (rtl ? 1 : -1);\n  }\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) {\n    diff = -diff;\n    touchesDiff = -touchesDiff;\n  }\n  const prevTouchesDirection = swiper.touchesDirection;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  swiper.touchesDirection = touchesDiff > 0 ? 'prev' : 'next';\n  const isLoop = swiper.params.loop && !params.cssMode;\n  const allowLoopFix = swiper.touchesDirection === 'next' && swiper.allowSlideNext || swiper.touchesDirection === 'prev' && swiper.allowSlidePrev;\n  if (!data.isMoved) {\n    if (isLoop && allowLoopFix) {\n      swiper.loopFix({\n        direction: swiper.swipeDirection\n      });\n    }\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n    if (swiper.animating) {\n      const evt = new window.CustomEvent('transitionend', {\n        bubbles: true,\n        cancelable: true,\n        detail: {\n          bySwiperTouchMove: true\n        }\n      });\n      swiper.wrapperEl.dispatchEvent(evt);\n    }\n    data.allowMomentumBounce = false;\n    // Grab Cursor\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n    swiper.emit('sliderFirstMove', e);\n  }\n  let loopFixed;\n  new Date().getTime();\n  if (data.isMoved && data.allowThresholdMove && prevTouchesDirection !== swiper.touchesDirection && isLoop && allowLoopFix && Math.abs(diff) >= 1) {\n    Object.assign(touches, {\n      startX: pageX,\n      startY: pageY,\n      currentX: pageX,\n      currentY: pageY,\n      startTranslate: data.currentTranslate\n    });\n    data.loopSwapReset = true;\n    data.startTranslate = data.currentTranslate;\n    return;\n  }\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n  if (diff > 0) {\n    if (isLoop && allowLoopFix && !loopFixed && data.allowThresholdMove && data.currentTranslate > (params.centeredSlides ? swiper.minTranslate() - swiper.slidesSizesGrid[swiper.activeIndex + 1] - (params.slidesPerView !== 'auto' && swiper.slides.length - params.slidesPerView >= 2 ? swiper.slidesSizesGrid[swiper.activeIndex + 1] + swiper.params.spaceBetween : 0) - swiper.params.spaceBetween : swiper.minTranslate())) {\n      swiper.loopFix({\n        direction: 'prev',\n        setTranslate: true,\n        activeSlideIndex: 0\n      });\n    }\n    if (data.currentTranslate > swiper.minTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) {\n        data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n      }\n    }\n  } else if (diff < 0) {\n    if (isLoop && allowLoopFix && !loopFixed && data.allowThresholdMove && data.currentTranslate < (params.centeredSlides ? swiper.maxTranslate() + swiper.slidesSizesGrid[swiper.slidesSizesGrid.length - 1] + swiper.params.spaceBetween + (params.slidesPerView !== 'auto' && swiper.slides.length - params.slidesPerView >= 2 ? swiper.slidesSizesGrid[swiper.slidesSizesGrid.length - 1] + swiper.params.spaceBetween : 0) : swiper.maxTranslate())) {\n      swiper.loopFix({\n        direction: 'next',\n        setTranslate: true,\n        activeSlideIndex: swiper.slides.length - (params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(parseFloat(params.slidesPerView, 10)))\n      });\n    }\n    if (data.currentTranslate < swiper.maxTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) {\n        data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n      }\n    }\n  }\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  }\n\n  // Directions locks\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  // Threshold\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n  if (!params.followFinger || params.cssMode) return;\n\n  // Update active index in free mode\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  }\n  // Update progress\n  swiper.updateProgress(data.currentTranslate);\n  // Update translate\n  swiper.setTranslate(data.currentTranslate);\n}\n\nfunction onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let targetTouch;\n  const isTouchEvent = e.type === 'touchend' || e.type === 'touchcancel';\n  if (!isTouchEvent) {\n    if (data.touchId !== null) return; // return from pointer if we use touch\n    if (e.pointerId !== data.pointerId) return;\n    targetTouch = e;\n  } else {\n    targetTouch = [...e.changedTouches].filter(t => t.identifier === data.touchId)[0];\n    if (!targetTouch || targetTouch.identifier !== data.touchId) return;\n  }\n  if (['pointercancel', 'pointerout', 'pointerleave', 'contextmenu'].includes(e.type)) {\n    const proceed = ['pointercancel', 'contextmenu'].includes(e.type) && (swiper.browser.isSafari || swiper.browser.isWebView);\n    if (!proceed) {\n      return;\n    }\n  }\n  data.pointerId = null;\n  data.touchId = null;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && e.pointerType === 'mouse') return;\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n  data.allowTouchCallbacks = false;\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  // Return Grab Cursor\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  }\n\n  // Time diff\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime;\n\n  // Tap, doubleTap, Click\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target, pathTree);\n    swiper.emit('tap click', e);\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 && !data.loopSwapReset || data.currentTranslate === data.startTranslate && !data.loopSwapReset) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n  if (params.cssMode) {\n    return;\n  }\n  if (params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  }\n\n  // Find current slide\n  const swipeToLast = currentPos >= -swiper.maxTranslate() && !swiper.params.loop;\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (swipeToLast || currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (swipeToLast || currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = params.virtual && params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  }\n  // Find current slide size\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}\n\nfunction onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return;\n\n  // Breakpoints\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  }\n\n  // Save locks\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper;\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n  // Disable locks on resize\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n  const isVirtualLoop = isVirtual && params.loop;\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides && !isVirtualLoop) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    if (swiper.params.loop && !isVirtual) {\n      swiper.slideToLoop(swiper.realIndex, 0, false, true);\n    } else {\n      swiper.slideTo(swiper.activeIndex, 0, false, true);\n    }\n  }\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    clearTimeout(swiper.autoplay.resizeTimeout);\n    swiper.autoplay.resizeTimeout = setTimeout(() => {\n      if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n        swiper.autoplay.resume();\n      }\n    }, 500);\n  }\n  // Return locks after resize\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}\n\nfunction onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}\n\nfunction onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  }\n  // eslint-disable-next-line\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n  swiper.emit('setTranslate', swiper.translate, false);\n}\n\nfunction onLoad(e) {\n  const swiper = this;\n  processLazyPreloader(swiper, e.target);\n  if (swiper.params.cssMode || swiper.params.slidesPerView !== 'auto' && !swiper.params.autoHeight) {\n    return;\n  }\n  swiper.update();\n}\n\nfunction onDocumentTouchStart() {\n  const swiper = this;\n  if (swiper.documentTouchHandlerProceeded) return;\n  swiper.documentTouchHandlerProceeded = true;\n  if (swiper.params.touchReleaseOnEdges) {\n    swiper.el.style.touchAction = 'auto';\n  }\n}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    el,\n    wrapperEl,\n    device\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method;\n  if (!el || typeof el === 'string') return;\n\n  // Touch Events\n  document[domMethod]('touchstart', swiper.onDocumentTouchStart, {\n    passive: false,\n    capture\n  });\n  el[domMethod]('touchstart', swiper.onTouchStart, {\n    passive: false\n  });\n  el[domMethod]('pointerdown', swiper.onTouchStart, {\n    passive: false\n  });\n  document[domMethod]('touchmove', swiper.onTouchMove, {\n    passive: false,\n    capture\n  });\n  document[domMethod]('pointermove', swiper.onTouchMove, {\n    passive: false,\n    capture\n  });\n  document[domMethod]('touchend', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointerup', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointercancel', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('touchcancel', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointerout', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointerleave', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('contextmenu', swiper.onTouchEnd, {\n    passive: true\n  });\n\n  // Prevent Links Clicks\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  }\n\n  // Resize handler\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n\n  // Images loader\n  el[domMethod]('load', swiper.onLoad, {\n    capture: true\n  });\n};\nfunction attachEvents() {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n  swiper.onDocumentTouchStart = onDocumentTouchStart.bind(swiper);\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n  swiper.onClick = onClick.bind(swiper);\n  swiper.onLoad = onLoad.bind(swiper);\n  events(swiper, 'on');\n}\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\nvar events$1 = {\n  attachEvents,\n  detachEvents\n};\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\nfunction setBreakpoint() {\n  const swiper = this;\n  const {\n    realIndex,\n    initialized,\n    params,\n    el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return;\n\n  // Get breakpoint for window width and update parameters\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasGrabCursor = swiper.params.grabCursor;\n  const isGrabCursor = breakpointParams.grabCursor;\n  const wasEnabled = params.enabled;\n  if (wasMultiRow && !isMultiRow) {\n    el.classList.remove(`${params.containerModifierClass}grid`, `${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    el.classList.add(`${params.containerModifierClass}grid`);\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      el.classList.add(`${params.containerModifierClass}grid-column`);\n    }\n    swiper.emitContainerClasses();\n  }\n  if (wasGrabCursor && !isGrabCursor) {\n    swiper.unsetGrabCursor();\n  } else if (!wasGrabCursor && isGrabCursor) {\n    swiper.setGrabCursor();\n  }\n\n  // Toggle navigation, pagination, scrollbar\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    if (typeof breakpointParams[prop] === 'undefined') return;\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n  const wasLoop = params.loop;\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  const hasLoop = swiper.params.loop;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n  if (initialized) {\n    if (needsReLoop) {\n      swiper.loopDestroy();\n      swiper.loopCreate(realIndex);\n      swiper.updateSlides();\n    } else if (!wasLoop && hasLoop) {\n      swiper.loopCreate(realIndex);\n      swiper.updateSlides();\n    } else if (wasLoop && !hasLoop) {\n      swiper.loopDestroy();\n    }\n  }\n  swiper.emit('breakpoint', breakpointParams);\n}\n\nfunction getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n  return breakpoint || 'max';\n}\n\nvar breakpoints = {\n  setBreakpoint,\n  getBreakpoint\n};\n\nfunction prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\nfunction addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    el,\n    device\n  } = swiper;\n  // prettier-ignore\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  el.classList.add(...classNames);\n  swiper.emitContainerClasses();\n}\n\nfunction removeClasses() {\n  const swiper = this;\n  const {\n    el,\n    classNames\n  } = swiper;\n  if (!el || typeof el === 'string') return;\n  el.classList.remove(...classNames);\n  swiper.emitContainerClasses();\n}\n\nvar classes = {\n  addClasses,\n  removeClasses\n};\n\nfunction checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\nvar checkOverflow$1 = {\n  checkOverflow\n};\n\nvar defaults = {\n  init: true,\n  direction: 'horizontal',\n  oneWayMovement: false,\n  swiperElementNodeName: 'SWIPER-CONTAINER',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  eventsPrefix: 'swiper',\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 5,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // loop\n  loop: false,\n  loopAddBlankSlides: true,\n  loopAdditionalSlides: 0,\n  loopPreventsSliding: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideFullyVisibleClass: 'swiper-slide-fully-visible',\n  slideNextClass: 'swiper-slide-next',\n  slidePrevClass: 'swiper-slide-prev',\n  wrapperClass: 'swiper-wrapper',\n  lazyPreloaderClass: 'swiper-lazy-preloader',\n  lazyPreloadPrevNext: 0,\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};\n\nfunction moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n    if (moduleParamName === 'navigation' && params[moduleParamName] && params[moduleParamName].enabled && !params[moduleParamName].prevEl && !params[moduleParamName].nextEl) {\n      params[moduleParamName].auto = true;\n    }\n    if (['pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] && params[moduleParamName].enabled && !params[moduleParamName].el) {\n      params[moduleParamName].auto = true;\n    }\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}\n\n/* eslint no-param-reassign: \"off\" */\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events: events$1,\n  breakpoints,\n  checkOverflow: checkOverflow$1,\n  classes\n};\nconst extendedDefaults = {};\nclass Swiper {\n  constructor() {\n    let el;\n    let params;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n    const document = getDocument();\n    if (params.el && typeof params.el === 'string' && document.querySelectorAll(params.el).length > 1) {\n      const swipers = [];\n      document.querySelectorAll(params.el).forEach(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      // eslint-disable-next-line no-constructor-return\n      return swipers;\n    }\n\n    // Swiper Instance\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        params,\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    });\n\n    // Extend defaults with modules params\n    const swiperParams = extend({}, defaults, allModulesParams);\n\n    // Extend defaults with passed params\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params);\n\n    // add event listeners\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    }\n\n    // Extend Swiper\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: [],\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      cssOverflowAdjustment() {\n        // Returns 0 unless `translate` is > 2**23\n        // Should be subtracted from css values to prevent overflow\n        return Math.trunc(this.translate / 2 ** 23) * 2 ** 23;\n      },\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: 0,\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        startMoving: undefined,\n        pointerId: null,\n        touchId: null\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper');\n\n    // Init\n    if (swiper.params.init) {\n      swiper.init();\n    }\n\n    // Return app instance\n    // eslint-disable-next-line no-constructor-return\n    return swiper;\n  }\n  getDirectionLabel(property) {\n    if (this.isHorizontal()) {\n      return property;\n    }\n    // prettier-ignore\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n  getSlideIndex(slideEl) {\n    const {\n      slidesEl,\n      params\n    } = this;\n    const slides = elementChildren(slidesEl, `.${params.slideClass}, swiper-slide`);\n    const firstSlideIndex = elementIndex(slides[0]);\n    return elementIndex(slideEl) - firstSlideIndex;\n  }\n  getSlideIndexByData(index) {\n    return this.getSlideIndex(this.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') * 1 === index)[0]);\n  }\n  recalcSlides() {\n    const swiper = this;\n    const {\n      slidesEl,\n      params\n    } = swiper;\n    swiper.slides = elementChildren(slidesEl, `.${params.slideClass}, swiper-slide`);\n  }\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n    swiper.emit('enable');\n  }\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n    swiper.emit('disable');\n  }\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.forEach(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n  slidesPerViewDynamic(view, exact) {\n    if (view === void 0) {\n      view = 'current';\n    }\n    if (exact === void 0) {\n      exact = false;\n    }\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n    if (typeof params.slidesPerView === 'number') return params.slidesPerView;\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex] ? Math.ceil(slides[activeIndex].swiperSlideSize) : 0;\n      let breakLoop;\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += Math.ceil(slides[i].swiperSlideSize);\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n    return spv;\n  }\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper;\n    // Breakpoints\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n    [...swiper.el.querySelectorAll('[loading=\"lazy\"]')].forEach(imageEl => {\n      if (imageEl.complete) {\n        processLazyPreloader(swiper, imageEl);\n      }\n    });\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    let translated;\n    if (params.freeMode && params.freeMode.enabled && !params.cssMode) {\n      setTranslate();\n      if (params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !params.centeredSlides) {\n        const slides = swiper.virtual && params.virtual.enabled ? swiper.virtual.slides : swiper.slides;\n        translated = swiper.slideTo(slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n      if (!translated) {\n        setTranslate();\n      }\n    }\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n    swiper.emit('update');\n  }\n  changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n    swiper.el.classList.remove(`${swiper.params.containerModifierClass}${currentDirection}`);\n    swiper.el.classList.add(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.forEach(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n    if (swiper.rtl) {\n      swiper.el.classList.add(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.el.classList.remove(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n    swiper.update();\n  }\n  mount(element) {\n    const swiper = this;\n    if (swiper.mounted) return true;\n\n    // Find el\n    let el = element || swiper.params.el;\n    if (typeof el === 'string') {\n      el = document.querySelector(el);\n    }\n    if (!el) {\n      return false;\n    }\n    el.swiper = swiper;\n    if (el.parentNode && el.parentNode.host && el.parentNode.host.nodeName === swiper.params.swiperElementNodeName.toUpperCase()) {\n      swiper.isElement = true;\n    }\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = el.shadowRoot.querySelector(getWrapperSelector());\n        // Children needs to return slot items\n        return res;\n      }\n      return elementChildren(el, getWrapperSelector())[0];\n    };\n    // Find Wrapper\n    let wrapperEl = getWrapper();\n    if (!wrapperEl && swiper.params.createElements) {\n      wrapperEl = createElement('div', swiper.params.wrapperClass);\n      el.append(wrapperEl);\n      elementChildren(el, `.${swiper.params.slideClass}`).forEach(slideEl => {\n        wrapperEl.append(slideEl);\n      });\n    }\n    Object.assign(swiper, {\n      el,\n      wrapperEl,\n      slidesEl: swiper.isElement && !el.parentNode.host.slideSlots ? el.parentNode.host : wrapperEl,\n      hostEl: swiper.isElement ? el.parentNode.host : el,\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || elementStyle(el, 'direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || elementStyle(el, 'direction') === 'rtl'),\n      wrongRTL: elementStyle(wrapperEl, 'display') === '-webkit-box'\n    });\n    return true;\n  }\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit');\n\n    // Set breakpoint\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    // Add Classes\n    swiper.addClasses();\n\n    // Update size\n    swiper.updateSize();\n\n    // Update slides\n    swiper.updateSlides();\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    }\n\n    // Set Grab Cursor\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    // Slide To Initial Slide\n    if (swiper.params.loop && swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.virtual.slidesBefore, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    }\n\n    // Create loop\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    }\n\n    // Attach events\n    swiper.attachEvents();\n    const lazyElements = [...swiper.el.querySelectorAll('[loading=\"lazy\"]')];\n    if (swiper.isElement) {\n      lazyElements.push(...swiper.hostEl.querySelectorAll('[loading=\"lazy\"]'));\n    }\n    lazyElements.forEach(imageEl => {\n      if (imageEl.complete) {\n        processLazyPreloader(swiper, imageEl);\n      } else {\n        imageEl.addEventListener('load', e => {\n          processLazyPreloader(swiper, e.target);\n        });\n      }\n    });\n    preload(swiper);\n\n    // Init Flag\n    swiper.initialized = true;\n    preload(swiper);\n\n    // Emit\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n  destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n    const swiper = this;\n    const {\n      params,\n      el,\n      wrapperEl,\n      slides\n    } = swiper;\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n    swiper.emit('beforeDestroy');\n\n    // Init Flag\n    swiper.initialized = false;\n\n    // Detach events\n    swiper.detachEvents();\n\n    // Destroy loop\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    // Cleanup styles\n    if (cleanStyles) {\n      swiper.removeClasses();\n      if (el && typeof el !== 'string') {\n        el.removeAttribute('style');\n      }\n      if (wrapperEl) {\n        wrapperEl.removeAttribute('style');\n      }\n      if (slides && slides.length) {\n        slides.forEach(slideEl => {\n          slideEl.classList.remove(params.slideVisibleClass, params.slideFullyVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass);\n          slideEl.removeAttribute('style');\n          slideEl.removeAttribute('data-swiper-slide-index');\n        });\n      }\n    }\n    swiper.emit('destroy');\n\n    // Detach emitter events\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n    if (deleteInstance !== false) {\n      if (swiper.el && typeof swiper.el !== 'string') {\n        swiper.el.swiper = null;\n      }\n      deleteProps(swiper);\n    }\n    swiper.destroyed = true;\n    return null;\n  }\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n  static get defaults() {\n    return defaults;\n  }\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n    Swiper.installModule(module);\n    return Swiper;\n  }\n}\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\n\nexport { Swiper as S, defaults as d };\n", "import { e as elementChildren, c as createElement } from './utils.mjs';\n\nfunction createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = elementChildren(swiper.el, `.${checkProps[key]}`)[0];\n        if (!element) {\n          element = createElement('div', checkProps[key]);\n          element.className = checkProps[key];\n          swiper.el.append(element);\n        }\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n  return params;\n}\n\nexport { createElementIfNotDefined as c };\n", "import { c as createElementIfNotDefined } from '../shared/create-element-if-not-defined.mjs';\nimport { m as makeElementsArray } from '../shared/utils.mjs';\n\nfunction Navigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    prevEl: null\n  };\n  function getEl(el) {\n    let res;\n    if (el && typeof el === 'string' && swiper.isElement) {\n      res = swiper.el.querySelector(el) || swiper.hostEl.querySelector(el);\n      if (res) return res;\n    }\n    if (el) {\n      if (typeof el === 'string') res = [...document.querySelectorAll(el)];\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && res && res.length > 1 && swiper.el.querySelectorAll(el).length === 1) {\n        res = swiper.el.querySelector(el);\n      } else if (res && res.length === 1) {\n        res = res[0];\n      }\n    }\n    if (el && !res) return el;\n    // if (Array.isArray(res) && res.length === 1) res = res[0];\n    return res;\n  }\n  function toggleEl(el, disabled) {\n    const params = swiper.params.navigation;\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      if (subEl) {\n        subEl.classList[disabled ? 'add' : 'remove'](...params.disabledClass.split(' '));\n        if (subEl.tagName === 'BUTTON') subEl.disabled = disabled;\n        if (swiper.params.watchOverflow && swiper.enabled) {\n          subEl.classList[swiper.isLocked ? 'add' : 'remove'](params.lockClass);\n        }\n      }\n    });\n  }\n  function update() {\n    // Update Navigation Buttons\n    const {\n      nextEl,\n      prevEl\n    } = swiper.navigation;\n    if (swiper.params.loop) {\n      toggleEl(prevEl, false);\n      toggleEl(nextEl, false);\n      return;\n    }\n    toggleEl(prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl(nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    let nextEl = getEl(params.nextEl);\n    let prevEl = getEl(params.prevEl);\n    Object.assign(swiper.navigation, {\n      nextEl,\n      prevEl\n    });\n    nextEl = makeElementsArray(nextEl);\n    prevEl = makeElementsArray(prevEl);\n    const initButton = (el, dir) => {\n      if (el) {\n        el.addEventListener('click', dir === 'next' ? onNextClick : onPrevClick);\n      }\n      if (!swiper.enabled && el) {\n        el.classList.add(...params.lockClass.split(' '));\n      }\n    };\n    nextEl.forEach(el => initButton(el, 'next'));\n    prevEl.forEach(el => initButton(el, 'prev'));\n  }\n  function destroy() {\n    let {\n      nextEl,\n      prevEl\n    } = swiper.navigation;\n    nextEl = makeElementsArray(nextEl);\n    prevEl = makeElementsArray(prevEl);\n    const destroyButton = (el, dir) => {\n      el.removeEventListener('click', dir === 'next' ? onNextClick : onPrevClick);\n      el.classList.remove(...swiper.params.navigation.disabledClass.split(' '));\n    };\n    nextEl.forEach(el => destroyButton(el, 'next'));\n    prevEl.forEach(el => destroyButton(el, 'prev'));\n  }\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    let {\n      nextEl,\n      prevEl\n    } = swiper.navigation;\n    nextEl = makeElementsArray(nextEl);\n    prevEl = makeElementsArray(prevEl);\n    if (swiper.enabled) {\n      update();\n      return;\n    }\n    [...nextEl, ...prevEl].filter(el => !!el).forEach(el => el.classList.add(swiper.params.navigation.lockClass));\n  });\n  on('click', (_s, e) => {\n    let {\n      nextEl,\n      prevEl\n    } = swiper.navigation;\n    nextEl = makeElementsArray(nextEl);\n    prevEl = makeElementsArray(prevEl);\n    const targetEl = e.target;\n    let targetIsButton = prevEl.includes(targetEl) || nextEl.includes(targetEl);\n    if (swiper.isElement && !targetIsButton) {\n      const path = e.path || e.composedPath && e.composedPath();\n      if (path) {\n        targetIsButton = path.find(pathEl => nextEl.includes(pathEl) || prevEl.includes(pathEl));\n      }\n    }\n    if (swiper.params.navigation.hideOnClick && !targetIsButton) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n      if (nextEl.length) {\n        isHidden = nextEl[0].classList.contains(swiper.params.navigation.hiddenClass);\n      } else if (prevEl.length) {\n        isHidden = prevEl[0].classList.contains(swiper.params.navigation.hiddenClass);\n      }\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n      [...nextEl, ...prevEl].filter(el => !!el).forEach(el => el.classList.toggle(swiper.params.navigation.hiddenClass));\n    }\n  });\n  const enable = () => {\n    swiper.el.classList.remove(...swiper.params.navigation.navigationDisabledClass.split(' '));\n    init();\n    update();\n  };\n  const disable = () => {\n    swiper.el.classList.add(...swiper.params.navigation.navigationDisabledClass.split(' '));\n    destroy();\n  };\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}\n\nexport { Navigation as default };\n", "import { g as getDocument } from '../shared/ssr-window.esm.mjs';\n\n/* eslint no-underscore-dangle: \"off\" */\n/* eslint no-use-before-define: \"off\" */\nfunction Autoplay(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit,\n    params\n  } = _ref;\n  swiper.autoplay = {\n    running: false,\n    paused: false,\n    timeLeft: 0\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: false,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n  let timeout;\n  let raf;\n  let autoplayDelayTotal = params && params.autoplay ? params.autoplay.delay : 3000;\n  let autoplayDelayCurrent = params && params.autoplay ? params.autoplay.delay : 3000;\n  let autoplayTimeLeft;\n  let autoplayStartTime = new Date().getTime();\n  let wasPaused;\n  let isTouched;\n  let pausedByTouch;\n  let touchStartTimeout;\n  let slideChanged;\n  let pausedByInteraction;\n  let pausedByPointerEnter;\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.wrapperEl) return;\n    if (e.target !== swiper.wrapperEl) return;\n    swiper.wrapperEl.removeEventListener('transitionend', onTransitionEnd);\n    if (pausedByPointerEnter || e.detail && e.detail.bySwiperTouchMove) {\n      return;\n    }\n    resume();\n  }\n  const calcTimeLeft = () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) {\n      wasPaused = true;\n    } else if (wasPaused) {\n      autoplayDelayCurrent = autoplayTimeLeft;\n      wasPaused = false;\n    }\n    const timeLeft = swiper.autoplay.paused ? autoplayTimeLeft : autoplayStartTime + autoplayDelayCurrent - new Date().getTime();\n    swiper.autoplay.timeLeft = timeLeft;\n    emit('autoplayTimeLeft', timeLeft, timeLeft / autoplayDelayTotal);\n    raf = requestAnimationFrame(() => {\n      calcTimeLeft();\n    });\n  };\n  const getSlideDelay = () => {\n    let activeSlideEl;\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      activeSlideEl = swiper.slides.filter(slideEl => slideEl.classList.contains('swiper-slide-active'))[0];\n    } else {\n      activeSlideEl = swiper.slides[swiper.activeIndex];\n    }\n    if (!activeSlideEl) return undefined;\n    const currentSlideDelay = parseInt(activeSlideEl.getAttribute('data-swiper-autoplay'), 10);\n    return currentSlideDelay;\n  };\n  const run = delayForce => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    cancelAnimationFrame(raf);\n    calcTimeLeft();\n    let delay = typeof delayForce === 'undefined' ? swiper.params.autoplay.delay : delayForce;\n    autoplayDelayTotal = swiper.params.autoplay.delay;\n    autoplayDelayCurrent = swiper.params.autoplay.delay;\n    const currentSlideDelay = getSlideDelay();\n    if (!Number.isNaN(currentSlideDelay) && currentSlideDelay > 0 && typeof delayForce === 'undefined') {\n      delay = currentSlideDelay;\n      autoplayDelayTotal = currentSlideDelay;\n      autoplayDelayCurrent = currentSlideDelay;\n    }\n    autoplayTimeLeft = delay;\n    const speed = swiper.params.speed;\n    const proceed = () => {\n      if (!swiper || swiper.destroyed) return;\n      if (swiper.params.autoplay.reverseDirection) {\n        if (!swiper.isBeginning || swiper.params.loop || swiper.params.rewind) {\n          swiper.slidePrev(speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          swiper.slideTo(swiper.slides.length - 1, speed, true, true);\n          emit('autoplay');\n        }\n      } else {\n        if (!swiper.isEnd || swiper.params.loop || swiper.params.rewind) {\n          swiper.slideNext(speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          swiper.slideTo(0, speed, true, true);\n          emit('autoplay');\n        }\n      }\n      if (swiper.params.cssMode) {\n        autoplayStartTime = new Date().getTime();\n        requestAnimationFrame(() => {\n          run();\n        });\n      }\n    };\n    if (delay > 0) {\n      clearTimeout(timeout);\n      timeout = setTimeout(() => {\n        proceed();\n      }, delay);\n    } else {\n      requestAnimationFrame(() => {\n        proceed();\n      });\n    }\n\n    // eslint-disable-next-line\n    return delay;\n  };\n  const start = () => {\n    autoplayStartTime = new Date().getTime();\n    swiper.autoplay.running = true;\n    run();\n    emit('autoplayStart');\n  };\n  const stop = () => {\n    swiper.autoplay.running = false;\n    clearTimeout(timeout);\n    cancelAnimationFrame(raf);\n    emit('autoplayStop');\n  };\n  const pause = (internal, reset) => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    clearTimeout(timeout);\n    if (!internal) {\n      pausedByInteraction = true;\n    }\n    const proceed = () => {\n      emit('autoplayPause');\n      if (swiper.params.autoplay.waitForTransition) {\n        swiper.wrapperEl.addEventListener('transitionend', onTransitionEnd);\n      } else {\n        resume();\n      }\n    };\n    swiper.autoplay.paused = true;\n    if (reset) {\n      if (slideChanged) {\n        autoplayTimeLeft = swiper.params.autoplay.delay;\n      }\n      slideChanged = false;\n      proceed();\n      return;\n    }\n    const delay = autoplayTimeLeft || swiper.params.autoplay.delay;\n    autoplayTimeLeft = delay - (new Date().getTime() - autoplayStartTime);\n    if (swiper.isEnd && autoplayTimeLeft < 0 && !swiper.params.loop) return;\n    if (autoplayTimeLeft < 0) autoplayTimeLeft = 0;\n    proceed();\n  };\n  const resume = () => {\n    if (swiper.isEnd && autoplayTimeLeft < 0 && !swiper.params.loop || swiper.destroyed || !swiper.autoplay.running) return;\n    autoplayStartTime = new Date().getTime();\n    if (pausedByInteraction) {\n      pausedByInteraction = false;\n      run(autoplayTimeLeft);\n    } else {\n      run();\n    }\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n  };\n  const onVisibilityChange = () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    const document = getDocument();\n    if (document.visibilityState === 'hidden') {\n      pausedByInteraction = true;\n      pause(true);\n    }\n    if (document.visibilityState === 'visible') {\n      resume();\n    }\n  };\n  const onPointerEnter = e => {\n    if (e.pointerType !== 'mouse') return;\n    pausedByInteraction = true;\n    pausedByPointerEnter = true;\n    if (swiper.animating || swiper.autoplay.paused) return;\n    pause(true);\n  };\n  const onPointerLeave = e => {\n    if (e.pointerType !== 'mouse') return;\n    pausedByPointerEnter = false;\n    if (swiper.autoplay.paused) {\n      resume();\n    }\n  };\n  const attachMouseEvents = () => {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.el.addEventListener('pointerenter', onPointerEnter);\n      swiper.el.addEventListener('pointerleave', onPointerLeave);\n    }\n  };\n  const detachMouseEvents = () => {\n    if (swiper.el && typeof swiper.el !== 'string') {\n      swiper.el.removeEventListener('pointerenter', onPointerEnter);\n      swiper.el.removeEventListener('pointerleave', onPointerLeave);\n    }\n  };\n  const attachDocumentEvents = () => {\n    const document = getDocument();\n    document.addEventListener('visibilitychange', onVisibilityChange);\n  };\n  const detachDocumentEvents = () => {\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  };\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      attachMouseEvents();\n      attachDocumentEvents();\n      start();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n    detachDocumentEvents();\n    if (swiper.autoplay.running) {\n      stop();\n    }\n  });\n  on('_freeModeStaticRelease', () => {\n    if (pausedByTouch || pausedByInteraction) {\n      resume();\n    }\n  });\n  on('_freeModeNoMomentumRelease', () => {\n    if (!swiper.params.autoplay.disableOnInteraction) {\n      pause(true, true);\n    } else {\n      stop();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    if (internal || !swiper.params.autoplay.disableOnInteraction) {\n      pause(true, true);\n    } else {\n      stop();\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n      return;\n    }\n    isTouched = true;\n    pausedByTouch = false;\n    pausedByInteraction = false;\n    touchStartTimeout = setTimeout(() => {\n      pausedByInteraction = true;\n      pausedByTouch = true;\n      pause(true);\n    }, 200);\n  });\n  on('touchEnd', () => {\n    if (swiper.destroyed || !swiper.autoplay.running || !isTouched) return;\n    clearTimeout(touchStartTimeout);\n    clearTimeout(timeout);\n    if (swiper.params.autoplay.disableOnInteraction) {\n      pausedByTouch = false;\n      isTouched = false;\n      return;\n    }\n    if (pausedByTouch && swiper.params.cssMode) resume();\n    pausedByTouch = false;\n    isTouched = false;\n  });\n  on('slideChange', () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    slideChanged = true;\n  });\n  Object.assign(swiper.autoplay, {\n    start,\n    stop,\n    pause,\n    resume\n  });\n}\n\nexport { Autoplay as default };\n", "import { Controller } from \"@hotwired/stimulus\";\nimport Swiper from 'swiper';\nimport { Navigation, Autoplay } from 'swiper/modules';\n\nexport default class extends Controller {\n    connect() {\n      this.swiper = new Swiper('.games_swiper', {\n        modules: [Navigation, Autoplay],\n\n        // Optional parameters\n        slidesPerView: 12,\n        spaceBetween: 5,\n        breakpoints: {\n          // when window width is >= 320px\n          320: {\n            slidesPerView: 3,\n            spaceBetween: 3\n          },\n          // when window width is >= 480px\n          480: {\n            slidesPerView: 4,\n            spaceBetween: 5\n          },\n          // when window width is >= 768px\n          768: {\n            slidesPerView: 6,\n            spaceBetween: 5\n          },\n          // when window width is >= 992px\n          992: {\n            slidesPerView: 8,\n            spaceBetween: 5\n          },\n          // when window width is >= 1200px\n          1200: {\n            slidesPerView: 10,\n            spaceBetween: 5\n          },\n          // when window width is >= 1440px\n          1440: {\n            slidesPerView: 12,\n            spaceBetween: 5\n          }\n        },\n        loop: true,\n        autoplay: {\n          delay: 5000,\n        },\n\n        // Navigation arrows\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev',\n        },\n      });\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    static targets = [\"message\", \"button\"];\n\n    connect() {\n        this.checkTextLength();\n        window.addEventListener('resize', this.checkTextLength.bind(this));\n    }\n\n    disconnect() {\n        window.removeEventListener('resize', this.checkTextLength.bind(this));\n    }\n\n    call() {\n        this.element.classList.toggle('open');\n    }\n\n    checkTextLength() {\n        const textLength = this.messageTarget.textContent.length;\n        const screenWidth = window.innerWidth;\n\n        if (textLength <= 200 && screenWidth > 768) {\n            this.buttonTarget.style.display = 'none';\n        } else {\n            this.buttonTarget.style.display = '';\n        }\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    call() {\n        this.element.classList.toggle('collapse-bar');\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    static values = {\n        noImageUrl: String\n    };\n\n    connect() {\n        this.noImageUrlValue = window.location.origin + window.noimage_url;\n        this.processImages();\n    }\n\n    processImages() {\n        const divs = this.element.querySelectorAll('.game-img');\n        divs.forEach(div => {\n            const img = new Image();\n            img.src = div.style.backgroundImage.replace(/^url\\([\"']?/, '').replace(/[\"']?\\)$/, '');\n\n            img.addEventListener('error', () => this.handleImageError(div));\n        });\n    }\n\n    handleImageError(div) {\n        div.style.backgroundImage = `url(${this.noImageUrlValue})`;\n    }\n}", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    connect() {\n        this.scroller();\n    }\n\n    showLeftBar(event) {\n        let parentElement = event.target.parentElement.parentElement;\n        if (parentElement.style.transform == '') {\n            parentElement.style.transform = \"rotate(180deg)\";\n        } else {\n            parentElement.style.transform = \"\";\n        }\n        document.querySelector('.left-bar').classList.toggle('hidden-left-bar');\n    }\n\n    showMainMenu() {\n        document.querySelector('.navbar-toggler').click();\n    }\n\n    up() {\n        window.scrollTo({\n            top: 0,\n            behavior: 'smooth'\n        });\n    }\n\n    scroller() {\n        // $(window).scroll(function() {\n        //     if ($(this).scrollTop() > 300) {\n        //         $('#scroller').fadeIn();\n        //     } else {\n        //         $('#scroller').fadeOut();\n        //     }\n        // });\n\n        window.addEventListener('scroll', () => {\n            const scrollerElement = document.getElementById('scroller');\n            if (window.scrollY > 300) {\n                scrollerElement.style.visibility = 'visible';\n                scrollerElement.style.opacity = 1;\n            } else {\n                scrollerElement.style.opacity = 0;\n                setTimeout(() => {\n                    scrollerElement.style.visibility = 'hidden';\n                }, 400); // \u0417\u0430\u0434\u0435\u0440\u0436\u043A\u0430 \u0434\u043B\u044F \u043F\u043B\u0430\u0432\u043D\u043E\u0433\u043E \u0438\u0441\u0447\u0435\u0437\u043D\u043E\u0432\u0435\u043D\u0438\u044F\n            }\n        });\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    connect() {\n        this.element.scrollTop = this.element.scrollHeight;\n    }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    static targets = [\"text\"]\n\n    copy() {\n        const text = this.textTarget.innerText;\n        navigator.clipboard.writeText(text);\n    }\n}\n", "// This file is auto-generated by ./bin/rails stimulus:manifest:update\n// Run that command whenever you add a new controller or create them with\n// ./bin/rails generate stimulus controllerName\n\nimport { application } from \"./application\"\n\nimport ConfirmController from \"./confirm_controller\"\napplication.register(\"confirm\", ConfirmController)\n\nimport BtnPreloaderController from \"./btn_preloader_controller\"\napplication.register(\"btn_preloader\", BtnPreloaderController)\n\nimport NoticesController from \"./notices_controller\"\napplication.register(\"notices\", NoticesController)\n\nimport ClearFormController from \"./clear_form_controller\"\napplication.register('clear-form', ClearFormController);\n\nimport FancyboxController from \"./fancybox_controller\"\napplication.register('fancybox', FancyboxController);\n\nimport PagyInitializerController from \"./pagy_initializer_controller\";\napplication.register('pagy-initializer', PagyInitializerController);\n\nimport MapController from \"./map_controller\";\napplication.register('map', MapController);\n\nimport SwiperController from \"./swiper_controller\";\napplication.register('swiper', SwiperController);\n\nimport ExpandTextController from \"./expand_text_controller\";\napplication.register('expand_text', ExpandTextController);\n\nimport CollapseController from \"./collapse_controller\";\napplication.register('collapse', CollapseController);\n\nimport NoImageController from \"./no_image_controller\";\napplication.register('no_image', NoImageController);\n\nimport MobileBarController from \"./mobile_bar_controller\";\napplication.register('mobile-bar', MobileBarController);\n\nimport AutoScrollDownController from \"./auto_scroll_down_controller\";\napplication.register('auto-scroll-down', AutoScrollDownController);\n\nimport ClipboardController from \"./clipboard_controller\"\napplication.register(\"clipboard\", ClipboardController)", "// Entry point for the build script in your package.json\nimport \"@hotwired/turbo-rails\"\nimport \"./controllers\"\nimport \"bootstrap/dist/js/bootstrap\"\n\n//import \"./others/main\"\n\nimport \"trix\"\nimport \"@rails/actiontext\"\nimport \"@rails/actiontext/app/assets/javascripts/actiontext\"\n", "export const attachmentSelector = \"[data-trix-attachment]\"\n\nconst attachments = {\n  preview: {\n    presentation: \"gallery\",\n    caption: {\n      name: true,\n      size: true,\n    },\n  },\n  file: {\n    caption: {\n      size: true,\n    },\n  },\n}\nexport default attachments\n", "const attributes = {\n  default: {\n    tagName: \"div\",\n    parse: false,\n  },\n  quote: {\n    tagName: \"blockquote\",\n    nestable: true,\n  },\n  heading1: {\n    tagName: \"h1\",\n    terminal: true,\n    breakOnReturn: true,\n    group: false,\n  },\n  code: {\n    tagName: \"pre\",\n    terminal: true,\n    htmlAttributes: [ \"language\" ],\n    text: {\n      plaintext: true,\n    },\n  },\n  bulletList: {\n    tagName: \"ul\",\n    parse: false,\n  },\n  bullet: {\n    tagName: \"li\",\n    listAttribute: \"bulletList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  numberList: {\n    tagName: \"ol\",\n    parse: false,\n  },\n  number: {\n    tagName: \"li\",\n    listAttribute: \"numberList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  attachmentGallery: {\n    tagName: \"div\",\n    exclusive: true,\n    terminal: true,\n    parse: false,\n    group: false,\n  },\n}\n\nconst tagName = (element) => element?.tagName?.toLowerCase()\n\nexport default attributes\n", "const androidVersionMatch = navigator.userAgent.match(/android\\s([0-9]+.*Chrome)/i)\nconst androidVersion = androidVersionMatch && parseInt(androidVersionMatch[1])\n\nexport default {\n  // Android emits composition events when moving the cursor through existing text\n  // Introduced in Chrome 65: https://bugs.chromium.org/p/chromium/issues/detail?id=764439#c9\n  composesExistingText: /Android.*Chrome/.test(navigator.userAgent),\n\n  // Android 13, especially on Samsung keyboards, emits extra compositionend and beforeinput events\n  // that can make the input handler lose the current selection or enter an infinite input -> render -> input\n  // loop.\n  recentAndroid: androidVersion && androidVersion > 12,\n  samsungAndroid: androidVersion && navigator.userAgent.match(/Android.*SM-/),\n\n  // IE 11 activates resizing handles on editable elements that have \"layout\"\n  forcesObjectResizing: /Trident.*rv:11/.test(navigator.userAgent),\n  // https://www.w3.org/TR/input-events-1/ + https://www.w3.org/TR/input-events-2/\n  supportsInputEvents: typeof InputEvent !== \"undefined\" &&\n    [ \"data\", \"getTargetRanges\", \"inputType\" ].every(prop => prop in InputEvent.prototype),\n}\n", "export default {\n  attachFiles: \"Attach Files\",\n  bold: \"Bold\",\n  bullets: \"Bullets\",\n  byte: \"Byte\",\n  bytes: \"Bytes\",\n  captionPlaceholder: \"Add a caption…\",\n  code: \"Code\",\n  heading1: \"Heading\",\n  indent: \"Increase Level\",\n  italic: \"Italic\",\n  link: \"Link\",\n  numbers: \"Numbers\",\n  outdent: \"Decrease Level\",\n  quote: \"Quote\",\n  redo: \"Redo\",\n  remove: \"Remove\",\n  strike: \"Strikethrough\",\n  undo: \"Undo\",\n  unlink: \"Unlink\",\n  url: \"URL\",\n  urlPlaceholder: \"Enter a URL…\",\n  GB: \"GB\",\n  KB: \"KB\",\n  MB: \"MB\",\n  PB: \"PB\",\n  TB: \"TB\",\n}\n", "/* eslint-disable\n    no-case-declarations,\n*/\nimport lang from \"trix/config/lang\"\n\nconst sizes = [ lang.bytes, lang.KB, lang.MB, lang.GB, lang.TB, lang.PB ]\n\nexport default {\n  prefix: \"IEC\",\n  precision: 2,\n\n  formatter(number) {\n    switch (number) {\n      case 0:\n        return `0 ${lang.bytes}`\n      case 1:\n        return `1 ${lang.byte}`\n      default:\n        let base\n\n        if (this.prefix === \"SI\") {\n          base = 1000\n        } else if (this.prefix === \"IEC\") {\n          base = 1024\n        }\n\n        const exp = Math.floor(Math.log(number) / Math.log(base))\n        const humanSize = number / Math.pow(base, exp)\n        const string = humanSize.toFixed(this.precision)\n        const withoutInsignificantZeros = string.replace(/0*$/, \"\").replace(/\\.$/, \"\")\n        return `${withoutInsignificantZeros} ${sizes[exp]}`\n    }\n  },\n}\n", "export const ZERO_WIDTH_SPACE = \"\\uFEFF\"\nexport const NON_BREAKING_SPACE = \"\\u00A0\"\nexport const OBJECT_REPLACEMENT_CHARACTER = \"\\uFFFC\"\n", "export const extend = function(properties) {\n  for (const key in properties) {\n    const value = properties[key]\n    this[key] = value\n  }\n  return this\n}\n", "import blockAttributes from \"trix/config/block_attributes\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { extend } from \"./extend\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nconst html = document.documentElement\nconst match = html.matches\n\nexport const handleEvent = function(eventName, { onElement, matchingSelector, withCallback, inPhase, preventDefault, times } = {}) {\n  const element = onElement ? onElement : html\n  const selector = matchingSelector\n  const useCapture = inPhase === \"capturing\"\n\n  const handler = function(event) {\n    if (times != null && --times === 0) {\n      handler.destroy()\n    }\n    const target = findClosestElementFromNode(event.target, { matchingSelector: selector })\n    if (target != null) {\n      withCallback?.call(target, event, target)\n      if (preventDefault) {\n        event.preventDefault()\n      }\n    }\n  }\n\n  handler.destroy = () => element.removeEventListener(eventName, handler, useCapture)\n\n  element.addEventListener(eventName, handler, useCapture)\n  return handler\n}\n\nexport const handleEventOnce = function(eventName, options = {}) {\n  options.times = 1\n  return handleEvent(eventName, options)\n}\n\nexport const triggerEvent = function(eventName, { onElement, bubbles, cancelable, attributes } = {}) {\n  const element = onElement != null ? onElement : html\n  bubbles = bubbles !== false\n  cancelable = cancelable !== false\n\n  const event = document.createEvent(\"Events\")\n  event.initEvent(eventName, bubbles, cancelable)\n  if (attributes != null) {\n    extend.call(event, attributes)\n  }\n  return element.dispatchEvent(event)\n}\n\nexport const elementMatchesSelector = function(element, selector) {\n  if (element?.nodeType === 1) {\n    return match.call(element, selector)\n  }\n}\n\nexport const findClosestElementFromNode = function(node, { matchingSelector, untilNode } = {}) {\n  while (node && node.nodeType !== Node.ELEMENT_NODE) {\n    node = node.parentNode\n  }\n  if (node == null) {\n    return\n  }\n\n  if (matchingSelector != null) {\n    if (node.closest && untilNode == null) {\n      return node.closest(matchingSelector)\n    } else {\n      while (node && node !== untilNode) {\n        if (elementMatchesSelector(node, matchingSelector)) {\n          return node\n        }\n        node = node.parentNode\n      }\n    }\n  } else {\n    return node\n  }\n}\n\nexport const findInnerElement = function(element) {\n  while (element?.firstElementChild) {\n    element = element.firstElementChild\n  }\n  return element\n}\n\nexport const innerElementIsActive = (element) =>\n  document.activeElement !== element && elementContainsNode(element, document.activeElement)\n\nexport const elementContainsNode = function(element, node) {\n  if (!element || !node) {\n    return\n  }\n  while (node) {\n    if (node === element) {\n      return true\n    }\n    node = node.parentNode\n  }\n}\n\nexport const findNodeFromContainerAndOffset = function(container, offset) {\n  if (!container) {\n    return\n  }\n  if (container.nodeType === Node.TEXT_NODE) {\n    return container\n  } else if (offset === 0) {\n    return container.firstChild != null ? container.firstChild : container\n  } else {\n    return container.childNodes.item(offset - 1)\n  }\n}\n\nexport const findElementFromContainerAndOffset = function(container, offset) {\n  const node = findNodeFromContainerAndOffset(container, offset)\n  return findClosestElementFromNode(node)\n}\n\nexport const findChildIndexOfNode = function(node) {\n  if (!node?.parentNode) {\n    return\n  }\n  let childIndex = 0\n  node = node.previousSibling\n  while (node) {\n    childIndex++\n    node = node.previousSibling\n  }\n  return childIndex\n}\n\nexport const removeNode = (node) => node?.parentNode?.removeChild(node)\n\nexport const walkTree = function(tree, { onlyNodesOfType, usingFilter, expandEntityReferences } = {}) {\n  const whatToShow = (() => {\n    switch (onlyNodesOfType) {\n      case \"element\":\n        return NodeFilter.SHOW_ELEMENT\n      case \"text\":\n        return NodeFilter.SHOW_TEXT\n      case \"comment\":\n        return NodeFilter.SHOW_COMMENT\n      default:\n        return NodeFilter.SHOW_ALL\n    }\n  })()\n\n  return document.createTreeWalker(\n    tree,\n    whatToShow,\n    usingFilter != null ? usingFilter : null,\n    expandEntityReferences === true\n  )\n}\n\nexport const tagName = (element) => element?.tagName?.toLowerCase()\n\nexport const makeElement = function(tag, options = {}) {\n  let key, value\n  if (typeof tag === \"object\") {\n    options = tag\n    tag = options.tagName\n  } else {\n    options = { attributes: options }\n  }\n\n  const element = document.createElement(tag)\n\n  if (options.editable != null) {\n    if (options.attributes == null) {\n      options.attributes = {}\n    }\n    options.attributes.contenteditable = options.editable\n  }\n\n  if (options.attributes) {\n    for (key in options.attributes) {\n      value = options.attributes[key]\n      element.setAttribute(key, value)\n    }\n  }\n\n  if (options.style) {\n    for (key in options.style) {\n      value = options.style[key]\n      element.style[key] = value\n    }\n  }\n\n  if (options.data) {\n    for (key in options.data) {\n      value = options.data[key]\n      element.dataset[key] = value\n    }\n  }\n\n  if (options.className) {\n    options.className.split(\" \").forEach((className) => {\n      element.classList.add(className)\n    })\n  }\n\n  if (options.textContent) {\n    element.textContent = options.textContent\n  }\n\n  if (options.childNodes) {\n    [].concat(options.childNodes).forEach((childNode) => {\n      element.appendChild(childNode)\n    })\n  }\n\n  return element\n}\n\nlet blockTagNames = undefined\n\nexport const getBlockTagNames = function() {\n  if (blockTagNames != null) {\n    return blockTagNames\n  }\n\n  blockTagNames = []\n  for (const key in blockAttributes) {\n    const attributes = blockAttributes[key]\n    if (attributes.tagName) {\n      blockTagNames.push(attributes.tagName)\n    }\n  }\n\n  return blockTagNames\n}\n\nexport const nodeIsBlockContainer = (node) => nodeIsBlockStartComment(node?.firstChild)\n\nexport const nodeProbablyIsBlockContainer = function(node) {\n  return getBlockTagNames().includes(tagName(node)) && !getBlockTagNames().includes(tagName(node.firstChild))\n}\n\nexport const nodeIsBlockStart = function(node, { strict } = { strict: true }) {\n  if (strict) {\n    return nodeIsBlockStartComment(node)\n  } else {\n    return (\n      nodeIsBlockStartComment(node) || !nodeIsBlockStartComment(node.firstChild) && nodeProbablyIsBlockContainer(node)\n    )\n  }\n}\n\nexport const nodeIsBlockStartComment = (node) => nodeIsCommentNode(node) && node?.data === \"block\"\n\nexport const nodeIsCommentNode = (node) => node?.nodeType === Node.COMMENT_NODE\n\nexport const nodeIsCursorTarget = function(node, { name } = {}) {\n  if (!node) {\n    return\n  }\n  if (nodeIsTextNode(node)) {\n    if (node.data === ZERO_WIDTH_SPACE) {\n      if (name) {\n        return node.parentNode.dataset.trixCursorTarget === name\n      } else {\n        return true\n      }\n    }\n  } else {\n    return nodeIsCursorTarget(node.firstChild)\n  }\n}\n\nexport const nodeIsAttachmentElement = (node) => elementMatchesSelector(node, attachmentSelector)\n\nexport const nodeIsEmptyTextNode = (node) => nodeIsTextNode(node) && node?.data === \"\"\n\nexport const nodeIsTextNode = (node) => node?.nodeType === Node.TEXT_NODE\n", "import browser from \"trix/config/browser\"\nimport { makeElement, removeNode } from \"trix/core/helpers/dom\"\n\nconst input = {\n  level2Enabled: true,\n\n  getLevel() {\n    if (this.level2Enabled && browser.supportsInputEvents) {\n      return 2\n    } else {\n      return 0\n    }\n  },\n  pickFiles(callback) {\n    const input = makeElement(\"input\", { type: \"file\", multiple: true, hidden: true, id: this.fileInputId })\n\n    input.addEventListener(\"change\", () => {\n      callback(input.files)\n      removeNode(input)\n    })\n\n    removeNode(document.getElementById(this.fileInputId))\n    document.body.appendChild(input)\n    input.click()\n  }\n}\n\nexport default input\n", "export default {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"return\",\n  27: \"escape\",\n  37: \"left\",\n  39: \"right\",\n  46: \"delete\",\n  68: \"d\",\n  72: \"h\",\n  79: \"o\",\n}\n", "export default {\n  removeBlankTableCells: false,\n  tableCellSeparator: \" | \",\n  tableRowSeparator: \"\\n\",\n}\n", "import { attachmentSelector } from \"trix/config/attachments\"\n\nexport default {\n  bold: {\n    tagName: \"strong\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontWeight === \"bold\" || style.fontWeight >= 600\n    },\n  },\n  italic: {\n    tagName: \"em\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontStyle === \"italic\"\n    },\n  },\n  href: {\n    groupTagName: \"a\",\n    parser(element) {\n      const matchingSelector = `a:not(${attachmentSelector})`\n      const link = element.closest(matchingSelector)\n      if (link) {\n        return link.getAttribute(\"href\")\n      }\n    },\n  },\n  strike: {\n    tagName: \"del\",\n    inheritable: true,\n  },\n  frozen: {\n    style: { backgroundColor: \"highlight\" },\n  },\n}\n", "import lang from \"trix/config/lang\"\n\nexport default {\n  getDefaultHTML() {\n    return `<div class=\"trix-button-row\">\n      <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"${lang.bold}\" tabindex=\"-1\">${lang.bold}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"${lang.italic}\" tabindex=\"-1\">${lang.italic}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"${lang.strike}\" tabindex=\"-1\">${lang.strike}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"${lang.link}\" tabindex=\"-1\">${lang.link}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"${lang.heading1}\" tabindex=\"-1\">${lang.heading1}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"${lang.quote}\" tabindex=\"-1\">${lang.quote}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"${lang.code}\" tabindex=\"-1\">${lang.code}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"${lang.bullets}\" tabindex=\"-1\">${lang.bullets}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"${lang.numbers}\" tabindex=\"-1\">${lang.numbers}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"${lang.outdent}\" tabindex=\"-1\">${lang.outdent}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"${lang.indent}\" tabindex=\"-1\">${lang.indent}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"${lang.attachFiles}\" tabindex=\"-1\">${lang.attachFiles}</button>\n      </span>\n\n      <span class=\"trix-button-group-spacer\"></span>\n\n      <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"${lang.undo}\" tabindex=\"-1\">${lang.undo}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"${lang.redo}\" tabindex=\"-1\">${lang.redo}</button>\n      </span>\n    </div>\n\n    <div class=\"trix-dialogs\" data-trix-dialogs>\n      <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\n        <div class=\"trix-dialog__link-fields\">\n          <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"${lang.urlPlaceholder}\" aria-label=\"${lang.url}\" required data-trix-input>\n          <div class=\"trix-button-group\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.link}\" data-trix-method=\"setAttribute\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.unlink}\" data-trix-method=\"removeAttribute\">\n          </div>\n        </div>\n      </div>\n    </div>`\n  },\n}\n", "const undo = { interval: 5000 }\nexport default undo\n", "export default {\n  attachment: \"attachment\",\n  attachmentCaption: \"attachment__caption\",\n  attachmentCaptionEditor: \"attachment__caption-editor\",\n  attachmentMetadata: \"attachment__metadata\",\n  attachmentMetadataContainer: \"attachment__metadata-container\",\n  attachmentName: \"attachment__name\",\n  attachmentProgress: \"attachment__progress\",\n  attachmentSize: \"attachment__size\",\n  attachmentToolbar: \"attachment__toolbar\",\n  attachmentGallery: \"attachment-gallery\",\n}\n", "export default class BasicObject {\n  static proxyMethod(expression) {\n    const { name, toMethod, toProperty, optional } = parseProxyMethodExpression(expression)\n\n    this.prototype[name] = function() {\n      let subject\n      let object\n\n      if (toMethod) {\n        if (optional) {\n          object = this[toMethod]?.()\n        } else {\n          object = this[toMethod]()\n        }\n      } else if (toProperty) {\n        object = this[toProperty]\n      }\n\n      if (optional) {\n        subject = object?.[name]\n        if (subject) {\n          return apply.call(subject, object, arguments)\n        }\n      } else {\n        subject = object[name]\n        return apply.call(subject, object, arguments)\n      }\n    }\n  }\n}\n\nconst parseProxyMethodExpression = function(expression) {\n  const match = expression.match(proxyMethodExpressionPattern)\n  if (!match) {\n    throw new Error(`can't parse @proxyMethod expression: ${expression}`)\n  }\n\n  const args = { name: match[4] }\n\n  if (match[2] != null) {\n    args.toMethod = match[1]\n  } else {\n    args.toProperty = match[1]\n  }\n\n  if (match[3] != null) {\n    args.optional = true\n  }\n\n  return args\n}\n\nconst { apply } = Function.prototype\n\nconst proxyMethodExpressionPattern = new RegExp(\"\\\n^\\\n(.+?)\\\n(\\\\(\\\\))?\\\n(\\\\?)?\\\n\\\\.\\\n(.+?)\\\n$\\\n\")\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class UTF16String extends BasicObject {\n  static box(value = \"\") {\n    if (value instanceof this) {\n      return value\n    } else {\n      return this.fromUCS2String(value?.toString())\n    }\n  }\n\n  static fromUCS2String(ucs2String) {\n    return new this(ucs2String, ucs2decode(ucs2String))\n  }\n\n  static fromCodepoints(codepoints) {\n    return new this(ucs2encode(codepoints), codepoints)\n  }\n\n  constructor(ucs2String, codepoints) {\n    super(...arguments)\n    this.ucs2String = ucs2String\n    this.codepoints = codepoints\n    this.length = this.codepoints.length\n    this.ucs2Length = this.ucs2String.length\n  }\n\n  offsetToUCS2Offset(offset) {\n    return ucs2encode(this.codepoints.slice(0, Math.max(0, offset))).length\n  }\n\n  offsetFromUCS2Offset(ucs2Offset) {\n    return ucs2decode(this.ucs2String.slice(0, Math.max(0, ucs2Offset))).length\n  }\n\n  slice() {\n    return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))\n  }\n\n  charAt(offset) {\n    return this.slice(offset, offset + 1)\n  }\n\n  isEqualTo(value) {\n    return this.constructor.box(value).ucs2String === this.ucs2String\n  }\n\n  toJSON() {\n    return this.ucs2String\n  }\n\n  getCacheKey() {\n    return this.ucs2String\n  }\n\n  toString() {\n    return this.ucs2String\n  }\n}\n\nconst hasArrayFrom = Array.from?.(\"\\ud83d\\udc7c\").length === 1\nconst hasStringCodePointAt = \" \".codePointAt?.(0) != null\nconst hasStringFromCodePoint = String.fromCodePoint?.(32, 128124) === \" \\ud83d\\udc7c\"\n\n// UCS-2 conversion helpers ported from Mathias Bynens' Punycode.js:\n// https://github.com/bestiejs/punycode.js#punycodeucs2\n\nlet ucs2decode, ucs2encode\n\n// Creates an array containing the numeric code points of each Unicode\n// character in the string. While JavaScript uses UCS-2 internally,\n// this function will convert a pair of surrogate halves (each of which\n// UCS-2 exposes as separate characters) into a single code point,\n// matching UTF-16.\nif (hasArrayFrom && hasStringCodePointAt) {\n  ucs2decode = (string) => Array.from(string).map((char) => char.codePointAt(0))\n} else {\n  ucs2decode = function(string) {\n    const output = []\n    let counter = 0\n    const { length } = string\n\n    while (counter < length) {\n      let value = string.charCodeAt(counter++)\n      if (0xd800 <= value && value <= 0xdbff && counter < length) {\n        // high surrogate, and there is a next character\n        const extra = string.charCodeAt(counter++)\n        if ((extra & 0xfc00) === 0xdc00) {\n          // low surrogate\n          value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000\n        } else {\n          // unmatched surrogate; only append this code unit, in case the\n          // next code unit is the high surrogate of a surrogate pair\n          counter--\n        }\n      }\n      output.push(value)\n    }\n\n    return output\n  }\n}\n\n// Creates a string based on an array of numeric code points.\nif (hasStringFromCodePoint) {\n  ucs2encode = (array) => String.fromCodePoint(...Array.from(array || []))\n} else {\n  ucs2encode = function(array) {\n    const characters = (() => {\n      const result = []\n\n      Array.from(array).forEach((value) => {\n        let output = \"\"\n        if (value > 0xffff) {\n          value -= 0x10000\n          output += String.fromCharCode(value >>> 10 & 0x3ff | 0xd800)\n          value = 0xdc00 | value & 0x3ff\n        }\n        result.push(output + String.fromCharCode(value))\n      })\n\n      return result\n    })()\n\n    return characters.join(\"\")\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nlet id = 0\n\nexport default class TrixObject extends BasicObject {\n  static fromJSONString(jsonString) {\n    return this.fromJSON(JSON.parse(jsonString))\n  }\n\n  constructor() {\n    super(...arguments)\n    this.id = ++id\n  }\n\n  hasSameConstructorAs(object) {\n    return this.constructor === object?.constructor\n  }\n\n  isEqualTo(object) {\n    return this === object\n  }\n\n  inspect() {\n    const parts = []\n    const contents = this.contentsForInspection() || {}\n\n    for (const key in contents) {\n      const value = contents[key]\n      parts.push(`${key}=${value}`)\n    }\n\n    return `#<${this.constructor.name}:${this.id}${parts.length ? ` ${parts.join(\", \")}` : \"\"}>`\n  }\n\n  contentsForInspection() {}\n\n  toJSONString() {\n    return JSON.stringify(this)\n  }\n\n  toUTF16String() {\n    return UTF16String.box(this)\n  }\n\n  getCacheKey() {\n    return this.id.toString()\n  }\n}\n", "/* eslint-disable\n    id-length,\n*/\nexport const arraysAreEqual = function(a = [], b = []) {\n  if (a.length !== b.length) {\n    return false\n  }\n  for (let index = 0; index < a.length; index++) {\n    const value = a[index]\n    if (value !== b[index]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const arrayStartsWith = (a = [], b = []) => arraysAreEqual(a.slice(0, b.length), b)\n\nexport const spliceArray = function(array, ...args) {\n  const result = array.slice(0)\n  result.splice(...args)\n  return result\n}\n\nexport const summarizeArrayChange = function(oldArray = [], newArray = []) {\n  const added = []\n  const removed = []\n\n  const existingValues = new Set()\n\n  oldArray.forEach((value) => {\n    existingValues.add(value)\n  })\n\n  const currentValues = new Set()\n\n  newArray.forEach((value) => {\n    currentValues.add(value)\n    if (!existingValues.has(value)) {\n      added.push(value)\n    }\n  })\n\n  oldArray.forEach((value) => {\n    if (!currentValues.has(value)) {\n      removed.push(value)\n    }\n  })\n\n  return { added, removed }\n}\n", "import { makeElement } from \"trix/core/helpers/dom\"\n\n// https://github.com/mathiasbynens/unicode-2.1.8/blob/master/Bidi_Class/Right_To_Left/regex.js\nconst RTL_PATTERN =\n  /[\\u05BE\\u05C0\\u05C3\\u05D0-\\u05EA\\u05F0-\\u05F4\\u061B\\u061F\\u0621-\\u063A\\u0640-\\u064A\\u066D\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D5\\u06E5\\u06E6\\u200F\\u202B\\u202E\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE72\\uFE74\\uFE76-\\uFEFC]/\n\nexport const getDirection = (function() {\n  const input = makeElement(\"input\", { dir: \"auto\", name: \"x\", dirName: \"x.dir\" })\n  const textArea = makeElement(\"textarea\", { dir: \"auto\", name: \"y\", dirName: \"y.dir\" })\n  const form = makeElement(\"form\")\n  form.appendChild(input)\n  form.appendChild(textArea)\n\n  const supportsDirName = (function() {\n    try {\n      return new FormData(form).has(textArea.dirName)\n    } catch (error) {\n      return false\n    }\n  })()\n\n  const supportsDirSelector = (function() {\n    try {\n      return input.matches(\":dir(ltr),:dir(rtl)\")\n    } catch (error) {\n      return false\n    }\n  })()\n\n  if (supportsDirName) {\n    return function(string) {\n      textArea.value = string\n      return new FormData(form).get(textArea.dirName)\n    }\n  } else if (supportsDirSelector) {\n    return function(string) {\n      input.value = string\n      if (input.matches(\":dir(rtl)\")) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  } else {\n    return function(string) {\n      const char = string.trim().charAt(0)\n      if (RTL_PATTERN.test(char)) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  }\n})()\n", "import * as config from \"trix/config\"\n\nlet allAttributeNames = null\nlet blockAttributeNames = null\nlet textAttributeNames = null\nlet listAttributeNames = null\n\nexport const getAllAttributeNames = () => {\n  if (!allAttributeNames) {\n    allAttributeNames = getTextAttributeNames().concat(getBlockAttributeNames())\n  }\n  return allAttributeNames\n}\n\nexport const getBlockConfig = (attributeName) => config.blockAttributes[attributeName]\n\nexport const getBlockAttributeNames = () => {\n  if (!blockAttributeNames) {\n    blockAttributeNames = Object.keys(config.blockAttributes)\n  }\n  return blockAttributeNames\n}\n\nexport const getTextConfig = (attributeName) => config.textAttributes[attributeName]\n\nexport const getTextAttributeNames = () => {\n  if (!textAttributeNames) {\n    textAttributeNames = Object.keys(config.textAttributes)\n  }\n  return textAttributeNames\n}\n\nexport const getListAttributeNames = () => {\n  if (!listAttributeNames) {\n    listAttributeNames = []\n    for (const key in config.blockAttributes) {\n      const { listAttribute } = config.blockAttributes[key]\n      if (listAttribute != null) {\n        listAttributeNames.push(listAttribute)\n      }\n    }\n  }\n  return listAttributeNames\n}\n", "/* eslint-disable\n*/\nexport const installDefaultCSSForTagName = function(tagName, defaultCSS) {\n  const styleElement = insertStyleElementForTagName(tagName)\n  styleElement.textContent = defaultCSS.replace(/%t/g, tagName)\n}\n\nconst insertStyleElementForTagName = function(tagName) {\n  const element = document.createElement(\"style\")\n  element.setAttribute(\"type\", \"text/css\")\n  element.setAttribute(\"data-tag-name\", tagName.toLowerCase())\n  const nonce = getCSPNonce()\n  if (nonce) {\n    element.setAttribute(\"nonce\", nonce)\n  }\n  document.head.insertBefore(element, document.head.firstChild)\n  return element\n}\n\nconst getCSPNonce = function() {\n  const element = getMetaElement(\"trix-csp-nonce\") || getMetaElement(\"csp-nonce\")\n  if (element) {\n    const { nonce, content } = element\n    return nonce == \"\" ? content : nonce\n  }\n}\n\nconst getMetaElement = (name) => document.head.querySelector(`meta[name=${name}]`)\n", "const testTransferData = { \"application/x-trix-feature-detection\": \"test\" }\n\nexport const dataTransferIsPlainText = function(dataTransfer) {\n  const text = dataTransfer.getData(\"text/plain\")\n  const html = dataTransfer.getData(\"text/html\")\n\n  if (text && html) {\n    const { body } = new DOMParser().parseFromString(html, \"text/html\")\n    if (body.textContent === text) {\n      return !body.querySelector(\"*\")\n    }\n  } else {\n    return text?.length\n  }\n}\n\nexport const dataTransferIsMsOfficePaste = ({ dataTransfer }) => {\n  return dataTransfer.types.includes(\"Files\") &&\n    dataTransfer.types.includes(\"text/html\") &&\n    dataTransfer.getData(\"text/html\").includes(\"urn:schemas-microsoft-com:office:office\")\n}\n\nexport const dataTransferIsWritable = function(dataTransfer) {\n  if (!dataTransfer?.setData) return false\n\n  for (const key in testTransferData) {\n    const value = testTransferData[key]\n\n    try {\n      dataTransfer.setData(key, value)\n      if (!dataTransfer.getData(key) === value) return false\n    } catch (error) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const keyEventIsKeyboardCommand = (function() {\n  if (/Mac|^iP/.test(navigator.platform)) {\n    return (event) => event.metaKey\n  } else {\n    return (event) => event.ctrlKey\n  }\n})()\n\nexport function shouldRenderInmmediatelyToDealWithIOSDictation(inputEvent) {\n  if (/iPhone|iPad/.test(navigator.userAgent)) {\n    // Handle garbled content and duplicated newlines when using dictation on iOS 18+. Upon dictation completion, iOS sends\n    // the list of insertText / insertParagraph events in a quick sequence. If we don't render\n    // the editor synchronously, the internal range fails to update and results in garbled content or duplicated newlines.\n    //\n    // This workaround is necessary because iOS doesn't send composing events as expected while dictating:\n    // https://bugs.webkit.org/show_bug.cgi?id=261764\n    return !inputEvent.inputType || inputEvent.inputType === \"insertParagraph\"\n  } else {\n    return false\n  }\n}\n", "export const defer = (fn) => setTimeout(fn, 1)\n", "/* eslint-disable\n    id-length,\n*/\nexport const copyObject = function(object = {}) {\n  const result = {}\n  for (const key in object) {\n    const value = object[key]\n    result[key] = value\n  }\n  return result\n}\n\nexport const objectsAreEqual = function(a = {}, b = {}) {\n  if (Object.keys(a).length !== Object.keys(b).length) {\n    return false\n  }\n  for (const key in a) {\n    const value = a[key]\n    if (value !== b[key]) {\n      return false\n    }\n  }\n  return true\n}\n", "import { copyObject, objectsAreEqual } from \"trix/core/helpers/objects\"\n\nexport const normalizeRange = function(range) {\n  if (range == null) return\n\n  if (!Array.isArray(range)) {\n    range = [ range, range ]\n  }\n  return [ copyValue(range[0]), copyValue(range[1] != null ? range[1] : range[0]) ]\n}\n\nexport const rangeIsCollapsed = function(range) {\n  if (range == null) return\n\n  const [ start, end ] = normalizeRange(range)\n  return rangeValuesAreEqual(start, end)\n}\n\nexport const rangesAreEqual = function(leftRange, rightRange) {\n  if (leftRange == null || rightRange == null) return\n\n  const [ leftStart, leftEnd ] = normalizeRange(leftRange)\n  const [ rightStart, rightEnd ] = normalizeRange(rightRange)\n  return rangeValuesAreEqual(leftStart, rightStart) && rangeValuesAreEqual(leftEnd, rightEnd)\n}\n\nconst copyValue = function(value) {\n  if (typeof value === \"number\") {\n    return value\n  } else {\n    return copyObject(value)\n  }\n}\n\nconst rangeValuesAreEqual = function(left, right) {\n  if (typeof left === \"number\") {\n    return left === right\n  } else {\n    return objectsAreEqual(left, right)\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class SelectionChangeObserver extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.update = this.update.bind(this)\n    this.selectionManagers = []\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true\n      document.addEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false\n      return document.removeEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  registerSelectionManager(selectionManager) {\n    if (!this.selectionManagers.includes(selectionManager)) {\n      this.selectionManagers.push(selectionManager)\n      return this.start()\n    }\n  }\n\n  unregisterSelectionManager(selectionManager) {\n    this.selectionManagers = this.selectionManagers.filter((sm) => sm !== selectionManager)\n    if (this.selectionManagers.length === 0) {\n      return this.stop()\n    }\n  }\n\n  notifySelectionManagersOfSelectionChange() {\n    return this.selectionManagers.map((selectionManager) => selectionManager.selectionDidChange())\n  }\n\n  update() {\n    this.notifySelectionManagersOfSelectionChange()\n  }\n\n  reset() {\n    this.update()\n  }\n}\n\nexport const selectionChangeObserver = new SelectionChangeObserver()\n\nexport const getDOMSelection = function() {\n  const selection = window.getSelection()\n  if (selection.rangeCount > 0) {\n    return selection\n  }\n}\n\nexport const getDOMRange = function() {\n  const domRange = getDOMSelection()?.getRangeAt(0)\n  if (domRange) {\n    if (!domRangeIsPrivate(domRange)) {\n      return domRange\n    }\n  }\n}\n\nexport const setDOMRange = function(domRange) {\n  const selection = window.getSelection()\n  selection.removeAllRanges()\n  selection.addRange(domRange)\n  return selectionChangeObserver.update()\n}\n\n// In Firefox, clicking certain <input> elements changes the selection to a\n// private element used to draw its UI. Attempting to access properties of those\n// elements throws an error.\n// https://bugzilla.mozilla.org/show_bug.cgi?id=208427\nconst domRangeIsPrivate = (domRange) => nodeIsPrivate(domRange.startContainer) || nodeIsPrivate(domRange.endContainer)\n\nconst nodeIsPrivate = (node) => !Object.getPrototypeOf(node)\n", "/* eslint-disable\n    id-length,\n    no-useless-escape,\n*/\nimport { NON_BREAKING_SPACE, ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nexport const normalizeSpaces = (string) =>\n  string.replace(new RegExp(`${ZERO_WIDTH_SPACE}`, \"g\"), \"\").replace(new RegExp(`${NON_BREAKING_SPACE}`, \"g\"), \" \")\n\nexport const normalizeNewlines = (string) => string.replace(/\\r\\n?/g, \"\\n\")\n\nexport const breakableWhitespacePattern = new RegExp(`[^\\\\S${NON_BREAKING_SPACE}]`)\n\nexport const squishBreakableWhitespace = (string) =>\n  string\n    // Replace all breakable whitespace characters with a space\n    .replace(new RegExp(`${breakableWhitespacePattern.source}`, \"g\"), \" \")\n    // Replace two or more spaces with a single space\n    .replace(/\\ {2,}/g, \" \")\n\nexport const summarizeStringChange = function(oldString, newString) {\n  let added, removed\n  oldString = UTF16String.box(oldString)\n  newString = UTF16String.box(newString)\n\n  if (newString.length < oldString.length) {\n    [ removed, added ] = utf16StringDifferences(oldString, newString)\n  } else {\n    [ added, removed ] = utf16StringDifferences(newString, oldString)\n  }\n\n  return { added, removed }\n}\n\nconst utf16StringDifferences = function(a, b) {\n  if (a.isEqualTo(b)) {\n    return [ \"\", \"\" ]\n  }\n\n  const diffA = utf16StringDifference(a, b)\n  const { length } = diffA.utf16String\n\n  let diffB\n\n  if (length) {\n    const { offset } = diffA\n    const codepoints = a.codepoints.slice(0, offset).concat(a.codepoints.slice(offset + length))\n    diffB = utf16StringDifference(b, UTF16String.fromCodepoints(codepoints))\n  } else {\n    diffB = utf16StringDifference(b, a)\n  }\n\n  return [ diffA.utf16String.toString(), diffB.utf16String.toString() ]\n}\n\nconst utf16StringDifference = function(a, b) {\n  let leftIndex = 0\n  let rightIndexA = a.length\n  let rightIndexB = b.length\n\n  while (leftIndex < rightIndexA && a.charAt(leftIndex).isEqualTo(b.charAt(leftIndex))) {\n    leftIndex++\n  }\n\n  while (rightIndexA > leftIndex + 1 && a.charAt(rightIndexA - 1).isEqualTo(b.charAt(rightIndexB - 1))) {\n    rightIndexA--\n    rightIndexB--\n  }\n\n  return {\n    utf16String: a.slice(leftIndex, rightIndexA),\n    offset: leftIndex,\n  }\n}\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport { arraysAreEqual } from \"trix/core/helpers\"\n\nexport default class Hash extends TrixObject {\n  static fromCommonAttributesOfObjects(objects = []) {\n    if (!objects.length) {\n      return new this()\n    }\n    let hash = box(objects[0])\n    let keys = hash.getKeys()\n\n    objects.slice(1).forEach((object) => {\n      keys = hash.getKeysCommonToHash(box(object))\n      hash = hash.slice(keys)\n    })\n\n    return hash\n  }\n\n  static box(values) {\n    return box(values)\n  }\n\n  constructor(values = {}) {\n    super(...arguments)\n    this.values = copy(values)\n  }\n\n  add(key, value) {\n    return this.merge(object(key, value))\n  }\n\n  remove(key) {\n    return new Hash(copy(this.values, key))\n  }\n\n  get(key) {\n    return this.values[key]\n  }\n\n  has(key) {\n    return key in this.values\n  }\n\n  merge(values) {\n    return new Hash(merge(this.values, unbox(values)))\n  }\n\n  slice(keys) {\n    const values = {}\n\n    Array.from(keys).forEach((key) => {\n      if (this.has(key)) {\n        values[key] = this.values[key]\n      }\n    })\n\n    return new Hash(values)\n  }\n\n  getKeys() {\n    return Object.keys(this.values)\n  }\n\n  getKeysCommonToHash(hash) {\n    hash = box(hash)\n    return this.getKeys().filter((key) => this.values[key] === hash.values[key])\n  }\n\n  isEqualTo(values) {\n    return arraysAreEqual(this.toArray(), box(values).toArray())\n  }\n\n  isEmpty() {\n    return this.getKeys().length === 0\n  }\n\n  toArray() {\n    if (!this.array) {\n      const result = []\n      for (const key in this.values) {\n        const value = this.values[key]\n        result.push(result.push(key, value))\n      }\n      this.array = result.slice(0)\n    }\n\n    return this.array\n  }\n\n  toObject() {\n    return copy(this.values)\n  }\n\n  toJSON() {\n    return this.toObject()\n  }\n\n  contentsForInspection() {\n    return { values: JSON.stringify(this.values) }\n  }\n}\n\nconst object = function(key, value) {\n  const result = {}\n  result[key] = value\n  return result\n}\n\nconst merge = function(object, values) {\n  const result = copy(object)\n  for (const key in values) {\n    const value = values[key]\n    result[key] = value\n  }\n  return result\n}\n\nconst copy = function(object, keyToRemove) {\n  const result = {}\n  const sortedKeys = Object.keys(object).sort()\n\n  sortedKeys.forEach((key) => {\n    if (key !== keyToRemove) {\n      result[key] = object[key]\n    }\n  })\n\n  return result\n}\n\nconst box = function(object) {\n  if (object instanceof Hash) {\n    return object\n  } else {\n    return new Hash(object)\n  }\n}\n\nconst unbox = function(object) {\n  if (object instanceof Hash) {\n    return object.values\n  } else {\n    return object\n  }\n}\n", "export default class ObjectGroup {\n  static groupObjects(ungroupedObjects = [], { depth, asTree } = {}) {\n    let group\n    if (asTree) {\n      if (depth == null) {\n        depth = 0\n      }\n    }\n    const objects = []\n\n    Array.from(ungroupedObjects).forEach((object) => {\n      if (group) {\n        if (object.canBeGrouped?.(depth) && group[group.length - 1].canBeGroupedWith?.(object, depth)) {\n          group.push(object)\n          return\n        } else {\n          objects.push(new this(group, { depth, asTree }))\n          group = null\n        }\n      }\n\n      if (object.canBeGrouped?.(depth)) {\n        group = [ object ]\n      } else {\n        objects.push(object)\n      }\n    })\n\n    if (group) {\n      objects.push(new this(group, { depth, asTree }))\n    }\n    return objects\n  }\n\n  constructor(objects = [], { depth, asTree }) {\n    this.objects = objects\n    if (asTree) {\n      this.depth = depth\n      this.objects = this.constructor.groupObjects(this.objects, { asTree, depth: this.depth + 1 })\n    }\n  }\n\n  getObjects() {\n    return this.objects\n  }\n\n  getDepth() {\n    return this.depth\n  }\n\n  getCacheKey() {\n    const keys = [ \"objectGroup\" ]\n    Array.from(this.getObjects()).forEach((object) => {\n      keys.push(object.getCacheKey())\n    })\n    return keys.join(\"/\")\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class ObjectMap extends BasicObject {\n  constructor(objects = []) {\n    super(...arguments)\n    this.objects = {}\n\n    Array.from(objects).forEach((object) => {\n      const hash = JSON.stringify(object)\n      if (this.objects[hash] == null) {\n        this.objects[hash] = object\n      }\n    })\n  }\n\n  find(object) {\n    const hash = JSON.stringify(object)\n    return this.objects[hash]\n  }\n}\n", "export default class ElementStore {\n  constructor(elements) {\n    this.reset(elements)\n  }\n\n  add(element) {\n    const key = getKey(element)\n    this.elements[key] = element\n  }\n\n  remove(element) {\n    const key = getKey(element)\n    const value = this.elements[key]\n    if (value) {\n      delete this.elements[key]\n      return value\n    }\n  }\n\n  reset(elements = []) {\n    this.elements = {}\n    Array.from(elements).forEach((element) => {\n      this.add(element)\n    })\n    return elements\n  }\n}\n\nconst getKey = (element) => element.dataset.trixStoreKey\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class Operation extends BasicObject {\n  isPerforming() {\n    return this.performing === true\n  }\n\n  hasPerformed() {\n    return this.performed === true\n  }\n\n  hasSucceeded() {\n    return this.performed && this.succeeded\n  }\n\n  hasFailed() {\n    return this.performed && !this.succeeded\n  }\n\n  getPromise() {\n    if (!this.promise) {\n      this.promise = new Promise((resolve, reject) => {\n        this.performing = true\n        return this.perform((succeeded, result) => {\n          this.succeeded = succeeded\n          this.performing = false\n          this.performed = true\n\n          if (this.succeeded) {\n            resolve(result)\n          } else {\n            reject(result)\n          }\n        })\n      })\n    }\n\n    return this.promise\n  }\n\n  perform(callback) {\n    return callback(false)\n  }\n\n  release() {\n    this.promise?.cancel?.()\n    this.promise = null\n    this.performing = null\n    this.performed = null\n    this.succeeded = null\n  }\n}\n\nOperation.proxyMethod(\"getPromise().then\")\nOperation.proxyMethod(\"getPromise().catch\")\n", "import BasicObject from \"trix/core/basic_object\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\n\nexport default class ObjectView extends BasicObject {\n  constructor(object, options = {}) {\n    super(...arguments)\n    this.object = object\n    this.options = options\n    this.childViews = []\n    this.rootView = this\n  }\n\n  getNodes() {\n    if (!this.nodes) { this.nodes = this.createNodes() }\n    return this.nodes.map((node) => node.cloneNode(true))\n  }\n\n  invalidate() {\n    this.nodes = null\n    this.childViews = []\n    return this.parentView?.invalidate()\n  }\n\n  invalidateViewForObject(object) {\n    return this.findViewForObject(object)?.invalidate()\n  }\n\n  findOrCreateCachedChildView(viewClass, object, options) {\n    let view = this.getCachedViewForObject(object)\n    if (view) {\n      this.recordChildView(view)\n    } else {\n      view = this.createChildView(...arguments)\n      this.cacheViewForObject(view, object)\n    }\n    return view\n  }\n\n  createChildView(viewClass, object, options = {}) {\n    if (object instanceof ObjectGroup) {\n      options.viewClass = viewClass\n      viewClass = ObjectGroupView\n    }\n\n    const view = new viewClass(object, options)\n    return this.recordChildView(view)\n  }\n\n  recordChildView(view) {\n    view.parentView = this\n    view.rootView = this.rootView\n    this.childViews.push(view)\n    return view\n  }\n\n  getAllChildViews() {\n    let views = []\n\n    this.childViews.forEach((childView) => {\n      views.push(childView)\n      views = views.concat(childView.getAllChildViews())\n    })\n\n    return views\n  }\n\n  findElement() {\n    return this.findElementForObject(this.object)\n  }\n\n  findElementForObject(object) {\n    const id = object?.id\n    if (id) {\n      return this.rootView.element.querySelector(`[data-trix-id='${id}']`)\n    }\n  }\n\n  findViewForObject(object) {\n    for (const view of this.getAllChildViews()) {\n      if (view.object === object) {\n        return view\n      }\n    }\n  }\n\n  getViewCache() {\n    if (this.rootView === this) {\n      if (this.isViewCachingEnabled()) {\n        if (!this.viewCache) { this.viewCache = {} }\n        return this.viewCache\n      }\n    } else {\n      return this.rootView.getViewCache()\n    }\n  }\n\n  isViewCachingEnabled() {\n    return this.shouldCacheViews !== false\n  }\n\n  enableViewCaching() {\n    this.shouldCacheViews = true\n  }\n\n  disableViewCaching() {\n    this.shouldCacheViews = false\n  }\n\n  getCachedViewForObject(object) {\n    return this.getViewCache()?.[object.getCacheKey()]\n  }\n\n  cacheViewForObject(view, object) {\n    const cache = this.getViewCache()\n    if (cache) {\n      cache[object.getCacheKey()] = view\n    }\n  }\n\n  garbageCollectCachedViews() {\n    const cache = this.getViewCache()\n    if (cache) {\n      const views = this.getAllChildViews().concat(this)\n      const objectKeys = views.map((view) => view.object.getCacheKey())\n      for (const key in cache) {\n        if (!objectKeys.includes(key)) {\n          delete cache[key]\n        }\n      }\n    }\n  }\n}\n\nexport class ObjectGroupView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.objectGroup = this.object\n    this.viewClass = this.options.viewClass\n    delete this.options.viewClass\n  }\n\n  getChildViews() {\n    if (!this.childViews.length) {\n      Array.from(this.objectGroup.getObjects()).forEach((object) => {\n        this.findOrCreateCachedChildView(this.viewClass, object, this.options)\n      })\n    }\n    return this.childViews\n  }\n\n  createNodes() {\n    const element = this.createContainerElement()\n\n    this.getChildViews().forEach((view) => {\n      Array.from(view.getNodes()).forEach((node) => {\n        element.appendChild(node)\n      })\n    })\n\n    return [ element ]\n  }\n\n  createContainerElement(depth = this.objectGroup.getDepth()) {\n    return this.getChildViews()[0].createContainerElement(depth)\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport { nodeIsAttachmentElement, removeNode, tagName, walkTree } from \"trix/core/helpers\"\n\nconst DEFAULT_ALLOWED_ATTRIBUTES = \"style href src width height language class\".split(\" \")\nconst DEFAULT_FORBIDDEN_PROTOCOLS = \"javascript:\".split(\" \")\nconst DEFAULT_FORBIDDEN_ELEMENTS = \"script iframe form noscript\".split(\" \")\n\nexport default class HTMLSanitizer extends BasicObject {\n  static setHTML(element, html) {\n    const sanitizedElement = new this(html).sanitize()\n    const sanitizedHtml = sanitizedElement.getHTML ? sanitizedElement.getHTML() : sanitizedElement.outerHTML\n    element.innerHTML = sanitizedHtml\n  }\n\n  static sanitize(html, options) {\n    const sanitizer = new this(html, options)\n    sanitizer.sanitize()\n    return sanitizer\n  }\n\n  constructor(html, { allowedAttributes, forbiddenProtocols, forbiddenElements } = {}) {\n    super(...arguments)\n    this.allowedAttributes = allowedAttributes || DEFAULT_ALLOWED_ATTRIBUTES\n    this.forbiddenProtocols = forbiddenProtocols || DEFAULT_FORBIDDEN_PROTOCOLS\n    this.forbiddenElements = forbiddenElements || DEFAULT_FORBIDDEN_ELEMENTS\n    this.body = createBodyElementForHTML(html)\n  }\n\n  sanitize() {\n    this.sanitizeElements()\n    return this.normalizeListElementNesting()\n  }\n\n  getHTML() {\n    return this.body.innerHTML\n  }\n\n  getBody() {\n    return this.body\n  }\n\n  // Private\n\n  sanitizeElements() {\n    const walker = walkTree(this.body)\n    const nodesToRemove = []\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n      switch (node.nodeType) {\n        case Node.ELEMENT_NODE:\n          if (this.elementIsRemovable(node)) {\n            nodesToRemove.push(node)\n          } else {\n            this.sanitizeElement(node)\n          }\n          break\n        case Node.COMMENT_NODE:\n          nodesToRemove.push(node)\n          break\n      }\n    }\n\n    nodesToRemove.forEach((node) => removeNode(node))\n\n    return this.body\n  }\n\n  sanitizeElement(element) {\n    if (element.hasAttribute(\"href\")) {\n      if (this.forbiddenProtocols.includes(element.protocol)) {\n        element.removeAttribute(\"href\")\n      }\n    }\n\n    Array.from(element.attributes).forEach(({ name }) => {\n      if (!this.allowedAttributes.includes(name) && name.indexOf(\"data-trix\") !== 0) {\n        element.removeAttribute(name)\n      }\n    })\n\n    return element\n  }\n\n  normalizeListElementNesting() {\n    Array.from(this.body.querySelectorAll(\"ul,ol\")).forEach((listElement) => {\n      const previousElement = listElement.previousElementSibling\n      if (previousElement) {\n        if (tagName(previousElement) === \"li\") {\n          previousElement.appendChild(listElement)\n        }\n      }\n    })\n\n    return this.body\n  }\n\n  elementIsRemovable(element) {\n    if (element?.nodeType !== Node.ELEMENT_NODE) return\n    return this.elementIsForbidden(element) || this.elementIsntSerializable(element)\n  }\n\n  elementIsForbidden(element) {\n    return this.forbiddenElements.includes(tagName(element))\n  }\n\n  elementIsntSerializable(element) {\n    return element.getAttribute(\"data-trix-serialize\") === \"false\" && !nodeIsAttachmentElement(element)\n  }\n}\n\nconst createBodyElementForHTML = function(html = \"\") {\n  // Remove everything after </html>\n  html = html.replace(/<\\/html[^>]*>[^]*$/i, \"</html>\")\n  const doc = document.implementation.createHTMLDocument(\"\")\n  doc.documentElement.innerHTML = html\n\n  Array.from(doc.head.querySelectorAll(\"style\")).forEach((element) => {\n    doc.body.appendChild(element)\n  })\n\n  return doc.body\n}\n", "import * as config from \"trix/config\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { copyObject, makeElement } from \"trix/core/helpers\"\nimport ObjectView from \"trix/views/object_view\"\nimport HTMLSanitizer from \"trix/models/html_sanitizer\"\n\nconst { css } = config\n\nexport default class AttachmentView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.attachment = this.object\n    this.attachment.uploadProgressDelegate = this\n    this.attachmentPiece = this.options.piece\n  }\n\n  createContentNodes() {\n    return []\n  }\n\n  createNodes() {\n    let innerElement\n    const figure = innerElement = makeElement({\n      tagName: \"figure\",\n      className: this.getClassName(),\n      data: this.getData(),\n      editable: false,\n    })\n\n    const href = this.getHref()\n    if (href) {\n      innerElement = makeElement({ tagName: \"a\", editable: false, attributes: { href, tabindex: -1 } })\n      figure.appendChild(innerElement)\n    }\n\n    if (this.attachment.hasContent()) {\n      HTMLSanitizer.setHTML(innerElement, this.attachment.getContent())\n    } else {\n      this.createContentNodes().forEach((node) => {\n        innerElement.appendChild(node)\n      })\n    }\n\n    innerElement.appendChild(this.createCaptionElement())\n\n    if (this.attachment.isPending()) {\n      this.progressElement = makeElement({\n        tagName: \"progress\",\n        attributes: {\n          class: css.attachmentProgress,\n          value: this.attachment.getUploadProgress(),\n          max: 100,\n        },\n        data: {\n          trixMutable: true,\n          trixStoreKey: [ \"progressElement\", this.attachment.id ].join(\"/\"),\n        },\n      })\n\n      figure.appendChild(this.progressElement)\n    }\n\n    return [ createCursorTarget(\"left\"), figure, createCursorTarget(\"right\") ]\n  }\n\n  createCaptionElement() {\n    const figcaption = makeElement({ tagName: \"figcaption\", className: css.attachmentCaption })\n    const caption = this.attachmentPiece.getCaption()\n    if (caption) {\n      figcaption.classList.add(`${css.attachmentCaption}--edited`)\n      figcaption.textContent = caption\n    } else {\n      let name, size\n      const captionConfig = this.getCaptionConfig()\n      if (captionConfig.name) {\n        name = this.attachment.getFilename()\n      }\n      if (captionConfig.size) {\n        size = this.attachment.getFormattedFilesize()\n      }\n\n      if (name) {\n        const nameElement = makeElement({ tagName: \"span\", className: css.attachmentName, textContent: name })\n        figcaption.appendChild(nameElement)\n      }\n\n      if (size) {\n        if (name) {\n          figcaption.appendChild(document.createTextNode(\" \"))\n        }\n        const sizeElement = makeElement({ tagName: \"span\", className: css.attachmentSize, textContent: size })\n        figcaption.appendChild(sizeElement)\n      }\n    }\n\n    return figcaption\n  }\n\n  getClassName() {\n    const names = [ css.attachment, `${css.attachment}--${this.attachment.getType()}` ]\n    const extension = this.attachment.getExtension()\n    if (extension) {\n      names.push(`${css.attachment}--${extension}`)\n    }\n    return names.join(\" \")\n  }\n\n  getData() {\n    const data = {\n      trixAttachment: JSON.stringify(this.attachment),\n      trixContentType: this.attachment.getContentType(),\n      trixId: this.attachment.id,\n    }\n\n    const { attributes } = this.attachmentPiece\n    if (!attributes.isEmpty()) {\n      data.trixAttributes = JSON.stringify(attributes)\n    }\n\n    if (this.attachment.isPending()) {\n      data.trixSerialize = false\n    }\n\n    return data\n  }\n\n  getHref() {\n    if (!htmlContainsTagName(this.attachment.getContent(), \"a\")) {\n      return this.attachment.getHref()\n    }\n  }\n\n  getCaptionConfig() {\n    const type = this.attachment.getType()\n    const captionConfig = copyObject(config.attachments[type]?.caption)\n    if (type === \"file\") {\n      captionConfig.name = true\n    }\n    return captionConfig\n  }\n\n  findProgressElement() {\n    return this.findElement()?.querySelector(\"progress\")\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeUploadProgress() {\n    const value = this.attachment.getUploadProgress()\n    const progressElement = this.findProgressElement()\n    if (progressElement) {\n      progressElement.value = value\n    }\n  }\n}\n\nconst createCursorTarget = (name) =>\n  makeElement({\n    tagName: \"span\",\n    textContent: ZERO_WIDTH_SPACE,\n    data: {\n      trixCursorTarget: name,\n      trixSerialize: false,\n    },\n  })\n\nconst htmlContainsTagName = function(html, tagName) {\n  const div = makeElement(\"div\")\n  HTMLSanitizer.setHTML(div, html || \"\")\n  return div.querySelector(tagName)\n}\n", "import * as config from \"trix/config\"\nimport { makeElement } from \"trix/core/helpers\"\n\nimport AttachmentView from \"trix/views/attachment_view\"\n\nexport default class PreviewableAttachmentView extends AttachmentView {\n  constructor() {\n    super(...arguments)\n    this.attachment.previewDelegate = this\n  }\n\n  createContentNodes() {\n    this.image = makeElement({\n      tagName: \"img\",\n      attributes: {\n        src: \"\",\n      },\n      data: {\n        trixMutable: true,\n      },\n    })\n\n    this.refresh(this.image)\n    return [ this.image ]\n  }\n\n  createCaptionElement() {\n    const figcaption = super.createCaptionElement(...arguments)\n    if (!figcaption.textContent) {\n      figcaption.setAttribute(\"data-trix-placeholder\", config.lang.captionPlaceholder)\n    }\n    return figcaption\n  }\n\n  refresh(image) {\n    if (!image) { image = this.findElement()?.querySelector(\"img\") }\n    if (image) {\n      return this.updateAttributesForImage(image)\n    }\n  }\n\n  updateAttributesForImage(image) {\n    const url = this.attachment.getURL()\n    const previewURL = this.attachment.getPreviewURL()\n    image.src = previewURL || url\n\n    if (previewURL === url) {\n      image.removeAttribute(\"data-trix-serialized-attributes\")\n    } else {\n      const serializedAttributes = JSON.stringify({ src: url })\n      image.setAttribute(\"data-trix-serialized-attributes\", serializedAttributes)\n    }\n\n    const width = this.attachment.getWidth()\n    const height = this.attachment.getHeight()\n\n    if (width != null) {\n      image.width = width\n    }\n    if (height != null) {\n      image.height = height\n    }\n\n    const storeKey = [ \"imageElement\", this.attachment.id, image.src, image.width, image.height ].join(\"/\")\n    image.dataset.trixStoreKey = storeKey\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeAttributes() {\n    this.refresh(this.image)\n    return this.refresh()\n  }\n}\n", "/* eslint-disable\n    no-useless-escape,\n    no-var,\n*/\nimport { NON_BREAKING_SPACE } from \"trix/constants\"\n\nimport ObjectView from \"trix/views/object_view\"\nimport AttachmentView from \"trix/views/attachment_view\"\nimport PreviewableAttachmentView from \"trix/views/previewable_attachment_view\"\n\nimport { findInnerElement, getTextConfig, makeElement } from \"trix/core/helpers\"\n\nexport default class PieceView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.piece = this.object\n    this.attributes = this.piece.getAttributes()\n    this.textConfig = this.options.textConfig\n    this.context = this.options.context\n\n    if (this.piece.attachment) {\n      this.attachment = this.piece.attachment\n    } else {\n      this.string = this.piece.toString()\n    }\n  }\n\n  createNodes() {\n    let nodes = this.attachment ? this.createAttachmentNodes() : this.createStringNodes()\n    const element = this.createElement()\n    if (element) {\n      const innerElement = findInnerElement(element)\n      Array.from(nodes).forEach((node) => {\n        innerElement.appendChild(node)\n      })\n      nodes = [ element ]\n    }\n    return nodes\n  }\n\n  createAttachmentNodes() {\n    const constructor = this.attachment.isPreviewable() ? PreviewableAttachmentView : AttachmentView\n\n    const view = this.createChildView(constructor, this.piece.attachment, { piece: this.piece })\n    return view.getNodes()\n  }\n\n  createStringNodes() {\n    if (this.textConfig?.plaintext) {\n      return [ document.createTextNode(this.string) ]\n    } else {\n      const nodes = []\n      const iterable = this.string.split(\"\\n\")\n      for (let index = 0; index < iterable.length; index++) {\n        const substring = iterable[index]\n        if (index > 0) {\n          const element = makeElement(\"br\")\n          nodes.push(element)\n        }\n\n        if (substring.length) {\n          const node = document.createTextNode(this.preserveSpaces(substring))\n          nodes.push(node)\n        }\n      }\n      return nodes\n    }\n  }\n\n  createElement() {\n    let element, key, value\n    const styles = {}\n\n    for (key in this.attributes) {\n      value = this.attributes[key]\n      const config = getTextConfig(key)\n      if (config) {\n        if (config.tagName) {\n          var innerElement\n          const pendingElement = makeElement(config.tagName)\n\n          if (innerElement) {\n            innerElement.appendChild(pendingElement)\n            innerElement = pendingElement\n          } else {\n            element = innerElement = pendingElement\n          }\n        }\n\n        if (config.styleProperty) {\n          styles[config.styleProperty] = value\n        }\n\n        if (config.style) {\n          for (key in config.style) {\n            value = config.style[key]\n            styles[key] = value\n          }\n        }\n      }\n    }\n\n    if (Object.keys(styles).length) {\n      if (!element) { element = makeElement(\"span\") }\n      for (key in styles) {\n        value = styles[key]\n        element.style[key] = value\n      }\n    }\n    return element\n  }\n\n  createContainerElement() {\n    for (const key in this.attributes) {\n      const value = this.attributes[key]\n      const config = getTextConfig(key)\n      if (config) {\n        if (config.groupTagName) {\n          const attributes = {}\n          attributes[key] = value\n          return makeElement(config.groupTagName, attributes)\n        }\n      }\n    }\n  }\n\n  preserveSpaces(string) {\n    if (this.context.isLast) {\n      string = string.replace(/\\ $/, NON_BREAKING_SPACE)\n    }\n\n    string = string\n      .replace(/(\\S)\\ {3}(\\S)/g, `$1 ${NON_BREAKING_SPACE} $2`)\n      .replace(/\\ {2}/g, `${NON_BREAKING_SPACE} `)\n      .replace(/\\ {2}/g, ` ${NON_BREAKING_SPACE}`)\n\n    if (this.context.isFirst || this.context.followsWhitespace) {\n      string = string.replace(/^\\ /, NON_BREAKING_SPACE)\n    }\n\n    return string\n  }\n}\n", "/* eslint-disable\n    no-var,\n*/\nimport ObjectView from \"trix/views/object_view\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\nimport PieceView from \"trix/views/piece_view\"\n\nexport default class TextView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.text = this.object\n    this.textConfig = this.options.textConfig\n  }\n\n  createNodes() {\n    const nodes = []\n    const pieces = ObjectGroup.groupObjects(this.getPieces())\n    const lastIndex = pieces.length - 1\n\n    for (let index = 0; index < pieces.length; index++) {\n      const piece = pieces[index]\n      const context = {}\n      if (index === 0) {\n        context.isFirst = true\n      }\n      if (index === lastIndex) {\n        context.isLast = true\n      }\n      if (endsWithWhitespace(previousPiece)) {\n        context.followsWhitespace = true\n      }\n\n      const view = this.findOrCreateCachedChildView(PieceView, piece, { textConfig: this.textConfig, context })\n      nodes.push(...Array.from(view.getNodes() || []))\n\n      var previousPiece = piece\n    }\n    return nodes\n  }\n\n  getPieces() {\n    return Array.from(this.text.getPieces()).filter((piece) => !piece.hasAttribute(\"blockBreak\"))\n  }\n}\n\nconst endsWithWhitespace = (piece) => /\\s$/.test(piece?.toString())\n", "import * as config from \"trix/config\"\nimport ObjectView from \"trix/views/object_view\"\nimport TextView from \"trix/views/text_view\"\n\nimport { getBlockConfig, makeElement } from \"trix/core/helpers\"\nconst { css } = config\n\nexport default class BlockView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.block = this.object\n    this.attributes = this.block.getAttributes()\n  }\n\n  createNodes() {\n    const comment = document.createComment(\"block\")\n    const nodes = [ comment ]\n    if (this.block.isEmpty()) {\n      nodes.push(makeElement(\"br\"))\n    } else {\n      const textConfig = getBlockConfig(this.block.getLastAttribute())?.text\n      const textView = this.findOrCreateCachedChildView(TextView, this.block.text, { textConfig })\n      nodes.push(...Array.from(textView.getNodes() || []))\n      if (this.shouldAddExtraNewlineElement()) {\n        nodes.push(makeElement(\"br\"))\n      }\n    }\n\n    if (this.attributes.length) {\n      return nodes\n    } else {\n      let attributes\n      const { tagName } = config.blockAttributes.default\n      if (this.block.isRTL()) {\n        attributes = { dir: \"rtl\" }\n      }\n\n      const element = makeElement({ tagName, attributes })\n      nodes.forEach((node) => element.appendChild(node))\n      return [ element ]\n    }\n  }\n\n  createContainerElement(depth) {\n    const attributes = {}\n    let className\n    const attributeName = this.attributes[depth]\n\n    const { tagName, htmlAttributes = [] } = getBlockConfig(attributeName)\n\n    if (depth === 0 && this.block.isRTL()) {\n      Object.assign(attributes, { dir: \"rtl\" })\n    }\n\n    if (attributeName === \"attachmentGallery\") {\n      const size = this.block.getBlockBreakPosition()\n      className = `${css.attachmentGallery} ${css.attachmentGallery}--${size}`\n    }\n\n    Object.entries(this.block.htmlAttributes).forEach(([ name, value ]) => {\n      if (htmlAttributes.includes(name)) {\n        attributes[name] = value\n      }\n    })\n\n    return makeElement({ tagName, className, attributes })\n  }\n\n  // A single <br> at the end of a block element has no visual representation\n  // so add an extra one.\n  shouldAddExtraNewlineElement() {\n    return /\\n\\n$/.test(this.block.toString())\n  }\n}\n", "import { makeElement } from \"trix/core/helpers\"\n\nimport ElementStore from \"trix/core/collections/element_store\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\nimport ObjectView from \"trix/views/object_view\"\nimport BlockView from \"trix/views/block_view\"\n\nimport { defer } from \"trix/core/helpers\"\n\nexport default class DocumentView extends ObjectView {\n  static render(document) {\n    const element = makeElement(\"div\")\n    const view = new this(document, { element })\n    view.render()\n    view.sync()\n    return element\n  }\n\n  constructor() {\n    super(...arguments)\n    this.element = this.options.element\n    this.elementStore = new ElementStore()\n    this.setDocument(this.object)\n  }\n\n  setDocument(document) {\n    if (!document.isEqualTo(this.document)) {\n      this.document = this.object = document\n    }\n  }\n\n  render() {\n    this.childViews = []\n\n    this.shadowElement = makeElement(\"div\")\n\n    if (!this.document.isEmpty()) {\n      const objects = ObjectGroup.groupObjects(this.document.getBlocks(), { asTree: true })\n\n      Array.from(objects).forEach((object) => {\n        const view = this.findOrCreateCachedChildView(BlockView, object)\n        Array.from(view.getNodes()).map((node) => this.shadowElement.appendChild(node))\n      })\n    }\n  }\n\n  isSynced() {\n    return elementsHaveEqualHTML(this.shadowElement, this.element)\n  }\n\n  sync() {\n    const fragment = this.createDocumentFragmentForSync()\n    while (this.element.lastChild) {\n      this.element.removeChild(this.element.lastChild)\n    }\n    this.element.appendChild(fragment)\n    return this.didSync()\n  }\n\n  // Private\n\n  didSync() {\n    this.elementStore.reset(findStoredElements(this.element))\n    return defer(() => this.garbageCollectCachedViews())\n  }\n\n  createDocumentFragmentForSync() {\n    const fragment = document.createDocumentFragment()\n\n    Array.from(this.shadowElement.childNodes).forEach((node) => {\n      fragment.appendChild(node.cloneNode(true))\n    })\n\n    Array.from(findStoredElements(fragment)).forEach((element) => {\n      const storedElement = this.elementStore.remove(element)\n      if (storedElement) {\n        element.parentNode.replaceChild(storedElement, element)\n      }\n    })\n\n    return fragment\n  }\n}\n\nconst findStoredElements = (element) => element.querySelectorAll(\"[data-trix-store-key]\")\n\nconst elementsHaveEqualHTML = (element, otherElement) =>\n  ignoreSpaces(element.innerHTML) === ignoreSpaces(otherElement.innerHTML)\n\nconst ignoreSpaces = (html) => html.replace(/&nbsp;/g, \" \")\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Hash from \"trix/core/collections/hash\"\n\nexport default class Piece extends TrixObject {\n  static types = {}\n\n  static registerType(type, constructor) {\n    constructor.type = type\n    this.types[type] = constructor\n  }\n\n  static fromJSON(pieceJSON) {\n    const constructor = this.types[pieceJSON.type]\n    if (constructor) {\n      return constructor.fromJSON(pieceJSON)\n    }\n  }\n\n  constructor(value, attributes = {}) {\n    super(...arguments)\n    this.attributes = Hash.box(attributes)\n  }\n\n  copyWithAttributes(attributes) {\n    return new this.constructor(this.getValue(), attributes)\n  }\n\n  copyWithAdditionalAttributes(attributes) {\n    return this.copyWithAttributes(this.attributes.merge(attributes))\n  }\n\n  copyWithoutAttribute(attribute) {\n    return this.copyWithAttributes(this.attributes.remove(attribute))\n  }\n\n  copy() {\n    return this.copyWithAttributes(this.attributes)\n  }\n\n  getAttribute(attribute) {\n    return this.attributes.get(attribute)\n  }\n\n  getAttributesHash() {\n    return this.attributes\n  }\n\n  getAttributes() {\n    return this.attributes.toObject()\n  }\n\n  hasAttribute(attribute) {\n    return this.attributes.has(attribute)\n  }\n\n  hasSameStringValueAsPiece(piece) {\n    return piece && this.toString() === piece.toString()\n  }\n\n  hasSameAttributesAsPiece(piece) {\n    return piece && (this.attributes === piece.attributes || this.attributes.isEqualTo(piece.attributes))\n  }\n\n  isBlockBreak() {\n    return false\n  }\n\n  isEqualTo(piece) {\n    return (\n      super.isEqualTo(...arguments) ||\n      this.hasSameConstructorAs(piece) &&\n        this.hasSameStringValueAsPiece(piece) &&\n        this.hasSameAttributesAsPiece(piece)\n    )\n  }\n\n  isEmpty() {\n    return this.length === 0\n  }\n\n  isSerializable() {\n    return true\n  }\n\n  toJSON() {\n    return {\n      type: this.constructor.type,\n      attributes: this.getAttributes(),\n    }\n  }\n\n  contentsForInspection() {\n    return {\n      type: this.constructor.type,\n      attributes: this.attributes.inspect(),\n    }\n  }\n\n  // Grouping\n\n  canBeGrouped() {\n    return this.hasAttribute(\"href\")\n  }\n\n  canBeGroupedWith(piece) {\n    return this.getAttribute(\"href\") === piece.getAttribute(\"href\")\n  }\n\n  // Splittable\n\n  getLength() {\n    return this.length\n  }\n\n  canBeConsolidatedWith(piece) {\n    return false\n  }\n}\n", "import Operation from \"trix/core/utilities/operation\"\n\nexport default class ImagePreloadOperation extends Operation {\n  constructor(url) {\n    super(...arguments)\n    this.url = url\n  }\n\n  perform(callback) {\n    const image = new Image()\n\n    image.onload = () => {\n      image.width = this.width = image.naturalWidth\n      image.height = this.height = image.naturalHeight\n      return callback(true, image)\n    }\n\n    image.onerror = () => callback(false)\n\n    image.src = this.url\n  }\n}\n", "import * as config from \"trix/config\"\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Hash from \"trix/core/collections/hash\"\nimport ImagePreloadOperation from \"trix/operations/image_preload_operation\"\n\nexport default class Attachment extends TrixObject {\n  static previewablePattern = /^image(\\/(gif|png|webp|jpe?g)|$)/\n\n  static attachmentForFile(file) {\n    const attributes = this.attributesForFile(file)\n    const attachment = new this(attributes)\n    attachment.setFile(file)\n    return attachment\n  }\n\n  static attributesForFile(file) {\n    return new Hash({\n      filename: file.name,\n      filesize: file.size,\n      contentType: file.type,\n    })\n  }\n\n  static fromJSON(attachmentJSON) {\n    return new this(attachmentJSON)\n  }\n\n  constructor(attributes = {}) {\n    super(attributes)\n    this.releaseFile = this.releaseFile.bind(this)\n    this.attributes = Hash.box(attributes)\n    this.didChangeAttributes()\n  }\n\n  getAttribute(attribute) {\n    return this.attributes.get(attribute)\n  }\n\n  hasAttribute(attribute) {\n    return this.attributes.has(attribute)\n  }\n\n  getAttributes() {\n    return this.attributes.toObject()\n  }\n\n  setAttributes(attributes = {}) {\n    const newAttributes = this.attributes.merge(attributes)\n    if (!this.attributes.isEqualTo(newAttributes)) {\n      this.attributes = newAttributes\n      this.didChangeAttributes()\n      this.previewDelegate?.attachmentDidChangeAttributes?.(this)\n      return this.delegate?.attachmentDidChangeAttributes?.(this)\n    }\n  }\n\n  didChangeAttributes() {\n    if (this.isPreviewable()) {\n      return this.preloadURL()\n    }\n  }\n\n  isPending() {\n    return this.file != null && !(this.getURL() || this.getHref())\n  }\n\n  isPreviewable() {\n    if (this.attributes.has(\"previewable\")) {\n      return this.attributes.get(\"previewable\")\n    } else {\n      return Attachment.previewablePattern.test(this.getContentType())\n    }\n  }\n\n  getType() {\n    if (this.hasContent()) {\n      return \"content\"\n    } else if (this.isPreviewable()) {\n      return \"preview\"\n    } else {\n      return \"file\"\n    }\n  }\n\n  getURL() {\n    return this.attributes.get(\"url\")\n  }\n\n  getHref() {\n    return this.attributes.get(\"href\")\n  }\n\n  getFilename() {\n    return this.attributes.get(\"filename\") || \"\"\n  }\n\n  getFilesize() {\n    return this.attributes.get(\"filesize\")\n  }\n\n  getFormattedFilesize() {\n    const filesize = this.attributes.get(\"filesize\")\n    if (typeof filesize === \"number\") {\n      return config.fileSize.formatter(filesize)\n    } else {\n      return \"\"\n    }\n  }\n\n  getExtension() {\n    return this.getFilename()\n      .match(/\\.(\\w+)$/)?.[1]\n      .toLowerCase()\n  }\n\n  getContentType() {\n    return this.attributes.get(\"contentType\")\n  }\n\n  hasContent() {\n    return this.attributes.has(\"content\")\n  }\n\n  getContent() {\n    return this.attributes.get(\"content\")\n  }\n\n  getWidth() {\n    return this.attributes.get(\"width\")\n  }\n\n  getHeight() {\n    return this.attributes.get(\"height\")\n  }\n\n  getFile() {\n    return this.file\n  }\n\n  setFile(file) {\n    this.file = file\n    if (this.isPreviewable()) {\n      return this.preloadFile()\n    }\n  }\n\n  releaseFile() {\n    this.releasePreloadedFile()\n    this.file = null\n  }\n\n  getUploadProgress() {\n    return this.uploadProgress != null ? this.uploadProgress : 0\n  }\n\n  setUploadProgress(value) {\n    if (this.uploadProgress !== value) {\n      this.uploadProgress = value\n      return this.uploadProgressDelegate?.attachmentDidChangeUploadProgress?.(this)\n    }\n  }\n\n  toJSON() {\n    return this.getAttributes()\n  }\n\n  getCacheKey() {\n    return [ super.getCacheKey(...arguments), this.attributes.getCacheKey(), this.getPreviewURL() ].join(\"/\")\n  }\n\n  // Previewable\n\n  getPreviewURL() {\n    return this.previewURL || this.preloadingURL\n  }\n\n  setPreviewURL(url) {\n    if (url !== this.getPreviewURL()) {\n      this.previewURL = url\n      this.previewDelegate?.attachmentDidChangeAttributes?.(this)\n      return this.delegate?.attachmentDidChangePreviewURL?.(this)\n    }\n  }\n\n  preloadURL() {\n    return this.preload(this.getURL(), this.releaseFile)\n  }\n\n  preloadFile() {\n    if (this.file) {\n      this.fileObjectURL = URL.createObjectURL(this.file)\n      return this.preload(this.fileObjectURL)\n    }\n  }\n\n  releasePreloadedFile() {\n    if (this.fileObjectURL) {\n      URL.revokeObjectURL(this.fileObjectURL)\n      this.fileObjectURL = null\n    }\n  }\n\n  preload(url, callback) {\n    if (url && url !== this.getPreviewURL()) {\n      this.preloadingURL = url\n      const operation = new ImagePreloadOperation(url)\n      return operation\n        .then(({ width, height }) => {\n          if (!this.getWidth() || !this.getHeight()) {\n            this.setAttributes({ width, height })\n          }\n          this.preloadingURL = null\n          this.setPreviewURL(url)\n          return callback?.()\n        })\n        .catch(() => {\n          this.preloadingURL = null\n          return callback?.()\n        })\n    }\n  }\n}\n", "import { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport Attachment from \"trix/models/attachment\"\nimport Piece from \"trix/models/piece\"\n\nexport default class AttachmentPiece extends Piece {\n  static permittedAttributes = [ \"caption\", \"presentation\" ]\n\n  static fromJSON(pieceJSON) {\n    return new this(Attachment.fromJSON(pieceJSON.attachment), pieceJSON.attributes)\n  }\n\n  constructor(attachment) {\n    super(...arguments)\n    this.attachment = attachment\n    this.length = 1\n    this.ensureAttachmentExclusivelyHasAttribute(\"href\")\n    if (!this.attachment.hasContent()) {\n      this.removeProhibitedAttributes()\n    }\n  }\n\n  ensureAttachmentExclusivelyHasAttribute(attribute) {\n    if (this.hasAttribute(attribute)) {\n      if (!this.attachment.hasAttribute(attribute)) {\n        this.attachment.setAttributes(this.attributes.slice([ attribute ]))\n      }\n      this.attributes = this.attributes.remove(attribute)\n    }\n  }\n\n  removeProhibitedAttributes() {\n    const attributes = this.attributes.slice(AttachmentPiece.permittedAttributes)\n    if (!attributes.isEqualTo(this.attributes)) {\n      this.attributes = attributes\n    }\n  }\n\n  getValue() {\n    return this.attachment\n  }\n\n  isSerializable() {\n    return !this.attachment.isPending()\n  }\n\n  getCaption() {\n    return this.attributes.get(\"caption\") || \"\"\n  }\n\n  isEqualTo(piece) {\n    return super.isEqualTo(piece) && this.attachment.id === piece?.attachment?.id\n  }\n\n  toString() {\n    return OBJECT_REPLACEMENT_CHARACTER\n  }\n\n  toJSON() {\n    const json = super.toJSON(...arguments)\n    json.attachment = this.attachment\n    return json\n  }\n\n  getCacheKey() {\n    return [ super.getCacheKey(...arguments), this.attachment.getCacheKey() ].join(\"/\")\n  }\n\n  toConsole() {\n    return JSON.stringify(this.toString())\n  }\n}\n\nPiece.registerType(\"attachment\", AttachmentPiece)\n", "import Piece from \"trix/models/piece\"\n\nimport { normalizeNewlines } from \"trix/core/helpers\"\n\nexport default class StringPiece extends Piece {\n  static fromJSON(pieceJSON) {\n    return new this(pieceJSON.string, pieceJSON.attributes)\n  }\n\n  constructor(string) {\n    super(...arguments)\n    this.string = normalizeNewlines(string)\n    this.length = this.string.length\n  }\n\n  getValue() {\n    return this.string\n  }\n\n  toString() {\n    return this.string.toString()\n  }\n\n  isBlockBreak() {\n    return this.toString() === \"\\n\" && this.getAttribute(\"blockBreak\") === true\n  }\n\n  toJSON() {\n    const result = super.toJSON(...arguments)\n    result.string = this.string\n    return result\n  }\n\n  // Splittable\n\n  canBeConsolidatedWith(piece) {\n    return piece && this.hasSameConstructorAs(piece) && this.hasSameAttributesAsPiece(piece)\n  }\n\n  consolidateWith(piece) {\n    return new this.constructor(this.toString() + piece.toString(), this.attributes)\n  }\n\n  splitAtOffset(offset) {\n    let left, right\n    if (offset === 0) {\n      left = null\n      right = this\n    } else if (offset === this.length) {\n      left = this\n      right = null\n    } else {\n      left = new this.constructor(this.string.slice(0, offset), this.attributes)\n      right = new this.constructor(this.string.slice(offset), this.attributes)\n    }\n    return [ left, right ]\n  }\n\n  toConsole() {\n    let { string } = this\n    if (string.length > 15) {\n      string = string.slice(0, 14) + \"…\"\n    }\n    return JSON.stringify(string.toString())\n  }\n}\n\nPiece.registerType(\"string\", StringPiece)\n", "/* eslint-disable\n    prefer-const,\n*/\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport { spliceArray } from \"trix/core/helpers\"\n\nexport default class SplittableList extends TrixObject {\n  static box(objects) {\n    if (objects instanceof this) {\n      return objects\n    } else {\n      return new this(objects)\n    }\n  }\n\n  constructor(objects = []) {\n    super(...arguments)\n    this.objects = objects.slice(0)\n    this.length = this.objects.length\n  }\n\n  indexOf(object) {\n    return this.objects.indexOf(object)\n  }\n\n  splice(...args) {\n    return new this.constructor(spliceArray(this.objects, ...args))\n  }\n\n  eachObject(callback) {\n    return this.objects.map((object, index) => callback(object, index))\n  }\n\n  insertObjectAtIndex(object, index) {\n    return this.splice(index, 0, object)\n  }\n\n  insertSplittableListAtIndex(splittableList, index) {\n    return this.splice(index, 0, ...splittableList.objects)\n  }\n\n  insertSplittableListAtPosition(splittableList, position) {\n    const [ objects, index ] = this.splitObjectAtPosition(position)\n    return new this.constructor(objects).insertSplittableListAtIndex(splittableList, index)\n  }\n\n  editObjectAtIndex(index, callback) {\n    return this.replaceObjectAtIndex(callback(this.objects[index]), index)\n  }\n\n  replaceObjectAtIndex(object, index) {\n    return this.splice(index, 1, object)\n  }\n\n  removeObjectAtIndex(index) {\n    return this.splice(index, 1)\n  }\n\n  getObjectAtIndex(index) {\n    return this.objects[index]\n  }\n\n  getSplittableListInRange(range) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    return new this.constructor(objects.slice(leftIndex, rightIndex + 1))\n  }\n\n  selectSplittableList(test) {\n    const objects = this.objects.filter((object) => test(object))\n    return new this.constructor(objects)\n  }\n\n  removeObjectsInRange(range) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    return new this.constructor(objects).splice(leftIndex, rightIndex - leftIndex + 1)\n  }\n\n  transformObjectsInRange(range, transform) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    const transformedObjects = objects.map((object, index) =>\n      leftIndex <= index && index <= rightIndex ? transform(object) : object\n    )\n    return new this.constructor(transformedObjects)\n  }\n\n  splitObjectsAtRange(range) {\n    let rightOuterIndex\n    let [ objects, leftInnerIndex, offset ] = this.splitObjectAtPosition(startOfRange(range))\n    ;[ objects, rightOuterIndex ] = new this.constructor(objects).splitObjectAtPosition(endOfRange(range) + offset)\n\n    return [ objects, leftInnerIndex, rightOuterIndex - 1 ]\n  }\n\n  getObjectAtPosition(position) {\n    const { index } = this.findIndexAndOffsetAtPosition(position)\n    return this.objects[index]\n  }\n\n  splitObjectAtPosition(position) {\n    let splitIndex, splitOffset\n    const { index, offset } = this.findIndexAndOffsetAtPosition(position)\n    const objects = this.objects.slice(0)\n    if (index != null) {\n      if (offset === 0) {\n        splitIndex = index\n        splitOffset = 0\n      } else {\n        const object = this.getObjectAtIndex(index)\n        const [ leftObject, rightObject ] = object.splitAtOffset(offset)\n        objects.splice(index, 1, leftObject, rightObject)\n        splitIndex = index + 1\n        splitOffset = leftObject.getLength() - offset\n      }\n    } else {\n      splitIndex = objects.length\n      splitOffset = 0\n    }\n\n    return [ objects, splitIndex, splitOffset ]\n  }\n\n  consolidate() {\n    const objects = []\n    let pendingObject = this.objects[0]\n\n    this.objects.slice(1).forEach((object) => {\n      if (pendingObject.canBeConsolidatedWith?.(object)) {\n        pendingObject = pendingObject.consolidateWith(object)\n      } else {\n        objects.push(pendingObject)\n        pendingObject = object\n      }\n    })\n\n    if (pendingObject) {\n      objects.push(pendingObject)\n    }\n\n    return new this.constructor(objects)\n  }\n\n  consolidateFromIndexToIndex(startIndex, endIndex) {\n    const objects = this.objects.slice(0)\n    const objectsInRange = objects.slice(startIndex, endIndex + 1)\n    const consolidatedInRange = new this.constructor(objectsInRange).consolidate().toArray()\n    return this.splice(startIndex, objectsInRange.length, ...consolidatedInRange)\n  }\n\n  findIndexAndOffsetAtPosition(position) {\n    let index\n    let currentPosition = 0\n    for (index = 0; index < this.objects.length; index++) {\n      const object = this.objects[index]\n      const nextPosition = currentPosition + object.getLength()\n      if (currentPosition <= position && position < nextPosition) {\n        return { index, offset: position - currentPosition }\n      }\n      currentPosition = nextPosition\n    }\n    return { index: null, offset: null }\n  }\n\n  findPositionAtIndexAndOffset(index, offset) {\n    let position = 0\n    for (let currentIndex = 0; currentIndex < this.objects.length; currentIndex++) {\n      const object = this.objects[currentIndex]\n      if (currentIndex < index) {\n        position += object.getLength()\n      } else if (currentIndex === index) {\n        position += offset\n        break\n      }\n    }\n    return position\n  }\n\n  getEndPosition() {\n    if (this.endPosition == null) {\n      this.endPosition = 0\n      this.objects.forEach((object) => this.endPosition += object.getLength())\n    }\n\n    return this.endPosition\n  }\n\n  toString() {\n    return this.objects.join(\"\")\n  }\n\n  toArray() {\n    return this.objects.slice(0)\n  }\n\n  toJSON() {\n    return this.toArray()\n  }\n\n  isEqualTo(splittableList) {\n    return super.isEqualTo(...arguments) || objectArraysAreEqual(this.objects, splittableList?.objects)\n  }\n\n  contentsForInspection() {\n    return {\n      objects: `[${this.objects.map((object) => object.inspect()).join(\", \")}]`,\n    }\n  }\n}\n\nconst objectArraysAreEqual = function(left, right = []) {\n  if (left.length !== right.length) {\n    return false\n  }\n  let result = true\n  for (let index = 0; index < left.length; index++) {\n    const object = left[index]\n    if (result && !object.isEqualTo(right[index])) {\n      result = false\n    }\n  }\n  return result\n}\n\nconst startOfRange = (range) => range[0]\n\nconst endOfRange = (range) => range[1]\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport { getDirection } from \"trix/core/helpers\"\n\nimport Piece from \"trix/models/piece\"\nimport AttachmentPiece from \"trix/models/attachment_piece\"\nimport StringPiece from \"trix/models/string_piece\"\nimport SplittableList from \"trix/models/splittable_list\"\n\nimport Hash from \"trix/core/collections/hash\"\n\nexport default class Text extends TrixObject {\n  static textForAttachmentWithAttributes(attachment, attributes) {\n    const piece = new AttachmentPiece(attachment, attributes)\n    return new this([ piece ])\n  }\n\n  static textForStringWithAttributes(string, attributes) {\n    const piece = new StringPiece(string, attributes)\n    return new this([ piece ])\n  }\n\n  static fromJSON(textJSON) {\n    const pieces = Array.from(textJSON).map((pieceJSON) => Piece.fromJSON(pieceJSON))\n    return new this(pieces)\n  }\n\n  constructor(pieces = []) {\n    super(...arguments)\n    const notEmpty = pieces.filter((piece) => !piece.isEmpty())\n    this.pieceList = new SplittableList(notEmpty)\n  }\n\n  copy() {\n    return this.copyWithPieceList(this.pieceList)\n  }\n\n  copyWithPieceList(pieceList) {\n    return new this.constructor(pieceList.consolidate().toArray())\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const pieces = this.getPieces().map((piece) => objectMap.find(piece) || piece)\n    return new this.constructor(pieces)\n  }\n\n  appendText(text) {\n    return this.insertTextAtPosition(text, this.getLength())\n  }\n\n  insertTextAtPosition(text, position) {\n    return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(text.pieceList, position))\n  }\n\n  removeTextAtRange(range) {\n    return this.copyWithPieceList(this.pieceList.removeObjectsInRange(range))\n  }\n\n  replaceTextAtRange(text, range) {\n    return this.removeTextAtRange(range).insertTextAtPosition(text, range[0])\n  }\n\n  moveTextFromRangeToPosition(range, position) {\n    if (range[0] <= position && position <= range[1]) return\n    const text = this.getTextAtRange(range)\n    const length = text.getLength()\n    if (range[0] < position) {\n      position -= length\n    }\n    return this.removeTextAtRange(range).insertTextAtPosition(text, position)\n  }\n\n  addAttributeAtRange(attribute, value, range) {\n    const attributes = {}\n    attributes[attribute] = value\n    return this.addAttributesAtRange(attributes, range)\n  }\n\n  addAttributesAtRange(attributes, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithAdditionalAttributes(attributes))\n    )\n  }\n\n  removeAttributeAtRange(attribute, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithoutAttribute(attribute))\n    )\n  }\n\n  setAttributesAtRange(attributes, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithAttributes(attributes))\n    )\n  }\n\n  getAttributesAtPosition(position) {\n    return this.pieceList.getObjectAtPosition(position)?.getAttributes() || {}\n  }\n\n  getCommonAttributes() {\n    const objects = Array.from(this.pieceList.toArray()).map((piece) => piece.getAttributes())\n    return Hash.fromCommonAttributesOfObjects(objects).toObject()\n  }\n\n  getCommonAttributesAtRange(range) {\n    return this.getTextAtRange(range).getCommonAttributes() || {}\n  }\n\n  getExpandedRangeForAttributeAtOffset(attributeName, offset) {\n    let right\n    let left = right = offset\n    const length = this.getLength()\n\n    while (left > 0 && this.getCommonAttributesAtRange([ left - 1, right ])[attributeName]) {\n      left--\n    }\n    while (right < length && this.getCommonAttributesAtRange([ offset, right + 1 ])[attributeName]) {\n      right++\n    }\n\n    return [ left, right ]\n  }\n\n  getTextAtRange(range) {\n    return this.copyWithPieceList(this.pieceList.getSplittableListInRange(range))\n  }\n\n  getStringAtRange(range) {\n    return this.pieceList.getSplittableListInRange(range).toString()\n  }\n\n  getStringAtPosition(position) {\n    return this.getStringAtRange([ position, position + 1 ])\n  }\n\n  startsWithString(string) {\n    return this.getStringAtRange([ 0, string.length ]) === string\n  }\n\n  endsWithString(string) {\n    const length = this.getLength()\n    return this.getStringAtRange([ length - string.length, length ]) === string\n  }\n\n  getAttachmentPieces() {\n    return this.pieceList.toArray().filter((piece) => !!piece.attachment)\n  }\n\n  getAttachments() {\n    return this.getAttachmentPieces().map((piece) => piece.attachment)\n  }\n\n  getAttachmentAndPositionById(attachmentId) {\n    let position = 0\n    for (const piece of this.pieceList.toArray()) {\n      if (piece.attachment?.id === attachmentId) {\n        return { attachment: piece.attachment, position }\n      }\n      position += piece.length\n    }\n    return { attachment: null, position: null }\n  }\n\n  getAttachmentById(attachmentId) {\n    const { attachment } = this.getAttachmentAndPositionById(attachmentId)\n    return attachment\n  }\n\n  getRangeOfAttachment(attachment) {\n    const attachmentAndPosition = this.getAttachmentAndPositionById(attachment.id)\n    const position = attachmentAndPosition.position\n    attachment = attachmentAndPosition.attachment\n    if (attachment) {\n      return [ position, position + 1 ]\n    }\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    if (range) {\n      return this.addAttributesAtRange(attributes, range)\n    } else {\n      return this\n    }\n  }\n\n  getLength() {\n    return this.pieceList.getEndPosition()\n  }\n\n  isEmpty() {\n    return this.getLength() === 0\n  }\n\n  isEqualTo(text) {\n    return super.isEqualTo(text) || text?.pieceList?.isEqualTo(this.pieceList)\n  }\n\n  isBlockBreak() {\n    return this.getLength() === 1 && this.pieceList.getObjectAtIndex(0).isBlockBreak()\n  }\n\n  eachPiece(callback) {\n    return this.pieceList.eachObject(callback)\n  }\n\n  getPieces() {\n    return this.pieceList.toArray()\n  }\n\n  getPieceAtPosition(position) {\n    return this.pieceList.getObjectAtPosition(position)\n  }\n\n  contentsForInspection() {\n    return { pieceList: this.pieceList.inspect() }\n  }\n\n  toSerializableText() {\n    const pieceList = this.pieceList.selectSplittableList((piece) => piece.isSerializable())\n    return this.copyWithPieceList(pieceList)\n  }\n\n  toString() {\n    return this.pieceList.toString()\n  }\n\n  toJSON() {\n    return this.pieceList.toJSON()\n  }\n\n  toConsole() {\n    return JSON.stringify(this.pieceList.toArray().map((piece) => JSON.parse(piece.toConsole())))\n  }\n\n  // BIDI\n\n  getDirection() {\n    return getDirection(this.toString())\n  }\n\n  isRTL() {\n    return this.getDirection() === \"rtl\"\n  }\n}\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Text from \"trix/models/text\"\n\nimport {\n  arraysAreEqual,\n  getBlockConfig,\n  getListAttributeNames,\n  objectsAreEqual,\n  spliceArray,\n} from \"trix/core/helpers\"\n\nexport default class Block extends TrixObject {\n  static fromJSON(blockJSON) {\n    const text = Text.fromJSON(blockJSON.text)\n    return new this(text, blockJSON.attributes, blockJSON.htmlAttributes)\n  }\n\n  constructor(text, attributes, htmlAttributes) {\n    super(...arguments)\n    this.text = applyBlockBreakToText(text || new Text())\n    this.attributes = attributes || []\n    this.htmlAttributes = htmlAttributes || {}\n  }\n\n  isEmpty() {\n    return this.text.isBlockBreak()\n  }\n\n  isEqualTo(block) {\n    if (super.isEqualTo(block)) return true\n\n    return this.text.isEqualTo(block?.text) && arraysAreEqual(this.attributes, block?.attributes) && objectsAreEqual(this.htmlAttributes, block?.htmlAttributes)\n  }\n\n  copyWithText(text) {\n    return new Block(text, this.attributes, this.htmlAttributes)\n  }\n\n  copyWithoutText() {\n    return this.copyWithText(null)\n  }\n\n  copyWithAttributes(attributes) {\n    return new Block(this.text, attributes, this.htmlAttributes)\n  }\n\n  copyWithoutAttributes() {\n    return this.copyWithAttributes(null)\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const mappedText = objectMap.find(this.text)\n    if (mappedText) {\n      return this.copyWithText(mappedText)\n    } else {\n      return this.copyWithText(this.text.copyUsingObjectMap(objectMap))\n    }\n  }\n\n  addAttribute(attribute) {\n    const attributes = this.attributes.concat(expandAttribute(attribute))\n    return this.copyWithAttributes(attributes)\n  }\n\n  addHTMLAttribute(attribute, value) {\n    const htmlAttributes = Object.assign({}, this.htmlAttributes, { [attribute]: value })\n    return new Block(this.text, this.attributes, htmlAttributes)\n  }\n\n  removeAttribute(attribute) {\n    const { listAttribute } = getBlockConfig(attribute)\n    const attributes = removeLastValue(removeLastValue(this.attributes, attribute), listAttribute)\n    return this.copyWithAttributes(attributes)\n  }\n\n  removeLastAttribute() {\n    return this.removeAttribute(this.getLastAttribute())\n  }\n\n  getLastAttribute() {\n    return getLastElement(this.attributes)\n  }\n\n  getAttributes() {\n    return this.attributes.slice(0)\n  }\n\n  getAttributeLevel() {\n    return this.attributes.length\n  }\n\n  getAttributeAtLevel(level) {\n    return this.attributes[level - 1]\n  }\n\n  hasAttribute(attributeName) {\n    return this.attributes.includes(attributeName)\n  }\n\n  hasAttributes() {\n    return this.getAttributeLevel() > 0\n  }\n\n  getLastNestableAttribute() {\n    return getLastElement(this.getNestableAttributes())\n  }\n\n  getNestableAttributes() {\n    return this.attributes.filter((attribute) => getBlockConfig(attribute).nestable)\n  }\n\n  getNestingLevel() {\n    return this.getNestableAttributes().length\n  }\n\n  decreaseNestingLevel() {\n    const attribute = this.getLastNestableAttribute()\n    if (attribute) {\n      return this.removeAttribute(attribute)\n    } else {\n      return this\n    }\n  }\n\n  increaseNestingLevel() {\n    const attribute = this.getLastNestableAttribute()\n    if (attribute) {\n      const index = this.attributes.lastIndexOf(attribute)\n      const attributes = spliceArray(this.attributes, index + 1, 0, ...expandAttribute(attribute))\n      return this.copyWithAttributes(attributes)\n    } else {\n      return this\n    }\n  }\n\n  getListItemAttributes() {\n    return this.attributes.filter((attribute) => getBlockConfig(attribute).listAttribute)\n  }\n\n  isListItem() {\n    return getBlockConfig(this.getLastAttribute())?.listAttribute\n  }\n\n  isTerminalBlock() {\n    return getBlockConfig(this.getLastAttribute())?.terminal\n  }\n\n  breaksOnReturn() {\n    return getBlockConfig(this.getLastAttribute())?.breakOnReturn\n  }\n\n  findLineBreakInDirectionFromPosition(direction, position) {\n    const string = this.toString()\n    let result\n    switch (direction) {\n      case \"forward\":\n        result = string.indexOf(\"\\n\", position)\n        break\n      case \"backward\":\n        result = string.slice(0, position).lastIndexOf(\"\\n\")\n    }\n\n    if (result !== -1) {\n      return result\n    }\n  }\n\n  contentsForInspection() {\n    return {\n      text: this.text.inspect(),\n      attributes: this.attributes,\n    }\n  }\n\n  toString() {\n    return this.text.toString()\n  }\n\n  toJSON() {\n    return {\n      text: this.text,\n      attributes: this.attributes,\n      htmlAttributes: this.htmlAttributes,\n    }\n  }\n\n  // BIDI\n\n  getDirection() {\n    return this.text.getDirection()\n  }\n\n  isRTL() {\n    return this.text.isRTL()\n  }\n\n  // Splittable\n\n  getLength() {\n    return this.text.getLength()\n  }\n\n  canBeConsolidatedWith(block) {\n    return !this.hasAttributes() && !block.hasAttributes() && this.getDirection() === block.getDirection()\n  }\n\n  consolidateWith(block) {\n    const newlineText = Text.textForStringWithAttributes(\"\\n\")\n    const text = this.getTextWithoutBlockBreak().appendText(newlineText)\n    return this.copyWithText(text.appendText(block.text))\n  }\n\n  splitAtOffset(offset) {\n    let left, right\n    if (offset === 0) {\n      left = null\n      right = this\n    } else if (offset === this.getLength()) {\n      left = this\n      right = null\n    } else {\n      left = this.copyWithText(this.text.getTextAtRange([ 0, offset ]))\n      right = this.copyWithText(this.text.getTextAtRange([ offset, this.getLength() ]))\n    }\n    return [ left, right ]\n  }\n\n  getBlockBreakPosition() {\n    return this.text.getLength() - 1\n  }\n\n  getTextWithoutBlockBreak() {\n    if (textEndsInBlockBreak(this.text)) {\n      return this.text.getTextAtRange([ 0, this.getBlockBreakPosition() ])\n    } else {\n      return this.text.copy()\n    }\n  }\n\n  // Grouping\n\n  canBeGrouped(depth) {\n    return this.attributes[depth]\n  }\n\n  canBeGroupedWith(otherBlock, depth) {\n    const otherAttributes = otherBlock.getAttributes()\n    const otherAttribute = otherAttributes[depth]\n    const attribute = this.attributes[depth]\n\n    return (\n      attribute === otherAttribute &&\n      !(getBlockConfig(attribute).group === false && !getListAttributeNames().includes(otherAttributes[depth + 1])) &&\n      (this.getDirection() === otherBlock.getDirection() || otherBlock.isEmpty())\n    )\n  }\n}\n\n// Block breaks\n\nconst applyBlockBreakToText = function(text) {\n  text = unmarkExistingInnerBlockBreaksInText(text)\n  text = addBlockBreakToText(text)\n  return text\n}\n\nconst unmarkExistingInnerBlockBreaksInText = function(text) {\n  let modified = false\n  const pieces = text.getPieces()\n\n  let innerPieces = pieces.slice(0, pieces.length - 1)\n  const lastPiece = pieces[pieces.length - 1]\n\n  if (!lastPiece) return text\n\n  innerPieces = innerPieces.map((piece) => {\n    if (piece.isBlockBreak()) {\n      modified = true\n      return unmarkBlockBreakPiece(piece)\n    } else {\n      return piece\n    }\n  })\n\n  if (modified) {\n    return new Text([ ...innerPieces, lastPiece ])\n  } else {\n    return text\n  }\n}\n\nconst blockBreakText = Text.textForStringWithAttributes(\"\\n\", { blockBreak: true })\n\nconst addBlockBreakToText = function(text) {\n  if (textEndsInBlockBreak(text)) {\n    return text\n  } else {\n    return text.appendText(blockBreakText)\n  }\n}\n\nconst textEndsInBlockBreak = function(text) {\n  const length = text.getLength()\n  if (length === 0) {\n    return false\n  }\n  const endText = text.getTextAtRange([ length - 1, length ])\n  return endText.isBlockBreak()\n}\n\nconst unmarkBlockBreakPiece = (piece) => piece.copyWithoutAttribute(\"blockBreak\")\n\n// Attributes\n\nconst expandAttribute = function(attribute) {\n  const { listAttribute } = getBlockConfig(attribute)\n  if (listAttribute) {\n    return [ listAttribute, attribute ]\n  } else {\n    return [ attribute ]\n  }\n}\n\n// Array helpers\n\nconst getLastElement = (array) => array.slice(-1)[0]\n\nconst removeLastValue = function(array, value) {\n  const index = array.lastIndexOf(value)\n  if (index === -1) {\n    return array\n  } else {\n    return spliceArray(array, index, 1)\n  }\n}\n", "import * as config from \"trix/config\"\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport SplittableList from \"trix/models/splittable_list\"\nimport Hash from \"trix/core/collections/hash\"\nimport ObjectMap from \"trix/core/collections/object_map\"\n\nimport { arraysAreEqual, getBlockConfig, normalizeRange, rangeIsCollapsed } from \"trix/core/helpers\"\n\nexport default class Document extends TrixObject {\n  static fromJSON(documentJSON) {\n    const blocks = Array.from(documentJSON).map((blockJSON) => Block.fromJSON(blockJSON))\n    return new this(blocks)\n  }\n\n  static fromString(string, textAttributes) {\n    const text = Text.textForStringWithAttributes(string, textAttributes)\n    return new this([ new Block(text) ])\n  }\n\n  constructor(blocks = []) {\n    super(...arguments)\n    if (blocks.length === 0) {\n      blocks = [ new Block() ]\n    }\n    this.blockList = SplittableList.box(blocks)\n  }\n\n  isEmpty() {\n    const block = this.getBlockAtIndex(0)\n    return this.blockList.length === 1 && block.isEmpty() && !block.hasAttributes()\n  }\n\n  copy(options = {}) {\n    const blocks = options.consolidateBlocks ? this.blockList.consolidate().toArray() : this.blockList.toArray()\n\n    return new this.constructor(blocks)\n  }\n\n  copyUsingObjectsFromDocument(sourceDocument) {\n    const objectMap = new ObjectMap(sourceDocument.getObjects())\n    return this.copyUsingObjectMap(objectMap)\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const blocks = this.getBlocks().map((block) => {\n      const mappedBlock = objectMap.find(block)\n      return mappedBlock || block.copyUsingObjectMap(objectMap)\n    })\n    return new this.constructor(blocks)\n  }\n\n  copyWithBaseBlockAttributes(blockAttributes = []) {\n    const blocks = this.getBlocks().map((block) => {\n      const attributes = blockAttributes.concat(block.getAttributes())\n      return block.copyWithAttributes(attributes)\n    })\n\n    return new this.constructor(blocks)\n  }\n\n  replaceBlock(oldBlock, newBlock) {\n    const index = this.blockList.indexOf(oldBlock)\n    if (index === -1) {\n      return this\n    }\n    return new this.constructor(this.blockList.replaceObjectAtIndex(newBlock, index))\n  }\n\n  insertDocumentAtRange(document, range) {\n    const { blockList } = document\n    range = normalizeRange(range)\n    let [ position ] = range\n    const { index, offset } = this.locationFromPosition(position)\n\n    let result = this\n    const block = this.getBlockAtPosition(position)\n\n    if (rangeIsCollapsed(range) && block.isEmpty() && !block.hasAttributes()) {\n      result = new this.constructor(result.blockList.removeObjectAtIndex(index))\n    } else if (block.getBlockBreakPosition() === offset) {\n      position++\n    }\n\n    result = result.removeTextAtRange(range)\n    return new this.constructor(result.blockList.insertSplittableListAtPosition(blockList, position))\n  }\n\n  mergeDocumentAtRange(document, range) {\n    let formattedDocument, result\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const blockAttributes = this.getBlockAtIndex(startLocation.index).getAttributes()\n    const baseBlockAttributes = document.getBaseBlockAttributes()\n    const trailingBlockAttributes = blockAttributes.slice(-baseBlockAttributes.length)\n\n    if (arraysAreEqual(baseBlockAttributes, trailingBlockAttributes)) {\n      const leadingBlockAttributes = blockAttributes.slice(0, -baseBlockAttributes.length)\n      formattedDocument = document.copyWithBaseBlockAttributes(leadingBlockAttributes)\n    } else {\n      formattedDocument = document.copy({ consolidateBlocks: true }).copyWithBaseBlockAttributes(blockAttributes)\n    }\n\n    const blockCount = formattedDocument.getBlockCount()\n    const firstBlock = formattedDocument.getBlockAtIndex(0)\n\n    if (arraysAreEqual(blockAttributes, firstBlock.getAttributes())) {\n      const firstText = firstBlock.getTextWithoutBlockBreak()\n      result = this.insertTextAtRange(firstText, range)\n\n      if (blockCount > 1) {\n        formattedDocument = new this.constructor(formattedDocument.getBlocks().slice(1))\n        const position = startPosition + firstText.getLength()\n        result = result.insertDocumentAtRange(formattedDocument, position)\n      }\n    } else {\n      result = this.insertDocumentAtRange(formattedDocument, range)\n    }\n\n    return result\n  }\n\n  insertTextAtRange(text, range) {\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const { index, offset } = this.locationFromPosition(startPosition)\n\n    const document = this.removeTextAtRange(range)\n    return new this.constructor(\n      document.blockList.editObjectAtIndex(index, (block) =>\n        block.copyWithText(block.text.insertTextAtPosition(text, offset))\n      )\n    )\n  }\n\n  removeTextAtRange(range) {\n    let blocks\n    range = normalizeRange(range)\n    const [ leftPosition, rightPosition ] = range\n    if (rangeIsCollapsed(range)) {\n      return this\n    }\n    const [ leftLocation, rightLocation ] = Array.from(this.locationRangeFromRange(range))\n\n    const leftIndex = leftLocation.index\n    const leftOffset = leftLocation.offset\n    const leftBlock = this.getBlockAtIndex(leftIndex)\n\n    const rightIndex = rightLocation.index\n    const rightOffset = rightLocation.offset\n    const rightBlock = this.getBlockAtIndex(rightIndex)\n\n    const removeRightNewline =\n      rightPosition - leftPosition === 1 &&\n      leftBlock.getBlockBreakPosition() === leftOffset &&\n      rightBlock.getBlockBreakPosition() !== rightOffset &&\n      rightBlock.text.getStringAtPosition(rightOffset) === \"\\n\"\n\n    if (removeRightNewline) {\n      blocks = this.blockList.editObjectAtIndex(rightIndex, (block) =>\n        block.copyWithText(block.text.removeTextAtRange([ rightOffset, rightOffset + 1 ]))\n      )\n    } else {\n      let block\n      const leftText = leftBlock.text.getTextAtRange([ 0, leftOffset ])\n      const rightText = rightBlock.text.getTextAtRange([ rightOffset, rightBlock.getLength() ])\n      const text = leftText.appendText(rightText)\n\n      const removingLeftBlock = leftIndex !== rightIndex && leftOffset === 0\n      const useRightBlock = removingLeftBlock && leftBlock.getAttributeLevel() >= rightBlock.getAttributeLevel()\n\n      if (useRightBlock) {\n        block = rightBlock.copyWithText(text)\n      } else {\n        block = leftBlock.copyWithText(text)\n      }\n\n      const affectedBlockCount = rightIndex + 1 - leftIndex\n      blocks = this.blockList.splice(leftIndex, affectedBlockCount, block)\n    }\n\n    return new this.constructor(blocks)\n  }\n\n  moveTextFromRangeToPosition(range, position) {\n    let text\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    if (startPosition <= position && position <= endPosition) {\n      return this\n    }\n\n    let document = this.getDocumentAtRange(range)\n    let result = this.removeTextAtRange(range)\n\n    const movingRightward = startPosition < position\n    if (movingRightward) {\n      position -= document.getLength()\n    }\n\n    const [ firstBlock, ...blocks ] = document.getBlocks()\n    if (blocks.length === 0) {\n      text = firstBlock.getTextWithoutBlockBreak()\n      if (movingRightward) {\n        position += 1\n      }\n    } else {\n      text = firstBlock.text\n    }\n\n    result = result.insertTextAtRange(text, position)\n    if (blocks.length === 0) {\n      return result\n    }\n\n    document = new this.constructor(blocks)\n    position += text.getLength()\n\n    return result.insertDocumentAtRange(document, position)\n  }\n\n  addAttributeAtRange(attribute, value, range) {\n    let { blockList } = this\n    this.eachBlockAtRange(\n      range,\n      (block, textRange, index) =>\n        blockList = blockList.editObjectAtIndex(index, function() {\n          if (getBlockConfig(attribute)) {\n            return block.addAttribute(attribute, value)\n          } else {\n            if (textRange[0] === textRange[1]) {\n              return block\n            } else {\n              return block.copyWithText(block.text.addAttributeAtRange(attribute, value, textRange))\n            }\n          }\n        })\n    )\n    return new this.constructor(blockList)\n  }\n\n  addAttribute(attribute, value) {\n    let { blockList } = this\n    this.eachBlock(\n      (block, index) => blockList = blockList.editObjectAtIndex(index, () => block.addAttribute(attribute, value))\n    )\n    return new this.constructor(blockList)\n  }\n\n  removeAttributeAtRange(attribute, range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      if (getBlockConfig(attribute)) {\n        blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(attribute))\n      } else if (textRange[0] !== textRange[1]) {\n        blockList = blockList.editObjectAtIndex(index, () =>\n          block.copyWithText(block.text.removeAttributeAtRange(attribute, textRange))\n        )\n      }\n    })\n    return new this.constructor(blockList)\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    const [ startPosition ] = Array.from(range)\n    const { index } = this.locationFromPosition(startPosition)\n    const text = this.getTextAtIndex(index)\n\n    return new this.constructor(\n      this.blockList.editObjectAtIndex(index, (block) =>\n        block.copyWithText(text.updateAttributesForAttachment(attributes, attachment))\n      )\n    )\n  }\n\n  removeAttributeForAttachment(attribute, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    return this.removeAttributeAtRange(attribute, range)\n  }\n\n  setHTMLAttributeAtPosition(position, name, value) {\n    const block = this.getBlockAtPosition(position)\n    const updatedBlock = block.addHTMLAttribute(name, value)\n    return this.replaceBlock(block, updatedBlock)\n  }\n\n  insertBlockBreakAtRange(range) {\n    let blocks\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const { offset } = this.locationFromPosition(startPosition)\n\n    const document = this.removeTextAtRange(range)\n    if (offset === 0) {\n      blocks = [ new Block() ]\n    }\n    return new this.constructor(\n      document.blockList.insertSplittableListAtPosition(new SplittableList(blocks), startPosition)\n    )\n  }\n\n  applyBlockAttributeAtRange(attributeName, value, range) {\n    const expanded = this.expandRangeToLineBreaksAndSplitBlocks(range)\n    let document = expanded.document\n    range = expanded.range\n    const blockConfig = getBlockConfig(attributeName)\n\n    if (blockConfig.listAttribute) {\n      document = document.removeLastListAttributeAtRange(range, { exceptAttributeName: attributeName })\n      const converted = document.convertLineBreaksToBlockBreaksInRange(range)\n      document = converted.document\n      range = converted.range\n    } else if (blockConfig.exclusive) {\n      document = document.removeBlockAttributesAtRange(range)\n    } else if (blockConfig.terminal) {\n      document = document.removeLastTerminalAttributeAtRange(range)\n    } else {\n      document = document.consolidateBlocksAtRange(range)\n    }\n\n    return document.addAttributeAtRange(attributeName, value, range)\n  }\n\n  removeLastListAttributeAtRange(range, options = {}) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      const lastAttributeName = block.getLastAttribute()\n      if (!lastAttributeName) {\n        return\n      }\n      if (!getBlockConfig(lastAttributeName).listAttribute) {\n        return\n      }\n      if (lastAttributeName === options.exceptAttributeName) {\n        return\n      }\n      blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(lastAttributeName))\n    })\n    return new this.constructor(blockList)\n  }\n\n  removeLastTerminalAttributeAtRange(range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      const lastAttributeName = block.getLastAttribute()\n      if (!lastAttributeName) {\n        return\n      }\n      if (!getBlockConfig(lastAttributeName).terminal) {\n        return\n      }\n      blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(lastAttributeName))\n    })\n    return new this.constructor(blockList)\n  }\n\n  removeBlockAttributesAtRange(range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      if (block.hasAttributes()) {\n        blockList = blockList.editObjectAtIndex(index, () => block.copyWithoutAttributes())\n      }\n    })\n    return new this.constructor(blockList)\n  }\n\n  expandRangeToLineBreaksAndSplitBlocks(range) {\n    let position\n    range = normalizeRange(range)\n    let [ startPosition, endPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n    let document = this\n\n    const startBlock = document.getBlockAtIndex(startLocation.index)\n    startLocation.offset = startBlock.findLineBreakInDirectionFromPosition(\"backward\", startLocation.offset)\n    if (startLocation.offset != null) {\n      position = document.positionFromLocation(startLocation)\n      document = document.insertBlockBreakAtRange([ position, position + 1 ])\n      endLocation.index += 1\n      endLocation.offset -= document.getBlockAtIndex(startLocation.index).getLength()\n      startLocation.index += 1\n    }\n    startLocation.offset = 0\n\n    if (endLocation.offset === 0 && endLocation.index > startLocation.index) {\n      endLocation.index -= 1\n      endLocation.offset = document.getBlockAtIndex(endLocation.index).getBlockBreakPosition()\n    } else {\n      const endBlock = document.getBlockAtIndex(endLocation.index)\n      if (endBlock.text.getStringAtRange([ endLocation.offset - 1, endLocation.offset ]) === \"\\n\") {\n        endLocation.offset -= 1\n      } else {\n        endLocation.offset = endBlock.findLineBreakInDirectionFromPosition(\"forward\", endLocation.offset)\n      }\n      if (endLocation.offset !== endBlock.getBlockBreakPosition()) {\n        position = document.positionFromLocation(endLocation)\n        document = document.insertBlockBreakAtRange([ position, position + 1 ])\n      }\n    }\n\n    startPosition = document.positionFromLocation(startLocation)\n    endPosition = document.positionFromLocation(endLocation)\n    range = normalizeRange([ startPosition, endPosition ])\n\n    return { document, range }\n  }\n\n  convertLineBreaksToBlockBreaksInRange(range) {\n    range = normalizeRange(range)\n    let [ position ] = range\n    const string = this.getStringAtRange(range).slice(0, -1)\n    let document = this\n\n    string.replace(/.*?\\n/g, function(match) {\n      position += match.length\n      document = document.insertBlockBreakAtRange([ position - 1, position ])\n    })\n\n    return { document, range }\n  }\n\n  consolidateBlocksAtRange(range) {\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    const startIndex = this.locationFromPosition(startPosition).index\n    const endIndex = this.locationFromPosition(endPosition).index\n    return new this.constructor(this.blockList.consolidateFromIndexToIndex(startIndex, endIndex))\n  }\n\n  getDocumentAtRange(range) {\n    range = normalizeRange(range)\n    const blocks = this.blockList.getSplittableListInRange(range).toArray()\n    return new this.constructor(blocks)\n  }\n\n  getStringAtRange(range) {\n    let endIndex\n    const array = range = normalizeRange(range),\n      endPosition = array[array.length - 1]\n    if (endPosition !== this.getLength()) {\n      endIndex = -1\n    }\n    return this.getDocumentAtRange(range).toString().slice(0, endIndex)\n  }\n\n  getBlockAtIndex(index) {\n    return this.blockList.getObjectAtIndex(index)\n  }\n\n  getBlockAtPosition(position) {\n    const { index } = this.locationFromPosition(position)\n    return this.getBlockAtIndex(index)\n  }\n\n  getTextAtIndex(index) {\n    return this.getBlockAtIndex(index)?.text\n  }\n\n  getTextAtPosition(position) {\n    const { index } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index)\n  }\n\n  getPieceAtPosition(position) {\n    const { index, offset } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index).getPieceAtPosition(offset)\n  }\n\n  getCharacterAtPosition(position) {\n    const { index, offset } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index).getStringAtRange([ offset, offset + 1 ])\n  }\n\n  getLength() {\n    return this.blockList.getEndPosition()\n  }\n\n  getBlocks() {\n    return this.blockList.toArray()\n  }\n\n  getBlockCount() {\n    return this.blockList.length\n  }\n\n  getEditCount() {\n    return this.editCount\n  }\n\n  eachBlock(callback) {\n    return this.blockList.eachObject(callback)\n  }\n\n  eachBlockAtRange(range, callback) {\n    let block, textRange\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n\n    if (startLocation.index === endLocation.index) {\n      block = this.getBlockAtIndex(startLocation.index)\n      textRange = [ startLocation.offset, endLocation.offset ]\n      return callback(block, textRange, startLocation.index)\n    } else {\n      for (let index = startLocation.index; index <= endLocation.index; index++) {\n        block = this.getBlockAtIndex(index)\n        if (block) {\n          switch (index) {\n            case startLocation.index:\n              textRange = [ startLocation.offset, block.text.getLength() ]\n              break\n            case endLocation.index:\n              textRange = [ 0, endLocation.offset ]\n              break\n            default:\n              textRange = [ 0, block.text.getLength() ]\n          }\n          callback(block, textRange, index)\n        }\n      }\n    }\n  }\n\n  getCommonAttributesAtRange(range) {\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    if (rangeIsCollapsed(range)) {\n      return this.getCommonAttributesAtPosition(startPosition)\n    } else {\n      const textAttributes = []\n      const blockAttributes = []\n\n      this.eachBlockAtRange(range, function(block, textRange) {\n        if (textRange[0] !== textRange[1]) {\n          textAttributes.push(block.text.getCommonAttributesAtRange(textRange))\n          return blockAttributes.push(attributesForBlock(block))\n        }\n      })\n\n      return Hash.fromCommonAttributesOfObjects(textAttributes)\n        .merge(Hash.fromCommonAttributesOfObjects(blockAttributes))\n        .toObject()\n    }\n  }\n\n  getCommonAttributesAtPosition(position) {\n    let key, value\n    const { index, offset } = this.locationFromPosition(position)\n    const block = this.getBlockAtIndex(index)\n    if (!block) {\n      return {}\n    }\n\n    const commonAttributes = attributesForBlock(block)\n    const attributes = block.text.getAttributesAtPosition(offset)\n    const attributesLeft = block.text.getAttributesAtPosition(offset - 1)\n    const inheritableAttributes = Object.keys(config.textAttributes).filter((key) => {\n      return config.textAttributes[key].inheritable\n    })\n\n    for (key in attributesLeft) {\n      value = attributesLeft[key]\n      if (value === attributes[key] || inheritableAttributes.includes(key)) {\n        commonAttributes[key] = value\n      }\n    }\n\n    return commonAttributes\n  }\n\n  getRangeOfCommonAttributeAtPosition(attributeName, position) {\n    const { index, offset } = this.locationFromPosition(position)\n    const text = this.getTextAtIndex(index)\n    const [ startOffset, endOffset ] = Array.from(text.getExpandedRangeForAttributeAtOffset(attributeName, offset))\n\n    const start = this.positionFromLocation({ index, offset: startOffset })\n    const end = this.positionFromLocation({ index, offset: endOffset })\n    return normalizeRange([ start, end ])\n  }\n\n  getBaseBlockAttributes() {\n    let baseBlockAttributes = this.getBlockAtIndex(0).getAttributes()\n\n    for (let blockIndex = 1; blockIndex < this.getBlockCount(); blockIndex++) {\n      const blockAttributes = this.getBlockAtIndex(blockIndex).getAttributes()\n      const lastAttributeIndex = Math.min(baseBlockAttributes.length, blockAttributes.length)\n\n      baseBlockAttributes = (() => {\n        const result = []\n        for (let index = 0; index < lastAttributeIndex; index++) {\n          if (blockAttributes[index] !== baseBlockAttributes[index]) {\n            break\n          }\n          result.push(blockAttributes[index])\n        }\n        return result\n      })()\n    }\n\n    return baseBlockAttributes\n  }\n\n  getAttachmentById(attachmentId) {\n    for (const attachment of this.getAttachments()) {\n      if (attachment.id === attachmentId) {\n        return attachment\n      }\n    }\n  }\n\n  getAttachmentPieces() {\n    let attachmentPieces = []\n    this.blockList.eachObject(({ text }) => attachmentPieces = attachmentPieces.concat(text.getAttachmentPieces()))\n    return attachmentPieces\n  }\n\n  getAttachments() {\n    return this.getAttachmentPieces().map((piece) => piece.attachment)\n  }\n\n  getRangeOfAttachment(attachment) {\n    let position = 0\n    const iterable = this.blockList.toArray()\n    for (let index = 0; index < iterable.length; index++) {\n      const { text } = iterable[index]\n      const textRange = text.getRangeOfAttachment(attachment)\n      if (textRange) {\n        return normalizeRange([ position + textRange[0], position + textRange[1] ])\n      }\n      position += text.getLength()\n    }\n  }\n\n  getLocationRangeOfAttachment(attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    return this.locationRangeFromRange(range)\n  }\n\n  getAttachmentPieceForAttachment(attachment) {\n    for (const piece of this.getAttachmentPieces()) {\n      if (piece.attachment === attachment) {\n        return piece\n      }\n    }\n  }\n\n  findRangesForBlockAttribute(attributeName) {\n    let position = 0\n    const ranges = []\n\n    this.getBlocks().forEach((block) => {\n      const length = block.getLength()\n      if (block.hasAttribute(attributeName)) {\n        ranges.push([ position, position + length ])\n      }\n      position += length\n    })\n\n    return ranges\n  }\n\n  findRangesForTextAttribute(attributeName, { withValue } = {}) {\n    let position = 0\n    let range = []\n    const ranges = []\n\n    const match = function(piece) {\n      if (withValue) {\n        return piece.getAttribute(attributeName) === withValue\n      } else {\n        return piece.hasAttribute(attributeName)\n      }\n    }\n\n    this.getPieces().forEach((piece) => {\n      const length = piece.getLength()\n      if (match(piece)) {\n        if (range[1] === position) {\n          range[1] = position + length\n        } else {\n          ranges.push(range = [ position, position + length ])\n        }\n      }\n      position += length\n    })\n\n    return ranges\n  }\n\n  locationFromPosition(position) {\n    const location = this.blockList.findIndexAndOffsetAtPosition(Math.max(0, position))\n    if (location.index != null) {\n      return location\n    } else {\n      const blocks = this.getBlocks()\n      return { index: blocks.length - 1, offset: blocks[blocks.length - 1].getLength() }\n    }\n  }\n\n  positionFromLocation(location) {\n    return this.blockList.findPositionAtIndexAndOffset(location.index, location.offset)\n  }\n\n  locationRangeFromPosition(position) {\n    return normalizeRange(this.locationFromPosition(position))\n  }\n\n  locationRangeFromRange(range) {\n    range = normalizeRange(range)\n    if (!range) return\n\n    const [ startPosition, endPosition ] = Array.from(range)\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n    return normalizeRange([ startLocation, endLocation ])\n  }\n\n  rangeFromLocationRange(locationRange) {\n    let rightPosition\n    locationRange = normalizeRange(locationRange)\n    const leftPosition = this.positionFromLocation(locationRange[0])\n    if (!rangeIsCollapsed(locationRange)) {\n      rightPosition = this.positionFromLocation(locationRange[1])\n    }\n    return normalizeRange([ leftPosition, rightPosition ])\n  }\n\n  isEqualTo(document) {\n    return this.blockList.isEqualTo(document?.blockList)\n  }\n\n  getTexts() {\n    return this.getBlocks().map((block) => block.text)\n  }\n\n  getPieces() {\n    const pieces = []\n\n    Array.from(this.getTexts()).forEach((text) => {\n      pieces.push(...Array.from(text.getPieces() || []))\n    })\n\n    return pieces\n  }\n\n  getObjects() {\n    return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())\n  }\n\n  toSerializableDocument() {\n    const blocks = []\n    this.blockList.eachObject((block) => blocks.push(block.copyWithText(block.text.toSerializableText())))\n    return new this.constructor(blocks)\n  }\n\n  toString() {\n    return this.blockList.toString()\n  }\n\n  toJSON() {\n    return this.blockList.toJSON()\n  }\n\n  toConsole() {\n    return JSON.stringify(this.blockList.toArray().map((block) => JSON.parse(block.text.toConsole())))\n  }\n}\n\nconst attributesForBlock = function(block) {\n  const attributes = {}\n  const attributeName = block.getLastAttribute()\n  if (attributeName) {\n    attributes[attributeName] = true\n  }\n  return attributes\n}\n", "/* eslint-disable\n    no-case-declarations,\n    no-irregular-whitespace,\n*/\nimport * as config from \"trix/config\"\nimport BasicObject from \"trix/core/basic_object\"\nimport Document from \"trix/models/document\"\nimport HTMLSanitizer from \"trix/models/html_sanitizer\"\n\nimport {\n  arraysAreEqual,\n  breakableWhitespacePattern,\n  elementContainsNode,\n  findClosestElementFromNode,\n  getBlockTagNames,\n  makeElement,\n  nodeIsAttachmentElement,\n  normalizeSpaces,\n  removeNode,\n  squishBreakableWhitespace,\n  tagName,\n  walkTree,\n} from \"trix/core/helpers\"\n\nconst pieceForString = (string, attributes = {}) => {\n  const type = \"string\"\n  string = normalizeSpaces(string)\n  return { string, attributes, type }\n}\n\nconst pieceForAttachment = (attachment, attributes = {}) => {\n  const type = \"attachment\"\n  return { attachment, attributes, type }\n}\n\nconst blockForAttributes = (attributes = {}, htmlAttributes = {}) => {\n  const text = []\n  return { text, attributes, htmlAttributes }\n}\n\nconst parseTrixDataAttribute = (element, name) => {\n  try {\n    return JSON.parse(element.getAttribute(`data-trix-${name}`))\n  } catch (error) {\n    return {}\n  }\n}\n\nconst getImageDimensions = (element) => {\n  const width = element.getAttribute(\"width\")\n  const height = element.getAttribute(\"height\")\n  const dimensions = {}\n  if (width) {\n    dimensions.width = parseInt(width, 10)\n  }\n  if (height) {\n    dimensions.height = parseInt(height, 10)\n  }\n  return dimensions\n}\n\nexport default class HTMLParser extends BasicObject {\n  static parse(html, options) {\n    const parser = new this(html, options)\n    parser.parse()\n    return parser\n  }\n\n  constructor(html, { referenceElement } = {}) {\n    super(...arguments)\n    this.html = html\n    this.referenceElement = referenceElement\n    this.blocks = []\n    this.blockElements = []\n    this.processedElements = []\n  }\n\n  getDocument() {\n    return Document.fromJSON(this.blocks)\n  }\n\n  // HTML parsing\n\n  parse() {\n    try {\n      this.createHiddenContainer()\n      HTMLSanitizer.setHTML(this.containerElement, this.html)\n      const walker = walkTree(this.containerElement, { usingFilter: nodeFilter })\n      while (walker.nextNode()) {\n        this.processNode(walker.currentNode)\n      }\n      return this.translateBlockElementMarginsToNewlines()\n    } finally {\n      this.removeHiddenContainer()\n    }\n  }\n\n  createHiddenContainer() {\n    if (this.referenceElement) {\n      this.containerElement = this.referenceElement.cloneNode(false)\n      this.containerElement.removeAttribute(\"id\")\n      this.containerElement.setAttribute(\"data-trix-internal\", \"\")\n      this.containerElement.style.display = \"none\"\n      return this.referenceElement.parentNode.insertBefore(this.containerElement, this.referenceElement.nextSibling)\n    } else {\n      this.containerElement = makeElement({ tagName: \"div\", style: { display: \"none\" } })\n      return document.body.appendChild(this.containerElement)\n    }\n  }\n\n  removeHiddenContainer() {\n    return removeNode(this.containerElement)\n  }\n\n  processNode(node) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        if (!this.isInsignificantTextNode(node)) {\n          this.appendBlockForTextNode(node)\n          return this.processTextNode(node)\n        }\n        break\n      case Node.ELEMENT_NODE:\n        this.appendBlockForElement(node)\n        return this.processElement(node)\n    }\n  }\n\n  appendBlockForTextNode(node) {\n    const element = node.parentNode\n    if (element === this.currentBlockElement && this.isBlockElement(node.previousSibling)) {\n      return this.appendStringWithAttributes(\"\\n\")\n    } else if (element === this.containerElement || this.isBlockElement(element)) {\n      const attributes = this.getBlockAttributes(element)\n      const htmlAttributes = this.getBlockHTMLAttributes(element)\n      if (!arraysAreEqual(attributes, this.currentBlock?.attributes)) {\n        this.currentBlock = this.appendBlockForAttributesWithElement(attributes, element, htmlAttributes)\n        this.currentBlockElement = element\n      }\n    }\n  }\n\n  appendBlockForElement(element) {\n    const elementIsBlockElement = this.isBlockElement(element)\n    const currentBlockContainsElement = elementContainsNode(this.currentBlockElement, element)\n\n    if (elementIsBlockElement && !this.isBlockElement(element.firstChild)) {\n      if (!this.isInsignificantTextNode(element.firstChild) || !this.isBlockElement(element.firstElementChild)) {\n        const attributes = this.getBlockAttributes(element)\n        const htmlAttributes = this.getBlockHTMLAttributes(element)\n        if (element.firstChild) {\n          if (!(currentBlockContainsElement && arraysAreEqual(attributes, this.currentBlock.attributes))) {\n            this.currentBlock = this.appendBlockForAttributesWithElement(attributes, element, htmlAttributes)\n            this.currentBlockElement = element\n          } else {\n            return this.appendStringWithAttributes(\"\\n\")\n          }\n        }\n      }\n    } else if (this.currentBlockElement && !currentBlockContainsElement && !elementIsBlockElement) {\n      const parentBlockElement = this.findParentBlockElement(element)\n      if (parentBlockElement) {\n        return this.appendBlockForElement(parentBlockElement)\n      } else {\n        this.currentBlock = this.appendEmptyBlock()\n        this.currentBlockElement = null\n      }\n    }\n  }\n\n  findParentBlockElement(element) {\n    let { parentElement } = element\n    while (parentElement && parentElement !== this.containerElement) {\n      if (this.isBlockElement(parentElement) && this.blockElements.includes(parentElement)) {\n        return parentElement\n      } else {\n        parentElement = parentElement.parentElement\n      }\n    }\n    return null\n  }\n\n  processTextNode(node) {\n    let string = node.data\n    if (!elementCanDisplayPreformattedText(node.parentNode)) {\n      string = squishBreakableWhitespace(string)\n      if (stringEndsWithWhitespace(node.previousSibling?.textContent)) {\n        string = leftTrimBreakableWhitespace(string)\n      }\n    }\n    return this.appendStringWithAttributes(string, this.getTextAttributes(node.parentNode))\n  }\n\n  processElement(element) {\n    let attributes\n    if (nodeIsAttachmentElement(element)) {\n      attributes = parseTrixDataAttribute(element, \"attachment\")\n      if (Object.keys(attributes).length) {\n        const textAttributes = this.getTextAttributes(element)\n        this.appendAttachmentWithAttributes(attributes, textAttributes)\n        // We have everything we need so avoid processing inner nodes\n        element.innerHTML = \"\"\n      }\n      return this.processedElements.push(element)\n    } else {\n      switch (tagName(element)) {\n        case \"br\":\n          if (!this.isExtraBR(element) && !this.isBlockElement(element.nextSibling)) {\n            this.appendStringWithAttributes(\"\\n\", this.getTextAttributes(element))\n          }\n          return this.processedElements.push(element)\n        case \"img\":\n          attributes = { url: element.getAttribute(\"src\"), contentType: \"image\" }\n          const object = getImageDimensions(element)\n          for (const key in object) {\n            const value = object[key]\n            attributes[key] = value\n          }\n          this.appendAttachmentWithAttributes(attributes, this.getTextAttributes(element))\n          return this.processedElements.push(element)\n        case \"tr\":\n          if (this.needsTableSeparator(element)) {\n            return this.appendStringWithAttributes(config.parser.tableRowSeparator)\n          }\n          break\n        case \"td\":\n          if (this.needsTableSeparator(element)) {\n            return this.appendStringWithAttributes(config.parser.tableCellSeparator)\n          }\n          break\n      }\n    }\n  }\n\n  // Document construction\n\n  appendBlockForAttributesWithElement(attributes, element, htmlAttributes = {}) {\n    this.blockElements.push(element)\n    const block = blockForAttributes(attributes, htmlAttributes)\n    this.blocks.push(block)\n    return block\n  }\n\n  appendEmptyBlock() {\n    return this.appendBlockForAttributesWithElement([], null)\n  }\n\n  appendStringWithAttributes(string, attributes) {\n    return this.appendPiece(pieceForString(string, attributes))\n  }\n\n  appendAttachmentWithAttributes(attachment, attributes) {\n    return this.appendPiece(pieceForAttachment(attachment, attributes))\n  }\n\n  appendPiece(piece) {\n    if (this.blocks.length === 0) {\n      this.appendEmptyBlock()\n    }\n    return this.blocks[this.blocks.length - 1].text.push(piece)\n  }\n\n  appendStringToTextAtIndex(string, index) {\n    const { text } = this.blocks[index]\n    const piece = text[text.length - 1]\n\n    if (piece?.type === \"string\") {\n      piece.string += string\n    } else {\n      return text.push(pieceForString(string))\n    }\n  }\n\n  prependStringToTextAtIndex(string, index) {\n    const { text } = this.blocks[index]\n    const piece = text[0]\n\n    if (piece?.type === \"string\") {\n      piece.string = string + piece.string\n    } else {\n      return text.unshift(pieceForString(string))\n    }\n  }\n\n  // Attribute parsing\n\n  getTextAttributes(element) {\n    let value\n    const attributes = {}\n    for (const attribute in config.textAttributes) {\n      const configAttr = config.textAttributes[attribute]\n      if (\n        configAttr.tagName &&\n        findClosestElementFromNode(element, {\n          matchingSelector: configAttr.tagName,\n          untilNode: this.containerElement,\n        })\n      ) {\n        attributes[attribute] = true\n      } else if (configAttr.parser) {\n        value = configAttr.parser(element)\n        if (value) {\n          let attributeInheritedFromBlock = false\n          for (const blockElement of this.findBlockElementAncestors(element)) {\n            if (configAttr.parser(blockElement) === value) {\n              attributeInheritedFromBlock = true\n              break\n            }\n          }\n          if (!attributeInheritedFromBlock) {\n            attributes[attribute] = value\n          }\n        }\n      } else if (configAttr.styleProperty) {\n        value = element.style[configAttr.styleProperty]\n        if (value) {\n          attributes[attribute] = value\n        }\n      }\n    }\n\n    if (nodeIsAttachmentElement(element)) {\n      const object = parseTrixDataAttribute(element, \"attributes\")\n      for (const key in object) {\n        value = object[key]\n        attributes[key] = value\n      }\n    }\n\n    return attributes\n  }\n\n  getBlockAttributes(element) {\n    const attributes = []\n    while (element && element !== this.containerElement) {\n      for (const attribute in config.blockAttributes) {\n        const attrConfig = config.blockAttributes[attribute]\n        if (attrConfig.parse !== false) {\n          if (tagName(element) === attrConfig.tagName) {\n            if (attrConfig.test?.(element) || !attrConfig.test) {\n              attributes.push(attribute)\n              if (attrConfig.listAttribute) {\n                attributes.push(attrConfig.listAttribute)\n              }\n            }\n          }\n        }\n      }\n      element = element.parentNode\n    }\n    return attributes.reverse()\n  }\n\n  getBlockHTMLAttributes(element) {\n    const attributes = {}\n    const blockConfig = Object.values(config.blockAttributes).find(settings => settings.tagName === tagName(element))\n    const allowedAttributes = blockConfig?.htmlAttributes || []\n\n    allowedAttributes.forEach((attribute) => {\n      if (element.hasAttribute(attribute)) {\n        attributes[attribute] = element.getAttribute(attribute)\n      }\n    })\n\n    return attributes\n  }\n\n  findBlockElementAncestors(element) {\n    const ancestors = []\n    while (element && element !== this.containerElement) {\n      const tag = tagName(element)\n      if (getBlockTagNames().includes(tag)) {\n        ancestors.push(element)\n      }\n      element = element.parentNode\n    }\n    return ancestors\n  }\n\n  // Element inspection\n\n  isBlockElement(element) {\n    if (element?.nodeType !== Node.ELEMENT_NODE) return\n    if (nodeIsAttachmentElement(element)) return\n    if (findClosestElementFromNode(element, { matchingSelector: \"td\", untilNode: this.containerElement })) return\n\n    return getBlockTagNames().includes(tagName(element)) ||\n      window.getComputedStyle(element).display === \"block\"\n  }\n\n  isInsignificantTextNode(node) {\n    if (node?.nodeType !== Node.TEXT_NODE) return\n    if (!stringIsAllBreakableWhitespace(node.data)) return\n    const { parentNode, previousSibling, nextSibling } = node\n    if (nodeEndsWithNonWhitespace(parentNode.previousSibling) && !this.isBlockElement(parentNode.previousSibling)) return\n    if (elementCanDisplayPreformattedText(parentNode)) return\n    return !previousSibling || this.isBlockElement(previousSibling) || !nextSibling || this.isBlockElement(nextSibling)\n  }\n\n  isExtraBR(element) {\n    return tagName(element) === \"br\" && this.isBlockElement(element.parentNode) && element.parentNode.lastChild === element\n  }\n\n  needsTableSeparator(element) {\n    if (config.parser.removeBlankTableCells) {\n      const content = element.previousSibling?.textContent\n      return content && /\\S/.test(content)\n    } else {\n      return element.previousSibling\n    }\n  }\n\n  // Margin translation\n\n  translateBlockElementMarginsToNewlines() {\n    const defaultMargin = this.getMarginOfDefaultBlockElement()\n\n    for (let index = 0; index < this.blocks.length; index++) {\n      const margin = this.getMarginOfBlockElementAtIndex(index)\n      if (margin) {\n        if (margin.top > defaultMargin.top * 2) {\n          this.prependStringToTextAtIndex(\"\\n\", index)\n        }\n\n        if (margin.bottom > defaultMargin.bottom * 2) {\n          this.appendStringToTextAtIndex(\"\\n\", index)\n        }\n      }\n    }\n  }\n\n  getMarginOfBlockElementAtIndex(index) {\n    const element = this.blockElements[index]\n    if (element) {\n      if (element.textContent) {\n        if (!getBlockTagNames().includes(tagName(element)) && !this.processedElements.includes(element)) {\n          return getBlockElementMargin(element)\n        }\n      }\n    }\n  }\n\n  getMarginOfDefaultBlockElement() {\n    const element = makeElement(config.blockAttributes.default.tagName)\n    this.containerElement.appendChild(element)\n    return getBlockElementMargin(element)\n  }\n}\n\n// Helpers\n\nconst elementCanDisplayPreformattedText = function(element) {\n  const { whiteSpace } = window.getComputedStyle(element)\n  return [ \"pre\", \"pre-wrap\", \"pre-line\" ].includes(whiteSpace)\n}\n\nconst nodeEndsWithNonWhitespace = (node) => node && !stringEndsWithWhitespace(node.textContent)\n\nconst getBlockElementMargin = function(element) {\n  const style = window.getComputedStyle(element)\n  if (style.display === \"block\") {\n    return { top: parseInt(style.marginTop), bottom: parseInt(style.marginBottom) }\n  }\n}\n\nconst nodeFilter = function(node) {\n  if (tagName(node) === \"style\") {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n\n// Whitespace\n\nconst leftTrimBreakableWhitespace = (string) => string.replace(new RegExp(`^${breakableWhitespacePattern.source}+`), \"\")\n\nconst stringIsAllBreakableWhitespace = (string) => new RegExp(`^${breakableWhitespacePattern.source}*$`).test(string)\n\nconst stringEndsWithWhitespace = (string) => /\\s$/.test(string)\n", "/* eslint-disable\n    no-empty,\n*/\nimport { removeNode } from \"trix/core/helpers\"\n\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\nconst unserializableElementSelector = \"[data-trix-serialize=false]\"\nconst unserializableAttributeNames = [\n  \"contenteditable\",\n  \"data-trix-id\",\n  \"data-trix-store-key\",\n  \"data-trix-mutable\",\n  \"data-trix-placeholder\",\n  \"tabindex\",\n]\nconst serializedAttributesAttribute = \"data-trix-serialized-attributes\"\nconst serializedAttributesSelector = `[${serializedAttributesAttribute}]`\n\nconst blockCommentPattern = new RegExp(\"<!--block-->\", \"g\")\n\nconst serializers = {\n  \"application/json\": function(serializable) {\n    let document\n    if (serializable instanceof Document) {\n      document = serializable\n    } else if (serializable instanceof HTMLElement) {\n      document = HTMLParser.parse(serializable.innerHTML).getDocument()\n    } else {\n      throw new Error(\"unserializable object\")\n    }\n\n    return document.toSerializableDocument().toJSONString()\n  },\n\n  \"text/html\": function(serializable) {\n    let element\n    if (serializable instanceof Document) {\n      element = DocumentView.render(serializable)\n    } else if (serializable instanceof HTMLElement) {\n      element = serializable.cloneNode(true)\n    } else {\n      throw new Error(\"unserializable object\")\n    }\n\n    // Remove unserializable elements\n    Array.from(element.querySelectorAll(unserializableElementSelector)).forEach((el) => {\n      removeNode(el)\n    })\n\n    // Remove unserializable attributes\n    unserializableAttributeNames.forEach((attribute) => {\n      Array.from(element.querySelectorAll(`[${attribute}]`)).forEach((el) => {\n        el.removeAttribute(attribute)\n      })\n    })\n\n    // Rewrite elements with serialized attribute overrides\n    Array.from(element.querySelectorAll(serializedAttributesSelector)).forEach((el) => {\n      try {\n        const attributes = JSON.parse(el.getAttribute(serializedAttributesAttribute))\n        el.removeAttribute(serializedAttributesAttribute)\n        for (const name in attributes) {\n          const value = attributes[name]\n          el.setAttribute(name, value)\n        }\n      } catch (error) {}\n    })\n\n    return element.innerHTML.replace(blockCommentPattern, \"\")\n  },\n}\n\nconst deserializers = {\n  \"application/json\": function(string) {\n    return Document.fromJSONString(string)\n  },\n\n  \"text/html\": function(string) {\n    return HTMLParser.parse(string).getDocument()\n  },\n}\n\nexport const serializeToContentType = function(serializable, contentType) {\n  const serializer = serializers[contentType]\n  if (serializer) {\n    return serializer(serializable)\n  } else {\n    throw new Error(`unknown content type: ${contentType}`)\n  }\n}\n\nexport const deserializeFromContentType = function(string, contentType) {\n  const deserializer = deserializers[contentType]\n  if (deserializer) {\n    return deserializer(string)\n  } else {\n    throw new Error(`unknown content type: ${contentType}`)\n  }\n}\n", "import \"trix/models/attachment\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class ManagedAttachment extends BasicObject {\n  constructor(attachmentManager, attachment) {\n    super(...arguments)\n    this.attachmentManager = attachmentManager\n    this.attachment = attachment\n    this.id = this.attachment.id\n    this.file = this.attachment.file\n  }\n\n  remove() {\n    return this.attachmentManager.requestRemovalOfAttachment(this.attachment)\n  }\n}\n\nManagedAttachment.proxyMethod(\"attachment.getAttribute\")\nManagedAttachment.proxyMethod(\"attachment.hasAttribute\")\nManagedAttachment.proxyMethod(\"attachment.setAttribute\")\nManagedAttachment.proxyMethod(\"attachment.getAttributes\")\nManagedAttachment.proxyMethod(\"attachment.setAttributes\")\nManagedAttachment.proxyMethod(\"attachment.isPending\")\nManagedAttachment.proxyMethod(\"attachment.isPreviewable\")\nManagedAttachment.proxyMethod(\"attachment.getURL\")\nManagedAttachment.proxyMethod(\"attachment.getHref\")\nManagedAttachment.proxyMethod(\"attachment.getFilename\")\nManagedAttachment.proxyMethod(\"attachment.getFilesize\")\nManagedAttachment.proxyMethod(\"attachment.getFormattedFilesize\")\nManagedAttachment.proxyMethod(\"attachment.getExtension\")\nManagedAttachment.proxyMethod(\"attachment.getContentType\")\nManagedAttachment.proxyMethod(\"attachment.getFile\")\nManagedAttachment.proxyMethod(\"attachment.setFile\")\nManagedAttachment.proxyMethod(\"attachment.releaseFile\")\nManagedAttachment.proxyMethod(\"attachment.getUploadProgress\")\nManagedAttachment.proxyMethod(\"attachment.setUploadProgress\")\n\n", "import ManagedAttachment from \"trix/models/managed_attachment\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class AttachmentManager extends BasicObject {\n  constructor(attachments = []) {\n    super(...arguments)\n    this.managedAttachments = {}\n    Array.from(attachments).forEach((attachment) => {\n      this.manageAttachment(attachment)\n    })\n  }\n\n  getAttachments() {\n    const result = []\n    for (const id in this.managedAttachments) {\n      const attachment = this.managedAttachments[id]\n      result.push(attachment)\n    }\n    return result\n  }\n\n  manageAttachment(attachment) {\n    if (!this.managedAttachments[attachment.id]) {\n      this.managedAttachments[attachment.id] = new ManagedAttachment(this, attachment)\n    }\n    return this.managedAttachments[attachment.id]\n  }\n\n  attachmentIsManaged(attachment) {\n    return attachment.id in this.managedAttachments\n  }\n\n  requestRemovalOfAttachment(attachment) {\n    if (this.attachmentIsManaged(attachment)) {\n      return this.delegate?.attachmentManagerDidRequestRemovalOfAttachment?.(attachment)\n    }\n  }\n\n  unmanageAttachment(attachment) {\n    const managedAttachment = this.managedAttachments[attachment.id]\n    delete this.managedAttachments[attachment.id]\n    return managedAttachment\n  }\n}\n", "export default class LineBreakInsertion {\n  constructor(composition) {\n    this.composition = composition\n    this.document = this.composition.document\n    const selectedRange = this.composition.getSelectedRange()\n    this.startPosition = selectedRange[0]\n    this.endPosition = selectedRange[1]\n\n    this.startLocation = this.document.locationFromPosition(this.startPosition)\n    this.endLocation = this.document.locationFromPosition(this.endPosition)\n\n    this.block = this.document.getBlockAtIndex(this.endLocation.index)\n    this.breaksOnReturn = this.block.breaksOnReturn()\n    this.previousCharacter = this.block.text.getStringAtPosition(this.endLocation.offset - 1)\n    this.nextCharacter = this.block.text.getStringAtPosition(this.endLocation.offset)\n  }\n\n  shouldInsertBlockBreak() {\n    if (this.block.hasAttributes() && this.block.isListItem() && !this.block.isEmpty()) {\n      return this.startLocation.offset !== 0\n    } else {\n      return this.breaksOnReturn && this.nextCharacter !== \"\\n\"\n    }\n  }\n\n  shouldBreakFormattedBlock() {\n    return (\n      this.block.hasAttributes() &&\n      !this.block.isListItem() &&\n      (this.breaksOnReturn && this.nextCharacter === \"\\n\" || this.previousCharacter === \"\\n\")\n    )\n  }\n\n  shouldDecreaseListLevel() {\n    return this.block.hasAttributes() && this.block.isListItem() && this.block.isEmpty()\n  }\n\n  shouldPrependListItem() {\n    return this.block.isListItem() && this.startLocation.offset === 0 && !this.block.isEmpty()\n  }\n\n  shouldRemoveLastBlockAttribute() {\n    return this.block.hasAttributes() && !this.block.isListItem() && this.block.isEmpty()\n  }\n}\n", "import * as config from \"trix/config\"\nimport { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport BasicObject from \"trix/core/basic_object\"\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport Attachment from \"trix/models/attachment\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\nimport LineBreakInsertion from \"trix/models/line_break_insertion\"\n\nimport {\n  arrayStartsWith,\n  extend,\n  getAllAttributeNames,\n  getBlockConfig,\n  getTextConfig,\n  normalizeRange,\n  objectsAreEqual,\n  rangeIsCollapsed,\n  rangesAreEqual,\n  summarizeArrayChange,\n} from \"trix/core/helpers\"\n\nconst PLACEHOLDER = \" \"\n\nexport default class Composition extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.document = new Document()\n    this.attachments = []\n    this.currentAttributes = {}\n    this.revision = 0\n  }\n\n  setDocument(document) {\n    if (!document.isEqualTo(this.document)) {\n      this.document = document\n      this.refreshAttachments()\n      this.revision++\n      return this.delegate?.compositionDidChangeDocument?.(document)\n    }\n  }\n\n  // Snapshots\n\n  getSnapshot() {\n    return {\n      document: this.document,\n      selectedRange: this.getSelectedRange(),\n    }\n  }\n\n  loadSnapshot({ document, selectedRange }) {\n    this.delegate?.compositionWillLoadSnapshot?.()\n    this.setDocument(document != null ? document : new Document())\n    this.setSelection(selectedRange != null ? selectedRange : [ 0, 0 ])\n    return this.delegate?.compositionDidLoadSnapshot?.()\n  }\n\n  // Responder protocol\n\n  insertText(text, { updatePosition } = { updatePosition: true }) {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertTextAtRange(text, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + text.getLength()\n\n    if (updatePosition) {\n      this.setSelection(endPosition)\n    }\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertBlock(block = new Block()) {\n    const document = new Document([ block ])\n    return this.insertDocument(document)\n  }\n\n  insertDocument(document = new Document()) {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertDocumentAtRange(document, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + document.getLength()\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertString(string, options) {\n    const attributes = this.getCurrentTextAttributes()\n    const text = Text.textForStringWithAttributes(string, attributes)\n    return this.insertText(text, options)\n  }\n\n  insertBlockBreak() {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertBlockBreakAtRange(selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + 1\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertLineBreak() {\n    const insertion = new LineBreakInsertion(this)\n\n    if (insertion.shouldDecreaseListLevel()) {\n      this.decreaseListLevel()\n      return this.setSelection(insertion.startPosition)\n    } else if (insertion.shouldPrependListItem()) {\n      const document = new Document([ insertion.block.copyWithoutText() ])\n      return this.insertDocument(document)\n    } else if (insertion.shouldInsertBlockBreak()) {\n      return this.insertBlockBreak()\n    } else if (insertion.shouldRemoveLastBlockAttribute()) {\n      return this.removeLastBlockAttribute()\n    } else if (insertion.shouldBreakFormattedBlock()) {\n      return this.breakFormattedBlock(insertion)\n    } else {\n      return this.insertString(\"\\n\")\n    }\n  }\n\n  insertHTML(html) {\n    const document = HTMLParser.parse(html).getDocument()\n    const selectedRange = this.getSelectedRange()\n\n    this.setDocument(this.document.mergeDocumentAtRange(document, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + document.getLength() - 1\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  replaceHTML(html) {\n    const document = HTMLParser.parse(html).getDocument().copyUsingObjectsFromDocument(this.document)\n    const locationRange = this.getLocationRange({ strict: false })\n    const selectedRange = this.document.rangeFromLocationRange(locationRange)\n    this.setDocument(document)\n    return this.setSelection(selectedRange)\n  }\n\n  insertFile(file) {\n    return this.insertFiles([ file ])\n  }\n\n  insertFiles(files) {\n    const attachments = []\n\n    Array.from(files).forEach((file) => {\n      if (this.delegate?.compositionShouldAcceptFile(file)) {\n        const attachment = Attachment.attachmentForFile(file)\n        attachments.push(attachment)\n      }\n    })\n\n    return this.insertAttachments(attachments)\n  }\n\n  insertAttachment(attachment) {\n    return this.insertAttachments([ attachment ])\n  }\n\n  insertAttachments(attachments) {\n    let text = new Text()\n\n    Array.from(attachments).forEach((attachment) => {\n      const type = attachment.getType()\n      const presentation = config.attachments[type]?.presentation\n\n      const attributes = this.getCurrentTextAttributes()\n      if (presentation) {\n        attributes.presentation = presentation\n      }\n\n      const attachmentText = Text.textForAttachmentWithAttributes(attachment, attributes)\n      text = text.appendText(attachmentText)\n    })\n\n    return this.insertText(text)\n  }\n\n  shouldManageDeletingInDirection(direction) {\n    const locationRange = this.getLocationRange()\n    if (rangeIsCollapsed(locationRange)) {\n      if (direction === \"backward\" && locationRange[0].offset === 0) {\n        return true\n      }\n      if (this.shouldManageMovingCursorInDirection(direction)) {\n        return true\n      }\n    } else {\n      if (locationRange[0].index !== locationRange[1].index) {\n        return true\n      }\n    }\n    return false\n  }\n\n  deleteInDirection(direction, { length } = {}) {\n    let attachment, deletingIntoPreviousBlock, selectionSpansBlocks\n    const locationRange = this.getLocationRange()\n    let range = this.getSelectedRange()\n    const selectionIsCollapsed = rangeIsCollapsed(range)\n\n    if (selectionIsCollapsed) {\n      deletingIntoPreviousBlock = direction === \"backward\" && locationRange[0].offset === 0\n    } else {\n      selectionSpansBlocks = locationRange[0].index !== locationRange[1].index\n    }\n\n    if (deletingIntoPreviousBlock) {\n      if (this.canDecreaseBlockAttributeLevel()) {\n        const block = this.getBlock()\n\n        if (block.isListItem()) {\n          this.decreaseListLevel()\n        } else {\n          this.decreaseBlockAttributeLevel()\n        }\n\n        this.setSelection(range[0])\n        if (block.isEmpty()) {\n          return false\n        }\n      }\n    }\n\n    if (selectionIsCollapsed) {\n      range = this.getExpandedRangeInDirection(direction, { length })\n      if (direction === \"backward\") {\n        attachment = this.getAttachmentAtRange(range)\n      }\n    }\n\n    if (attachment) {\n      this.editAttachment(attachment)\n      return false\n    } else {\n      this.setDocument(this.document.removeTextAtRange(range))\n      this.setSelection(range[0])\n      if (deletingIntoPreviousBlock || selectionSpansBlocks) {\n        return false\n      }\n    }\n  }\n\n  moveTextFromRange(range) {\n    const [ position ] = Array.from(this.getSelectedRange())\n    this.setDocument(this.document.moveTextFromRangeToPosition(range, position))\n    return this.setSelection(position)\n  }\n\n  removeAttachment(attachment) {\n    const range = this.document.getRangeOfAttachment(attachment)\n    if (range) {\n      this.stopEditingAttachment()\n      this.setDocument(this.document.removeTextAtRange(range))\n      return this.setSelection(range[0])\n    }\n  }\n\n  removeLastBlockAttribute() {\n    const [ startPosition, endPosition ] = Array.from(this.getSelectedRange())\n    const block = this.document.getBlockAtPosition(endPosition)\n    this.removeCurrentAttribute(block.getLastAttribute())\n    return this.setSelection(startPosition)\n  }\n\n  insertPlaceholder() {\n    this.placeholderPosition = this.getPosition()\n    return this.insertString(PLACEHOLDER)\n  }\n\n  selectPlaceholder() {\n    if (this.placeholderPosition != null) {\n      this.setSelectedRange([ this.placeholderPosition, this.placeholderPosition + PLACEHOLDER.length ])\n      return this.getSelectedRange()\n    }\n  }\n\n  forgetPlaceholder() {\n    this.placeholderPosition = null\n  }\n\n  // Current attributes\n\n  hasCurrentAttribute(attributeName) {\n    const value = this.currentAttributes[attributeName]\n    return value != null && value !== false\n  }\n\n  toggleCurrentAttribute(attributeName) {\n    const value = !this.currentAttributes[attributeName]\n    if (value) {\n      return this.setCurrentAttribute(attributeName, value)\n    } else {\n      return this.removeCurrentAttribute(attributeName)\n    }\n  }\n\n  canSetCurrentAttribute(attributeName) {\n    if (getBlockConfig(attributeName)) {\n      return this.canSetCurrentBlockAttribute(attributeName)\n    } else {\n      return this.canSetCurrentTextAttribute(attributeName)\n    }\n  }\n\n  canSetCurrentTextAttribute(attributeName) {\n    const document = this.getSelectedDocument()\n    if (!document) return\n    for (const attachment of Array.from(document.getAttachments())) {\n      if (!attachment.hasContent()) {\n        return false\n      }\n    }\n    return true\n  }\n\n  canSetCurrentBlockAttribute(attributeName) {\n    const block = this.getBlock()\n    if (!block) return\n    return !block.isTerminalBlock()\n  }\n\n  setCurrentAttribute(attributeName, value) {\n    if (getBlockConfig(attributeName)) {\n      return this.setBlockAttribute(attributeName, value)\n    } else {\n      this.setTextAttribute(attributeName, value)\n      this.currentAttributes[attributeName] = value\n      return this.notifyDelegateOfCurrentAttributesChange()\n    }\n  }\n\n  setHTMLAtributeAtPosition(position, attributeName, value) {\n    const block = this.document.getBlockAtPosition(position)\n    const allowedHTMLAttributes = getBlockConfig(block.getLastAttribute())?.htmlAttributes\n\n    if (block && allowedHTMLAttributes?.includes(attributeName)) {\n      const newDocument = this.document.setHTMLAttributeAtPosition(position, attributeName, value)\n      this.setDocument(newDocument)\n    }\n  }\n\n  setTextAttribute(attributeName, value) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n\n    const [ startPosition, endPosition ] = Array.from(selectedRange)\n    if (startPosition === endPosition) {\n      if (attributeName === \"href\") {\n        const text = Text.textForStringWithAttributes(value, { href: value })\n        return this.insertText(text)\n      }\n    } else {\n      return this.setDocument(this.document.addAttributeAtRange(attributeName, value, selectedRange))\n    }\n  }\n\n  setBlockAttribute(attributeName, value) {\n    const selectedRange = this.getSelectedRange()\n    if (this.canSetCurrentAttribute(attributeName)) {\n      this.setDocument(this.document.applyBlockAttributeAtRange(attributeName, value, selectedRange))\n      return this.setSelection(selectedRange)\n    }\n  }\n\n  removeCurrentAttribute(attributeName) {\n    if (getBlockConfig(attributeName)) {\n      this.removeBlockAttribute(attributeName)\n      return this.updateCurrentAttributes()\n    } else {\n      this.removeTextAttribute(attributeName)\n      delete this.currentAttributes[attributeName]\n      return this.notifyDelegateOfCurrentAttributesChange()\n    }\n  }\n\n  removeTextAttribute(attributeName) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n    return this.setDocument(this.document.removeAttributeAtRange(attributeName, selectedRange))\n  }\n\n  removeBlockAttribute(attributeName) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n    return this.setDocument(this.document.removeAttributeAtRange(attributeName, selectedRange))\n  }\n\n  canDecreaseNestingLevel() {\n    return this.getBlock()?.getNestingLevel() > 0\n  }\n\n  canIncreaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    if (getBlockConfig(block.getLastNestableAttribute())?.listAttribute) {\n      const previousBlock = this.getPreviousBlock()\n      if (previousBlock) {\n        return arrayStartsWith(previousBlock.getListItemAttributes(), block.getListItemAttributes())\n      }\n    } else {\n      return block.getNestingLevel() > 0\n    }\n  }\n\n  decreaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    return this.setDocument(this.document.replaceBlock(block, block.decreaseNestingLevel()))\n  }\n\n  increaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    return this.setDocument(this.document.replaceBlock(block, block.increaseNestingLevel()))\n  }\n\n  canDecreaseBlockAttributeLevel() {\n    return this.getBlock()?.getAttributeLevel() > 0\n  }\n\n  decreaseBlockAttributeLevel() {\n    const attribute = this.getBlock()?.getLastAttribute()\n    if (attribute) {\n      return this.removeCurrentAttribute(attribute)\n    }\n  }\n\n  decreaseListLevel() {\n    let [ startPosition ] = Array.from(this.getSelectedRange())\n    const { index } = this.document.locationFromPosition(startPosition)\n    let endIndex = index\n    const attributeLevel = this.getBlock().getAttributeLevel()\n\n    let block = this.document.getBlockAtIndex(endIndex + 1)\n    while (block) {\n      if (!block.isListItem() || block.getAttributeLevel() <= attributeLevel) {\n        break\n      }\n      endIndex++\n      block = this.document.getBlockAtIndex(endIndex + 1)\n    }\n\n    startPosition = this.document.positionFromLocation({ index, offset: 0 })\n    const endPosition = this.document.positionFromLocation({ index: endIndex, offset: 0 })\n    return this.setDocument(this.document.removeLastListAttributeAtRange([ startPosition, endPosition ]))\n  }\n\n  updateCurrentAttributes() {\n    const selectedRange = this.getSelectedRange({ ignoreLock: true })\n    if (selectedRange) {\n      const currentAttributes = this.document.getCommonAttributesAtRange(selectedRange)\n\n      Array.from(getAllAttributeNames()).forEach((attributeName) => {\n        if (!currentAttributes[attributeName]) {\n          if (!this.canSetCurrentAttribute(attributeName)) {\n            currentAttributes[attributeName] = false\n          }\n        }\n      })\n\n      if (!objectsAreEqual(currentAttributes, this.currentAttributes)) {\n        this.currentAttributes = currentAttributes\n        return this.notifyDelegateOfCurrentAttributesChange()\n      }\n    }\n  }\n\n  getCurrentAttributes() {\n    return extend.call({}, this.currentAttributes)\n  }\n\n  getCurrentTextAttributes() {\n    const attributes = {}\n    for (const key in this.currentAttributes) {\n      const value = this.currentAttributes[key]\n      if (value !== false) {\n        if (getTextConfig(key)) {\n          attributes[key] = value\n        }\n      }\n    }\n    return attributes\n  }\n\n  // Selection freezing\n\n  freezeSelection() {\n    return this.setCurrentAttribute(\"frozen\", true)\n  }\n\n  thawSelection() {\n    return this.removeCurrentAttribute(\"frozen\")\n  }\n\n  hasFrozenSelection() {\n    return this.hasCurrentAttribute(\"frozen\")\n  }\n\n  setSelection(selectedRange) {\n    const locationRange = this.document.locationRangeFromRange(selectedRange)\n    return this.delegate?.compositionDidRequestChangingSelectionToLocationRange(locationRange)\n  }\n\n  getSelectedRange() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.rangeFromLocationRange(locationRange)\n    }\n  }\n\n  setSelectedRange(selectedRange) {\n    const locationRange = this.document.locationRangeFromRange(selectedRange)\n    return this.getSelectionManager().setLocationRange(locationRange)\n  }\n\n  getPosition() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.positionFromLocation(locationRange[0])\n    }\n  }\n\n  getLocationRange(options) {\n    if (this.targetLocationRange) {\n      return this.targetLocationRange\n    } else {\n      return this.getSelectionManager().getLocationRange(options) || normalizeRange({ index: 0, offset: 0 })\n    }\n  }\n\n  withTargetLocationRange(locationRange, fn) {\n    let result\n    this.targetLocationRange = locationRange\n    try {\n      result = fn()\n    } finally {\n      this.targetLocationRange = null\n    }\n    return result\n  }\n\n  withTargetRange(range, fn) {\n    const locationRange = this.document.locationRangeFromRange(range)\n    return this.withTargetLocationRange(locationRange, fn)\n  }\n\n  withTargetDOMRange(domRange, fn) {\n    const locationRange = this.createLocationRangeFromDOMRange(domRange, { strict: false })\n    return this.withTargetLocationRange(locationRange, fn)\n  }\n\n  getExpandedRangeInDirection(direction, { length } = {}) {\n    let [ startPosition, endPosition ] = Array.from(this.getSelectedRange())\n    if (direction === \"backward\") {\n      if (length) {\n        startPosition -= length\n      } else {\n        startPosition = this.translateUTF16PositionFromOffset(startPosition, -1)\n      }\n    } else {\n      if (length) {\n        endPosition += length\n      } else {\n        endPosition = this.translateUTF16PositionFromOffset(endPosition, 1)\n      }\n    }\n    return normalizeRange([ startPosition, endPosition ])\n  }\n\n  shouldManageMovingCursorInDirection(direction) {\n    if (this.editingAttachment) {\n      return true\n    }\n    const range = this.getExpandedRangeInDirection(direction)\n    return this.getAttachmentAtRange(range) != null\n  }\n\n  moveCursorInDirection(direction) {\n    let canEditAttachment, range\n    if (this.editingAttachment) {\n      range = this.document.getRangeOfAttachment(this.editingAttachment)\n    } else {\n      const selectedRange = this.getSelectedRange()\n      range = this.getExpandedRangeInDirection(direction)\n      canEditAttachment = !rangesAreEqual(selectedRange, range)\n    }\n\n    if (direction === \"backward\") {\n      this.setSelectedRange(range[0])\n    } else {\n      this.setSelectedRange(range[1])\n    }\n\n    if (canEditAttachment) {\n      const attachment = this.getAttachmentAtRange(range)\n      if (attachment) {\n        return this.editAttachment(attachment)\n      }\n    }\n  }\n\n  expandSelectionInDirection(direction, { length } = {}) {\n    const range = this.getExpandedRangeInDirection(direction, { length })\n    return this.setSelectedRange(range)\n  }\n\n  expandSelectionForEditing() {\n    if (this.hasCurrentAttribute(\"href\")) {\n      return this.expandSelectionAroundCommonAttribute(\"href\")\n    }\n  }\n\n  expandSelectionAroundCommonAttribute(attributeName) {\n    const position = this.getPosition()\n    const range = this.document.getRangeOfCommonAttributeAtPosition(attributeName, position)\n    return this.setSelectedRange(range)\n  }\n\n  selectionContainsAttachments() {\n    return this.getSelectedAttachments()?.length > 0\n  }\n\n  selectionIsInCursorTarget() {\n    return this.editingAttachment || this.positionIsCursorTarget(this.getPosition())\n  }\n\n  positionIsCursorTarget(position) {\n    const location = this.document.locationFromPosition(position)\n    if (location) {\n      return this.locationIsCursorTarget(location)\n    }\n  }\n\n  positionIsBlockBreak(position) {\n    return this.document.getPieceAtPosition(position)?.isBlockBreak()\n  }\n\n  getSelectedDocument() {\n    const selectedRange = this.getSelectedRange()\n    if (selectedRange) {\n      return this.document.getDocumentAtRange(selectedRange)\n    }\n  }\n\n  getSelectedAttachments() {\n    return this.getSelectedDocument()?.getAttachments()\n  }\n\n  // Attachments\n\n  getAttachments() {\n    return this.attachments.slice(0)\n  }\n\n  refreshAttachments() {\n    const attachments = this.document.getAttachments()\n    const { added, removed } = summarizeArrayChange(this.attachments, attachments)\n    this.attachments = attachments\n\n    Array.from(removed).forEach((attachment) => {\n      attachment.delegate = null\n      this.delegate?.compositionDidRemoveAttachment?.(attachment)\n    })\n\n    return (() => {\n      const result = []\n\n      Array.from(added).forEach((attachment) => {\n        attachment.delegate = this\n        result.push(this.delegate?.compositionDidAddAttachment?.(attachment))\n      })\n\n      return result\n    })()\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeAttributes(attachment) {\n    this.revision++\n    return this.delegate?.compositionDidEditAttachment?.(attachment)\n  }\n\n  attachmentDidChangePreviewURL(attachment) {\n    this.revision++\n    return this.delegate?.compositionDidChangeAttachmentPreviewURL?.(attachment)\n  }\n\n  // Attachment editing\n\n  editAttachment(attachment, options) {\n    if (attachment === this.editingAttachment) return\n    this.stopEditingAttachment()\n    this.editingAttachment = attachment\n    return this.delegate?.compositionDidStartEditingAttachment?.(this.editingAttachment, options)\n  }\n\n  stopEditingAttachment() {\n    if (!this.editingAttachment) return\n    this.delegate?.compositionDidStopEditingAttachment?.(this.editingAttachment)\n    this.editingAttachment = null\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    return this.setDocument(this.document.updateAttributesForAttachment(attributes, attachment))\n  }\n\n  removeAttributeForAttachment(attribute, attachment) {\n    return this.setDocument(this.document.removeAttributeForAttachment(attribute, attachment))\n  }\n\n  // Private\n\n  breakFormattedBlock(insertion) {\n    let { document } = insertion\n    const { block } = insertion\n    let position = insertion.startPosition\n    let range = [ position - 1, position ]\n\n    if (block.getBlockBreakPosition() === insertion.startLocation.offset) {\n      if (block.breaksOnReturn() && insertion.nextCharacter === \"\\n\") {\n        position += 1\n      } else {\n        document = document.removeTextAtRange(range)\n      }\n      range = [ position, position ]\n    } else if (insertion.nextCharacter === \"\\n\") {\n      if (insertion.previousCharacter === \"\\n\") {\n        range = [ position - 1, position + 1 ]\n      } else {\n        range = [ position, position + 1 ]\n        position += 1\n      }\n    } else if (insertion.startLocation.offset - 1 !== 0) {\n      position += 1\n    }\n\n    const newDocument = new Document([ block.removeLastAttribute().copyWithoutText() ])\n    this.setDocument(document.insertDocumentAtRange(newDocument, range))\n    return this.setSelection(position)\n  }\n\n  getPreviousBlock() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      const { index } = locationRange[0]\n      if (index > 0) {\n        return this.document.getBlockAtIndex(index - 1)\n      }\n    }\n  }\n\n  getBlock() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.getBlockAtIndex(locationRange[0].index)\n    }\n  }\n\n  getAttachmentAtRange(range) {\n    const document = this.document.getDocumentAtRange(range)\n    if (document.toString() === `${OBJECT_REPLACEMENT_CHARACTER}\\n`) {\n      return document.getAttachments()[0]\n    }\n  }\n\n  notifyDelegateOfCurrentAttributesChange() {\n    return this.delegate?.compositionDidChangeCurrentAttributes?.(this.currentAttributes)\n  }\n\n  notifyDelegateOfInsertionAtRange(range) {\n    return this.delegate?.compositionDidPerformInsertionAtRange?.(range)\n  }\n\n  translateUTF16PositionFromOffset(position, offset) {\n    const utf16string = this.document.toUTF16String()\n    const utf16position = utf16string.offsetFromUCS2Offset(position)\n    return utf16string.offsetToUCS2Offset(utf16position + offset)\n  }\n}\n\nComposition.proxyMethod(\"getSelectionManager().getPointRange\")\nComposition.proxyMethod(\"getSelectionManager().setLocationRangeFromPointRange\")\nComposition.proxyMethod(\"getSelectionManager().createLocationRangeFromDOMRange\")\nComposition.proxyMethod(\"getSelectionManager().locationIsCursorTarget\")\nComposition.proxyMethod(\"getSelectionManager().selectionIsExpanded\")\nComposition.proxyMethod(\"delegate?.getSelectionManager\")\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class UndoManager extends BasicObject {\n  constructor(composition) {\n    super(...arguments)\n    this.composition = composition\n    this.undoEntries = []\n    this.redoEntries = []\n  }\n\n  recordUndoEntry(description, { context, consolidatable } = {}) {\n    const previousEntry = this.undoEntries.slice(-1)[0]\n\n    if (!consolidatable || !entryHasDescriptionAndContext(previousEntry, description, context)) {\n      const undoEntry = this.createEntry({ description, context })\n      this.undoEntries.push(undoEntry)\n      this.redoEntries = []\n    }\n  }\n\n  undo() {\n    const undoEntry = this.undoEntries.pop()\n    if (undoEntry) {\n      const redoEntry = this.createEntry(undoEntry)\n      this.redoEntries.push(redoEntry)\n      return this.composition.loadSnapshot(undoEntry.snapshot)\n    }\n  }\n\n  redo() {\n    const redoEntry = this.redoEntries.pop()\n    if (redoEntry) {\n      const undoEntry = this.createEntry(redoEntry)\n      this.undoEntries.push(undoEntry)\n      return this.composition.loadSnapshot(redoEntry.snapshot)\n    }\n  }\n\n  canUndo() {\n    return this.undoEntries.length > 0\n  }\n\n  canRedo() {\n    return this.redoEntries.length > 0\n  }\n\n  // Private\n\n  createEntry({ description, context } = {}) {\n    return {\n      description: description?.toString(),\n      context: JSON.stringify(context),\n      snapshot: this.composition.getSnapshot(),\n    }\n  }\n}\n\nconst entryHasDescriptionAndContext = (entry, description, context) =>\n  entry?.description === description?.toString() && entry?.context === JSON.stringify(context)\n", "const BLOCK_ATTRIBUTE_NAME = \"attachmentGallery\"\nconst TEXT_ATTRIBUTE_NAME = \"presentation\"\nconst TEXT_ATTRIBUTE_VALUE = \"gallery\"\n\nexport default class Filter {\n  constructor(snapshot) {\n    this.document = snapshot.document\n    this.selectedRange = snapshot.selectedRange\n  }\n\n  perform() {\n    this.removeBlockAttribute()\n    return this.applyBlockAttribute()\n  }\n\n  getSnapshot() {\n    return { document: this.document, selectedRange: this.selectedRange }\n  }\n\n  // Private\n\n  removeBlockAttribute() {\n    return this.findRangesOfBlocks().map((range) => this.document = this.document.removeAttributeAtRange(BLOCK_ATTRIBUTE_NAME, range))\n  }\n\n  applyBlockAttribute() {\n    let offset = 0\n\n    this.findRangesOfPieces().forEach((range) => {\n      if (range[1] - range[0] > 1) {\n        range[0] += offset\n        range[1] += offset\n\n        if (this.document.getCharacterAtPosition(range[1]) !== \"\\n\") {\n          this.document = this.document.insertBlockBreakAtRange(range[1])\n          if (range[1] < this.selectedRange[1]) {\n            this.moveSelectedRangeForward()\n          }\n          range[1]++\n          offset++\n        }\n\n        if (range[0] !== 0) {\n          if (this.document.getCharacterAtPosition(range[0] - 1) !== \"\\n\") {\n            this.document = this.document.insertBlockBreakAtRange(range[0])\n            if (range[0] < this.selectedRange[0]) {\n              this.moveSelectedRangeForward()\n            }\n            range[0]++\n            offset++\n          }\n        }\n\n        this.document = this.document.applyBlockAttributeAtRange(BLOCK_ATTRIBUTE_NAME, true, range)\n      }\n    })\n  }\n\n  findRangesOfBlocks() {\n    return this.document.findRangesForBlockAttribute(BLOCK_ATTRIBUTE_NAME)\n  }\n\n  findRangesOfPieces() {\n    return this.document.findRangesForTextAttribute(TEXT_ATTRIBUTE_NAME, { withValue: TEXT_ATTRIBUTE_VALUE })\n  }\n\n  moveSelectedRangeForward() {\n    this.selectedRange[0] += 1\n    this.selectedRange[1] += 1\n  }\n}\n", "import Filter from \"./filter\"\n\nexport const attachmentGalleryFilter = function(snapshot) {\n  const filter = new Filter(snapshot)\n  filter.perform()\n  return filter.getSnapshot()\n}\n\n", "import Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\nimport UndoManager from \"trix/models/undo_manager\"\nimport { attachmentGalleryFilter } from \"trix/filters/attachment_gallery_filter\"\nconst DEFAULT_FILTERS = [ attachmentGalleryFilter ]\n\nexport default class Editor {\n  constructor(composition, selectionManager, element) {\n    this.insertFiles = this.insertFiles.bind(this)\n    this.composition = composition\n    this.selectionManager = selectionManager\n    this.element = element\n    this.undoManager = new UndoManager(this.composition)\n    this.filters = DEFAULT_FILTERS.slice(0)\n  }\n\n  loadDocument(document) {\n    return this.loadSnapshot({ document, selectedRange: [ 0, 0 ] })\n  }\n\n  loadHTML(html = \"\") {\n    const document = HTMLParser.parse(html, { referenceElement: this.element }).getDocument()\n    return this.loadDocument(document)\n  }\n\n  loadJSON({ document, selectedRange }) {\n    document = Document.fromJSON(document)\n    return this.loadSnapshot({ document, selectedRange })\n  }\n\n  loadSnapshot(snapshot) {\n    this.undoManager = new UndoManager(this.composition)\n    return this.composition.loadSnapshot(snapshot)\n  }\n\n  getDocument() {\n    return this.composition.document\n  }\n\n  getSelectedDocument() {\n    return this.composition.getSelectedDocument()\n  }\n\n  getSnapshot() {\n    return this.composition.getSnapshot()\n  }\n\n  toJSON() {\n    return this.getSnapshot()\n  }\n\n  // Document manipulation\n\n  deleteInDirection(direction) {\n    return this.composition.deleteInDirection(direction)\n  }\n\n  insertAttachment(attachment) {\n    return this.composition.insertAttachment(attachment)\n  }\n\n  insertAttachments(attachments) {\n    return this.composition.insertAttachments(attachments)\n  }\n\n  insertDocument(document) {\n    return this.composition.insertDocument(document)\n  }\n\n  insertFile(file) {\n    return this.composition.insertFile(file)\n  }\n\n  insertFiles(files) {\n    return this.composition.insertFiles(files)\n  }\n\n  insertHTML(html) {\n    return this.composition.insertHTML(html)\n  }\n\n  insertString(string) {\n    return this.composition.insertString(string)\n  }\n\n  insertText(text) {\n    return this.composition.insertText(text)\n  }\n\n  insertLineBreak() {\n    return this.composition.insertLineBreak()\n  }\n\n  // Selection\n\n  getSelectedRange() {\n    return this.composition.getSelectedRange()\n  }\n\n  getPosition() {\n    return this.composition.getPosition()\n  }\n\n  getClientRectAtPosition(position) {\n    const locationRange = this.getDocument().locationRangeFromRange([ position, position + 1 ])\n    return this.selectionManager.getClientRectAtLocationRange(locationRange)\n  }\n\n  expandSelectionInDirection(direction) {\n    return this.composition.expandSelectionInDirection(direction)\n  }\n\n  moveCursorInDirection(direction) {\n    return this.composition.moveCursorInDirection(direction)\n  }\n\n  setSelectedRange(selectedRange) {\n    return this.composition.setSelectedRange(selectedRange)\n  }\n\n  // Attributes\n\n  activateAttribute(name, value = true) {\n    return this.composition.setCurrentAttribute(name, value)\n  }\n\n  attributeIsActive(name) {\n    return this.composition.hasCurrentAttribute(name)\n  }\n\n  canActivateAttribute(name) {\n    return this.composition.canSetCurrentAttribute(name)\n  }\n\n  deactivateAttribute(name) {\n    return this.composition.removeCurrentAttribute(name)\n  }\n\n  // HTML attributes\n  setHTMLAtributeAtPosition(position, name, value) {\n    this.composition.setHTMLAtributeAtPosition(position, name, value)\n  }\n\n  // Nesting level\n\n  canDecreaseNestingLevel() {\n    return this.composition.canDecreaseNestingLevel()\n  }\n\n  canIncreaseNestingLevel() {\n    return this.composition.canIncreaseNestingLevel()\n  }\n\n  decreaseNestingLevel() {\n    if (this.canDecreaseNestingLevel()) {\n      return this.composition.decreaseNestingLevel()\n    }\n  }\n\n  increaseNestingLevel() {\n    if (this.canIncreaseNestingLevel()) {\n      return this.composition.increaseNestingLevel()\n    }\n  }\n\n  // Undo/redo\n\n  canRedo() {\n    return this.undoManager.canRedo()\n  }\n\n  canUndo() {\n    return this.undoManager.canUndo()\n  }\n\n  recordUndoEntry(description, { context, consolidatable } = {}) {\n    return this.undoManager.recordUndoEntry(description, { context, consolidatable })\n  }\n\n  redo() {\n    if (this.canRedo()) {\n      return this.undoManager.redo()\n    }\n  }\n\n  undo() {\n    if (this.canUndo()) {\n      return this.undoManager.undo()\n    }\n  }\n}\n", "/* eslint-disable\n    no-var,\n    prefer-const,\n*/\nimport {\n  elementContainsNode,\n  findChildIndexOfNode,\n  nodeIsAttachmentElement,\n  nodeIsBlockContainer,\n  nodeIsBlockStart,\n  nodeIsBlockStartComment,\n  nodeIsCursorTarget,\n  nodeIsEmptyTextNode,\n  nodeIsTextNode,\n  tagName,\n  walkTree,\n} from \"trix/core/helpers\"\n\nexport default class LocationMapper {\n  constructor(element) {\n    this.element = element\n  }\n\n  findLocationFromContainerAndOffset(container, offset, { strict } = { strict: true }) {\n    let childIndex = 0\n    let foundBlock = false\n    const location = { index: 0, offset: 0 }\n    const attachmentElement = this.findAttachmentElementParentForNode(container)\n\n    if (attachmentElement) {\n      container = attachmentElement.parentNode\n      offset = findChildIndexOfNode(attachmentElement)\n    }\n\n    const walker = walkTree(this.element, { usingFilter: rejectAttachmentContents })\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n\n      if (node === container && nodeIsTextNode(container)) {\n        if (!nodeIsCursorTarget(node)) {\n          location.offset += offset\n        }\n        break\n      } else {\n        if (node.parentNode === container) {\n          if (childIndex++ === offset) {\n            break\n          }\n        } else if (!elementContainsNode(container, node)) {\n          if (childIndex > 0) {\n            break\n          }\n        }\n\n        if (nodeIsBlockStart(node, { strict })) {\n          if (foundBlock) {\n            location.index++\n          }\n          location.offset = 0\n          foundBlock = true\n        } else {\n          location.offset += nodeLength(node)\n        }\n      }\n    }\n\n    return location\n  }\n\n  findContainerAndOffsetFromLocation(location) {\n    let container, offset\n    if (location.index === 0 && location.offset === 0) {\n      container = this.element\n      offset = 0\n\n      while (container.firstChild) {\n        container = container.firstChild\n        if (nodeIsBlockContainer(container)) {\n          offset = 1\n          break\n        }\n      }\n\n      return [ container, offset ]\n    }\n\n    let [ node, nodeOffset ] = this.findNodeAndOffsetFromLocation(location)\n    if (!node) return\n\n    if (nodeIsTextNode(node)) {\n      if (nodeLength(node) === 0) {\n        container = node.parentNode.parentNode\n        offset = findChildIndexOfNode(node.parentNode)\n        if (nodeIsCursorTarget(node, { name: \"right\" })) {\n          offset++\n        }\n      } else {\n        container = node\n        offset = location.offset - nodeOffset\n      }\n    } else {\n      container = node.parentNode\n\n      if (!nodeIsBlockStart(node.previousSibling)) {\n        if (!nodeIsBlockContainer(container)) {\n          while (node === container.lastChild) {\n            node = container\n            container = container.parentNode\n            if (nodeIsBlockContainer(container)) {\n              break\n            }\n          }\n        }\n      }\n\n      offset = findChildIndexOfNode(node)\n      if (location.offset !== 0) {\n        offset++\n      }\n    }\n\n    return [ container, offset ]\n  }\n\n  findNodeAndOffsetFromLocation(location) {\n    let node, nodeOffset\n    let offset = 0\n\n    for (const currentNode of this.getSignificantNodesForIndex(location.index)) {\n      const length = nodeLength(currentNode)\n\n      if (location.offset <= offset + length) {\n        if (nodeIsTextNode(currentNode)) {\n          node = currentNode\n          nodeOffset = offset\n          if (location.offset === nodeOffset && nodeIsCursorTarget(node)) {\n            break\n          }\n        } else if (!node) {\n          node = currentNode\n          nodeOffset = offset\n        }\n      }\n\n      offset += length\n      if (offset > location.offset) {\n        break\n      }\n    }\n\n    return [ node, nodeOffset ]\n  }\n\n  // Private\n\n  findAttachmentElementParentForNode(node) {\n    while (node && node !== this.element) {\n      if (nodeIsAttachmentElement(node)) {\n        return node\n      }\n      node = node.parentNode\n    }\n  }\n\n  getSignificantNodesForIndex(index) {\n    const nodes = []\n    const walker = walkTree(this.element, { usingFilter: acceptSignificantNodes })\n    let recordingNodes = false\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n      if (nodeIsBlockStartComment(node)) {\n        var blockIndex\n        if (blockIndex != null) {\n          blockIndex++\n        } else {\n          blockIndex = 0\n        }\n\n        if (blockIndex === index) {\n          recordingNodes = true\n        } else if (recordingNodes) {\n          break\n        }\n      } else if (recordingNodes) {\n        nodes.push(node)\n      }\n    }\n\n    return nodes\n  }\n}\n\nconst nodeLength = function(node) {\n  if (node.nodeType === Node.TEXT_NODE) {\n    if (nodeIsCursorTarget(node)) {\n      return 0\n    } else {\n      const string = node.textContent\n      return string.length\n    }\n  } else if (tagName(node) === \"br\" || nodeIsAttachmentElement(node)) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nconst acceptSignificantNodes = function(node) {\n  if (rejectEmptyTextNodes(node) === NodeFilter.FILTER_ACCEPT) {\n    return rejectAttachmentContents(node)\n  } else {\n    return NodeFilter.FILTER_REJECT\n  }\n}\n\nconst rejectEmptyTextNodes = function(node) {\n  if (nodeIsEmptyTextNode(node)) {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n\nconst rejectAttachmentContents = function(node) {\n  if (nodeIsAttachmentElement(node.parentNode)) {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n", "/* eslint-disable\n    id-length,\n    no-empty,\n*/\nimport { getDOMRange, setDOMRange } from \"trix/core/helpers\"\n\nexport default class PointMapper {\n  createDOMRangeFromPoint({ x, y }) {\n    let domRange\n    if (document.caretPositionFromPoint) {\n      const { offsetNode, offset } = document.caretPositionFromPoint(x, y)\n      domRange = document.createRange()\n      domRange.setStart(offsetNode, offset)\n      return domRange\n    } else if (document.caretRangeFromPoint) {\n      return document.caretRangeFromPoint(x, y)\n    } else if (document.body.createTextRange) {\n      const originalDOMRange = getDOMRange()\n      try {\n        // IE 11 throws \"Unspecified error\" when using moveToPoint\n        // during a drag-and-drop operation.\n        const textRange = document.body.createTextRange()\n        textRange.moveToPoint(x, y)\n        textRange.select()\n      } catch (error) {}\n      domRange = getDOMRange()\n      setDOMRange(originalDOMRange)\n      return domRange\n    }\n  }\n\n  getClientRectsForDOMRange(domRange) {\n    const array = Array.from(domRange.getClientRects())\n    const start = array[0]\n    const end = array[array.length - 1]\n\n    return [ start, end ]\n  }\n}\n", "/* eslint-disable\n*/\nimport BasicObject from \"trix/core/basic_object\"\n\nimport LocationMapper from \"trix/models/location_mapper\"\nimport PointMapper from \"trix/models/point_mapper\"\n\nimport {\n  elementContainsNode,\n  getDOMRange,\n  getDOMSelection,\n  handleEvent,\n  innerElementIsActive,\n  nodeIsCursorTarget,\n  normalizeRange,\n  rangeIsCollapsed,\n  rangesAreEqual,\n  setDOMRange,\n} from \"trix/core/helpers\"\n\nexport default class SelectionManager extends BasicObject {\n  constructor(element) {\n    super(...arguments)\n    this.didMouseDown = this.didMouseDown.bind(this)\n    this.selectionDidChange = this.selectionDidChange.bind(this)\n    this.element = element\n    this.locationMapper = new LocationMapper(this.element)\n    this.pointMapper = new PointMapper()\n    this.lockCount = 0\n    handleEvent(\"mousedown\", { onElement: this.element, withCallback: this.didMouseDown })\n  }\n\n  getLocationRange(options = {}) {\n    if (options.strict === false) {\n      return this.createLocationRangeFromDOMRange(getDOMRange())\n    } else if (options.ignoreLock) {\n      return this.currentLocationRange\n    } else if (this.lockedLocationRange) {\n      return this.lockedLocationRange\n    } else {\n      return this.currentLocationRange\n    }\n  }\n\n  setLocationRange(locationRange) {\n    if (this.lockedLocationRange) return\n    locationRange = normalizeRange(locationRange)\n\n    const domRange = this.createDOMRangeFromLocationRange(locationRange)\n    if (domRange) {\n      setDOMRange(domRange)\n      this.updateCurrentLocationRange(locationRange)\n    }\n  }\n\n  setLocationRangeFromPointRange(pointRange) {\n    pointRange = normalizeRange(pointRange)\n    const startLocation = this.getLocationAtPoint(pointRange[0])\n    const endLocation = this.getLocationAtPoint(pointRange[1])\n    this.setLocationRange([ startLocation, endLocation ])\n  }\n\n  getClientRectAtLocationRange(locationRange) {\n    const domRange = this.createDOMRangeFromLocationRange(locationRange)\n    if (domRange) {\n      return this.getClientRectsForDOMRange(domRange)[1]\n    }\n  }\n\n  locationIsCursorTarget(location) {\n    const node = Array.from(this.findNodeAndOffsetFromLocation(location))[0]\n    return nodeIsCursorTarget(node)\n  }\n\n  lock() {\n    if (this.lockCount++ === 0) {\n      this.updateCurrentLocationRange()\n      this.lockedLocationRange = this.getLocationRange()\n    }\n  }\n\n  unlock() {\n    if (--this.lockCount === 0) {\n      const { lockedLocationRange } = this\n      this.lockedLocationRange = null\n      if (lockedLocationRange != null) {\n        return this.setLocationRange(lockedLocationRange)\n      }\n    }\n  }\n\n  clearSelection() {\n    return getDOMSelection()?.removeAllRanges()\n  }\n\n  selectionIsCollapsed() {\n    return getDOMRange()?.collapsed === true\n  }\n\n  selectionIsExpanded() {\n    return !this.selectionIsCollapsed()\n  }\n\n  createLocationRangeFromDOMRange(domRange, options) {\n    if (domRange == null || !this.domRangeWithinElement(domRange)) return\n\n    const start = this.findLocationFromContainerAndOffset(domRange.startContainer, domRange.startOffset, options)\n    if (!start) return\n\n    const end = domRange.collapsed\n      ? undefined\n      : this.findLocationFromContainerAndOffset(domRange.endContainer, domRange.endOffset, options)\n\n    return normalizeRange([ start, end ])\n  }\n\n  didMouseDown() {\n    return this.pauseTemporarily()\n  }\n\n  pauseTemporarily() {\n    let resumeHandlers\n    this.paused = true\n\n    const resume = () => {\n      this.paused = false\n      clearTimeout(resumeTimeout)\n\n      Array.from(resumeHandlers).forEach((handler) => {\n        handler.destroy()\n      })\n\n      if (elementContainsNode(document, this.element)) {\n        return this.selectionDidChange()\n      }\n    }\n\n    const resumeTimeout = setTimeout(resume, 200)\n\n    resumeHandlers = [ \"mousemove\", \"keydown\" ].map((eventName) =>\n      handleEvent(eventName, { onElement: document, withCallback: resume })\n    )\n  }\n\n  selectionDidChange() {\n    if (!this.paused && !innerElementIsActive(this.element)) {\n      return this.updateCurrentLocationRange()\n    }\n  }\n\n  updateCurrentLocationRange(locationRange) {\n    if (locationRange != null ? locationRange : locationRange = this.createLocationRangeFromDOMRange(getDOMRange())) {\n      if (!rangesAreEqual(locationRange, this.currentLocationRange)) {\n        this.currentLocationRange = locationRange\n        return this.delegate?.locationRangeDidChange?.(this.currentLocationRange.slice(0))\n      }\n    }\n  }\n\n  createDOMRangeFromLocationRange(locationRange) {\n    const rangeStart = this.findContainerAndOffsetFromLocation(locationRange[0])\n    const rangeEnd = rangeIsCollapsed(locationRange)\n      ? rangeStart\n      : this.findContainerAndOffsetFromLocation(locationRange[1]) || rangeStart\n\n    if (rangeStart != null && rangeEnd != null) {\n      const domRange = document.createRange()\n      domRange.setStart(...Array.from(rangeStart || []))\n      domRange.setEnd(...Array.from(rangeEnd || []))\n      return domRange\n    }\n  }\n\n  getLocationAtPoint(point) {\n    const domRange = this.createDOMRangeFromPoint(point)\n    if (domRange) {\n      return this.createLocationRangeFromDOMRange(domRange)?.[0]\n    }\n  }\n\n  domRangeWithinElement(domRange) {\n    if (domRange.collapsed) {\n      return elementContainsNode(this.element, domRange.startContainer)\n    } else {\n      return (\n        elementContainsNode(this.element, domRange.startContainer) &&\n        elementContainsNode(this.element, domRange.endContainer)\n      )\n    }\n  }\n}\n\nSelectionManager.proxyMethod(\"locationMapper.findLocationFromContainerAndOffset\")\nSelectionManager.proxyMethod(\"locationMapper.findContainerAndOffsetFromLocation\")\nSelectionManager.proxyMethod(\"locationMapper.findNodeAndOffsetFromLocation\")\nSelectionManager.proxyMethod(\"pointMapper.createDOMRangeFromPoint\")\nSelectionManager.proxyMethod(\"pointMapper.getClientRectsForDOMRange\")\n\n", "import { removeNode } from \"trix/core/helpers\"\n\nimport * as config from \"trix/config\"\nimport BasicObject from \"trix/core/basic_object\"\n\nimport { defer, handleEvent, makeElement, tagName, triggerEvent } from \"trix/core/helpers\"\nconst { lang, css, keyNames } = config\n\nconst undoable = function(fn) {\n  return function() {\n    const commands = fn.apply(this, arguments)\n    commands.do()\n    if (!this.undos) {\n      this.undos = []\n    }\n    this.undos.push(commands.undo)\n  }\n}\n\nexport default class AttachmentEditorController extends BasicObject {\n  constructor(attachmentPiece, element, container, options = {}) {\n    super(...arguments)\n    this.didClickToolbar = this.didClickToolbar.bind(this)\n    this.didClickActionButton = this.didClickActionButton.bind(this)\n    this.didKeyDownCaption = this.didKeyDownCaption.bind(this)\n    this.didInputCaption = this.didInputCaption.bind(this)\n    this.didChangeCaption = this.didChangeCaption.bind(this)\n    this.didBlurCaption = this.didBlurCaption.bind(this)\n    this.attachmentPiece = attachmentPiece\n    this.element = element\n    this.container = container\n    this.options = options\n    this.attachment = this.attachmentPiece.attachment\n    if (tagName(this.element) === \"a\") {\n      this.element = this.element.firstChild\n    }\n    this.install()\n  }\n\n  install() {\n    this.makeElementMutable()\n    this.addToolbar()\n    if (this.attachment.isPreviewable()) {\n      this.installCaptionEditor()\n    }\n  }\n\n  uninstall() {\n    let undo = this.undos.pop()\n    this.savePendingCaption()\n    while (undo) {\n      undo()\n      undo = this.undos.pop()\n    }\n    this.delegate?.didUninstallAttachmentEditor(this)\n  }\n\n  // Private\n\n  savePendingCaption() {\n    if (this.pendingCaption != null) {\n      const caption = this.pendingCaption\n      this.pendingCaption = null\n      if (caption) {\n        this.delegate?.attachmentEditorDidRequestUpdatingAttributesForAttachment?.({ caption }, this.attachment)\n      } else {\n        this.delegate?.attachmentEditorDidRequestRemovingAttributeForAttachment?.(\"caption\", this.attachment)\n      }\n    }\n  }\n\n  // Installing and uninstalling\n\n  makeElementMutable = undoable(() => {\n    return {\n      do: () => {\n        this.element.dataset.trixMutable = true\n      },\n      undo: () => delete this.element.dataset.trixMutable,\n    }\n  })\n\n  addToolbar = undoable(() => {\n    // <div class=\"#{css.attachmentMetadataContainer}\" data-trix-mutable=\"true\">\n    //   <div class=\"trix-button-row\">\n    //     <span class=\"trix-button-group trix-button-group--actions\">\n    //       <button type=\"button\" class=\"trix-button trix-button--remove\" title=\"#{lang.remove}\" data-trix-action=\"remove\">#{lang.remove}</button>\n    //     </span>\n    //   </div>\n    // </div>\n    const element = makeElement({\n      tagName: \"div\",\n      className: css.attachmentToolbar,\n      data: { trixMutable: true },\n      childNodes: makeElement({\n        tagName: \"div\",\n        className: \"trix-button-row\",\n        childNodes: makeElement({\n          tagName: \"span\",\n          className: \"trix-button-group trix-button-group--actions\",\n          childNodes: makeElement({\n            tagName: \"button\",\n            className: \"trix-button trix-button--remove\",\n            textContent: lang.remove,\n            attributes: { title: lang.remove },\n            data: { trixAction: \"remove\" },\n          }),\n        }),\n      }),\n    })\n\n    if (this.attachment.isPreviewable()) {\n      // <div class=\"#{css.attachmentMetadataContainer}\">\n      //   <span class=\"#{css.attachmentMetadata}\">\n      //     <span class=\"#{css.attachmentName}\" title=\"#{name}\">#{name}</span>\n      //     <span class=\"#{css.attachmentSize}\">#{size}</span>\n      //   </span>\n      // </div>\n      element.appendChild(\n        makeElement({\n          tagName: \"div\",\n          className: css.attachmentMetadataContainer,\n          childNodes: makeElement({\n            tagName: \"span\",\n            className: css.attachmentMetadata,\n            childNodes: [\n              makeElement({\n                tagName: \"span\",\n                className: css.attachmentName,\n                textContent: this.attachment.getFilename(),\n                attributes: { title: this.attachment.getFilename() },\n              }),\n              makeElement({\n                tagName: \"span\",\n                className: css.attachmentSize,\n                textContent: this.attachment.getFormattedFilesize(),\n              }),\n            ],\n          }),\n        })\n      )\n    }\n\n    handleEvent(\"click\", { onElement: element, withCallback: this.didClickToolbar })\n    handleEvent(\"click\", {\n      onElement: element,\n      matchingSelector: \"[data-trix-action]\",\n      withCallback: this.didClickActionButton,\n    })\n\n    triggerEvent(\"trix-attachment-before-toolbar\", { onElement: this.element, attributes: { toolbar: element, attachment: this.attachment } })\n\n    return {\n      do: () => this.element.appendChild(element),\n      undo: () => removeNode(element),\n    }\n  })\n\n  installCaptionEditor = undoable(() => {\n    const textarea = makeElement({\n      tagName: \"textarea\",\n      className: css.attachmentCaptionEditor,\n      attributes: { placeholder: lang.captionPlaceholder },\n      data: { trixMutable: true },\n    })\n    textarea.value = this.attachmentPiece.getCaption()\n\n    const textareaClone = textarea.cloneNode()\n    textareaClone.classList.add(\"trix-autoresize-clone\")\n    textareaClone.tabIndex = -1\n\n    const autoresize = function() {\n      textareaClone.value = textarea.value\n      textarea.style.height = textareaClone.scrollHeight + \"px\"\n    }\n\n    handleEvent(\"input\", { onElement: textarea, withCallback: autoresize })\n    handleEvent(\"input\", { onElement: textarea, withCallback: this.didInputCaption })\n    handleEvent(\"keydown\", { onElement: textarea, withCallback: this.didKeyDownCaption })\n    handleEvent(\"change\", { onElement: textarea, withCallback: this.didChangeCaption })\n    handleEvent(\"blur\", { onElement: textarea, withCallback: this.didBlurCaption })\n\n    const figcaption = this.element.querySelector(\"figcaption\")\n    const editingFigcaption = figcaption.cloneNode()\n\n    return {\n      do: () => {\n        figcaption.style.display = \"none\"\n        editingFigcaption.appendChild(textarea)\n        editingFigcaption.appendChild(textareaClone)\n        editingFigcaption.classList.add(`${css.attachmentCaption}--editing`)\n        figcaption.parentElement.insertBefore(editingFigcaption, figcaption)\n        autoresize()\n        if (this.options.editCaption) {\n          return defer(() => textarea.focus())\n        }\n      },\n      undo() {\n        removeNode(editingFigcaption)\n        figcaption.style.display = null\n      },\n    }\n  })\n\n  // Event handlers\n\n  didClickToolbar(event) {\n    event.preventDefault()\n    return event.stopPropagation()\n  }\n\n  didClickActionButton(event) {\n    const action = event.target.getAttribute(\"data-trix-action\")\n    switch (action) {\n      case \"remove\":\n        return this.delegate?.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)\n    }\n  }\n\n  didKeyDownCaption(event) {\n    if (keyNames[event.keyCode] === \"return\") {\n      event.preventDefault()\n      this.savePendingCaption()\n      return this.delegate?.attachmentEditorDidRequestDeselectingAttachment?.(this.attachment)\n    }\n  }\n\n  didInputCaption(event) {\n    this.pendingCaption = event.target.value.replace(/\\s/g, \" \").trim()\n  }\n\n  didChangeCaption(event) {\n    return this.savePendingCaption()\n  }\n\n  didBlurCaption(event) {\n    return this.savePendingCaption()\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\nimport DocumentView from \"trix/views/document_view\"\nimport AttachmentEditorController from \"trix/controllers/attachment_editor_controller\"\n\nimport { defer, findClosestElementFromNode, handleEvent, innerElementIsActive } from \"trix/core/helpers\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nexport default class CompositionController extends BasicObject {\n  constructor(element, composition) {\n    super(...arguments)\n    this.didFocus = this.didFocus.bind(this)\n    this.didBlur = this.didBlur.bind(this)\n    this.didClickAttachment = this.didClickAttachment.bind(this)\n\n    this.element = element\n    this.composition = composition\n    this.documentView = new DocumentView(this.composition.document, { element: this.element })\n\n    handleEvent(\"focus\", { onElement: this.element, withCallback: this.didFocus })\n    handleEvent(\"blur\", { onElement: this.element, withCallback: this.didBlur })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"a[contenteditable=false]\",\n      preventDefault: true,\n    })\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: attachmentSelector,\n      withCallback: this.didClickAttachment,\n    })\n    handleEvent(\"click\", { onElement: this.element, matchingSelector: `a${attachmentSelector}`, preventDefault: true })\n  }\n\n  didFocus(event) {\n    const perform = () => {\n      if (!this.focused) {\n        this.focused = true\n        return this.delegate?.compositionControllerDidFocus?.()\n      }\n    }\n\n    return this.blurPromise?.then(perform) || perform()\n  }\n\n  didBlur(event) {\n    this.blurPromise = new Promise((resolve) => {\n      return defer(() => {\n        if (!innerElementIsActive(this.element)) {\n          this.focused = null\n          this.delegate?.compositionControllerDidBlur?.()\n        }\n        this.blurPromise = null\n        return resolve()\n      })\n    })\n  }\n\n  didClickAttachment(event, target) {\n    const attachment = this.findAttachmentForElement(target)\n    const editCaption = !!findClosestElementFromNode(event.target, { matchingSelector: \"figcaption\" })\n    return this.delegate?.compositionControllerDidSelectAttachment?.(attachment, { editCaption })\n  }\n\n  getSerializableElement() {\n    if (this.isEditingAttachment()) {\n      return this.documentView.shadowElement\n    } else {\n      return this.element\n    }\n  }\n\n  render() {\n    if (this.revision !== this.composition.revision) {\n      this.documentView.setDocument(this.composition.document)\n      this.documentView.render()\n      this.revision = this.composition.revision\n    }\n\n    if (this.canSyncDocumentView() && !this.documentView.isSynced()) {\n      this.delegate?.compositionControllerWillSyncDocumentView?.()\n      this.documentView.sync()\n      this.delegate?.compositionControllerDidSyncDocumentView?.()\n    }\n\n    return this.delegate?.compositionControllerDidRender?.()\n  }\n\n  rerenderViewForObject(object) {\n    this.invalidateViewForObject(object)\n    return this.render()\n  }\n\n  invalidateViewForObject(object) {\n    return this.documentView.invalidateViewForObject(object)\n  }\n\n  isViewCachingEnabled() {\n    return this.documentView.isViewCachingEnabled()\n  }\n\n  enableViewCaching() {\n    return this.documentView.enableViewCaching()\n  }\n\n  disableViewCaching() {\n    return this.documentView.disableViewCaching()\n  }\n\n  refreshViewCache() {\n    return this.documentView.garbageCollectCachedViews()\n  }\n\n  // Attachment editor management\n\n  isEditingAttachment() {\n    return !!this.attachmentEditor\n  }\n\n  installAttachmentEditorForAttachment(attachment, options) {\n    if (this.attachmentEditor?.attachment === attachment) return\n    const element = this.documentView.findElementForObject(attachment)\n    if (!element) return\n\n    this.uninstallAttachmentEditor()\n    const attachmentPiece = this.composition.document.getAttachmentPieceForAttachment(attachment)\n    this.attachmentEditor = new AttachmentEditorController(attachmentPiece, element, this.element, options)\n    this.attachmentEditor.delegate = this\n  }\n\n  uninstallAttachmentEditor() {\n    return this.attachmentEditor?.uninstall()\n  }\n\n  // Attachment controller delegate\n\n  didUninstallAttachmentEditor() {\n    this.attachmentEditor = null\n    return this.render()\n  }\n\n  attachmentEditorDidRequestUpdatingAttributesForAttachment(attributes, attachment) {\n    this.delegate?.compositionControllerWillUpdateAttachment?.(attachment)\n    return this.composition.updateAttributesForAttachment(attributes, attachment)\n  }\n\n  attachmentEditorDidRequestRemovingAttributeForAttachment(attribute, attachment) {\n    this.delegate?.compositionControllerWillUpdateAttachment?.(attachment)\n    return this.composition.removeAttributeForAttachment(attribute, attachment)\n  }\n\n  attachmentEditorDidRequestRemovalOfAttachment(attachment) {\n    return this.delegate?.compositionControllerDidRequestRemovalOfAttachment?.(attachment)\n  }\n\n  attachmentEditorDidRequestDeselectingAttachment(attachment) {\n    return this.delegate?.compositionControllerDidRequestDeselectingAttachment?.(attachment)\n  }\n\n  // Private\n\n  canSyncDocumentView() {\n    return !this.isEditingAttachment()\n  }\n\n  findAttachmentForElement(element) {\n    return this.composition.document.getAttachmentById(parseInt(element.dataset.trixId, 10))\n  }\n}\n", "import \"trix/views/object_view\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class Controller extends BasicObject {}\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport {\n  findClosestElementFromNode,\n  nodeIsBlockStartComment,\n  nodeIsEmptyTextNode,\n  normalizeSpaces,\n  summarizeStringChange,\n  tagName,\n} from \"trix/core/helpers\"\n\nconst mutableAttributeName = \"data-trix-mutable\"\nconst mutableSelector = `[${mutableAttributeName}]`\n\nconst options = {\n  attributes: true,\n  childList: true,\n  characterData: true,\n  characterDataOldValue: true,\n  subtree: true,\n}\n\nexport default class MutationObserver extends BasicObject {\n  constructor(element) {\n    super(element)\n    this.didMutate = this.didMutate.bind(this)\n    this.element = element\n    this.observer = new window.MutationObserver(this.didMutate)\n    this.start()\n  }\n\n  start() {\n    this.reset()\n    return this.observer.observe(this.element, options)\n  }\n\n  stop() {\n    return this.observer.disconnect()\n  }\n\n  didMutate(mutations) {\n    this.mutations.push(...Array.from(this.findSignificantMutations(mutations) || []))\n\n    if (this.mutations.length) {\n      this.delegate?.elementDidMutate?.(this.getMutationSummary())\n      return this.reset()\n    }\n  }\n\n  // Private\n\n  reset() {\n    this.mutations = []\n  }\n\n  findSignificantMutations(mutations) {\n    return mutations.filter((mutation) => {\n      return this.mutationIsSignificant(mutation)\n    })\n  }\n\n  mutationIsSignificant(mutation) {\n    if (this.nodeIsMutable(mutation.target)) {\n      return false\n    }\n    for (const node of Array.from(this.nodesModifiedByMutation(mutation))) {\n      if (this.nodeIsSignificant(node)) return true\n    }\n    return false\n  }\n\n  nodeIsSignificant(node) {\n    return node !== this.element && !this.nodeIsMutable(node) && !nodeIsEmptyTextNode(node)\n  }\n\n  nodeIsMutable(node) {\n    return findClosestElementFromNode(node, { matchingSelector: mutableSelector })\n  }\n\n  nodesModifiedByMutation(mutation) {\n    const nodes = []\n    switch (mutation.type) {\n      case \"attributes\":\n        if (mutation.attributeName !== mutableAttributeName) {\n          nodes.push(mutation.target)\n        }\n        break\n      case \"characterData\":\n        // Changes to text nodes should consider the parent element\n        nodes.push(mutation.target.parentNode)\n        nodes.push(mutation.target)\n        break\n      case \"childList\":\n        // Consider each added or removed node\n        nodes.push(...Array.from(mutation.addedNodes || []))\n        nodes.push(...Array.from(mutation.removedNodes || []))\n        break\n    }\n    return nodes\n  }\n\n  getMutationSummary() {\n    return this.getTextMutationSummary()\n  }\n\n  getTextMutationSummary() {\n    const { additions, deletions } = this.getTextChangesFromCharacterData()\n    const textChanges = this.getTextChangesFromChildList()\n\n    Array.from(textChanges.additions).forEach((addition) => {\n      if (!Array.from(additions).includes(addition)) {\n        additions.push(addition)\n      }\n    })\n\n    deletions.push(...Array.from(textChanges.deletions || []))\n\n    const summary = {}\n\n    const added = additions.join(\"\")\n    if (added) {\n      summary.textAdded = added\n    }\n\n    const deleted = deletions.join(\"\")\n    if (deleted) {\n      summary.textDeleted = deleted\n    }\n\n    return summary\n  }\n\n  getMutationsByType(type) {\n    return Array.from(this.mutations).filter((mutation) => mutation.type === type)\n  }\n\n  getTextChangesFromChildList() {\n    let textAdded, textRemoved\n    const addedNodes = []\n    const removedNodes = []\n\n    Array.from(this.getMutationsByType(\"childList\")).forEach((mutation) => {\n      addedNodes.push(...Array.from(mutation.addedNodes || []))\n      removedNodes.push(...Array.from(mutation.removedNodes || []))\n    })\n\n    const singleBlockCommentRemoved =\n      addedNodes.length === 0 && removedNodes.length === 1 && nodeIsBlockStartComment(removedNodes[0])\n\n    if (singleBlockCommentRemoved) {\n      textAdded = []\n      textRemoved = [ \"\\n\" ]\n    } else {\n      textAdded = getTextForNodes(addedNodes)\n      textRemoved = getTextForNodes(removedNodes)\n    }\n\n    const additions = textAdded.filter((text, index) => text !== textRemoved[index]).map(normalizeSpaces)\n    const deletions = textRemoved.filter((text, index) => text !== textAdded[index]).map(normalizeSpaces)\n\n    return { additions, deletions }\n  }\n\n  getTextChangesFromCharacterData() {\n    let added, removed\n    const characterMutations = this.getMutationsByType(\"characterData\")\n\n    if (characterMutations.length) {\n      const startMutation = characterMutations[0],\n        endMutation = characterMutations[characterMutations.length - 1]\n\n      const oldString = normalizeSpaces(startMutation.oldValue)\n      const newString = normalizeSpaces(endMutation.target.data)\n      const summarized = summarizeStringChange(oldString, newString)\n      added = summarized.added\n      removed = summarized.removed\n    }\n\n    return {\n      additions: added ? [ added ] : [],\n      deletions: removed ? [ removed ] : [],\n    }\n  }\n}\n\nconst getTextForNodes = function(nodes = []) {\n  const text = []\n  for (const node of Array.from(nodes)) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        text.push(node.data)\n        break\n      case Node.ELEMENT_NODE:\n        if (tagName(node) === \"br\") {\n          text.push(\"\\n\")\n        } else {\n          text.push(...Array.from(getTextForNodes(node.childNodes) || []))\n        }\n        break\n    }\n  }\n  return text\n}\n", "/* eslint-disable\n    no-empty,\n*/\nimport Operation from \"trix/core/utilities/operation\"\n\nexport default class FileVerificationOperation extends Operation {\n  constructor(file) {\n    super(...arguments)\n    this.file = file\n  }\n\n  perform(callback) {\n    const reader = new FileReader()\n\n    reader.onerror = () => callback(false)\n\n    reader.onload = () => {\n      reader.onerror = null\n      try {\n        reader.abort()\n      } catch (error) {}\n      return callback(true, this.file)\n    }\n\n    return reader.readAsArrayBuffer(this.file)\n  }\n}\n", "import * as config from \"trix/config\"\nimport { NON_BREAKING_SPACE, OBJECT_REPLACEMENT_CHARACTER, ZERO_WIDTH_SPACE } from \"trix/constants\"\n\n// Each software keyboard on Android emits its own set of events and some of them can be buggy.\n// This class detects when some buggy events are being emitted and lets know the input controller\n// that they should be ignored.\nexport default class FlakyAndroidKeyboardDetector {\n  constructor(element) {\n    this.element = element\n  }\n\n  shouldIgnore(event) {\n    if (!config.browser.samsungAndroid) return false\n\n    this.previousEvent = this.event\n    this.event = event\n\n    this.checkSamsungKeyboardBuggyModeStart()\n    this.checkSamsungKeyboardBuggyModeEnd()\n\n    return this.buggyMode\n  }\n\n  // private\n\n  // The Samsung keyboard on Android can enter a buggy state in which it emits a flurry of confused events that,\n  // if processed, corrupts the editor. The buggy mode always starts with an insertText event, right after a\n  // keydown event with for an \"Unidentified\" key, with the same text as the editor element, except for a few\n  // extra whitespace, or exotic utf8, characters.\n  checkSamsungKeyboardBuggyModeStart() {\n    if (this.insertingLongTextAfterUnidentifiedChar() && differsInWhitespace(this.element.innerText, this.event.data)) {\n      this.buggyMode = true\n      this.event.preventDefault()\n    }\n  }\n\n  // The flurry of buggy events are always insertText. If we see any other type, it means it's over.\n  checkSamsungKeyboardBuggyModeEnd() {\n    if (this.buggyMode && this.event.inputType !== \"insertText\") {\n      this.buggyMode = false\n    }\n  }\n\n  insertingLongTextAfterUnidentifiedChar() {\n    return this.isBeforeInputInsertText() && this.previousEventWasUnidentifiedKeydown() && this.event.data?.length > 50\n  }\n\n  isBeforeInputInsertText() {\n    return this.event.type === \"beforeinput\" && this.event.inputType === \"insertText\"\n  }\n\n  previousEventWasUnidentifiedKeydown() {\n    return this.previousEvent?.type === \"keydown\" && this.previousEvent?.key === \"Unidentified\"\n  }\n}\n\nconst differsInWhitespace = (text1, text2) => {\n  return normalize(text1) === normalize(text2)\n}\n\nconst whiteSpaceNormalizerRegexp = new RegExp(`(${OBJECT_REPLACEMENT_CHARACTER}|${ZERO_WIDTH_SPACE}|${NON_BREAKING_SPACE}|\\\\s)+`, \"g\")\nconst normalize = (text) => text.replace(whiteSpaceNormalizerRegexp, \" \").trim()\n", "import BasicObject from \"trix/core/basic_object\"\nimport MutationObserver from \"trix/observers/mutation_observer\"\nimport FileVerificationOperation from \"trix/operations/file_verification_operation\"\nimport FlakyAndroidKeyboardDetector from \"../models/flaky_android_keyboard_detector\"\n\nimport { handleEvent, innerElementIsActive } from \"trix/core/helpers\"\n\nexport default class InputController extends BasicObject {\n\n  static events = {}\n\n  constructor(element) {\n    super(...arguments)\n    this.element = element\n    this.mutationObserver = new MutationObserver(this.element)\n    this.mutationObserver.delegate = this\n    this.flakyKeyboardDetector = new FlakyAndroidKeyboardDetector(this.element)\n    for (const eventName in this.constructor.events) {\n      handleEvent(eventName, { onElement: this.element, withCallback: this.handlerFor(eventName) })\n    }\n  }\n\n  elementDidMutate(mutationSummary) {}\n\n  editorWillSyncDocumentView() {\n    return this.mutationObserver.stop()\n  }\n\n  editorDidSyncDocumentView() {\n    return this.mutationObserver.start()\n  }\n\n  requestRender() {\n    return this.delegate?.inputControllerDidRequestRender?.()\n  }\n\n  requestReparse() {\n    this.delegate?.inputControllerDidRequestReparse?.()\n    return this.requestRender()\n  }\n\n  attachFiles(files) {\n    const operations = Array.from(files).map((file) => new FileVerificationOperation(file))\n    return Promise.all(operations).then((files) => {\n      this.handleInput(function() {\n        this.delegate?.inputControllerWillAttachFiles()\n        this.responder?.insertFiles(files)\n        return this.requestRender()\n      })\n    })\n  }\n\n  // Private\n\n  handlerFor(eventName) {\n    return (event) => {\n      if (!event.defaultPrevented) {\n        this.handleInput(() => {\n          if (!innerElementIsActive(this.element)) {\n            if (this.flakyKeyboardDetector.shouldIgnore(event)) return\n\n            this.eventName = eventName\n            this.constructor.events[eventName].call(this, event)\n          }\n        })\n      }\n    }\n  }\n\n  handleInput(callback) {\n    try {\n      this.delegate?.inputControllerWillHandleInput()\n      callback.call(this)\n    } finally {\n      this.delegate?.inputControllerDidHandleInput()\n    }\n  }\n\n  createLinkHTML(href, text) {\n    const link = document.createElement(\"a\")\n    link.href = href\n    link.textContent = text ? text : href\n    return link.outerHTML\n  }\n}\n\n", "import * as config from \"trix/config\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\nimport BasicObject from \"trix/core/basic_object\"\nimport InputController from \"trix/controllers/input_controller\"\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\n\nimport {\n  dataTransferIsPlainText,\n  dataTransferIsWritable,\n  keyEventIsKeyboardCommand,\n  makeElement,\n  objectsAreEqual,\n  removeNode,\n  squishBreakableWhitespace,\n} from \"trix/core/helpers\"\n\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nconst { browser, keyNames } = config\nlet pastedFileCount = 0\n\nexport default class Level0InputController extends InputController {\n\n  static events = {\n    keydown(event) {\n      if (!this.isComposing()) {\n        this.resetInputSummary()\n      }\n      this.inputSummary.didInput = true\n\n      const keyName = keyNames[event.keyCode]\n      if (keyName) {\n        let context = this.keys\n\n        ;[ \"ctrl\", \"alt\", \"shift\", \"meta\" ].forEach((modifier) => {\n          if (event[`${modifier}Key`]) {\n            if (modifier === \"ctrl\") {\n              modifier = \"control\"\n            }\n            context = context?.[modifier]\n          }\n        })\n\n        if (context?.[keyName] != null) {\n          this.setInputSummary({ keyName })\n          selectionChangeObserver.reset()\n          context[keyName].call(this, event)\n        }\n      }\n\n      if (keyEventIsKeyboardCommand(event)) {\n        const character = String.fromCharCode(event.keyCode).toLowerCase()\n        if (character) {\n          const keys = [ \"alt\", \"shift\" ].map((modifier) => {\n            if (event[`${modifier}Key`]) {\n              return modifier\n            }\n          }).filter(key => key)\n          keys.push(character)\n          if (this.delegate?.inputControllerDidReceiveKeyboardCommand(keys)) {\n            event.preventDefault()\n          }\n        }\n      }\n    },\n\n    keypress(event) {\n      if (this.inputSummary.eventName != null) return\n      if (event.metaKey) return\n      if (event.ctrlKey && !event.altKey) return\n\n      const string = stringFromKeyEvent(event)\n      if (string) {\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(string)\n        return this.setInputSummary({ textAdded: string, didDelete: this.selectionIsExpanded() })\n      }\n    },\n\n    textInput(event) {\n      // Handle autocapitalization\n      const { data } = event\n      const { textAdded } = this.inputSummary\n      if (textAdded && textAdded !== data && textAdded.toUpperCase() === data) {\n        const range = this.getSelectedRange()\n        this.setSelectedRange([ range[0], range[1] + textAdded.length ])\n        this.responder?.insertString(data)\n        this.setInputSummary({ textAdded: data })\n        return this.setSelectedRange(range)\n      }\n    },\n\n    dragenter(event) {\n      event.preventDefault()\n    },\n\n    dragstart(event) {\n      this.serializeSelectionToDataTransfer(event.dataTransfer)\n      this.draggedRange = this.getSelectedRange()\n      return this.delegate?.inputControllerDidStartDrag?.()\n    },\n\n    dragover(event) {\n      if (this.draggedRange || this.canAcceptDataTransfer(event.dataTransfer)) {\n        event.preventDefault()\n        const draggingPoint = { x: event.clientX, y: event.clientY }\n        if (!objectsAreEqual(draggingPoint, this.draggingPoint)) {\n          this.draggingPoint = draggingPoint\n          return this.delegate?.inputControllerDidReceiveDragOverPoint?.(this.draggingPoint)\n        }\n      }\n    },\n\n    dragend(event) {\n      this.delegate?.inputControllerDidCancelDrag?.()\n      this.draggedRange = null\n      this.draggingPoint = null\n    },\n\n    drop(event) {\n      event.preventDefault()\n      const files = event.dataTransfer?.files\n      const documentJSON = event.dataTransfer.getData(\"application/x-trix-document\")\n\n      const point = { x: event.clientX, y: event.clientY }\n      this.responder?.setLocationRangeFromPointRange(point)\n\n      if (files?.length) {\n        this.attachFiles(files)\n      } else if (this.draggedRange) {\n        this.delegate?.inputControllerWillMoveText()\n        this.responder?.moveTextFromRange(this.draggedRange)\n        this.draggedRange = null\n        this.requestRender()\n      } else if (documentJSON) {\n        const document = Document.fromJSONString(documentJSON)\n        this.responder?.insertDocument(document)\n        this.requestRender()\n      }\n\n      this.draggedRange = null\n      this.draggingPoint = null\n    },\n\n    cut(event) {\n      if (this.responder?.selectionIsExpanded()) {\n        if (this.serializeSelectionToDataTransfer(event.clipboardData)) {\n          event.preventDefault()\n        }\n\n        this.delegate?.inputControllerWillCutText()\n        this.deleteInDirection(\"backward\")\n        if (event.defaultPrevented) {\n          return this.requestRender()\n        }\n      }\n    },\n\n    copy(event) {\n      if (this.responder?.selectionIsExpanded()) {\n        if (this.serializeSelectionToDataTransfer(event.clipboardData)) {\n          event.preventDefault()\n        }\n      }\n    },\n\n    paste(event) {\n      const clipboard = event.clipboardData || event.testClipboardData\n      const paste = { clipboard }\n\n      if (!clipboard || pasteEventIsCrippledSafariHTMLPaste(event)) {\n        this.getPastedHTMLUsingHiddenElement((html) => {\n          paste.type = \"text/html\"\n          paste.html = html\n          this.delegate?.inputControllerWillPaste(paste)\n          this.responder?.insertHTML(paste.html)\n          this.requestRender()\n          return this.delegate?.inputControllerDidPaste(paste)\n        })\n        return\n      }\n\n      const href = clipboard.getData(\"URL\")\n      const html = clipboard.getData(\"text/html\")\n      const name = clipboard.getData(\"public.url-name\")\n\n      if (href) {\n        let string\n        paste.type = \"text/html\"\n        if (name) {\n          string = squishBreakableWhitespace(name).trim()\n        } else {\n          string = href\n        }\n        paste.html = this.createLinkHTML(href, string)\n        this.delegate?.inputControllerWillPaste(paste)\n        this.setInputSummary({ textAdded: string, didDelete: this.selectionIsExpanded() })\n        this.responder?.insertHTML(paste.html)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (dataTransferIsPlainText(clipboard)) {\n        paste.type = \"text/plain\"\n        paste.string = clipboard.getData(\"text/plain\")\n        this.delegate?.inputControllerWillPaste(paste)\n        this.setInputSummary({ textAdded: paste.string, didDelete: this.selectionIsExpanded() })\n        this.responder?.insertString(paste.string)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (html) {\n        paste.type = \"text/html\"\n        paste.html = html\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertHTML(paste.html)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (Array.from(clipboard.types).includes(\"Files\")) {\n        const file = clipboard.items?.[0]?.getAsFile?.()\n        if (file) {\n          const extension = extensionForFile(file)\n          if (!file.name && extension) {\n            file.name = `pasted-file-${++pastedFileCount}.${extension}`\n          }\n          paste.type = \"File\"\n          paste.file = file\n          this.delegate?.inputControllerWillAttachFiles()\n          this.responder?.insertFile(paste.file)\n          this.requestRender()\n          this.delegate?.inputControllerDidPaste(paste)\n        }\n      }\n\n      event.preventDefault()\n    },\n\n    compositionstart(event) {\n      return this.getCompositionInput().start(event.data)\n    },\n\n    compositionupdate(event) {\n      return this.getCompositionInput().update(event.data)\n    },\n\n    compositionend(event) {\n      return this.getCompositionInput().end(event.data)\n    },\n\n    beforeinput(event) {\n      this.inputSummary.didInput = true\n    },\n\n    input(event) {\n      this.inputSummary.didInput = true\n      return event.stopPropagation()\n    },\n  }\n\n  static keys = {\n    backspace(event) {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.deleteInDirection(\"backward\", event)\n    },\n\n    delete(event) {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.deleteInDirection(\"forward\", event)\n    },\n\n    return(event) {\n      this.setInputSummary({ preferDocument: true })\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.responder?.insertLineBreak()\n    },\n\n    tab(event) {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        this.responder?.increaseNestingLevel()\n        this.requestRender()\n        event.preventDefault()\n      }\n    },\n\n    left(event) {\n      if (this.selectionIsInCursorTarget()) {\n        event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"backward\")\n      }\n    },\n\n    right(event) {\n      if (this.selectionIsInCursorTarget()) {\n        event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"forward\")\n      }\n    },\n\n    control: {\n      d(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        return this.deleteInDirection(\"forward\", event)\n      },\n\n      h(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        return this.deleteInDirection(\"backward\", event)\n      },\n\n      o(event) {\n        event.preventDefault()\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(\"\\n\", { updatePosition: false })\n        return this.requestRender()\n      },\n    },\n\n    shift: {\n      return(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(\"\\n\")\n        this.requestRender()\n        event.preventDefault()\n      },\n\n      tab(event) {\n        if (this.responder?.canDecreaseNestingLevel()) {\n          this.responder?.decreaseNestingLevel()\n          this.requestRender()\n          event.preventDefault()\n        }\n      },\n\n      left(event) {\n        if (this.selectionIsInCursorTarget()) {\n          event.preventDefault()\n          return this.expandSelectionInDirection(\"backward\")\n        }\n      },\n\n      right(event) {\n        if (this.selectionIsInCursorTarget()) {\n          event.preventDefault()\n          return this.expandSelectionInDirection(\"forward\")\n        }\n      },\n    },\n\n    alt: {\n      backspace(event) {\n        this.setInputSummary({ preferDocument: false })\n        return this.delegate?.inputControllerWillPerformTyping()\n      },\n    },\n\n    meta: {\n      backspace(event) {\n        this.setInputSummary({ preferDocument: false })\n        return this.delegate?.inputControllerWillPerformTyping()\n      },\n    },\n  }\n\n  constructor() {\n    super(...arguments)\n    this.resetInputSummary()\n  }\n\n  setInputSummary(summary = {}) {\n    this.inputSummary.eventName = this.eventName\n    for (const key in summary) {\n      const value = summary[key]\n      this.inputSummary[key] = value\n    }\n    return this.inputSummary\n  }\n\n  resetInputSummary() {\n    this.inputSummary = {}\n  }\n\n  reset() {\n    this.resetInputSummary()\n    return selectionChangeObserver.reset()\n  }\n\n  // Mutation observer delegate\n\n  elementDidMutate(mutationSummary) {\n    if (this.isComposing()) {\n      return this.delegate?.inputControllerDidAllowUnhandledInput?.()\n    } else {\n      return this.handleInput(function() {\n        if (this.mutationIsSignificant(mutationSummary)) {\n          if (this.mutationIsExpected(mutationSummary)) {\n            this.requestRender()\n          } else {\n            this.requestReparse()\n          }\n        }\n        return this.reset()\n      })\n    }\n  }\n\n  mutationIsExpected({ textAdded, textDeleted }) {\n    if (this.inputSummary.preferDocument) {\n      return true\n    }\n\n    const mutationAdditionMatchesSummary =\n      textAdded != null ? textAdded === this.inputSummary.textAdded : !this.inputSummary.textAdded\n    const mutationDeletionMatchesSummary =\n      textDeleted != null ? this.inputSummary.didDelete : !this.inputSummary.didDelete\n\n    const unexpectedNewlineAddition = [ \"\\n\", \" \\n\" ].includes(textAdded) && !mutationAdditionMatchesSummary\n    const unexpectedNewlineDeletion = textDeleted === \"\\n\" && !mutationDeletionMatchesSummary\n    const singleUnexpectedNewline =\n      unexpectedNewlineAddition && !unexpectedNewlineDeletion ||\n      unexpectedNewlineDeletion && !unexpectedNewlineAddition\n\n    if (singleUnexpectedNewline) {\n      const range = this.getSelectedRange()\n      if (range) {\n        const offset = unexpectedNewlineAddition ? textAdded.replace(/\\n$/, \"\").length || -1 : textAdded?.length || 1\n        if (this.responder?.positionIsBlockBreak(range[1] + offset)) {\n          return true\n        }\n      }\n    }\n\n    return mutationAdditionMatchesSummary && mutationDeletionMatchesSummary\n  }\n\n  mutationIsSignificant(mutationSummary) {\n    const textChanged = Object.keys(mutationSummary).length > 0\n    const composedEmptyString = this.compositionInput?.getEndData() === \"\"\n    return textChanged || !composedEmptyString\n  }\n\n  // Private\n\n  getCompositionInput() {\n    if (this.isComposing()) {\n      return this.compositionInput\n    } else {\n      this.compositionInput = new CompositionInput(this)\n    }\n  }\n\n  isComposing() {\n    return this.compositionInput && !this.compositionInput.isEnded()\n  }\n\n  deleteInDirection(direction, event) {\n    if (this.responder?.deleteInDirection(direction) === false) {\n      if (event) {\n        event.preventDefault()\n        return this.requestRender()\n      }\n    } else {\n      return this.setInputSummary({ didDelete: true })\n    }\n  }\n\n  serializeSelectionToDataTransfer(dataTransfer) {\n    if (!dataTransferIsWritable(dataTransfer)) return\n    const document = this.responder?.getSelectedDocument().toSerializableDocument()\n\n    dataTransfer.setData(\"application/x-trix-document\", JSON.stringify(document))\n    dataTransfer.setData(\"text/html\", DocumentView.render(document).innerHTML)\n    dataTransfer.setData(\"text/plain\", document.toString().replace(/\\n$/, \"\"))\n    return true\n  }\n\n  canAcceptDataTransfer(dataTransfer) {\n    const types = {}\n    Array.from(dataTransfer?.types || []).forEach((type) => {\n      types[type] = true\n    })\n    return types.Files || types[\"application/x-trix-document\"] || types[\"text/html\"] || types[\"text/plain\"]\n  }\n\n  getPastedHTMLUsingHiddenElement(callback) {\n    const selectedRange = this.getSelectedRange()\n\n    const style = {\n      position: \"absolute\",\n      left: `${window.pageXOffset}px`,\n      top: `${window.pageYOffset}px`,\n      opacity: 0,\n    }\n\n    const element = makeElement({ style, tagName: \"div\", editable: true })\n    document.body.appendChild(element)\n    element.focus()\n\n    return requestAnimationFrame(() => {\n      const html = element.innerHTML\n      removeNode(element)\n      this.setSelectedRange(selectedRange)\n      return callback(html)\n    })\n  }\n}\n\nLevel0InputController.proxyMethod(\"responder?.getSelectedRange\")\nLevel0InputController.proxyMethod(\"responder?.setSelectedRange\")\nLevel0InputController.proxyMethod(\"responder?.expandSelectionInDirection\")\nLevel0InputController.proxyMethod(\"responder?.selectionIsInCursorTarget\")\nLevel0InputController.proxyMethod(\"responder?.selectionIsExpanded\")\n\nconst extensionForFile = (file) => file.type?.match(/\\/(\\w+)$/)?.[1]\n\nconst hasStringCodePointAt = !!\" \".codePointAt?.(0)\n\nconst stringFromKeyEvent = function(event) {\n  if (event.key && hasStringCodePointAt && event.key.codePointAt(0) === event.keyCode) {\n    return event.key\n  } else {\n    let code\n    if (event.which === null) {\n      code = event.keyCode\n    } else if (event.which !== 0 && event.charCode !== 0) {\n      code = event.charCode\n    }\n\n    if (code != null && keyNames[code] !== \"escape\") {\n      return UTF16String.fromCodepoints([ code ]).toString()\n    }\n  }\n}\n\nconst pasteEventIsCrippledSafariHTMLPaste = function(event) {\n  const paste = event.clipboardData\n  if (paste) {\n    if (paste.types.includes(\"text/html\")) {\n      // Answer is yes if there's any possibility of Paste and Match Style in Safari,\n      // which is nearly impossible to detect confidently: https://bugs.webkit.org/show_bug.cgi?id=174165\n      for (const type of paste.types) {\n        const hasPasteboardFlavor = /^CorePasteboardFlavorType/.test(type)\n        const hasReadableDynamicData = /^dyn\\./.test(type) && paste.getData(type)\n        const mightBePasteAndMatchStyle = hasPasteboardFlavor || hasReadableDynamicData\n        if (mightBePasteAndMatchStyle) {\n          return true\n        }\n      }\n      return false\n    } else {\n      const isExternalHTMLPaste = paste.types.includes(\"com.apple.webarchive\")\n      const isExternalRichTextPaste = paste.types.includes(\"com.apple.flat-rtfd\")\n      return isExternalHTMLPaste || isExternalRichTextPaste\n    }\n  }\n}\n\nclass CompositionInput extends BasicObject {\n  constructor(inputController) {\n    super(...arguments)\n    this.inputController = inputController\n    this.responder = this.inputController.responder\n    this.delegate = this.inputController.delegate\n    this.inputSummary = this.inputController.inputSummary\n    this.data = {}\n  }\n\n  start(data) {\n    this.data.start = data\n\n    if (this.isSignificant()) {\n      if (this.inputSummary.eventName === \"keypress\" && this.inputSummary.textAdded) {\n        this.responder?.deleteInDirection(\"left\")\n      }\n\n      if (!this.selectionIsExpanded()) {\n        this.insertPlaceholder()\n        this.requestRender()\n      }\n\n      this.range = this.responder?.getSelectedRange()\n    }\n  }\n\n  update(data) {\n    this.data.update = data\n\n    if (this.isSignificant()) {\n      const range = this.selectPlaceholder()\n      if (range) {\n        this.forgetPlaceholder()\n        this.range = range\n      }\n    }\n  }\n\n  end(data) {\n    this.data.end = data\n\n    if (this.isSignificant()) {\n      this.forgetPlaceholder()\n\n      if (this.canApplyToDocument()) {\n        this.setInputSummary({ preferDocument: true, didInput: false })\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.setSelectedRange(this.range)\n        this.responder?.insertString(this.data.end)\n        return this.responder?.setSelectedRange(this.range[0] + this.data.end.length)\n      } else if (this.data.start != null || this.data.update != null) {\n        this.requestReparse()\n        return this.inputController.reset()\n      }\n    } else {\n      return this.inputController.reset()\n    }\n  }\n\n  getEndData() {\n    return this.data.end\n  }\n\n  isEnded() {\n    return this.getEndData() != null\n  }\n\n  isSignificant() {\n    if (browser.composesExistingText) {\n      return this.inputSummary.didInput\n    } else {\n      return true\n    }\n  }\n\n  // Private\n\n  canApplyToDocument() {\n    return this.data.start?.length === 0 && this.data.end?.length > 0 && this.range\n  }\n}\n\nCompositionInput.proxyMethod(\"inputController.setInputSummary\")\nCompositionInput.proxyMethod(\"inputController.requestRender\")\nCompositionInput.proxyMethod(\"inputController.requestReparse\")\nCompositionInput.proxyMethod(\"responder?.selectionIsExpanded\")\nCompositionInput.proxyMethod(\"responder?.insertPlaceholder\")\nCompositionInput.proxyMethod(\"responder?.selectPlaceholder\")\nCompositionInput.proxyMethod(\"responder?.forgetPlaceholder\")\n", "import { getAllAttributeNames, shouldRenderInmmediatelyToDealWithIOSDictation, squishBreakableWhitespace } from \"trix/core/helpers\"\nimport InputController from \"trix/controllers/input_controller\"\nimport * as config from \"trix/config\"\n\nimport { dataTransferIsMsOfficePaste, dataTransferIsPlainText, keyEventIsKeyboardCommand, objectsAreEqual } from \"trix/core/helpers\"\n\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nexport default class Level2InputController extends InputController {\n  constructor(...args) {\n    super(...args)\n    this.render = this.render.bind(this)\n  }\n\n  static events = {\n    keydown(event) {\n      if (keyEventIsKeyboardCommand(event)) {\n        const command = keyboardCommandFromKeyEvent(event)\n        if (this.delegate?.inputControllerDidReceiveKeyboardCommand(command)) {\n          event.preventDefault()\n        }\n      } else {\n        let name = event.key\n        if (event.altKey) {\n          name += \"+Alt\"\n        }\n        if (event.shiftKey) {\n          name += \"+Shift\"\n        }\n        const handler = this.constructor.keys[name]\n        if (handler) {\n          return this.withEvent(event, handler)\n        }\n      }\n    },\n\n    // Handle paste event to work around beforeinput.insertFromPaste browser bugs.\n    // Safe to remove each condition once fixed upstream.\n    paste(event) {\n      // https://bugs.webkit.org/show_bug.cgi?id=194921\n      let paste\n      const href = event.clipboardData?.getData(\"URL\")\n      if (pasteEventHasFilesOnly(event)) {\n        event.preventDefault()\n        return this.attachFiles(event.clipboardData.files)\n\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=934448\n      } else if (pasteEventHasPlainTextOnly(event)) {\n        event.preventDefault()\n        paste = {\n          type: \"text/plain\",\n          string: event.clipboardData.getData(\"text/plain\"),\n        }\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertString(paste.string)\n        this.render()\n        return this.delegate?.inputControllerDidPaste(paste)\n\n        // https://bugs.webkit.org/show_bug.cgi?id=196702\n      } else if (href) {\n        event.preventDefault()\n        paste = {\n          type: \"text/html\",\n          html: this.createLinkHTML(href),\n        }\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertHTML(paste.html)\n        this.render()\n        return this.delegate?.inputControllerDidPaste(paste)\n      }\n    },\n\n    beforeinput(event) {\n      const handler = this.constructor.inputTypes[event.inputType]\n\n      const immmediateRender = shouldRenderInmmediatelyToDealWithIOSDictation(event)\n\n      if (handler) {\n        this.withEvent(event, handler)\n\n        if (!immmediateRender) {\n          this.scheduleRender()\n        }\n      }\n\n      if (immmediateRender) {\n        this.render()\n      }\n    },\n\n    input(event) {\n      selectionChangeObserver.reset()\n    },\n\n    dragstart(event) {\n      if (this.responder?.selectionContainsAttachments()) {\n        event.dataTransfer.setData(\"application/x-trix-dragging\", true)\n\n        this.dragging = {\n          range: this.responder?.getSelectedRange(),\n          point: pointFromEvent(event),\n        }\n      }\n    },\n\n    dragenter(event) {\n      if (dragEventHasFiles(event)) {\n        event.preventDefault()\n      }\n    },\n\n    dragover(event) {\n      if (this.dragging) {\n        event.preventDefault()\n        const point = pointFromEvent(event)\n        if (!objectsAreEqual(point, this.dragging.point)) {\n          this.dragging.point = point\n          return this.responder?.setLocationRangeFromPointRange(point)\n        }\n      } else if (dragEventHasFiles(event)) {\n        event.preventDefault()\n      }\n    },\n\n    drop(event) {\n      if (this.dragging) {\n        event.preventDefault()\n        this.delegate?.inputControllerWillMoveText()\n        this.responder?.moveTextFromRange(this.dragging.range)\n        this.dragging = null\n        return this.scheduleRender()\n      } else if (dragEventHasFiles(event)) {\n        event.preventDefault()\n        const point = pointFromEvent(event)\n        this.responder?.setLocationRangeFromPointRange(point)\n        return this.attachFiles(event.dataTransfer.files)\n      }\n    },\n\n    dragend() {\n      if (this.dragging) {\n        this.responder?.setSelectedRange(this.dragging.range)\n        this.dragging = null\n      }\n    },\n\n    compositionend(event) {\n      if (this.composing) {\n        this.composing = false\n        if (!config.browser.recentAndroid) this.scheduleRender()\n      }\n    },\n  }\n\n  static keys = {\n    ArrowLeft() {\n      if (this.responder?.shouldManageMovingCursorInDirection(\"backward\")) {\n        this.event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"backward\")\n      }\n    },\n\n    ArrowRight() {\n      if (this.responder?.shouldManageMovingCursorInDirection(\"forward\")) {\n        this.event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"forward\")\n      }\n    },\n\n    Backspace() {\n      if (this.responder?.shouldManageDeletingInDirection(\"backward\")) {\n        this.event.preventDefault()\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.deleteInDirection(\"backward\")\n        return this.render()\n      }\n    },\n\n    Tab() {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        this.event.preventDefault()\n        this.responder?.increaseNestingLevel()\n        return this.render()\n      }\n    },\n\n    \"Tab+Shift\"() {\n      if (this.responder?.canDecreaseNestingLevel()) {\n        this.event.preventDefault()\n        this.responder?.decreaseNestingLevel()\n        return this.render()\n      }\n    },\n  }\n\n  static inputTypes = {\n    deleteByComposition() {\n      return this.deleteInDirection(\"backward\", { recordUndoEntry: false })\n    },\n\n    deleteByCut() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteByDrag() {\n      this.event.preventDefault()\n      return this.withTargetDOMRange(function() {\n        this.deleteByDragRange = this.responder?.getSelectedRange()\n      })\n    },\n\n    deleteCompositionText() {\n      return this.deleteInDirection(\"backward\", { recordUndoEntry: false })\n    },\n\n    deleteContent() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteContentBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteContentForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteEntireSoftLine() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteHardLineBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteHardLineForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteSoftLineBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteSoftLineForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteWordBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteWordForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    formatBackColor() {\n      return this.activateAttributeIfSupported(\"backgroundColor\", this.event.data)\n    },\n\n    formatBold() {\n      return this.toggleAttributeIfSupported(\"bold\")\n    },\n\n    formatFontColor() {\n      return this.activateAttributeIfSupported(\"color\", this.event.data)\n    },\n\n    formatFontName() {\n      return this.activateAttributeIfSupported(\"font\", this.event.data)\n    },\n\n    formatIndent() {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        return this.withTargetDOMRange(function() {\n          return this.responder?.increaseNestingLevel()\n        })\n      }\n    },\n\n    formatItalic() {\n      return this.toggleAttributeIfSupported(\"italic\")\n    },\n\n    formatJustifyCenter() {\n      return this.toggleAttributeIfSupported(\"justifyCenter\")\n    },\n\n    formatJustifyFull() {\n      return this.toggleAttributeIfSupported(\"justifyFull\")\n    },\n\n    formatJustifyLeft() {\n      return this.toggleAttributeIfSupported(\"justifyLeft\")\n    },\n\n    formatJustifyRight() {\n      return this.toggleAttributeIfSupported(\"justifyRight\")\n    },\n\n    formatOutdent() {\n      if (this.responder?.canDecreaseNestingLevel()) {\n        return this.withTargetDOMRange(function() {\n          return this.responder?.decreaseNestingLevel()\n        })\n      }\n    },\n\n    formatRemove() {\n      this.withTargetDOMRange(function() {\n        for (const attributeName in this.responder?.getCurrentAttributes()) {\n          this.responder?.removeCurrentAttribute(attributeName)\n        }\n      })\n    },\n\n    formatSetBlockTextDirection() {\n      return this.activateAttributeIfSupported(\"blockDir\", this.event.data)\n    },\n\n    formatSetInlineTextDirection() {\n      return this.activateAttributeIfSupported(\"textDir\", this.event.data)\n    },\n\n    formatStrikeThrough() {\n      return this.toggleAttributeIfSupported(\"strike\")\n    },\n\n    formatSubscript() {\n      return this.toggleAttributeIfSupported(\"sub\")\n    },\n\n    formatSuperscript() {\n      return this.toggleAttributeIfSupported(\"sup\")\n    },\n\n    formatUnderline() {\n      return this.toggleAttributeIfSupported(\"underline\")\n    },\n\n    historyRedo() {\n      return this.delegate?.inputControllerWillPerformRedo()\n    },\n\n    historyUndo() {\n      return this.delegate?.inputControllerWillPerformUndo()\n    },\n\n    insertCompositionText() {\n      this.composing = true\n      return this.insertString(this.event.data)\n    },\n\n    insertFromComposition() {\n      this.composing = false\n      return this.insertString(this.event.data)\n    },\n\n    insertFromDrop() {\n      const range = this.deleteByDragRange\n      if (range) {\n        this.deleteByDragRange = null\n        this.delegate?.inputControllerWillMoveText()\n        return this.withTargetDOMRange(function() {\n          return this.responder?.moveTextFromRange(range)\n        })\n      }\n    },\n\n    insertFromPaste() {\n      const { dataTransfer } = this.event\n      const paste = { dataTransfer }\n\n      const href = dataTransfer.getData(\"URL\")\n      const html = dataTransfer.getData(\"text/html\")\n\n      if (href) {\n        let string\n        this.event.preventDefault()\n        paste.type = \"text/html\"\n        const name = dataTransfer.getData(\"public.url-name\")\n        if (name) {\n          string = squishBreakableWhitespace(name).trim()\n        } else {\n          string = href\n        }\n        paste.html = this.createLinkHTML(href, string)\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertHTML(paste.html)\n        })\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (dataTransferIsPlainText(dataTransfer)) {\n        paste.type = \"text/plain\"\n        paste.string = dataTransfer.getData(\"text/plain\")\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertString(paste.string)\n        })\n\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (processableFilePaste(this.event)) {\n        paste.type = \"File\"\n        paste.file = dataTransfer.files[0]\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertFile(paste.file)\n        })\n\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (html) {\n        this.event.preventDefault()\n        paste.type = \"text/html\"\n        paste.html = html\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertHTML(paste.html)\n        })\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      }\n    },\n\n    insertFromYank() {\n      return this.insertString(this.event.data)\n    },\n\n    insertLineBreak() {\n      return this.insertString(\"\\n\")\n    },\n\n    insertLink() {\n      return this.activateAttributeIfSupported(\"href\", this.event.data)\n    },\n\n    insertOrderedList() {\n      return this.toggleAttributeIfSupported(\"number\")\n    },\n\n    insertParagraph() {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.withTargetDOMRange(function() {\n        return this.responder?.insertLineBreak()\n      })\n    },\n\n    insertReplacementText() {\n      const replacement = this.event.dataTransfer.getData(\"text/plain\")\n      const domRange = this.event.getTargetRanges()[0]\n\n      this.withTargetDOMRange(domRange, () => {\n        this.insertString(replacement, { updatePosition: false })\n      })\n    },\n\n    insertText() {\n      return this.insertString(this.event.data || this.event.dataTransfer?.getData(\"text/plain\"))\n    },\n\n    insertTranspose() {\n      return this.insertString(this.event.data)\n    },\n\n    insertUnorderedList() {\n      return this.toggleAttributeIfSupported(\"bullet\")\n    },\n  }\n\n  elementDidMutate() {\n    if (this.scheduledRender) {\n      if (this.composing) {\n        return this.delegate?.inputControllerDidAllowUnhandledInput?.()\n      }\n    } else {\n      return this.reparse()\n    }\n  }\n\n  scheduleRender() {\n    return this.scheduledRender ? this.scheduledRender : this.scheduledRender = requestAnimationFrame(this.render)\n  }\n\n  render() {\n    cancelAnimationFrame(this.scheduledRender)\n    this.scheduledRender = null\n    if (!this.composing) {\n      this.delegate?.render()\n    }\n    this.afterRender?.()\n    this.afterRender = null\n  }\n\n  reparse() {\n    return this.delegate?.reparse()\n  }\n\n  // Responder helpers\n\n  insertString(string = \"\", options) {\n    this.delegate?.inputControllerWillPerformTyping()\n    return this.withTargetDOMRange(function() {\n      return this.responder?.insertString(string, options)\n    })\n  }\n\n  toggleAttributeIfSupported(attributeName) {\n    if (getAllAttributeNames().includes(attributeName)) {\n      this.delegate?.inputControllerWillPerformFormatting(attributeName)\n      return this.withTargetDOMRange(function() {\n        return this.responder?.toggleCurrentAttribute(attributeName)\n      })\n    }\n  }\n\n  activateAttributeIfSupported(attributeName, value) {\n    if (getAllAttributeNames().includes(attributeName)) {\n      this.delegate?.inputControllerWillPerformFormatting(attributeName)\n      return this.withTargetDOMRange(function() {\n        return this.responder?.setCurrentAttribute(attributeName, value)\n      })\n    }\n  }\n\n  deleteInDirection(direction, { recordUndoEntry } = { recordUndoEntry: true }) {\n    if (recordUndoEntry) {\n      this.delegate?.inputControllerWillPerformTyping()\n    }\n    const perform = () => this.responder?.deleteInDirection(direction)\n    const domRange = this.getTargetDOMRange({ minLength: this.composing ? 1 : 2 })\n    if (domRange) {\n      return this.withTargetDOMRange(domRange, perform)\n    } else {\n      return perform()\n    }\n  }\n\n  // Selection helpers\n\n  withTargetDOMRange(domRange, fn) {\n    if (typeof domRange === \"function\") {\n      fn = domRange\n      domRange = this.getTargetDOMRange()\n    }\n    if (domRange) {\n      return this.responder?.withTargetDOMRange(domRange, fn.bind(this))\n    } else {\n      selectionChangeObserver.reset()\n      return fn.call(this)\n    }\n  }\n\n  getTargetDOMRange({ minLength } = { minLength: 0 }) {\n    const targetRanges = this.event.getTargetRanges?.()\n    if (targetRanges) {\n      if (targetRanges.length) {\n        const domRange = staticRangeToRange(targetRanges[0])\n        if (minLength === 0 || domRange.toString().length >= minLength) {\n          return domRange\n        }\n      }\n    }\n  }\n\n  withEvent(event, fn) {\n    let result\n    this.event = event\n    try {\n      result = fn.call(this)\n    } finally {\n      this.event = null\n    }\n    return result\n  }\n}\n\nconst staticRangeToRange = function(staticRange) {\n  const range = document.createRange()\n  range.setStart(staticRange.startContainer, staticRange.startOffset)\n  range.setEnd(staticRange.endContainer, staticRange.endOffset)\n  return range\n}\n\n// Event helpers\n\nconst dragEventHasFiles = (event) => Array.from(event.dataTransfer?.types || []).includes(\"Files\")\n\nconst processableFilePaste = (event) => {\n  // Paste events that only have files are handled by the paste event handler,\n  // to work around Safari not supporting beforeinput.insertFromPaste for files.\n\n  // MS Office text pastes include a file with a screenshot of the text, but we should\n  // handle them as text pastes.\n  return event.dataTransfer.files?.[0] && !pasteEventHasFilesOnly(event) && !dataTransferIsMsOfficePaste(event)\n}\n\nconst pasteEventHasFilesOnly = function(event) {\n  const clipboard = event.clipboardData\n  if (clipboard) {\n    const fileTypes = Array.from(clipboard.types).filter((type) => type.match(/file/i)) // \"Files\", \"application/x-moz-file\"\n    return fileTypes.length === clipboard.types.length && clipboard.files.length >= 1\n  }\n}\n\nconst pasteEventHasPlainTextOnly = function(event) {\n  const clipboard = event.clipboardData\n  if (clipboard) {\n    return clipboard.types.includes(\"text/plain\") && clipboard.types.length === 1\n  }\n}\n\nconst keyboardCommandFromKeyEvent = function(event) {\n  const command = []\n  if (event.altKey) {\n    command.push(\"alt\")\n  }\n  if (event.shiftKey) {\n    command.push(\"shift\")\n  }\n  command.push(event.key)\n  return command\n}\n\nconst pointFromEvent = (event) => ({\n  x: event.clientX,\n  y: event.clientY,\n})\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport { findClosestElementFromNode, handleEvent, triggerEvent } from \"trix/core/helpers\"\n\nconst attributeButtonSelector = \"[data-trix-attribute]\"\nconst actionButtonSelector = \"[data-trix-action]\"\nconst toolbarButtonSelector = `${attributeButtonSelector}, ${actionButtonSelector}`\nconst dialogSelector = \"[data-trix-dialog]\"\nconst activeDialogSelector = `${dialogSelector}[data-trix-active]`\nconst dialogButtonSelector = `${dialogSelector} [data-trix-method]`\nconst dialogInputSelector = `${dialogSelector} [data-trix-input]`\nconst getInputForDialog = (element, attributeName) => {\n  if (!attributeName) { attributeName = getAttributeName(element) }\n  return element.querySelector(`[data-trix-input][name='${attributeName}']`)\n}\nconst getActionName = (element) => element.getAttribute(\"data-trix-action\")\nconst getAttributeName = (element) => {\n  return element.getAttribute(\"data-trix-attribute\") || element.getAttribute(\"data-trix-dialog-attribute\")\n}\nconst getDialogName = (element) => element.getAttribute(\"data-trix-dialog\")\n\nexport default class ToolbarController extends BasicObject {\n  constructor(element) {\n    super(element)\n    this.didClickActionButton = this.didClickActionButton.bind(this)\n    this.didClickAttributeButton = this.didClickAttributeButton.bind(this)\n    this.didClickDialogButton = this.didClickDialogButton.bind(this)\n    this.didKeyDownDialogInput = this.didKeyDownDialogInput.bind(this)\n    this.element = element\n    this.attributes = {}\n    this.actions = {}\n    this.resetDialogInputs()\n\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: actionButtonSelector,\n      withCallback: this.didClickActionButton,\n    })\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: attributeButtonSelector,\n      withCallback: this.didClickAttributeButton,\n    })\n    handleEvent(\"click\", { onElement: this.element, matchingSelector: toolbarButtonSelector, preventDefault: true })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: dialogButtonSelector,\n      withCallback: this.didClickDialogButton,\n    })\n    handleEvent(\"keydown\", {\n      onElement: this.element,\n      matchingSelector: dialogInputSelector,\n      withCallback: this.didKeyDownDialogInput,\n    })\n  }\n\n  // Event handlers\n\n  didClickActionButton(event, element) {\n    this.delegate?.toolbarDidClickButton()\n    event.preventDefault()\n    const actionName = getActionName(element)\n\n    if (this.getDialog(actionName)) {\n      return this.toggleDialog(actionName)\n    } else {\n      return this.delegate?.toolbarDidInvokeAction(actionName, element)\n    }\n  }\n\n  didClickAttributeButton(event, element) {\n    this.delegate?.toolbarDidClickButton()\n    event.preventDefault()\n    const attributeName = getAttributeName(element)\n\n    if (this.getDialog(attributeName)) {\n      this.toggleDialog(attributeName)\n    } else {\n      this.delegate?.toolbarDidToggleAttribute(attributeName)\n    }\n\n    return this.refreshAttributeButtons()\n  }\n\n  didClickDialogButton(event, element) {\n    const dialogElement = findClosestElementFromNode(element, { matchingSelector: dialogSelector })\n    const method = element.getAttribute(\"data-trix-method\")\n    return this[method].call(this, dialogElement)\n  }\n\n  didKeyDownDialogInput(event, element) {\n    if (event.keyCode === 13) {\n      // Enter key\n      event.preventDefault()\n      const attribute = element.getAttribute(\"name\")\n      const dialog = this.getDialog(attribute)\n      this.setAttribute(dialog)\n    }\n    if (event.keyCode === 27) {\n      // Escape key\n      event.preventDefault()\n      return this.hideDialog()\n    }\n  }\n\n  // Action buttons\n\n  updateActions(actions) {\n    this.actions = actions\n    return this.refreshActionButtons()\n  }\n\n  refreshActionButtons() {\n    return this.eachActionButton((element, actionName) => {\n      element.disabled = this.actions[actionName] === false\n    })\n  }\n\n  eachActionButton(callback) {\n    return Array.from(this.element.querySelectorAll(actionButtonSelector)).map((element) =>\n      callback(element, getActionName(element))\n    )\n  }\n\n  // Attribute buttons\n\n  updateAttributes(attributes) {\n    this.attributes = attributes\n    return this.refreshAttributeButtons()\n  }\n\n  refreshAttributeButtons() {\n    return this.eachAttributeButton((element, attributeName) => {\n      element.disabled = this.attributes[attributeName] === false\n      if (this.attributes[attributeName] || this.dialogIsVisible(attributeName)) {\n        element.setAttribute(\"data-trix-active\", \"\")\n        return element.classList.add(\"trix-active\")\n      } else {\n        element.removeAttribute(\"data-trix-active\")\n        return element.classList.remove(\"trix-active\")\n      }\n    })\n  }\n\n  eachAttributeButton(callback) {\n    return Array.from(this.element.querySelectorAll(attributeButtonSelector)).map((element) =>\n      callback(element, getAttributeName(element))\n    )\n  }\n\n  applyKeyboardCommand(keys) {\n    const keyString = JSON.stringify(keys.sort())\n    for (const button of Array.from(this.element.querySelectorAll(\"[data-trix-key]\"))) {\n      const buttonKeys = button.getAttribute(\"data-trix-key\").split(\"+\")\n      const buttonKeyString = JSON.stringify(buttonKeys.sort())\n      if (buttonKeyString === keyString) {\n        triggerEvent(\"mousedown\", { onElement: button })\n        return true\n      }\n    }\n    return false\n  }\n\n  // Dialogs\n\n  dialogIsVisible(dialogName) {\n    const element = this.getDialog(dialogName)\n    if (element) {\n      return element.hasAttribute(\"data-trix-active\")\n    }\n  }\n\n  toggleDialog(dialogName) {\n    if (this.dialogIsVisible(dialogName)) {\n      return this.hideDialog()\n    } else {\n      return this.showDialog(dialogName)\n    }\n  }\n\n  showDialog(dialogName) {\n    this.hideDialog()\n    this.delegate?.toolbarWillShowDialog()\n\n    const element = this.getDialog(dialogName)\n    element.setAttribute(\"data-trix-active\", \"\")\n    element.classList.add(\"trix-active\")\n\n    Array.from(element.querySelectorAll(\"input[disabled]\")).forEach((disabledInput) => {\n      disabledInput.removeAttribute(\"disabled\")\n    })\n\n    const attributeName = getAttributeName(element)\n    if (attributeName) {\n      const input = getInputForDialog(element, dialogName)\n      if (input) {\n        input.value = this.attributes[attributeName] || \"\"\n        input.select()\n      }\n    }\n\n    return this.delegate?.toolbarDidShowDialog(dialogName)\n  }\n\n  setAttribute(dialogElement) {\n    const attributeName = getAttributeName(dialogElement)\n    const input = getInputForDialog(dialogElement, attributeName)\n    if (input.willValidate && !input.checkValidity()) {\n      input.setAttribute(\"data-trix-validate\", \"\")\n      input.classList.add(\"trix-validate\")\n      return input.focus()\n    } else {\n      this.delegate?.toolbarDidUpdateAttribute(attributeName, input.value)\n      return this.hideDialog()\n    }\n  }\n\n  removeAttribute(dialogElement) {\n    const attributeName = getAttributeName(dialogElement)\n    this.delegate?.toolbarDidRemoveAttribute(attributeName)\n    return this.hideDialog()\n  }\n\n  hideDialog() {\n    const element = this.element.querySelector(activeDialogSelector)\n    if (element) {\n      element.removeAttribute(\"data-trix-active\")\n      element.classList.remove(\"trix-active\")\n      this.resetDialogInputs()\n      return this.delegate?.toolbarDidHideDialog(getDialogName(element))\n    }\n  }\n\n  resetDialogInputs() {\n    Array.from(this.element.querySelectorAll(dialogInputSelector)).forEach((input) => {\n      input.setAttribute(\"disabled\", \"disabled\")\n      input.removeAttribute(\"data-trix-validate\")\n      input.classList.remove(\"trix-validate\")\n    })\n  }\n\n  getDialog(dialogName) {\n    return this.element.querySelector(`[data-trix-dialog=${dialogName}]`)\n  }\n}\n", "/* eslint-disable\n    id-length,\n*/\nimport * as config from \"trix/config\"\n\nimport { serializeToContentType } from \"trix/core/serialization\"\n\nimport Controller from \"trix/controllers/controller\"\nimport Level0InputController from \"trix/controllers/level_0_input_controller\"\nimport Level2InputController from \"trix/controllers/level_2_input_controller\"\nimport CompositionController from \"trix/controllers/composition_controller\"\nimport ToolbarController from \"trix/controllers/toolbar_controller\"\nimport Composition from \"trix/models/composition\"\nimport Editor from \"trix/models/editor\"\nimport AttachmentManager from \"trix/models/attachment_manager\"\nimport SelectionManager from \"trix/models/selection_manager\"\n\nimport { getBlockConfig, objectsAreEqual, rangeIsCollapsed, rangesAreEqual } from \"trix/core/helpers\"\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nconst snapshotsAreEqual = (a, b) => rangesAreEqual(a.selectedRange, b.selectedRange) && a.document.isEqualTo(b.document)\n\nexport default class EditorController extends Controller {\n  static actions = {\n    undo: {\n      test() {\n        return this.editor.canUndo()\n      },\n      perform() {\n        return this.editor.undo()\n      },\n    },\n    redo: {\n      test() {\n        return this.editor.canRedo()\n      },\n      perform() {\n        return this.editor.redo()\n      },\n    },\n    link: {\n      test() {\n        return this.editor.canActivateAttribute(\"href\")\n      },\n    },\n    increaseNestingLevel: {\n      test() {\n        return this.editor.canIncreaseNestingLevel()\n      },\n      perform() {\n        return this.editor.increaseNestingLevel() && this.render()\n      },\n    },\n    decreaseNestingLevel: {\n      test() {\n        return this.editor.canDecreaseNestingLevel()\n      },\n      perform() {\n        return this.editor.decreaseNestingLevel() && this.render()\n      },\n    },\n    attachFiles: {\n      test() {\n        return true\n      },\n      perform() {\n        return config.input.pickFiles(this.editor.insertFiles)\n      },\n    },\n  }\n\n  constructor({ editorElement, document, html }) {\n    super(...arguments)\n    this.editorElement = editorElement\n    this.selectionManager = new SelectionManager(this.editorElement)\n    this.selectionManager.delegate = this\n\n    this.composition = new Composition()\n    this.composition.delegate = this\n\n    this.attachmentManager = new AttachmentManager(this.composition.getAttachments())\n    this.attachmentManager.delegate = this\n\n    this.inputController =\n      config.input.getLevel() === 2\n        ? new Level2InputController(this.editorElement)\n        : new Level0InputController(this.editorElement)\n\n    this.inputController.delegate = this\n    this.inputController.responder = this.composition\n\n    this.compositionController = new CompositionController(this.editorElement, this.composition)\n    this.compositionController.delegate = this\n\n    this.toolbarController = new ToolbarController(this.editorElement.toolbarElement)\n    this.toolbarController.delegate = this\n\n    this.editor = new Editor(this.composition, this.selectionManager, this.editorElement)\n    if (document) {\n      this.editor.loadDocument(document)\n    } else {\n      this.editor.loadHTML(html)\n    }\n  }\n\n  registerSelectionManager() {\n    return selectionChangeObserver.registerSelectionManager(this.selectionManager)\n  }\n\n  unregisterSelectionManager() {\n    return selectionChangeObserver.unregisterSelectionManager(this.selectionManager)\n  }\n\n  render() {\n    return this.compositionController.render()\n  }\n\n  reparse() {\n    return this.composition.replaceHTML(this.editorElement.innerHTML)\n  }\n\n  // Composition delegate\n\n  compositionDidChangeDocument(document) {\n    this.notifyEditorElement(\"document-change\")\n    if (!this.handlingInput) {\n      return this.render()\n    }\n  }\n\n  compositionDidChangeCurrentAttributes(currentAttributes) {\n    this.currentAttributes = currentAttributes\n    this.toolbarController.updateAttributes(this.currentAttributes)\n    this.updateCurrentActions()\n    return this.notifyEditorElement(\"attributes-change\", { attributes: this.currentAttributes })\n  }\n\n  compositionDidPerformInsertionAtRange(range) {\n    if (this.pasting) {\n      this.pastedRange = range\n    }\n  }\n\n  compositionShouldAcceptFile(file) {\n    return this.notifyEditorElement(\"file-accept\", { file })\n  }\n\n  compositionDidAddAttachment(attachment) {\n    const managedAttachment = this.attachmentManager.manageAttachment(attachment)\n    return this.notifyEditorElement(\"attachment-add\", { attachment: managedAttachment })\n  }\n\n  compositionDidEditAttachment(attachment) {\n    this.compositionController.rerenderViewForObject(attachment)\n    const managedAttachment = this.attachmentManager.manageAttachment(attachment)\n    this.notifyEditorElement(\"attachment-edit\", { attachment: managedAttachment })\n    return this.notifyEditorElement(\"change\")\n  }\n\n  compositionDidChangeAttachmentPreviewURL(attachment) {\n    this.compositionController.invalidateViewForObject(attachment)\n    return this.notifyEditorElement(\"change\")\n  }\n\n  compositionDidRemoveAttachment(attachment) {\n    const managedAttachment = this.attachmentManager.unmanageAttachment(attachment)\n    return this.notifyEditorElement(\"attachment-remove\", { attachment: managedAttachment })\n  }\n\n  compositionDidStartEditingAttachment(attachment, options) {\n    this.attachmentLocationRange = this.composition.document.getLocationRangeOfAttachment(attachment)\n    this.compositionController.installAttachmentEditorForAttachment(attachment, options)\n    return this.selectionManager.setLocationRange(this.attachmentLocationRange)\n  }\n\n  compositionDidStopEditingAttachment(attachment) {\n    this.compositionController.uninstallAttachmentEditor()\n    this.attachmentLocationRange = null\n  }\n\n  compositionDidRequestChangingSelectionToLocationRange(locationRange) {\n    if (this.loadingSnapshot && !this.isFocused()) return\n    this.requestedLocationRange = locationRange\n    this.compositionRevisionWhenLocationRangeRequested = this.composition.revision\n    if (!this.handlingInput) {\n      return this.render()\n    }\n  }\n\n  compositionWillLoadSnapshot() {\n    this.loadingSnapshot = true\n  }\n\n  compositionDidLoadSnapshot() {\n    this.compositionController.refreshViewCache()\n    this.render()\n    this.loadingSnapshot = false\n  }\n\n  getSelectionManager() {\n    return this.selectionManager\n  }\n\n  // Attachment manager delegate\n\n  attachmentManagerDidRequestRemovalOfAttachment(attachment) {\n    return this.removeAttachment(attachment)\n  }\n\n  // Document controller delegate\n\n  compositionControllerWillSyncDocumentView() {\n    this.inputController.editorWillSyncDocumentView()\n    this.selectionManager.lock()\n    return this.selectionManager.clearSelection()\n  }\n\n  compositionControllerDidSyncDocumentView() {\n    this.inputController.editorDidSyncDocumentView()\n    this.selectionManager.unlock()\n    this.updateCurrentActions()\n    return this.notifyEditorElement(\"sync\")\n  }\n\n  compositionControllerDidRender() {\n    if (this.requestedLocationRange) {\n      if (this.compositionRevisionWhenLocationRangeRequested === this.composition.revision) {\n        this.selectionManager.setLocationRange(this.requestedLocationRange)\n      }\n      this.requestedLocationRange = null\n      this.compositionRevisionWhenLocationRangeRequested = null\n    }\n\n    if (this.renderedCompositionRevision !== this.composition.revision) {\n      this.runEditorFilters()\n      this.composition.updateCurrentAttributes()\n      this.notifyEditorElement(\"render\")\n    }\n\n    this.renderedCompositionRevision = this.composition.revision\n  }\n\n  compositionControllerDidFocus() {\n    if (this.isFocusedInvisibly()) {\n      this.setLocationRange({ index: 0, offset: 0 })\n    }\n    this.toolbarController.hideDialog()\n    return this.notifyEditorElement(\"focus\")\n  }\n\n  compositionControllerDidBlur() {\n    return this.notifyEditorElement(\"blur\")\n  }\n\n  compositionControllerDidSelectAttachment(attachment, options) {\n    this.toolbarController.hideDialog()\n    return this.composition.editAttachment(attachment, options)\n  }\n\n  compositionControllerDidRequestDeselectingAttachment(attachment) {\n    const locationRange = this.attachmentLocationRange || this.composition.document.getLocationRangeOfAttachment(attachment)\n    return this.selectionManager.setLocationRange(locationRange[1])\n  }\n\n  compositionControllerWillUpdateAttachment(attachment) {\n    return this.editor.recordUndoEntry(\"Edit Attachment\", { context: attachment.id, consolidatable: true })\n  }\n\n  compositionControllerDidRequestRemovalOfAttachment(attachment) {\n    return this.removeAttachment(attachment)\n  }\n\n  // Input controller delegate\n\n  inputControllerWillHandleInput() {\n    this.handlingInput = true\n    this.requestedRender = false\n  }\n\n  inputControllerDidRequestRender() {\n    this.requestedRender = true\n  }\n\n  inputControllerDidHandleInput() {\n    this.handlingInput = false\n    if (this.requestedRender) {\n      this.requestedRender = false\n      return this.render()\n    }\n  }\n\n  inputControllerDidAllowUnhandledInput() {\n    return this.notifyEditorElement(\"change\")\n  }\n\n  inputControllerDidRequestReparse() {\n    return this.reparse()\n  }\n\n  inputControllerWillPerformTyping() {\n    return this.recordTypingUndoEntry()\n  }\n\n  inputControllerWillPerformFormatting(attributeName) {\n    return this.recordFormattingUndoEntry(attributeName)\n  }\n\n  inputControllerWillCutText() {\n    return this.editor.recordUndoEntry(\"Cut\")\n  }\n\n  inputControllerWillPaste(paste) {\n    this.editor.recordUndoEntry(\"Paste\")\n    this.pasting = true\n    return this.notifyEditorElement(\"before-paste\", { paste })\n  }\n\n  inputControllerDidPaste(paste) {\n    paste.range = this.pastedRange\n    this.pastedRange = null\n    this.pasting = null\n    return this.notifyEditorElement(\"paste\", { paste })\n  }\n\n  inputControllerWillMoveText() {\n    return this.editor.recordUndoEntry(\"Move\")\n  }\n\n  inputControllerWillAttachFiles() {\n    return this.editor.recordUndoEntry(\"Drop Files\")\n  }\n\n  inputControllerWillPerformUndo() {\n    return this.editor.undo()\n  }\n\n  inputControllerWillPerformRedo() {\n    return this.editor.redo()\n  }\n\n  inputControllerDidReceiveKeyboardCommand(keys) {\n    return this.toolbarController.applyKeyboardCommand(keys)\n  }\n\n  inputControllerDidStartDrag() {\n    this.locationRangeBeforeDrag = this.selectionManager.getLocationRange()\n  }\n\n  inputControllerDidReceiveDragOverPoint(point) {\n    return this.selectionManager.setLocationRangeFromPointRange(point)\n  }\n\n  inputControllerDidCancelDrag() {\n    this.selectionManager.setLocationRange(this.locationRangeBeforeDrag)\n    this.locationRangeBeforeDrag = null\n  }\n\n  // Selection manager delegate\n\n  locationRangeDidChange(locationRange) {\n    this.composition.updateCurrentAttributes()\n    this.updateCurrentActions()\n    if (this.attachmentLocationRange && !rangesAreEqual(this.attachmentLocationRange, locationRange)) {\n      this.composition.stopEditingAttachment()\n    }\n    return this.notifyEditorElement(\"selection-change\")\n  }\n\n  // Toolbar controller delegate\n\n  toolbarDidClickButton() {\n    if (!this.getLocationRange()) {\n      return this.setLocationRange({ index: 0, offset: 0 })\n    }\n  }\n\n  toolbarDidInvokeAction(actionName, invokingElement) {\n    return this.invokeAction(actionName, invokingElement)\n  }\n\n  toolbarDidToggleAttribute(attributeName) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.toggleCurrentAttribute(attributeName)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarDidUpdateAttribute(attributeName, value) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.setCurrentAttribute(attributeName, value)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarDidRemoveAttribute(attributeName) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.removeCurrentAttribute(attributeName)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarWillShowDialog(dialogElement) {\n    this.composition.expandSelectionForEditing()\n    return this.freezeSelection()\n  }\n\n  toolbarDidShowDialog(dialogName) {\n    return this.notifyEditorElement(\"toolbar-dialog-show\", { dialogName })\n  }\n\n  toolbarDidHideDialog(dialogName) {\n    this.thawSelection()\n    this.editorElement.focus()\n    return this.notifyEditorElement(\"toolbar-dialog-hide\", { dialogName })\n  }\n\n  // Selection\n\n  freezeSelection() {\n    if (!this.selectionFrozen) {\n      this.selectionManager.lock()\n      this.composition.freezeSelection()\n      this.selectionFrozen = true\n      return this.render()\n    }\n  }\n\n  thawSelection() {\n    if (this.selectionFrozen) {\n      this.composition.thawSelection()\n      this.selectionManager.unlock()\n      this.selectionFrozen = false\n      return this.render()\n    }\n  }\n\n  canInvokeAction(actionName) {\n    if (this.actionIsExternal(actionName)) {\n      return true\n    } else {\n      return !!this.actions[actionName]?.test?.call(this)\n    }\n  }\n\n  invokeAction(actionName, invokingElement) {\n    if (this.actionIsExternal(actionName)) {\n      return this.notifyEditorElement(\"action-invoke\", { actionName, invokingElement })\n    } else {\n      return this.actions[actionName]?.perform?.call(this)\n    }\n  }\n\n  actionIsExternal(actionName) {\n    return /^x-./.test(actionName)\n  }\n\n  getCurrentActions() {\n    const result = {}\n    for (const actionName in this.actions) {\n      result[actionName] = this.canInvokeAction(actionName)\n    }\n    return result\n  }\n\n  updateCurrentActions() {\n    const currentActions = this.getCurrentActions()\n    if (!objectsAreEqual(currentActions, this.currentActions)) {\n      this.currentActions = currentActions\n      this.toolbarController.updateActions(this.currentActions)\n      return this.notifyEditorElement(\"actions-change\", { actions: this.currentActions })\n    }\n  }\n\n  // Editor filters\n\n  runEditorFilters() {\n    let snapshot = this.composition.getSnapshot()\n\n    Array.from(this.editor.filters).forEach((filter) => {\n      const { document, selectedRange } = snapshot\n      snapshot = filter.call(this.editor, snapshot) || {}\n      if (!snapshot.document) {\n        snapshot.document = document\n      }\n      if (!snapshot.selectedRange) {\n        snapshot.selectedRange = selectedRange\n      }\n    })\n\n    if (!snapshotsAreEqual(snapshot, this.composition.getSnapshot())) {\n      return this.composition.loadSnapshot(snapshot)\n    }\n  }\n\n  // Private\n\n  updateInputElement() {\n    const element = this.compositionController.getSerializableElement()\n    const value = serializeToContentType(element, \"text/html\")\n    return this.editorElement.setFormValue(value)\n  }\n\n  notifyEditorElement(message, data) {\n    switch (message) {\n      case \"document-change\":\n        this.documentChangedSinceLastRender = true\n        break\n      case \"render\":\n        if (this.documentChangedSinceLastRender) {\n          this.documentChangedSinceLastRender = false\n          this.notifyEditorElement(\"change\")\n        }\n        break\n      case \"change\":\n      case \"attachment-add\":\n      case \"attachment-edit\":\n      case \"attachment-remove\":\n        this.updateInputElement()\n        break\n    }\n\n    return this.editorElement.notify(message, data)\n  }\n\n  removeAttachment(attachment) {\n    this.editor.recordUndoEntry(\"Delete Attachment\")\n    this.composition.removeAttachment(attachment)\n    return this.render()\n  }\n\n  recordFormattingUndoEntry(attributeName) {\n    const blockConfig = getBlockConfig(attributeName)\n    const locationRange = this.selectionManager.getLocationRange()\n    if (blockConfig || !rangeIsCollapsed(locationRange)) {\n      return this.editor.recordUndoEntry(\"Formatting\", { context: this.getUndoContext(), consolidatable: true })\n    }\n  }\n\n  recordTypingUndoEntry() {\n    return this.editor.recordUndoEntry(\"Typing\", {\n      context: this.getUndoContext(this.currentAttributes),\n      consolidatable: true,\n    })\n  }\n\n  getUndoContext(...context) {\n    return [ this.getLocationContext(), this.getTimeContext(), ...Array.from(context) ]\n  }\n\n  getLocationContext() {\n    const locationRange = this.selectionManager.getLocationRange()\n    if (rangeIsCollapsed(locationRange)) {\n      return locationRange[0].index\n    } else {\n      return locationRange\n    }\n  }\n\n  getTimeContext() {\n    if (config.undo.interval > 0) {\n      return Math.floor(new Date().getTime() / config.undo.interval)\n    } else {\n      return 0\n    }\n  }\n\n  isFocused() {\n    return this.editorElement === this.editorElement.ownerDocument?.activeElement\n  }\n\n  // Detect \"Cursor disappears sporadically\" Firefox bug.\n  // - https://bugzilla.mozilla.org/show_bug.cgi?id=226301\n  isFocusedInvisibly() {\n    return this.isFocused() && !this.getLocationRange()\n  }\n\n  get actions() {\n    return this.constructor.actions\n  }\n}\n\nEditorController.proxyMethod(\"getSelectionManager().setLocationRange\")\nEditorController.proxyMethod(\"getSelectionManager().getLocationRange\")\n", "import * as config from \"trix/config\"\n\nimport { installDefaultCSSForTagName } from \"trix/core/helpers\"\n\ninstallDefaultCSSForTagName(\"trix-toolbar\", `\\\n%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}`)\n\nexport default class TrixToolbarElement extends HTMLElement {\n\n  // Element lifecycle\n\n  connectedCallback() {\n    if (this.innerHTML === \"\") {\n      this.innerHTML = config.toolbar.getDefaultHTML()\n    }\n  }\n}\n", "import * as config from \"trix/config\"\n\nimport {\n  findClosestElementFromNode,\n  handleEvent,\n  handleEventOnce,\n  installDefaultCSSForTagName,\n  makeElement,\n  triggerEvent,\n} from \"trix/core/helpers\"\n\nimport { attachmentSelector } from \"trix/config/attachments\"\nimport EditorController from \"trix/controllers/editor_controller\"\nimport \"trix/elements/trix_toolbar_element\"\n\nlet id = 0\n\n// Contenteditable support helpers\n\nconst autofocus = function(element) {\n  if (!document.querySelector(\":focus\")) {\n    if (element.hasAttribute(\"autofocus\") && document.querySelector(\"[autofocus]\") === element) {\n      return element.focus()\n    }\n  }\n}\n\nconst makeEditable = function(element) {\n  if (element.hasAttribute(\"contenteditable\")) {\n    return\n  }\n  element.setAttribute(\"contenteditable\", \"\")\n  return handleEventOnce(\"focus\", {\n    onElement: element,\n    withCallback() {\n      return configureContentEditable(element)\n    },\n  })\n}\n\nconst configureContentEditable = function(element) {\n  disableObjectResizing(element)\n  return setDefaultParagraphSeparator(element)\n}\n\nconst disableObjectResizing = function(element) {\n  if (document.queryCommandSupported?.(\"enableObjectResizing\")) {\n    document.execCommand(\"enableObjectResizing\", false, false)\n    return handleEvent(\"mscontrolselect\", { onElement: element, preventDefault: true })\n  }\n}\n\nconst setDefaultParagraphSeparator = function(element) {\n  if (document.queryCommandSupported?.(\"DefaultParagraphSeparator\")) {\n    const { tagName } = config.blockAttributes.default\n    if ([ \"div\", \"p\" ].includes(tagName)) {\n      return document.execCommand(\"DefaultParagraphSeparator\", false, tagName)\n    }\n  }\n}\n\n// Accessibility helpers\n\nconst addAccessibilityRole = function(element) {\n  if (element.hasAttribute(\"role\")) {\n    return\n  }\n  return element.setAttribute(\"role\", \"textbox\")\n}\n\nconst ensureAriaLabel = function(element) {\n  if (element.hasAttribute(\"aria-label\") || element.hasAttribute(\"aria-labelledby\")) {\n    return\n  }\n\n  const update = function() {\n    const texts = Array.from(element.labels).map((label) => {\n      if (!label.contains(element)) return label.textContent\n    }).filter(text => text)\n\n    const text = texts.join(\" \")\n    if (text) {\n      return element.setAttribute(\"aria-label\", text)\n    } else {\n      return element.removeAttribute(\"aria-label\")\n    }\n  }\n  update()\n  return handleEvent(\"focus\", { onElement: element, withCallback: update })\n}\n\n// Style\n\nconst cursorTargetStyles = (function() {\n  if (config.browser.forcesObjectResizing) {\n    return {\n      display: \"inline\",\n      width: \"auto\",\n    }\n  } else {\n    return {\n      display: \"inline-block\",\n      width: \"1px\",\n    }\n  }\n})()\n\ninstallDefaultCSSForTagName(\"trix-editor\", `\\\n%t {\n    display: block;\n}\n\n%t:empty::before {\n    content: attr(placeholder);\n    color: graytext;\n    cursor: text;\n    pointer-events: none;\n    white-space: pre-line;\n}\n\n%t a[contenteditable=false] {\n    cursor: text;\n}\n\n%t img {\n    max-width: 100%;\n    height: auto;\n}\n\n%t ${attachmentSelector} figcaption textarea {\n    resize: none;\n}\n\n%t ${attachmentSelector} figcaption textarea.trix-autoresize-clone {\n    position: absolute;\n    left: -9999px;\n    max-height: 0px;\n}\n\n%t ${attachmentSelector} figcaption[data-trix-placeholder]:empty::before {\n    content: attr(data-trix-placeholder);\n    color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n    display: ${cursorTargetStyles.display} !important;\n    width: ${cursorTargetStyles.width} !important;\n    padding: 0 !important;\n    margin: 0 !important;\n    border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n    vertical-align: top !important;\n    margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n    vertical-align: bottom !important;\n    margin-right: -1px !important;\n}`)\n\nclass ElementInternalsDelegate {\n  #internals\n\n  constructor(element) {\n    this.element = element\n    this.#internals = element.attachInternals()\n  }\n\n  connectedCallback() {\n    this.#validate()\n  }\n\n  disconnectedCallback() {\n  }\n\n  get labels() {\n    return this.#internals.labels\n  }\n\n  get disabled() {\n    return this.element.inputElement?.disabled\n  }\n\n  set disabled(value) {\n    this.element.toggleAttribute(\"disabled\", value)\n  }\n\n  get required() {\n    return this.element.hasAttribute(\"required\")\n  }\n\n  set required(value) {\n    this.element.toggleAttribute(\"required\", value)\n    this.#validate()\n  }\n\n  get validity() {\n    return this.#internals.validity\n  }\n\n  get validationMessage() {\n    return this.#internals.validationMessage\n  }\n\n  get willValidate() {\n    return this.#internals.willValidate\n  }\n\n  setFormValue(value) {\n    this.#validate()\n  }\n\n  checkValidity() {\n    return this.#internals.checkValidity()\n  }\n\n  reportValidity() {\n    return this.#internals.reportValidity()\n  }\n\n  setCustomValidity(validationMessage) {\n    this.#validate(validationMessage)\n  }\n\n  #validate(customValidationMessage = \"\") {\n    const { required, value } = this.element\n    const valueMissing = required && !value\n    const customError = !!customValidationMessage\n    const input = makeElement(\"input\", { required })\n    const validationMessage = customValidationMessage || input.validationMessage\n\n    this.#internals.setValidity({ valueMissing, customError }, validationMessage)\n  }\n}\n\nclass LegacyDelegate {\n  #focusHandler\n\n  constructor(element) {\n    this.element = element\n  }\n\n  connectedCallback() {\n    this.#focusHandler = ensureAriaLabel(this.element)\n    window.addEventListener(\"reset\", this.#resetBubbled, false)\n    window.addEventListener(\"click\", this.#clickBubbled, false)\n  }\n\n  disconnectedCallback() {\n    this.#focusHandler?.destroy()\n    window.removeEventListener(\"reset\", this.#resetBubbled, false)\n    window.removeEventListener(\"click\", this.#clickBubbled, false)\n  }\n\n  get labels() {\n    const labels = []\n    if (this.element.id && this.element.ownerDocument) {\n      labels.push(...Array.from(this.element.ownerDocument.querySelectorAll(`label[for='${this.element.id}']`) || []))\n    }\n\n    const label = findClosestElementFromNode(this.element, { matchingSelector: \"label\" })\n    if (label) {\n      if ([ this.element, null ].includes(label.control)) {\n        labels.push(label)\n      }\n    }\n\n    return labels\n  }\n\n  get disabled() {\n    console.warn(\"This browser does not support the [disabled] attribute for trix-editor elements.\")\n\n    return false\n  }\n\n  set disabled(value) {\n    console.warn(\"This browser does not support the [disabled] attribute for trix-editor elements.\")\n  }\n\n  get required() {\n    console.warn(\"This browser does not support the [required] attribute for trix-editor elements.\")\n\n    return false\n  }\n\n  set required(value) {\n    console.warn(\"This browser does not support the [required] attribute for trix-editor elements.\")\n  }\n\n  get validity() {\n    console.warn(\"This browser does not support the validity property for trix-editor elements.\")\n    return null\n  }\n\n  get validationMessage() {\n    console.warn(\"This browser does not support the validationMessage property for trix-editor elements.\")\n\n    return \"\"\n  }\n\n  get willValidate() {\n    console.warn(\"This browser does not support the willValidate property for trix-editor elements.\")\n\n    return false\n  }\n\n  setFormValue(value) {\n  }\n\n  checkValidity() {\n    console.warn(\"This browser does not support checkValidity() for trix-editor elements.\")\n\n    return true\n  }\n\n  reportValidity() {\n    console.warn(\"This browser does not support reportValidity() for trix-editor elements.\")\n\n    return true\n  }\n\n  setCustomValidity(validationMessage) {\n    console.warn(\"This browser does not support setCustomValidity(validationMessage) for trix-editor elements.\")\n  }\n\n  #resetBubbled = (event) => {\n    if (event.defaultPrevented) return\n    if (event.target !== this.element.form) return\n    this.element.reset()\n  }\n\n  #clickBubbled = (event) => {\n    if (event.defaultPrevented) return\n    if (this.element.contains(event.target)) return\n\n    const label = findClosestElementFromNode(event.target, { matchingSelector: \"label\" })\n    if (!label) return\n\n    if (!Array.from(this.labels).includes(label)) return\n\n    this.element.focus()\n  }\n}\n\nexport default class TrixEditorElement extends HTMLElement {\n  static formAssociated = \"ElementInternals\" in window\n\n  #delegate\n\n  constructor() {\n    super()\n    this.#delegate = this.constructor.formAssociated ?\n      new ElementInternalsDelegate(this) :\n      new LegacyDelegate(this)\n  }\n\n  // Properties\n\n  get trixId() {\n    if (this.hasAttribute(\"trix-id\")) {\n      return this.getAttribute(\"trix-id\")\n    } else {\n      this.setAttribute(\"trix-id\", ++id)\n      return this.trixId\n    }\n  }\n\n  get labels() {\n    return this.#delegate.labels\n  }\n\n  get disabled() {\n    return this.#delegate.disabled\n  }\n\n  set disabled(value) {\n    this.#delegate.disabled = value\n  }\n\n  get required() {\n    return this.#delegate.required\n  }\n\n  set required(value) {\n    this.#delegate.required = value\n  }\n\n  get validity() {\n    return this.#delegate.validity\n  }\n\n  get validationMessage() {\n    return this.#delegate.validationMessage\n  }\n\n  get willValidate() {\n    return this.#delegate.willValidate\n  }\n\n  get type() {\n    return this.localName\n  }\n\n  get toolbarElement() {\n    if (this.hasAttribute(\"toolbar\")) {\n      return this.ownerDocument?.getElementById(this.getAttribute(\"toolbar\"))\n    } else if (this.parentNode) {\n      const toolbarId = `trix-toolbar-${this.trixId}`\n      this.setAttribute(\"toolbar\", toolbarId)\n      const element = makeElement(\"trix-toolbar\", { id: toolbarId })\n      this.parentNode.insertBefore(element, this)\n      return element\n    } else {\n      return undefined\n    }\n  }\n\n  get form() {\n    return this.inputElement?.form\n  }\n\n  get inputElement() {\n    if (this.hasAttribute(\"input\")) {\n      return this.ownerDocument?.getElementById(this.getAttribute(\"input\"))\n    } else if (this.parentNode) {\n      const inputId = `trix-input-${this.trixId}`\n      this.setAttribute(\"input\", inputId)\n      const element = makeElement(\"input\", { type: \"hidden\", id: inputId })\n      this.parentNode.insertBefore(element, this.nextElementSibling)\n      return element\n    } else {\n      return undefined\n    }\n  }\n\n  get editor() {\n    return this.editorController?.editor\n  }\n\n  get name() {\n    return this.inputElement?.name\n  }\n\n  get value() {\n    return this.inputElement?.value\n  }\n\n  set value(defaultValue) {\n    this.defaultValue = defaultValue\n    this.editor?.loadHTML(this.defaultValue)\n  }\n\n  // Controller delegate methods\n\n  notify(message, data) {\n    if (this.editorController) {\n      return triggerEvent(`trix-${message}`, { onElement: this, attributes: data })\n    }\n  }\n\n  setFormValue(value) {\n    if (this.inputElement) {\n      this.inputElement.value = value\n      this.#delegate.setFormValue(value)\n    }\n  }\n\n  // Element lifecycle\n\n  connectedCallback() {\n    if (!this.hasAttribute(\"data-trix-internal\")) {\n      makeEditable(this)\n      addAccessibilityRole(this)\n\n      if (!this.editorController) {\n        triggerEvent(\"trix-before-initialize\", { onElement: this })\n        this.editorController = new EditorController({\n          editorElement: this,\n          html: this.defaultValue = this.value,\n        })\n        requestAnimationFrame(() => triggerEvent(\"trix-initialize\", { onElement: this }))\n      }\n      this.editorController.registerSelectionManager()\n      this.#delegate.connectedCallback()\n      autofocus(this)\n    }\n  }\n\n  disconnectedCallback() {\n    this.editorController?.unregisterSelectionManager()\n    this.#delegate.disconnectedCallback()\n  }\n\n  // Form support\n\n  checkValidity() {\n    return this.#delegate.checkValidity()\n  }\n\n  reportValidity() {\n    return this.#delegate.reportValidity()\n  }\n\n  setCustomValidity(validationMessage) {\n    this.#delegate.setCustomValidity(validationMessage)\n  }\n\n  formDisabledCallback(disabled) {\n    if (this.inputElement) {\n      this.inputElement.disabled = disabled\n    }\n    this.toggleAttribute(\"contenteditable\", !disabled)\n  }\n\n  formResetCallback() {\n    this.reset()\n  }\n\n  reset() {\n    this.value = this.defaultValue\n  }\n}\n", "import { version } from \"../../package.json\"\n\nimport * as config from \"trix/config\"\nimport * as core from \"trix/core\"\nimport * as models from \"trix/models\"\nimport * as views from \"trix/views\"\nimport * as controllers from \"trix/controllers\"\nimport * as observers from \"trix/observers\"\nimport * as operations from \"trix/operations\"\nimport * as elements from \"trix/elements\"\nimport * as filters from \"trix/filters\"\n\nconst Trix = {\n  VERSION: version,\n  config,\n  core,\n  models,\n  views,\n  controllers,\n  observers,\n  operations,\n  elements,\n  filters\n}\n\n// Expose models under the Trix constant for compatibility with v1\nObject.assign(Trix, models)\n\nfunction start() {\n  if (!customElements.get(\"trix-toolbar\")) {\n    customElements.define(\"trix-toolbar\", elements.TrixToolbarElement)\n  }\n\n  if (!customElements.get(\"trix-editor\")) {\n    customElements.define(\"trix-editor\", elements.TrixEditorElement)\n  }\n}\n\nwindow.Trix = Trix\nsetTimeout(start, 0)\n\nexport default Trix\n", "(function(factory) {\n  typeof define === \"function\" && define.amd ? define(factory) : factory();\n})((function() {\n  \"use strict\";\n  var sparkMd5 = {\n    exports: {}\n  };\n  (function(module, exports) {\n    (function(factory) {\n      {\n        module.exports = factory();\n      }\n    })((function(undefined$1) {\n      var hex_chr = [ \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\" ];\n      function md5cycle(x, k) {\n        var a = x[0], b = x[1], c = x[2], d = x[3];\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n      }\n      function md5blk(s) {\n        var md5blks = [], i;\n        for (i = 0; i < 64; i += 4) {\n          md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n      }\n      function md5blk_array(a) {\n        var md5blks = [], i;\n        for (i = 0; i < 64; i += 4) {\n          md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n      }\n      function md51(s) {\n        var n = s.length, state = [ 1732584193, -271733879, -1732584194, 271733878 ], i, length, tail, tmp, lo, hi;\n        for (i = 64; i <= n; i += 64) {\n          md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n        }\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n        if (i > 55) {\n          md5cycle(state, tail);\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(state, tail);\n        return state;\n      }\n      function md51_array(a) {\n        var n = a.length, state = [ 1732584193, -271733879, -1732584194, 271733878 ], i, length, tail, tmp, lo, hi;\n        for (i = 64; i <= n; i += 64) {\n          md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n        a = i - 64 < n ? a.subarray(i - 64) : new Uint8Array(0);\n        length = a.length;\n        tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= a[i] << (i % 4 << 3);\n        }\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n        if (i > 55) {\n          md5cycle(state, tail);\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(state, tail);\n        return state;\n      }\n      function rhex(n) {\n        var s = \"\", j;\n        for (j = 0; j < 4; j += 1) {\n          s += hex_chr[n >> j * 8 + 4 & 15] + hex_chr[n >> j * 8 & 15];\n        }\n        return s;\n      }\n      function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n          x[i] = rhex(x[i]);\n        }\n        return x.join(\"\");\n      }\n      if (hex(md51(\"hello\")) !== \"5d41402abc4b2a76b9719d911017c592\") ;\n      if (typeof ArrayBuffer !== \"undefined\" && !ArrayBuffer.prototype.slice) {\n        (function() {\n          function clamp(val, length) {\n            val = val | 0 || 0;\n            if (val < 0) {\n              return Math.max(val + length, 0);\n            }\n            return Math.min(val, length);\n          }\n          ArrayBuffer.prototype.slice = function(from, to) {\n            var length = this.byteLength, begin = clamp(from, length), end = length, num, target, targetArray, sourceArray;\n            if (to !== undefined$1) {\n              end = clamp(to, length);\n            }\n            if (begin > end) {\n              return new ArrayBuffer(0);\n            }\n            num = end - begin;\n            target = new ArrayBuffer(num);\n            targetArray = new Uint8Array(target);\n            sourceArray = new Uint8Array(this, begin, num);\n            targetArray.set(sourceArray);\n            return target;\n          };\n        })();\n      }\n      function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n          str = unescape(encodeURIComponent(str));\n        }\n        return str;\n      }\n      function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length, buff = new ArrayBuffer(length), arr = new Uint8Array(buff), i;\n        for (i = 0; i < length; i += 1) {\n          arr[i] = str.charCodeAt(i);\n        }\n        return returnUInt8Array ? arr : buff;\n      }\n      function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n      }\n      function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n        return returnUInt8Array ? result : result.buffer;\n      }\n      function hexToBinaryString(hex) {\n        var bytes = [], length = hex.length, x;\n        for (x = 0; x < length - 1; x += 2) {\n          bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n        return String.fromCharCode.apply(String, bytes);\n      }\n      function SparkMD5() {\n        this.reset();\n      }\n      SparkMD5.prototype.append = function(str) {\n        this.appendBinary(toUtf8(str));\n        return this;\n      };\n      SparkMD5.prototype.appendBinary = function(contents) {\n        this._buff += contents;\n        this._length += contents.length;\n        var length = this._buff.length, i;\n        for (i = 64; i <= length; i += 64) {\n          md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n        this._buff = this._buff.substring(i - 64);\n        return this;\n      };\n      SparkMD5.prototype.end = function(raw) {\n        var buff = this._buff, length = buff.length, i, tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], ret;\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= buff.charCodeAt(i) << (i % 4 << 3);\n        }\n        this._finish(tail, length);\n        ret = hex(this._hash);\n        if (raw) {\n          ret = hexToBinaryString(ret);\n        }\n        this.reset();\n        return ret;\n      };\n      SparkMD5.prototype.reset = function() {\n        this._buff = \"\";\n        this._length = 0;\n        this._hash = [ 1732584193, -271733879, -1732584194, 271733878 ];\n        return this;\n      };\n      SparkMD5.prototype.getState = function() {\n        return {\n          buff: this._buff,\n          length: this._length,\n          hash: this._hash.slice()\n        };\n      };\n      SparkMD5.prototype.setState = function(state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n        return this;\n      };\n      SparkMD5.prototype.destroy = function() {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n      };\n      SparkMD5.prototype._finish = function(tail, length) {\n        var i = length, tmp, lo, hi;\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n        if (i > 55) {\n          md5cycle(this._hash, tail);\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n      };\n      SparkMD5.hash = function(str, raw) {\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n      };\n      SparkMD5.hashBinary = function(content, raw) {\n        var hash = md51(content), ret = hex(hash);\n        return raw ? hexToBinaryString(ret) : ret;\n      };\n      SparkMD5.ArrayBuffer = function() {\n        this.reset();\n      };\n      SparkMD5.ArrayBuffer.prototype.append = function(arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true), length = buff.length, i;\n        this._length += arr.byteLength;\n        for (i = 64; i <= length; i += 64) {\n          md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n        this._buff = i - 64 < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n        return this;\n      };\n      SparkMD5.ArrayBuffer.prototype.end = function(raw) {\n        var buff = this._buff, length = buff.length, tail = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], i, ret;\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= buff[i] << (i % 4 << 3);\n        }\n        this._finish(tail, length);\n        ret = hex(this._hash);\n        if (raw) {\n          ret = hexToBinaryString(ret);\n        }\n        this.reset();\n        return ret;\n      };\n      SparkMD5.ArrayBuffer.prototype.reset = function() {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [ 1732584193, -271733879, -1732584194, 271733878 ];\n        return this;\n      };\n      SparkMD5.ArrayBuffer.prototype.getState = function() {\n        var state = SparkMD5.prototype.getState.call(this);\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n        return state;\n      };\n      SparkMD5.ArrayBuffer.prototype.setState = function(state) {\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n        return SparkMD5.prototype.setState.call(this, state);\n      };\n      SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n      SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n      SparkMD5.ArrayBuffer.hash = function(arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)), ret = hex(hash);\n        return raw ? hexToBinaryString(ret) : ret;\n      };\n      return SparkMD5;\n    }));\n  })(sparkMd5);\n  var SparkMD5 = sparkMd5.exports;\n  const fileSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\n  class FileChecksum {\n    static create(file, callback) {\n      const instance = new FileChecksum(file);\n      instance.create(callback);\n    }\n    constructor(file) {\n      this.file = file;\n      this.chunkSize = 2097152;\n      this.chunkCount = Math.ceil(this.file.size / this.chunkSize);\n      this.chunkIndex = 0;\n    }\n    create(callback) {\n      this.callback = callback;\n      this.md5Buffer = new SparkMD5.ArrayBuffer;\n      this.fileReader = new FileReader;\n      this.fileReader.addEventListener(\"load\", (event => this.fileReaderDidLoad(event)));\n      this.fileReader.addEventListener(\"error\", (event => this.fileReaderDidError(event)));\n      this.readNextChunk();\n    }\n    fileReaderDidLoad(event) {\n      this.md5Buffer.append(event.target.result);\n      if (!this.readNextChunk()) {\n        const binaryDigest = this.md5Buffer.end(true);\n        const base64digest = btoa(binaryDigest);\n        this.callback(null, base64digest);\n      }\n    }\n    fileReaderDidError(event) {\n      this.callback(`Error reading ${this.file.name}`);\n    }\n    readNextChunk() {\n      if (this.chunkIndex < this.chunkCount || this.chunkIndex == 0 && this.chunkCount == 0) {\n        const start = this.chunkIndex * this.chunkSize;\n        const end = Math.min(start + this.chunkSize, this.file.size);\n        const bytes = fileSlice.call(this.file, start, end);\n        this.fileReader.readAsArrayBuffer(bytes);\n        this.chunkIndex++;\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n  function getMetaValue(name) {\n    const element = findElement(document.head, `meta[name=\"${name}\"]`);\n    if (element) {\n      return element.getAttribute(\"content\");\n    }\n  }\n  function findElements(root, selector) {\n    if (typeof root == \"string\") {\n      selector = root;\n      root = document;\n    }\n    const elements = root.querySelectorAll(selector);\n    return toArray(elements);\n  }\n  function findElement(root, selector) {\n    if (typeof root == \"string\") {\n      selector = root;\n      root = document;\n    }\n    return root.querySelector(selector);\n  }\n  function dispatchEvent(element, type, eventInit = {}) {\n    const {disabled: disabled} = element;\n    const {bubbles: bubbles, cancelable: cancelable, detail: detail} = eventInit;\n    const event = document.createEvent(\"Event\");\n    event.initEvent(type, bubbles || true, cancelable || true);\n    event.detail = detail || {};\n    try {\n      element.disabled = false;\n      element.dispatchEvent(event);\n    } finally {\n      element.disabled = disabled;\n    }\n    return event;\n  }\n  function toArray(value) {\n    if (Array.isArray(value)) {\n      return value;\n    } else if (Array.from) {\n      return Array.from(value);\n    } else {\n      return [].slice.call(value);\n    }\n  }\n  class BlobRecord {\n    constructor(file, checksum, url, customHeaders = {}) {\n      this.file = file;\n      this.attributes = {\n        filename: file.name,\n        content_type: file.type || \"application/octet-stream\",\n        byte_size: file.size,\n        checksum: checksum\n      };\n      this.xhr = new XMLHttpRequest;\n      this.xhr.open(\"POST\", url, true);\n      this.xhr.responseType = \"json\";\n      this.xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n      this.xhr.setRequestHeader(\"Accept\", \"application/json\");\n      this.xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n      Object.keys(customHeaders).forEach((headerKey => {\n        this.xhr.setRequestHeader(headerKey, customHeaders[headerKey]);\n      }));\n      const csrfToken = getMetaValue(\"csrf-token\");\n      if (csrfToken != undefined) {\n        this.xhr.setRequestHeader(\"X-CSRF-Token\", csrfToken);\n      }\n      this.xhr.addEventListener(\"load\", (event => this.requestDidLoad(event)));\n      this.xhr.addEventListener(\"error\", (event => this.requestDidError(event)));\n    }\n    get status() {\n      return this.xhr.status;\n    }\n    get response() {\n      const {responseType: responseType, response: response} = this.xhr;\n      if (responseType == \"json\") {\n        return response;\n      } else {\n        return JSON.parse(response);\n      }\n    }\n    create(callback) {\n      this.callback = callback;\n      this.xhr.send(JSON.stringify({\n        blob: this.attributes\n      }));\n    }\n    requestDidLoad(event) {\n      if (this.status >= 200 && this.status < 300) {\n        const {response: response} = this;\n        const {direct_upload: direct_upload} = response;\n        delete response.direct_upload;\n        this.attributes = response;\n        this.directUploadData = direct_upload;\n        this.callback(null, this.toJSON());\n      } else {\n        this.requestDidError(event);\n      }\n    }\n    requestDidError(event) {\n      this.callback(`Error creating Blob for \"${this.file.name}\". Status: ${this.status}`);\n    }\n    toJSON() {\n      const result = {};\n      for (const key in this.attributes) {\n        result[key] = this.attributes[key];\n      }\n      return result;\n    }\n  }\n  class BlobUpload {\n    constructor(blob) {\n      this.blob = blob;\n      this.file = blob.file;\n      const {url: url, headers: headers} = blob.directUploadData;\n      this.xhr = new XMLHttpRequest;\n      this.xhr.open(\"PUT\", url, true);\n      this.xhr.responseType = \"text\";\n      for (const key in headers) {\n        this.xhr.setRequestHeader(key, headers[key]);\n      }\n      this.xhr.addEventListener(\"load\", (event => this.requestDidLoad(event)));\n      this.xhr.addEventListener(\"error\", (event => this.requestDidError(event)));\n    }\n    create(callback) {\n      this.callback = callback;\n      this.xhr.send(this.file.slice());\n    }\n    requestDidLoad(event) {\n      const {status: status, response: response} = this.xhr;\n      if (status >= 200 && status < 300) {\n        this.callback(null, response);\n      } else {\n        this.requestDidError(event);\n      }\n    }\n    requestDidError(event) {\n      this.callback(`Error storing \"${this.file.name}\". Status: ${this.xhr.status}`);\n    }\n  }\n  let id = 0;\n  class DirectUpload {\n    constructor(file, url, delegate, customHeaders = {}) {\n      this.id = ++id;\n      this.file = file;\n      this.url = url;\n      this.delegate = delegate;\n      this.customHeaders = customHeaders;\n    }\n    create(callback) {\n      FileChecksum.create(this.file, ((error, checksum) => {\n        if (error) {\n          callback(error);\n          return;\n        }\n        const blob = new BlobRecord(this.file, checksum, this.url, this.customHeaders);\n        notify(this.delegate, \"directUploadWillCreateBlobWithXHR\", blob.xhr);\n        blob.create((error => {\n          if (error) {\n            callback(error);\n          } else {\n            const upload = new BlobUpload(blob);\n            notify(this.delegate, \"directUploadWillStoreFileWithXHR\", upload.xhr);\n            upload.create((error => {\n              if (error) {\n                callback(error);\n              } else {\n                callback(null, blob.toJSON());\n              }\n            }));\n          }\n        }));\n      }));\n    }\n  }\n  function notify(object, methodName, ...messages) {\n    if (object && typeof object[methodName] == \"function\") {\n      return object[methodName](...messages);\n    }\n  }\n  class DirectUploadController {\n    constructor(input, file) {\n      this.input = input;\n      this.file = file;\n      this.directUpload = new DirectUpload(this.file, this.url, this);\n      this.dispatch(\"initialize\");\n    }\n    start(callback) {\n      const hiddenInput = document.createElement(\"input\");\n      hiddenInput.type = \"hidden\";\n      hiddenInput.name = this.input.name;\n      this.input.insertAdjacentElement(\"beforebegin\", hiddenInput);\n      this.dispatch(\"start\");\n      this.directUpload.create(((error, attributes) => {\n        if (error) {\n          hiddenInput.parentNode.removeChild(hiddenInput);\n          this.dispatchError(error);\n        } else {\n          hiddenInput.value = attributes.signed_id;\n        }\n        this.dispatch(\"end\");\n        callback(error);\n      }));\n    }\n    uploadRequestDidProgress(event) {\n      const progress = event.loaded / event.total * 100;\n      if (progress) {\n        this.dispatch(\"progress\", {\n          progress: progress\n        });\n      }\n    }\n    get url() {\n      return this.input.getAttribute(\"data-direct-upload-url\");\n    }\n    dispatch(name, detail = {}) {\n      detail.file = this.file;\n      detail.id = this.directUpload.id;\n      return dispatchEvent(this.input, `direct-upload:${name}`, {\n        detail: detail\n      });\n    }\n    dispatchError(error) {\n      const event = this.dispatch(\"error\", {\n        error: error\n      });\n      if (!event.defaultPrevented) {\n        alert(error);\n      }\n    }\n    directUploadWillCreateBlobWithXHR(xhr) {\n      this.dispatch(\"before-blob-request\", {\n        xhr: xhr\n      });\n    }\n    directUploadWillStoreFileWithXHR(xhr) {\n      this.dispatch(\"before-storage-request\", {\n        xhr: xhr\n      });\n      xhr.upload.addEventListener(\"progress\", (event => this.uploadRequestDidProgress(event)));\n    }\n  }\n  const inputSelector = \"input[type=file][data-direct-upload-url]:not([disabled])\";\n  class DirectUploadsController {\n    constructor(form) {\n      this.form = form;\n      this.inputs = findElements(form, inputSelector).filter((input => input.files.length));\n    }\n    start(callback) {\n      const controllers = this.createDirectUploadControllers();\n      const startNextController = () => {\n        const controller = controllers.shift();\n        if (controller) {\n          controller.start((error => {\n            if (error) {\n              callback(error);\n              this.dispatch(\"end\");\n            } else {\n              startNextController();\n            }\n          }));\n        } else {\n          callback();\n          this.dispatch(\"end\");\n        }\n      };\n      this.dispatch(\"start\");\n      startNextController();\n    }\n    createDirectUploadControllers() {\n      const controllers = [];\n      this.inputs.forEach((input => {\n        toArray(input.files).forEach((file => {\n          const controller = new DirectUploadController(input, file);\n          controllers.push(controller);\n        }));\n      }));\n      return controllers;\n    }\n    dispatch(name, detail = {}) {\n      return dispatchEvent(this.form, `direct-uploads:${name}`, {\n        detail: detail\n      });\n    }\n  }\n  const processingAttribute = \"data-direct-uploads-processing\";\n  const submitButtonsByForm = new WeakMap;\n  let started = false;\n  function start() {\n    if (!started) {\n      started = true;\n      document.addEventListener(\"click\", didClick, true);\n      document.addEventListener(\"submit\", didSubmitForm, true);\n      document.addEventListener(\"ajax:before\", didSubmitRemoteElement);\n    }\n  }\n  function didClick(event) {\n    const button = event.target.closest(\"button, input\");\n    if (button && button.type === \"submit\" && button.form) {\n      submitButtonsByForm.set(button.form, button);\n    }\n  }\n  function didSubmitForm(event) {\n    handleFormSubmissionEvent(event);\n  }\n  function didSubmitRemoteElement(event) {\n    if (event.target.tagName == \"FORM\") {\n      handleFormSubmissionEvent(event);\n    }\n  }\n  function handleFormSubmissionEvent(event) {\n    const form = event.target;\n    if (form.hasAttribute(processingAttribute)) {\n      event.preventDefault();\n      return;\n    }\n    const controller = new DirectUploadsController(form);\n    const {inputs: inputs} = controller;\n    if (inputs.length) {\n      event.preventDefault();\n      form.setAttribute(processingAttribute, \"\");\n      inputs.forEach(disable);\n      controller.start((error => {\n        form.removeAttribute(processingAttribute);\n        if (error) {\n          inputs.forEach(enable);\n        } else {\n          submitForm(form);\n        }\n      }));\n    }\n  }\n  function submitForm(form) {\n    let button = submitButtonsByForm.get(form) || findElement(form, \"input[type=submit], button[type=submit]\");\n    if (button) {\n      const {disabled: disabled} = button;\n      button.disabled = false;\n      button.focus();\n      button.click();\n      button.disabled = disabled;\n    } else {\n      button = document.createElement(\"input\");\n      button.type = \"submit\";\n      button.style.display = \"none\";\n      form.appendChild(button);\n      button.click();\n      form.removeChild(button);\n    }\n    submitButtonsByForm.delete(form);\n  }\n  function disable(input) {\n    input.disabled = true;\n  }\n  function enable(input) {\n    input.disabled = false;\n  }\n  function autostart() {\n    if (window.ActiveStorage) {\n      start();\n    }\n  }\n  setTimeout(autostart, 1);\n  class AttachmentUpload {\n    constructor(attachment, element) {\n      this.attachment = attachment;\n      this.element = element;\n      this.directUpload = new DirectUpload(attachment.file, this.directUploadUrl, this);\n    }\n    start() {\n      this.directUpload.create(this.directUploadDidComplete.bind(this));\n    }\n    directUploadWillStoreFileWithXHR(xhr) {\n      xhr.upload.addEventListener(\"progress\", (event => {\n        const progress = event.loaded / event.total * 100;\n        this.attachment.setUploadProgress(progress);\n      }));\n    }\n    directUploadDidComplete(error, attributes) {\n      if (error) {\n        throw new Error(`Direct upload failed: ${error}`);\n      }\n      this.attachment.setAttributes({\n        sgid: attributes.attachable_sgid,\n        url: this.createBlobUrl(attributes.signed_id, attributes.filename)\n      });\n    }\n    createBlobUrl(signedId, filename) {\n      return this.blobUrlTemplate.replace(\":signed_id\", signedId).replace(\":filename\", encodeURIComponent(filename));\n    }\n    get directUploadUrl() {\n      return this.element.dataset.directUploadUrl;\n    }\n    get blobUrlTemplate() {\n      return this.element.dataset.blobUrlTemplate;\n    }\n  }\n  addEventListener(\"trix-attachment-add\", (event => {\n    const {attachment: attachment, target: target} = event;\n    if (attachment.file) {\n      const upload = new AttachmentUpload(attachment, target);\n      upload.start();\n    }\n  }));\n}));\n"],
  "mappings": "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",
  "names": ["adapters_default", "init_adapters", "__esmMin", "logger_default", "init_logger", "__esmMin", "init_adapters", "messages", "adapters_default", "now", "secondsSince", "ConnectionMonitor", "connection_monitor_default", "init_connection_monitor", "__esmMin", "init_logger", "time", "connection", "logger_default", "staleThreshold", "reconnectionBackoffRate", "backoff", "jitter", "internal_default", "init_internal", "__esmMin", "message_types", "protocols", "supportedProtocols", "indexOf", "Connection", "connection_default", "init_connection", "__esmMin", "init_adapters", "init_connection_monitor", "init_internal", "init_logger", "internal_default", "consumer", "connection_monitor_default", "data", "logger_default", "socketProtocols", "adapters_default", "allowReconnect", "error", "states", "state", "eventName", "handler", "event", "identifier", "message", "reason", "reconnect", "type", "extend", "Subscription", "init_subscription", "__esmMin", "object", "properties", "key", "value", "consumer", "params", "mixin", "action", "data", "SubscriptionGuarantor", "subscription_guarantor_default", "init_subscription_guarantor", "__esmMin", "init_logger", "subscriptions", "subscription", "logger_default", "s", "Subscriptions", "init_subscriptions", "__esmMin", "init_subscription", "init_subscription_guarantor", "init_logger", "consumer", "subscription_guarantor_default", "channelName", "mixin", "channel", "params", "subscription", "Subscription", "identifier", "s", "callbackName", "args", "subscriptions", "logger_default", "command", "createWebSocketURL", "url", "a", "Consumer", "init_consumer", "__esmMin", "init_connection", "init_subscriptions", "Subscriptions", "connection_default", "data", "subprotocol", "src_exports", "__export", "connection_default", "connection_monitor_default", "Consumer", "internal_default", "Subscription", "subscription_guarantor_default", "Subscriptions", "adapters_default", "createConsumer", "createWebSocketURL", "getConfig", "logger_default", "url", "name", "element", "init_src", "__esmMin", "init_connection", "init_connection_monitor", "init_consumer", "init_internal", "init_subscription", "init_subscriptions", "init_subscription_guarantor", "init_adapters", "init_logger", "getWindow", "node", "window", "toString", "ownerDocument", "defaultView", "isElement", "OwnElement", "Element", "isHTMLElement", "HTMLElement", "isShadowRoot", "ShadowRoot", "max", "Math", "min", "round", "getUAString", "uaData", "navigator", "userAgentData", "brands", "Array", "isArray", "map", "item", "brand", "version", "join", "userAgent", "isLayoutViewport", "test", "getBoundingClientRect", "element", "includeScale", "isFixedStrategy", "clientRect", "scaleX", "scaleY", "offsetWidth", "width", "offsetHeight", "height", "_ref", "visualViewport", "addVisualOffsets", "x", "left", "offsetLeft", "y", "top", "offsetTop", "right", "bottom", "getWindowScroll", "win", "scrollLeft", "pageXOffset", "scrollTop", "pageYOffset", "getHTMLElementScroll", "getNodeScroll", "getNodeName", "nodeName", "toLowerCase", "getDocumentElement", "document", "documentElement", "getWindowScrollBarX", "getComputedStyle", "isScrollParent", "_getComputedStyle", "overflow", "overflowX", "overflowY", "isElementScaled", "rect", "getCompositeRect", "elementOrVirtualElement", "offsetParent", "isFixed", "isOffsetParentAnElement", "offsetParentIsScaled", "scroll", "offsets", "clientLeft", "clientTop", "getLayoutRect", "abs", "getParentNode", "assignedSlot", "parentNode", "host", "getScrollParent", "indexOf", "body", "listScrollParents", "list", "_element$ownerDocumen", "scrollParent", "isBody", "target", "concat", "updatedList", "isTableElement", "getTrueOffsetParent", "position", "getContainingBlock", "isFirefox", "isIE", "elementCss", "currentNode", "css", "transform", "perspective", "contain", "willChange", "filter", "getOffsetParent", "auto", "basePlacements", "start", "end", "clippingParents", "viewport", "popper", "reference", "variationPlacements", "reduce", "acc", "placement", "placements", "beforeRead", "read", "afterRead", "beforeMain", "main", "afterMain", "beforeWrite", "write", "afterWrite", "modifierPhases", "order", "modifiers", "Map", "visited", "Set", "result", "forEach", "modifier", "set", "name", "sort", "add", "requires", "requiresIfExists", "dep", "has", "depModifier", "get", "push", "orderModifiers", "orderedModifiers", "phase", "debounce", "fn", "pending", "Promise", "resolve", "then", "undefined", "mergeByName", "merged", "current", "existing", "options", "data", "Object", "keys", "key", "getViewportRect", "strategy", "html", "clientWidth", "clientHeight", "layoutViewport", "getDocumentRect", "winScroll", "scrollWidth", "scrollHeight", "direction", "contains", "parent", "child", "rootNode", "getRootNode", "next", "isSameNode", "rectToClientRect", "getInnerBoundingClientRect", "getClientRectFromMixedType", "clippingParent", "getClippingParents", "canEscapeClipping", "clipperElement", "getClippingRect", "boundary", "rootBoundary", "mainClippingParents", "firstClippingParent", "clippingRect", "accRect", "getBasePlacement", "split", "getVariation", "getMainAxisFromPlacement", "computeOffsets", "basePlacement", "variation", "commonX", "commonY", "mainAxis", "len", "getFreshSideObject", "mergePaddingObject", "paddingObject", "expandToHashMap", "value", "hashMap", "detectOverflow", "state", "_options", "_options$placement", "_options$strategy", "_options$boundary", "_options$rootBoundary", "_options$elementConte", "elementContext", "_options$altBoundary", "altBoundary", "_options$padding", "padding", "altContext", "popperRect", "rects", "elements", "clippingClientRect", "contextElement", "referenceClientRect", "popperOffsets", "popperClientRect", "elementClientRect", "overflowOffsets", "offsetData", "modifiersData", "offset", "multiply", "axis", "DEFAULT_OPTIONS", "areValidElements", "_len", "args", "_key", "some", "popperGenerator", "generatorOptions", "_generatorOptions", "_generatorOptions$def", "defaultModifiers", "_generatorOptions$def2", "defaultOptions", "attributes", "styles", "effectCleanupFns", "isDestroyed", "instance", "setOptions", "setOptionsAction", "cleanupModifierEffects", "scrollParents", "m", "enabled", "runModifierEffects", "update", "forceUpdate", "_state$elements", "reset", "index", "length", "_state$orderedModifie", "_state$orderedModifie2", "destroy", "onFirstUpdate", "_ref$options", "effect", "cleanupFn", "noopFn", "passive", "_options$scroll", "_options$resize", "resize", "addEventListener", "removeEventListener", "eventListeners", "popperOffsets$1", "unsetSides", "roundOffsetsByDPR", "dpr", "devicePixelRatio", "mapToStyles", "_ref2", "_Object$assign2", "gpuAcceleration", "adaptive", "roundOffsets", "_offsets$x", "_offsets$y", "_ref3", "hasX", "hasOwnProperty", "hasY", "sideX", "sideY", "heightProp", "widthProp", "offsetY", "offsetX", "commonStyles", "_ref4", "_Object$assign", "computeStyles", "_ref5", "_options$gpuAccelerat", "_options$adaptive", "_options$roundOffsets", "arrow", "computeStyles$1", "applyStyles", "style", "assign", "removeAttribute", "setAttribute", "initialStyles", "margin", "styleProperties", "property", "attribute", "applyStyles$1", "distanceAndSkiddingToXY", "invertDistance", "skidding", "distance", "_options$offset", "_data$state$placement", "offset$1", "hash", "getOppositePlacement", "replace", "matched", "getOppositeVariationPlacement", "computeAutoPlacement", "flipVariations", "_options$allowedAutoP", "allowedAutoPlacements", "allPlacements", "allowedPlacements", "overflows", "a", "b", "getExpandedFallbackPlacements", "oppositePlacement", "flip", "_skip", "_options$mainAxis", "checkMainAxis", "_options$altAxis", "altAxis", "checkAltAxis", "specifiedFallbackPlacements", "fallbackPlacements", "_options$flipVariatio", "preferredPlacement", "isBasePlacement", "referenceRect", "checksMap", "makeFallbackChecks", "firstFittingPlacement", "i", "isStartVariation", "isVertical", "mainVariationSide", "altVariationSide", "checks", "every", "check", "numberOfChecks", "_loop", "fittingPlacement", "find", "slice", "_ret", "flip$1", "getAltAxis", "within", "mathMax", "mathMin", "withinMaxClamp", "v", "preventOverflow", "_options$tether", "tether", "_options$tetherOffset", "tetherOffset", "tetherOffsetValue", "normalizedTetherOffsetValue", "offsetModifierState", "_offsetModifierState$", "mainSide", "altSide", "additive", "minLen", "maxLen", "arrowElement", "arrowRect", "arrowPaddingObject", "arrowPaddingMin", "arrowPaddingMax", "arrowLen", "minOffset", "maxOffset", "arrowOffsetParent", "clientOffset", "offsetModifierValue", "tetherMin", "tetherMax", "preventedOffset", "_offsetModifierState$2", "isOriginSide", "preventOverflow$1", "toPaddingObject", "_state$modifiersData$", "minProp", "maxProp", "endDiff", "startDiff", "clientSize", "centerToReference", "center", "axisProp", "centerOffset", "_options$element", "querySelector", "arrow$1", "getSideOffsets", "preventedOffsets", "isAnySideFullyClipped", "side", "hide", "referenceOverflow", "popperAltOverflow", "referenceClippingOffsets", "popperEscapeOffsets", "isReferenceHidden", "hasPopperEscaped", "hide$1", "createPopper", "elementMap", "Map", "Data", "set", "element", "key", "instance", "has", "instanceMap", "get", "size", "console", "error", "Array", "from", "keys", "remove", "delete", "MAX_UID", "MILLISECONDS_MULTIPLIER", "TRANSITION_END", "parseSelector", "selector", "window", "CSS", "escape", "replace", "match", "id", "toType", "object", "Object", "prototype", "toString", "call", "toLowerCase", "getUID", "prefix", "Math", "floor", "random", "document", "getElementById", "getTransitionDurationFromElement", "transitionDuration", "transitionDelay", "getComputedStyle", "floatTransitionDuration", "Number", "parseFloat", "floatTransitionDelay", "split", "triggerTransitionEnd", "dispatchEvent", "Event", "isElement", "jquery", "nodeType", "getElement", "length", "querySelector", "isVisible", "getClientRects", "elementIsVisible", "getPropertyValue", "closedDetails", "closest", "summary", "parentNode", "isDisabled", "Node", "ELEMENT_NODE", "classList", "contains", "disabled", "hasAttribute", "getAttribute", "findShadowRoot", "documentElement", "attachShadow", "getRootNode", "root", "ShadowRoot", "noop", "reflow", "offsetHeight", "getjQuery", "jQuery", "body", "DOMContentLoadedCallbacks", "onDOMContentLoaded", "callback", "readyState", "addEventListener", "push", "isRTL", "dir", "defineJQueryPlugin", "plugin", "$", "name", "NAME", "JQUERY_NO_CONFLICT", "fn", "jQueryInterface", "Constructor", "noConflict", "execute", "possibleCallback", "args", "defaultValue", "executeAfterTransition", "transitionElement", "waitForTransition", "emulatedDuration", "called", "handler", "target", "removeEventListener", "setTimeout", "getNextActiveElement", "list", "activeElement", "shouldGetNext", "isCycleAllowed", "listLength", "index", "indexOf", "max", "min", "namespaceRegex", "stripNameRegex", "stripUidRegex", "eventRegistry", "uidEvent", "customEvents", "mouseenter", "mouseleave", "nativeEvents", "Set", "makeEventUid", "uid", "getElementEvents", "bootstrapHandler", "event", "hydrateObj", "delegateTarget", "oneOff", "EventHandler", "off", "type", "apply", "bootstrapDelegationHandler", "domElements", "querySelectorAll", "domElement", "findHandler", "events", "callable", "delegationSelector", "values", "find", "normalizeParameters", "originalTypeEvent", "delegationFunction", "isDelegated", "typeEvent", "getTypeEvent", "addHandler", "relatedTarget", "handlers", "previousFunction", "removeHandler", "Boolean", "removeNamespacedHandlers", "namespace", "storeElementEvent", "handlerKey", "entries", "includes", "on", "one", "inNamespace", "isNamespace", "startsWith", "elementEvent", "slice", "keyHandlers", "trigger", "jQueryEvent", "bubbles", "nativeDispatch", "defaultPrevented", "isPropagationStopped", "isImmediatePropagationStopped", "isDefaultPrevented", "evt", "cancelable", "preventDefault", "obj", "meta", "value", "defineProperty", "configurable", "normalizeData", "JSON", "parse", "decodeURIComponent", "normalizeDataKey", "chr", "Manipulator", "setDataAttribute", "setAttribute", "removeDataAttribute", "removeAttribute", "getDataAttributes", "attributes", "bsKeys", "dataset", "filter", "pureKey", "charAt", "getDataAttribute", "Config", "Default", "DefaultType", "Error", "_getConfig", "config", "_mergeConfigObj", "_configAfterMerge", "_typeCheckConfig", "jsonConfig", "constructor", "configTypes", "property", "expectedTypes", "valueType", "RegExp", "test", "TypeError", "toUpperCase", "VERSION", "BaseComponent", "_element", "_config", "DATA_KEY", "dispose", "EVENT_KEY", "propertyName", "getOwnPropertyNames", "_queueCallback", "isAnimated", "getInstance", "getOrCreateInstance", "eventName", "getSelector", "hrefAttribute", "trim", "map", "sel", "join", "SelectorEngine", "concat", "Element", "findOne", "children", "child", "matches", "parents", "ancestor", "prev", "previous", "previousElementSibling", "next", "nextElementSibling", "focusableChildren", "focusables", "el", "getSelectorFromElement", "getElementFromSelector", "getMultipleElementsFromSelector", "enableDismissTrigger", "component", "method", "clickEvent", "tagName", "EVENT_CLOSE", "EVENT_CLOSED", "CLASS_NAME_FADE", "CLASS_NAME_SHOW", "Alert", "close", "_destroyElement", "each", "data", "undefined", "DATA_API_KEY", "CLASS_NAME_ACTIVE", "SELECTOR_DATA_TOGGLE", "EVENT_CLICK_DATA_API", "Button", "toggle", "button", "EVENT_TOUCHSTART", "EVENT_TOUCHMOVE", "EVENT_TOUCHEND", "EVENT_POINTERDOWN", "EVENT_POINTERUP", "POINTER_TYPE_TOUCH", "POINTER_TYPE_PEN", "CLASS_NAME_POINTER_EVENT", "SWIPE_THRESHOLD", "endCallback", "leftCallback", "rightCallback", "Swipe", "isSupported", "_deltaX", "_supportPointerEvents", "PointerEvent", "_initEvents", "_start", "touches", "clientX", "_eventIsPointerPenTouch", "_end", "_handleSwipe", "_move", "absDeltaX", "abs", "direction", "add", "pointerType", "navigator", "maxTouchPoints", "ARROW_LEFT_KEY", "ARROW_RIGHT_KEY", "TOUCHEVENT_COMPAT_WAIT", "ORDER_NEXT", "ORDER_PREV", "DIRECTION_LEFT", "DIRECTION_RIGHT", "EVENT_SLIDE", "EVENT_SLID", "EVENT_KEYDOWN", "EVENT_MOUSEENTER", "EVENT_MOUSELEAVE", "EVENT_DRAG_START", "EVENT_LOAD_DATA_API", "CLASS_NAME_CAROUSEL", "CLASS_NAME_SLIDE", "CLASS_NAME_END", "CLASS_NAME_START", "CLASS_NAME_NEXT", "CLASS_NAME_PREV", "SELECTOR_ACTIVE", "SELECTOR_ITEM", "SELECTOR_ACTIVE_ITEM", "SELECTOR_ITEM_IMG", "SELECTOR_INDICATORS", "SELECTOR_DATA_SLIDE", "SELECTOR_DATA_RIDE", "KEY_TO_DIRECTION", "interval", "keyboard", "pause", "ride", "touch", "wrap", "Carousel", "_interval", "_activeElement", "_isSliding", "touchTimeout", "_swipeHelper", "_indicatorsElement", "_addEventListeners", "cycle", "_slide", "nextWhenVisible", "hidden", "_clearInterval", "_updateInterval", "setInterval", "_maybeEnableCycle", "to", "items", "_getItems", "activeIndex", "_getItemIndex", "_getActive", "order", "defaultInterval", "_keydown", "_addTouchEventListeners", "img", "swipeConfig", "_directionToOrder", "endCallBack", "clearTimeout", "_setActiveIndicatorElement", "activeIndicator", "newActiveIndicator", "elementInterval", "parseInt", "isNext", "nextElement", "nextElementIndex", "triggerEvent", "_orderToDirection", "isCycling", "directionalClassName", "orderClassName", "completeCallBack", "_isAnimated", "clearInterval", "carousel", "slideIndex", "carousels", "EVENT_SHOW", "EVENT_SHOWN", "EVENT_HIDE", "EVENT_HIDDEN", "CLASS_NAME_COLLAPSE", "CLASS_NAME_COLLAPSING", "CLASS_NAME_COLLAPSED", "CLASS_NAME_DEEPER_CHILDREN", "CLASS_NAME_HORIZONTAL", "WIDTH", "HEIGHT", "SELECTOR_ACTIVES", "parent", "Collapse", "_isTransitioning", "_triggerArray", "toggleList", "elem", "filterElement", "foundElement", "_initializeChildren", "_addAriaAndCollapsedClass", "_isShown", "hide", "show", "activeChildren", "_getFirstLevelChildren", "activeInstance", "dimension", "_getDimension", "style", "complete", "scrollSize", "getBoundingClientRect", "selected", "triggerArray", "isOpen", "ESCAPE_KEY", "TAB_KEY", "ARROW_UP_KEY", "ARROW_DOWN_KEY", "RIGHT_MOUSE_BUTTON", "EVENT_KEYDOWN_DATA_API", "EVENT_KEYUP_DATA_API", "CLASS_NAME_DROPUP", "CLASS_NAME_DROPEND", "CLASS_NAME_DROPSTART", "CLASS_NAME_DROPUP_CENTER", "CLASS_NAME_DROPDOWN_CENTER", "SELECTOR_DATA_TOGGLE_SHOWN", "SELECTOR_MENU", "SELECTOR_NAVBAR", "SELECTOR_NAVBAR_NAV", "SELECTOR_VISIBLE_ITEMS", "PLACEMENT_TOP", "PLACEMENT_TOPEND", "PLACEMENT_BOTTOM", "PLACEMENT_BOTTOMEND", "PLACEMENT_RIGHT", "PLACEMENT_LEFT", "PLACEMENT_TOPCENTER", "PLACEMENT_BOTTOMCENTER", "autoClose", "boundary", "display", "offset", "popperConfig", "reference", "Dropdown", "_popper", "_parent", "_menu", "_inNavbar", "_detectNavbar", "showEvent", "_createPopper", "focus", "_completeHide", "destroy", "update", "hideEvent", "Popper", "referenceElement", "_getPopperConfig", "createPopper", "_getPlacement", "parentDropdown", "isEnd", "_getOffset", "popperData", "defaultBsPopperConfig", "placement", "modifiers", "options", "enabled", "_selectMenuItem", "clearMenus", "openToggles", "context", "composedPath", "isMenuTarget", "dataApiKeydownHandler", "isInput", "isEscapeEvent", "isUpOrDownEvent", "getToggleButton", "stopPropagation", "EVENT_MOUSEDOWN", "className", "clickCallback", "rootElement", "Backdrop", "_isAppended", "_append", "_getElement", "_emulateAnimation", "backdrop", "createElement", "append", "EVENT_FOCUSIN", "EVENT_KEYDOWN_TAB", "TAB_NAV_FORWARD", "TAB_NAV_BACKWARD", "autofocus", "trapElement", "FocusTrap", "_isActive", "_lastTabNavDirection", "activate", "_handleFocusin", "_handleKeydown", "deactivate", "elements", "shiftKey", "SELECTOR_FIXED_CONTENT", "SELECTOR_STICKY_CONTENT", "PROPERTY_PADDING", "PROPERTY_MARGIN", "ScrollBarHelper", "getWidth", "documentWidth", "clientWidth", "innerWidth", "width", "_disableOverFlow", "_setElementAttributes", "calculatedValue", "reset", "_resetElementAttributes", "isOverflowing", "_saveInitialAttribute", "overflow", "styleProperty", "scrollbarWidth", "manipulationCallBack", "setProperty", "_applyManipulationCallback", "actualValue", "removeProperty", "callBack", "EVENT_HIDE_PREVENTED", "EVENT_RESIZE", "EVENT_CLICK_DISMISS", "EVENT_MOUSEDOWN_DISMISS", "EVENT_KEYDOWN_DISMISS", "CLASS_NAME_OPEN", "CLASS_NAME_STATIC", "OPEN_SELECTOR", "SELECTOR_DIALOG", "SELECTOR_MODAL_BODY", "Modal", "_dialog", "_backdrop", "_initializeBackDrop", "_focustrap", "_initializeFocusTrap", "_scrollBar", "_adjustDialog", "_showElement", "_hideModal", "handleUpdate", "scrollTop", "modalBody", "transitionComplete", "_triggerBackdropTransition", "event2", "_resetAdjustments", "isModalOverflowing", "scrollHeight", "clientHeight", "initialOverflowY", "overflowY", "isBodyOverflowing", "paddingLeft", "paddingRight", "alreadyOpen", "CLASS_NAME_SHOWING", "CLASS_NAME_HIDING", "CLASS_NAME_BACKDROP", "scroll", "Offcanvas", "blur", "completeCallback", "position", "DefaultAllowlist", "a", "area", "b", "br", "col", "code", "dd", "div", "dl", "dt", "em", "hr", "h1", "h2", "h3", "h4", "h5", "h6", "i", "li", "ol", "p", "pre", "s", "small", "span", "sub", "sup", "strong", "u", "ul", "uriAttributes", "SAFE_URL_PATTERN", "allowedAttribute", "attribute", "allowedAttributeList", "attributeName", "nodeName", "nodeValue", "attributeRegex", "some", "regex", "sanitizeHtml", "unsafeHtml", "allowList", "sanitizeFunction", "createdDocument", "DOMParser", "parseFromString", "elementName", "attributeList", "allowedAttributes", "innerHTML", "content", "extraClass", "html", "sanitize", "sanitizeFn", "template", "DefaultContentType", "entry", "TemplateFactory", "getContent", "_resolvePossibleFunction", "hasContent", "changeContent", "_checkContent", "toHtml", "templateWrapper", "_maybeSanitize", "text", "_setContent", "arg", "templateElement", "_putElementInTemplate", "textContent", "DISALLOWED_ATTRIBUTES", "CLASS_NAME_MODAL", "SELECTOR_TOOLTIP_INNER", "SELECTOR_MODAL", "EVENT_MODAL_HIDE", "TRIGGER_HOVER", "TRIGGER_FOCUS", "TRIGGER_CLICK", "TRIGGER_MANUAL", "EVENT_INSERTED", "EVENT_CLICK", "EVENT_FOCUSOUT", "AttachmentMap", "AUTO", "TOP", "RIGHT", "BOTTOM", "LEFT", "animation", "container", "customClass", "delay", "fallbackPlacements", "title", "Tooltip", "_isEnabled", "_timeout", "_isHovered", "_activeTrigger", "_templateFactory", "_newContent", "tip", "_setListeners", "_fixTitle", "enable", "disable", "toggleEnabled", "click", "_leave", "_enter", "_hideModalHandler", "_disposePopper", "_isWithContent", "isInTheDom", "ownerDocument", "_getTipElement", "_isWithActiveTrigger", "_getTitle", "_createTipElement", "_getContentForTemplate", "_getTemplateFactory", "tipId", "setContent", "_initializeOnDelegatedTarget", "_getDelegateConfig", "attachment", "phase", "state", "triggers", "eventIn", "eventOut", "_setTimeout", "timeout", "dataAttributes", "dataAttribute", "SELECTOR_TITLE", "SELECTOR_CONTENT", "Popover", "_getContent", "EVENT_ACTIVATE", "CLASS_NAME_DROPDOWN_ITEM", "SELECTOR_DATA_SPY", "SELECTOR_TARGET_LINKS", "SELECTOR_NAV_LIST_GROUP", "SELECTOR_NAV_LINKS", "SELECTOR_LINK_ITEMS", "SELECTOR_DROPDOWN", "SELECTOR_DROPDOWN_TOGGLE", "rootMargin", "smoothScroll", "threshold", "ScrollSpy", "_targetLinks", "_observableSections", "_rootElement", "_activeTarget", "_observer", "_previousScrollData", "visibleEntryTop", "parentScrollTop", "refresh", "_initializeTargetsAndObservables", "_maybeEnableSmoothScroll", "disconnect", "_getNewObserver", "section", "observe", "observableSection", "hash", "height", "offsetTop", "scrollTo", "top", "behavior", "IntersectionObserver", "_observerCallback", "targetElement", "_process", "userScrollsDown", "isIntersecting", "_clearActiveClass", "entryIsLowerThanPrevious", "targetLinks", "anchor", "decodeURI", "_activateParents", "listGroup", "item", "activeNodes", "node", "spy", "HOME_KEY", "END_KEY", "CLASS_DROPDOWN", "SELECTOR_DROPDOWN_MENU", "NOT_SELECTOR_DROPDOWN_TOGGLE", "SELECTOR_TAB_PANEL", "SELECTOR_OUTER", "SELECTOR_INNER", "SELECTOR_INNER_ELEM", "SELECTOR_DATA_TOGGLE_ACTIVE", "Tab", "_setInitialAttributes", "_getChildren", "innerElem", "_elemIsActive", "active", "_getActiveElem", "_deactivate", "_activate", "relatedElem", "_toggleDropDown", "nextActiveElement", "preventScroll", "_setAttributeIfNotExists", "_setInitialAttributesOnChild", "_getInnerElement", "isActive", "outerElem", "_getOuterElement", "_setInitialAttributesOnTargetPanel", "open", "EVENT_MOUSEOVER", "EVENT_MOUSEOUT", "CLASS_NAME_HIDE", "autohide", "Toast", "_hasMouseInteraction", "_hasKeyboardInteraction", "_clearTimeout", "_maybeScheduleHide", "isShown", "_onInteraction", "isInteracting", "turbo_es2017_esm_exports", "__export", "FetchEnctype", "FetchMethod", "FetchRequest", "FetchResponse", "FrameElement", "FrameLoadingStyle", "FrameRenderer", "PageRenderer", "PageSnapshot", "StreamActions", "StreamElement", "StreamSourceElement", "cache", "clearCache", "config", "connectStreamSource", "disconnectStreamSource", "fetchWithTurboHeaders", "fetchEnctypeFromString", "fetchMethodFromString", "isSafe", "navigator$1", "registerAdapter", "renderStreamMessage", "session", "setConfirmMethod", "setFormMode", "setProgressBarDelay", "start", "visit", "prototype", "submitter", "validateSubmitter", "form", "raise", "errorConstructor", "message", "name", "submittersByForm", "findSubmitterFromClickTarget", "target", "element", "candidate", "clickCaptured", "event", "prototypeOfSubmitEvent", "_FrameElement", "value", "frameLoadingStyleFromString", "style", "drive", "activateScriptElement", "createdScriptElement", "cspNonce", "getCspNonce", "copyElementAttributes", "destinationElement", "sourceElement", "createDocumentFragment", "html", "template", "dispatch", "eventName", "cancelable", "detail", "cancelEvent", "nextRepaint", "nextEventLoopTick", "nextAnimationFrame", "resolve", "nextMicrotask", "parseHTMLDocument", "unindent", "strings", "values", "lines", "interpolate", "match", "indent", "line", "result", "string", "i", "uuid", "_", "getAttribute", "attributeName", "elements", "hasAttribute", "markAsBusy", "clearBusyState", "waitForLoad", "timeoutInMilliseconds", "onComplete", "getHistoryMethodForAction", "action", "isAction", "getVisitAction", "getMetaElement", "getMetaContent", "nonce", "content", "setMetaContent", "findClosestRecursively", "selector", "elementIsFocusable", "queryAutofocusableElement", "elementOrDocumentFragment", "around", "callback", "reader", "before", "after", "doesNotTargetIFrame", "findLinkFromClickTarget", "getLocationForLink", "link", "expandURL", "debounce", "fn", "delay", "timeoutId", "args", "Config", "#submitter", "forms", "locatable", "getAnchor", "url", "anchorMatch", "getAction$1", "getExtension", "getLastPathComponent", "isPrefixedBy", "baseURL", "prefix", "getPrefix", "locationIsVisitable", "location", "rootLocation", "getRequestURL", "anchor", "toCacheKey", "urlsAreEqual", "left", "right", "getPathComponents", "addTrailingSlash", "response", "LimitedSet", "maxSize", "oldestValue", "recentRequests", "nativeFetch", "options", "modifiedHeaders", "requestUID", "method", "encoding", "#resolveRequestPromise", "_value", "delegate", "requestBody", "enctype", "body", "buildResourceAndBody", "fetchBody", "fetchMethod", "fetchOptions", "#allowRequestToBeIntercepted", "error", "#willDelegateErrorHandling", "fetchResponse", "mimeType", "requestInterception", "resource", "searchParams", "entriesExcludingFiles", "mergeIntoURLSearchParams", "entries", "AppearanceObserver", "StreamMessage", "fragment", "importStreamElements", "streamElement", "inertScriptElement", "PREFETCH_DELAY", "PrefetchCache", "#prefetchTimeout", "#prefetched", "request", "ttl", "cacheTtl", "prefetchCache", "FormSubmissionState", "FormSubmission", "_FormSubmission", "formElement", "mustRedirect", "getMethod", "getAction", "getFormAction", "buildFormData", "getEnctype", "initialized", "requesting", "confirmationMessage", "stopping", "stopped", "token", "getCookieValue", "_request", "responseSucceededWithoutRedirect", "input", "formData", "cookieName", "cookie", "formElementAction", "formAction", "Snapshot", "queryPermanentElementsAll", "id", "getPermanentElementById", "snapshot", "permanentElementMap", "currentPermanentElement", "newPermanentElement", "node", "FormSubmitObserver", "eventTarget", "submissionDoesNotDismissDialog", "submissionDoesNotTargetIFrame", "View", "#resolveRenderPromise", "#resolveInterceptionPromise", "x", "y", "renderer", "isPreview", "shouldRender", "willRender", "shouldInvalidate", "renderInterception", "reason", "direction", "FrameView", "LinkInterceptor", "_event", "LinkClickObserver", "FormLinkClickObserver", "originalEvent", "type", "turboFrame", "turboAction", "turboConfirm", "Bardo", "bardo", "permanentElement", "placeholder", "createPlaceholderForPermanentElement", "clone", "Renderer", "#activeElement", "currentElement", "newElement", "currentSnapshot", "newSnapshot", "reject", "destinationRange", "frameElement", "sourceRange", "renderElement", "block", "readScrollLogicalPosition", "behavior", "readScrollBehavior", "activatedScriptElement", "defaultValue", "Idiomorph", "EMPTY_SET", "defaults", "noOp", "elt", "morph", "oldNode", "newContent", "parseContent", "normalizedContent", "normalizeContent", "ctx", "createMorphContext", "morphNormalizedContent", "normalizedNewContent", "oldHead", "newHead", "promises", "handleHeadElement", "morphChildren", "bestMatch", "findBestNodeMatch", "previousSibling", "nextSibling", "morphedNode", "morphOldNodeTo", "insertSiblings", "ignoreValueOfActiveElement", "possibleActiveElement", "isSoftMatch", "syncNodeFrom", "newParent", "oldParent", "nextNewChild", "insertionPoint", "newChild", "removeIdsFromConsideration", "isIdSetMatch", "idSetMatch", "findIdSetMatch", "removeNodesBetween", "softMatch", "findSoftMatch", "tempNode", "removeNode", "ignoreAttribute", "attr", "to", "updateType", "from", "fromAttributes", "toAttributes", "fromAttribute", "toAttribute", "syncInputValue", "syncBooleanAttribute", "ignoreUpdate", "fromValue", "toValue", "newHeadTag", "currentHead", "added", "removed", "preserved", "nodesToAppend", "headMergeStyle", "srcToNewHeadNodes", "newHeadChild", "currentHeadElt", "inNewContent", "isReAppended", "isPreserved", "newNode", "newElt", "promise", "_resolve", "removedElement", "mergeDefaults", "finalConfig", "createIdMap", "node1", "node2", "getIdIntersectionCount", "startInclusive", "endExclusive", "newChildPotentialIdCount", "potentialMatch", "otherMatchCount", "potentialSoftMatch", "siblingSoftMatchCount", "parser", "contentWithSvgsRemoved", "htmlElement", "dummyParent", "stack", "bestElement", "score", "newScore", "scoreElement", "isIdInConsideration", "idIsWithinNode", "targetNode", "idSet", "sourceSet", "matchCount", "populateIdMapForNode", "idMap", "nodeParent", "idElements", "current", "oldContent", "morphElements", "callbacks", "DefaultIdiomorphCallbacks", "#beforeNodeMorphed", "beforeNodeMorphed", "mutationType", "MorphingFrameRenderer", "ProgressBar", "_ProgressBar", "HeadSnapshot", "elementIsNoscript", "elementWithoutNonce", "outerHTML", "details", "elementType", "elementIsTracked", "matchedType", "tracked", "elementIsMetaElementWithName", "elementIsScript", "elementIsStylesheet", "tagName", "_PageSnapshot", "documentElement", "head", "headSnapshot", "clonedElement", "selectElements", "clonedSelectElements", "index", "source", "option", "clonedPasswordInput", "root", "ViewTransitioner", "#viewTransitionStarted", "#lastOperation", "useViewTransition", "render", "defaultOptions", "TimingMetric", "VisitState", "SystemStatusCode", "Direction", "Visit", "restorationIdentifier", "historyChanged", "referrer", "snapshotHTML", "visitCachedSnapshot", "updateHistory", "shouldCacheSnapshot", "acceptsStreamResponse", "actionForHistory", "statusCode", "isSuccessful", "responseHTML", "_response", "redirected", "_error", "scrollPosition", "metric", "BrowserAdapter", "_visit", "_formSubmission", "CacheObserver", "FrameRedirector", "_location", "#shouldRedirect", "frame", "#findFrameElement", "#shouldSubmit", "meta", "History", "state", "additionalData", "restorationData", "turbo", "restorationIndex", "LinkPrefetchObserver", "#prefetchedLink", "#enable", "#tryToPrefetchRequest", "#cancelRequestIfObsolete", "#tryToUsePrefetchedRequest", "#isPrefetchable", "fetchRequest", "#cacheTtl", "#cancelPrefetchRequest", "cached", "turboFrameTarget", "unfetchableLink", "linkToTheSamePage", "linkOptsOut", "nonSafeLink", "eventPrevented", "turboPrefetchParent", "turboMethod", "isUJS", "Navigator", "formSubmission", "visitOptions", "#getActionForFormSubmission", "currentAnchor", "isRestorationToTop", "oldURL", "newURL", "#getDefaultAction", "PageStage", "PageObserver", "readyState", "ScrollObserver", "position", "StreamMessageRenderer", "getPermanentElementMapForFragment", "withAutofocusFromFragment", "withPreservedFocus", "permanentElementsInDocument", "permanentElementInDocument", "elementInStream", "generatedID", "turboStreams", "elementWithAutofocus", "firstAutofocusableElementInStreams", "willAutofocusId", "elementToAutofocus", "activeElementBeforeRender", "activeElementAfterRender", "restoreFocusTo", "elementToFocus", "nodeListOfStreamElements", "StreamObserver", "#started", "fetchResponseFromEvent", "fetchResponseIsStream", "ErrorRenderer", "replaceableElement", "parentNode", "#setLanguage", "lang", "mergedHeadElements", "newStylesheetElements", "loadingElements", "newHeadElements", "elementList", "MorphingPageRenderer", "canRefreshFrame", "SnapshotCache", "size", "key", "PageView", "rendererClass", "cachedSnapshot", "Preloader", "snapshotCache", "#preloadAll", "Cache", "#setCacheControl", "Session", "#pageRefreshDebouncePeriod", "adapter", "requestId", "isUnsafe", "isStream", "frameTarget", "extendURLWithDeprecatedProperties", "defaultPrevented", "_snapshot", "_isPreview", "renderMethod", "ev", "newBody", "timing", "submitterIsNavigatable", "container", "withinFrame", "deprecatedLocationPropertyDescriptors", "confirmMethod", "mode", "Turbo", "TurboFrameMissingError", "FrameController", "_fetchResponse", "#currentFetchRequest", "#resolveVisitPromise", "#connected", "#hasBeenLoaded", "#ignoredAttributes", "#shouldMorphFrame", "#loadSourceURL", "#isIgnoringChangesTo", "refresh", "src", "#visit", "document", "#loadFrameResponse", "#handleUnvisitableFrameResponse", "#shouldInterceptNavigation", "#navigateFrame", "newFrame", "_renderMethod", "_newElement", "newFrameElement", "#willHandleFrameMissingFromResponse", "#handleFrameMissingFromResponse", "#withCurrentNavigationElement", "pageSnapshot", "#visitResponse", "#throwFrameMissingError", "wrapped", "getFrameElementById", "activateElement", "#formActionIsVisitable", "sourceURL", "#ignoringChangesToAttribute", "currentURL", "e", "targetElement", "_StreamElement", "c", "existingChildren", "newChildrenIds", "actionFunction", "#raise", "consumer", "getConsumer", "setConsumer", "createConsumer", "newConsumer", "subscribeTo", "channel", "mixin", "subscriptions", "walk", "obj", "acc", "key", "camel", "m", "x", "TurboCableStreamSourceElement", "connectStreamSource", "subscribeTo", "disconnectStreamSource", "data", "event", "channel", "signed_stream_name", "walk", "encodeMethodIntoRequestBody", "event", "form", "fetchOptions", "submitter", "body", "isBodyInit", "method", "determineFetchMethod", "formMethod", "determineFormMethod", "overrideMethod", "turbo_es2017_esm_exports", "encodeMethodIntoRequestBody", "EventListener", "eventTarget", "eventName", "eventOptions", "binding", "event", "extendedEvent", "extendEvent", "left", "right", "leftIndex", "rightIndex", "stopImmediatePropagation", "Dispatcher", "application", "eventListener", "listeners", "map", "clearEventListeners", "error", "message", "detail", "eventListenerMap", "cacheKey", "parts", "key", "defaultActionDescriptorFilters", "value", "element", "descriptorPattern", "parseActionDescriptorString", "descriptorString", "matches", "keyFilter", "parseEventTarget", "parseEventOptions", "eventTargetName", "options", "token", "stringifyEventTarget", "camelize", "_", "char", "namespaceCamelize", "capitalize", "dasherize", "tokenize", "isSomething", "object", "hasProperty", "property", "allModifiers", "Action", "index", "descriptor", "schema", "getDefaultEventNameForElement", "eventFilter", "filters", "standardFilter", "params", "pattern", "name", "match", "typecast", "meta", "ctrl", "alt", "shift", "modifier", "defaultEventNames", "e", "tagName", "Binding", "context", "action", "actionEvent", "method", "actionDescriptorFilters", "controller", "passes", "filter", "target", "currentTarget", "identifier", "ElementObserver", "delegate", "mutations", "callback", "mutation", "attributeName", "nodes", "node", "tree", "processor", "AttributeObserver", "add", "fetch", "del", "prune", "values", "Multimap", "set", "size", "_key", "_values", "SelectorObserver", "element", "selector", "delegate", "details", "ElementObserver", "Multimap", "callback", "matches", "tree", "match", "selectors", "_attributeName", "matchedBefore", "StringMapObserver", "mutations", "attributeName", "mutation", "oldValue", "key", "value", "attribute", "TokenListObserver", "AttributeObserver", "unmatchedTokens", "matchedTokens", "tokens", "token", "previousTokens", "currentTokens", "firstDifferingIndex", "zip", "previousToken", "currentToken", "tokensAreEqual", "tokenString", "parseTokenString", "content", "index", "left", "right", "length", "_", "ValueListObserver", "parseResult", "valuesByToken", "error", "BindingObserver", "context", "action", "binding", "Binding", "Action", "ValueObserver", "receiver", "descriptor", "name", "defaultValue", "writer", "rawValue", "rawOldValue", "changedMethodName", "changedMethod", "valueDescriptorMap", "descriptors", "hasMethodName", "capitalize", "TargetObserver", "_a", "readInheritableStaticArrayValues", "constructor", "propertyName", "ancestors", "getAncestorsForConstructor", "values", "getOwnStaticArrayValues", "readInheritableStaticObjectPairs", "pairs", "getOwnStaticObjectPairs", "definition", "OutletObserver", "outletName", "observer", "_selector", "outlet", "hasOutlet", "hasOutletController", "_element", "selectorObserver", "attributeObserver", "dependencies", "module", "identifiers", "Context", "scope", "functionName", "detail", "identifier", "controller", "message", "namespaceCamelize", "methodName", "args", "bless", "shadow", "getBlessedProperties", "properties", "shadowConstructor", "extend", "shadowProperties", "getShadowProperties", "blessedProperties", "blessing", "prototype", "getOwnKeys", "getShadowedDescriptor", "shadowingDescriptor", "object", "extendWithReflect", "extended", "testReflectExtension", "b", "blessDefinition", "Module", "application", "ClassMap", "tokenize", "DataMap", "dasherize", "Guide", "logger", "warnedKeys", "attributeValueContainsToken", "TargetSet", "targetName", "targetNames", "target", "targets", "targetDescriptor", "revisedAttributeName", "OutletSet", "controllerElement", "outletNames", "outlets", "controllerAttribute", "Scope", "_Scope", "schema", "ScopeObserver", "scopesByIdentifier", "referenceCount", "Router", "contexts", "afterLoad", "defaultSchema", "objectFromEntries", "c", "array", "memo", "k", "v", "Application", "Dispatcher", "defaultActionDescriptorFilters", "domReady", "controllerConstructor", "filter", "head", "rest", "resolve", "ClassPropertiesBlessing", "classDefinition", "propertiesForClassDefinition", "classes", "OutletPropertiesBlessing", "outletDefinition", "propertiesForOutletDefinition", "getOutletController", "getControllerAndEnsureConnectedScope", "outletController", "camelizedName", "outletElement", "TargetPropertiesBlessing", "targetDefinition", "propertiesForTargetDefinition", "ValuePropertiesBlessing", "valueDefinitionPairs", "propertyDescriptorMap", "result", "valueDefinitionPair", "valueDescriptor", "parseValueDefinitionPair", "propertiesForValueDefinitionPair", "read", "write", "typeDefinition", "valueDescriptorForTokenAndTypeDefinition", "parseValueTypeConstant", "constant", "parseValueTypeDefault", "parseValueTypeObject", "payload", "typeObject", "hasType", "isSomething", "hasDefault", "fullObject", "onlyType", "onlyDefault", "typeFromObject", "typeFromDefaultValue", "propertyPath", "parseValueTypeDefinition", "typeFromConstant", "type", "defaultValueForDefinition", "defaultValuesByType", "hasProperty", "constantFromType", "camelize", "readers", "writers", "writeString", "writeJSON", "Controller", "_identifier", "_application", "eventName", "prefix", "bubbles", "cancelable", "event", "application", "Application", "import_bootstrap", "confirm_controller_default", "Controller", "e", "message", "mainModal", "okButton", "modal", "ask", "containsDelete", "btn_preloader_controller_default", "Controller", "e", "notices_controller_default", "Controller", "clear_form_controller_default", "Controller", "event", "t", "e", "i", "n", "s", "o", "a", "r", "l", "c", "h", "d", "u", "p", "f", "g", "m", "v", "b", "y", "w", "x", "E", "S", "P", "C", "T", "M", "O", "A", "L", "z", "R", "k", "I", "_I", "D", "F", "j", "B", "H", "N", "_", "$", "W", "X", "q", "Y", "V", "Z", "U", "G", "K", "J", "Q", "_Q", "tt", "et", "it", "nt", "st", "ot", "at", "rt", "lt", "ct", "ht", "dt", "ut", "pt", "Oe", "ft", "gt", "mt", "vt", "bt", "yt", "wt", "xt", "Et", "St", "Pt", "Ct", "Tt", "Mt", "Ot", "At", "Lt", "zt", "Rt", "kt", "It", "Dt", "Ft", "jt", "Bt", "Ht", "Nt", "_t", "$t", "Wt", "Xt", "qt", "Yt", "Vt", "Zt", "Ut", "Gt", "Kt", "Jt", "Qt", "te", "ee", "ie", "ne", "se", "oe", "ae", "re", "le", "ce", "he", "de", "ue", "pe", "fe", "ge", "me", "ve", "be", "ye", "we", "xe", "Ee", "Se", "Pe", "Ce", "Te", "Me", "_Oe", "fancybox_controller_default", "Controller", "Oe", "Pagy", "rjsObserver", "entries", "e", "el", "initNav", "tokens", "sequels", "labelSequels", "trimParam", "container", "widths", "w", "a", "b", "lastWidth", "fillIn", "page", "label", "width", "html", "series", "labels", "l", "item", "i", "filled", "trim", "initCombo", "url_token", "initInput", "inputValue", "initSelector", "from", "url", "getVars", "input", "link", "initial", "action", "min", "val", "max", "n", "param", "arg", "elements", "uint8array", "c", "keyword", "args", "err", "pagy_default", "pagy_initializer_controller_default", "Controller", "pagy_default", "map_controller_default", "Controller", "address", "cityName", "res", "firstGeoObject", "coords", "bounds", "isObject", "obj", "extend", "target", "src", "key", "ssrDocument", "getDocument", "doc", "ssrWindow", "callback", "id", "getWindow", "win", "classesToTokens", "classes", "c", "deleteProps", "obj", "object", "key", "nextTick", "callback", "delay", "now", "getComputedStyle", "el", "window", "getWindow", "style", "getTranslate", "axis", "matrix", "curTransform", "transformMatrix", "curStyle", "isObject", "o", "isNode", "node", "extend", "to", "noExtend", "i", "nextSource", "keysArray", "nextIndex", "len", "nextKey", "desc", "setCSSProperty", "varName", "varValue", "animateCSSModeScroll", "_ref", "swiper", "targetPosition", "side", "startPosition", "startTime", "time", "duration", "dir", "isOutOfBound", "current", "target", "animate", "progress", "easeProgress", "currentPosition", "elementChildren", "element", "selector", "children", "el", "elementIsChildOf", "parent", "isChild", "showWarning", "text", "createElement", "tag", "classes", "classesToTokens", "elementPrevAll", "el", "selector", "prevEls", "prev", "elementNextAll", "nextEls", "next", "elementStyle", "prop", "getWindow", "elementIndex", "child", "i", "elementParents", "parents", "parent", "elementOuterSize", "el", "size", "includeMargins", "window", "getWindow", "makeElementsArray", "support", "calcSupport", "window", "getWindow", "document", "getDocument", "getSupport", "deviceCached", "calcDevice", "_temp", "userAgent", "platform", "ua", "device", "screenWidth", "screenHeight", "android", "ipad", "ipod", "iphone", "windows", "macos", "iPadScreens", "getDevice", "overrides", "browser", "calcBrowser", "needPerspectiveFix", "isSafari", "major", "minor", "num", "isWebView", "isSafariBrowser", "need3dFix", "getBrowser", "Resize", "_ref", "swiper", "on", "emit", "observer", "animationFrame", "resizeHandler", "createObserver", "entries", "width", "height", "newWidth", "newHeight", "_ref2", "contentBoxSize", "contentRect", "target", "removeObserver", "orientationChangeHandler", "Observer", "extendParams", "observers", "attach", "options", "ObserverFunc", "mutations", "observerUpdate", "init", "containerParents", "elementParents", "i", "destroy", "eventsEmitter", "events", "handler", "priority", "self", "method", "event", "onceHandler", "_len", "args", "_key", "index", "eventHandler", "data", "context", "_len2", "_key2", "updateSize", "el", "elementStyle", "updateSlides", "getDirectionPropertyValue", "node", "label", "params", "wrapperEl", "slidesEl", "swiperSize", "rtl", "wrongRTL", "isVirtual", "previousSlidesLength", "slides", "elementChildren", "slidesLength", "snapGrid", "slidesGrid", "slidesSizesGrid", "offsetBefore", "offsetAfter", "previousSnapGridLength", "previousSlidesGridLength", "spaceBetween", "slidePosition", "prevSlideSize", "slideEl", "setCSSProperty", "gridEnabled", "slideSize", "shouldResetSlideSize", "key", "slide", "slideStyles", "currentTransform", "currentWebKitTransform", "elementOuterSize", "paddingLeft", "paddingRight", "marginLeft", "marginRight", "boxSizing", "clientWidth", "offsetWidth", "newSlidesGrid", "slidesGridItem", "size", "groups", "groupSize", "_", "slideIndex", "allSlidesSize", "slideSizeValue", "maxSnap", "snap", "offsetSize", "allSlidesOffset", "snapIndex", "addToSnapGrid", "addToSlidesGrid", "v", "backFaceHiddenClass", "hasClassBackfaceClassAdded", "updateAutoHeight", "speed", "activeSlides", "getSlideByIndex", "updateSlidesOffset", "minusOffset", "toggleSlideClasses$1", "condition", "className", "updateSlidesProgress", "translate", "offsetCenter", "slideOffset", "slideProgress", "originalSlideProgress", "slideBefore", "slideAfter", "isFullyVisible", "isVisible", "updateProgress", "multiplier", "translatesDiff", "progress", "isBeginning", "isEnd", "progressLoop", "wasBeginning", "wasEnd", "isBeginningRounded", "isEndRounded", "firstSlideIndex", "lastSlideIndex", "firstSlideTranslate", "lastSlideTranslate", "translateMax", "translateAbs", "toggleSlideClasses", "updateSlidesClasses", "activeIndex", "getFilteredSlide", "selector", "activeSlide", "prevSlide", "nextSlide", "elementNextAll", "elementPrevAll", "processLazyPreloader", "imageEl", "slideSelector", "lazyEl", "unlazy", "preload", "amount", "len", "slidesPerView", "activeColumn", "preloadColumns", "slideIndexLastInView", "realIndex", "getActiveIndexByTranslate", "updateActiveIndex", "newActiveIndex", "previousIndex", "previousRealIndex", "previousSnapIndex", "getVirtualRealIndex", "aIndex", "skip", "firstSlideInColumn", "activeSlideIndex", "updateClickedSlide", "path", "pathEl", "slideFound", "update", "getSwiperTranslate", "axis", "currentTranslate", "getTranslate", "setTranslate", "byController", "x", "y", "z", "newProgress", "minTranslate", "maxTranslate", "translateTo", "runCallbacks", "translateBounds", "internal", "newTranslate", "isH", "animateCSSModeScroll", "e", "setTransition", "duration", "transitionEmit", "direction", "step", "dir", "transitionStart", "transitionEnd", "transition", "slideTo", "initial", "enabled", "normalizedTranslate", "normalizedGrid", "normalizedGridNext", "t", "slideToLoop", "newIndex", "targetSlideIndex", "cols", "centeredSlides", "needLoopFix", "slideNext", "animating", "perGroup", "increment", "slidePrev", "rtlTranslate", "normalize", "val", "normalizedSnapGrid", "prevSnap", "prevSnapIndex", "prevIndex", "lastIndex", "slideReset", "slideToClosest", "threshold", "currentSnap", "nextSnap", "slideToClickedSlide", "slideToIndex", "nextTick", "loopCreate", "slideRealIndex", "initSlides", "slidesPerGroup", "shouldFillGroup", "shouldFillGrid", "addBlankSlides", "amountOfSlides", "createElement", "slidesToAdd", "showWarning", "loopFix", "byMousewheel", "allowSlidePrev", "allowSlideNext", "loopedSlides", "prependSlidesIndexes", "appendSlidesIndexes", "isNext", "isPrev", "slidesPrepended", "slidesAppended", "activeColIndexWithShift", "colIndexToPrepend", "currentSlideTranslate", "diff", "shift", "loopParams", "c", "loopDestroy", "newSlidesOrder", "loop", "setGrabCursor", "moving", "unsetGrabCursor", "grabCursor", "closestElement", "base", "__closestFrom", "found", "preventEdgeSwipe", "startX", "edgeSwipeDetection", "edgeSwipeThreshold", "onTouchStart", "touches", "targetEl", "elementIsChildOf", "swipingClassHasValue", "eventPath", "noSwipingSelector", "isTargetShadow", "startY", "now", "preventDefault", "shouldPreventDefault", "onTouchMove", "targetTouch", "pageX", "pageY", "diffX", "diffY", "touchAngle", "touchesDiff", "prevTouchesDirection", "isLoop", "allowLoopFix", "evt", "loopFixed", "disableParentSwiper", "resistanceRatio", "onTouchEnd", "touchEndTime", "timeDiff", "pathTree", "currentPos", "swipeToLast", "stopIndex", "rewindFirstIndex", "rewindLastIndex", "ratio", "onResize", "isVirtualLoop", "onClick", "onScroll", "onLoad", "onDocumentTouchStart", "capture", "domMethod", "swiperMethod", "attachEvents", "detachEvents", "events$1", "isGridEnabled", "setBreakpoint", "initialized", "breakpoints", "breakpoint", "breakpointParams", "wasMultiRow", "isMultiRow", "wasGrabCursor", "isGrabCursor", "wasEnabled", "prop", "wasModuleEnabled", "isModuleEnabled", "directionChanged", "needsReLoop", "wasLoop", "extend", "isEnabled", "hasLoop", "getBreakpoint", "containerEl", "currentHeight", "points", "point", "minRatio", "b", "value", "prepareClasses", "prefix", "resultClasses", "item", "classNames", "addClasses", "suffixes", "removeClasses", "classes", "checkOverflow", "wasLocked", "slidesOffsetBefore", "lastSlideRightEdge", "checkOverflow$1", "defaults", "moduleExtendParams", "allModulesParams", "obj", "moduleParamName", "moduleParams", "prototypes", "extendedDefaults", "Swiper", "_Swiper", "swipers", "newParams", "mod", "swiperParams", "eventName", "property", "elementIndex", "min", "current", "cls", "updates", "view", "exact", "spv", "breakLoop", "translateValue", "translated", "newDirection", "needUpdate", "currentDirection", "element", "getWrapperSelector", "lazyElements", "deleteInstance", "cleanStyles", "deleteProps", "newDefaults", "modules", "module", "m", "prototypeGroup", "protoMethod", "createElementIfNotDefined", "swiper", "originalParams", "params", "checkProps", "key", "element", "elementChildren", "createElement", "Navigation", "_ref", "swiper", "extendParams", "on", "emit", "getEl", "el", "res", "toggleEl", "disabled", "params", "makeElementsArray", "subEl", "update", "nextEl", "prevEl", "onPrevClick", "e", "onNextClick", "init", "createElementIfNotDefined", "initButton", "dir", "destroy", "destroyButton", "disable", "_s", "targetEl", "targetIsButton", "path", "pathEl", "isHidden", "enable", "Autoplay", "_ref", "swiper", "extendParams", "on", "emit", "params", "timeout", "raf", "autoplayDelayTotal", "autoplayDelayCurrent", "autoplayTimeLeft", "autoplayStartTime", "wasPaused", "isTouched", "pausedByTouch", "touchStartTimeout", "slideChanged", "pausedByInteraction", "pausedByPointerEnter", "onTransitionEnd", "e", "resume", "calcTimeLeft", "timeLeft", "getSlideDelay", "activeSlideEl", "slideEl", "run", "delayForce", "delay", "currentSlideDelay", "speed", "proceed", "start", "stop", "pause", "internal", "reset", "onVisibilityChange", "document", "getDocument", "onPointerEnter", "onPointerLeave", "attachMouseEvents", "detachMouseEvents", "attachDocumentEvents", "detachDocumentEvents", "_s", "swiper_controller_default", "Controller", "Swiper", "Navigation", "Autoplay", "expand_text_controller_default", "Controller", "textLength", "screenWidth", "collapse_controller_default", "Controller", "no_image_controller_default", "Controller", "div", "img", "mobile_bar_controller_default", "Controller", "event", "parentElement", "scrollerElement", "auto_scroll_down_controller_default", "Controller", "clipboard_controller_default", "Controller", "text", "application", "confirm_controller_default", "btn_preloader_controller_default", "notices_controller_default", "clear_form_controller_default", "fancybox_controller_default", "pagy_initializer_controller_default", "map_controller_default", "swiper_controller_default", "expand_text_controller_default", "collapse_controller_default", "no_image_controller_default", "mobile_bar_controller_default", "auto_scroll_down_controller_default", "clipboard_controller_default", "import_bootstrap", "attachmentSelector", "attachments", "preview", "presentation", "caption", "name", "size", "file", "attributes", "default", "tagName", "parse", "quote", "nestable", "heading1", "terminal", "breakOnReturn", "group", "code", "htmlAttributes", "text", "plaintext", "bulletList", "bullet", "listAttribute", "test", "element", "parentNode", "this", "numberList", "number", "attachmentGallery", "exclusive", "_element$tagName", "toLowerCase", "androidVersionMatch", "navigator", "userAgent", "match", "androidVersion", "parseInt", "browser$1", "composesExistingText", "recentAndroid", "samsungAndroid", "forcesObjectResizing", "supportsInputEvents", "InputEvent", "every", "prop", "prototype", "lang$1", "attachFiles", "bold", "bullets", "byte", "bytes", "captionPlaceholder", "indent", "italic", "link", "numbers", "outdent", "redo", "remove", "strike", "undo", "unlink", "url", "urlPlaceholder", "GB", "KB", "MB", "PB", "TB", "sizes", "lang", "file_size_formatting", "prefix", "precision", "formatter", "concat", "base", "exp", "Math", "floor", "log", "withoutInsignificantZeros", "pow", "toFixed", "replace", "ZERO_WIDTH_SPACE", "NON_BREAKING_SPACE", "extend", "properties", "key", "value", "html", "document", "documentElement", "matches", "handleEvent", "eventName", "onElement", "matchingSelector", "withCallback", "inPhase", "preventDefault", "times", "arguments", "length", "undefined", "selector", "useCapture", "handler", "event", "destroy", "target", "findClosestElementFromNode", "call", "removeEventListener", "addEventListener", "triggerEvent", "bubbles", "cancelable", "createEvent", "initEvent", "dispatchEvent", "elementMatchesSelector", "nodeType", "node", "untilNode", "Node", "ELEMENT_NODE", "closest", "innerElementIsActive", "activeElement", "elementContainsNode", "findChildIndexOfNode", "_node", "childIndex", "previousSibling", "removeNode", "_node$parentNode", "removeChild", "walkTree", "tree", "onlyNodesOfType", "usingFilter", "expandEntityReferences", "whatToShow", "NodeFilter", "SHOW_ELEMENT", "SHOW_TEXT", "SHOW_COMMENT", "SHOW_ALL", "createTreeWalker", "makeElement", "tag", "options", "createElement", "editable", "contenteditable", "setAttribute", "style", "data", "dataset", "className", "split", "forEach", "classList", "add", "textContent", "childNodes", "childNode", "appendChild", "blockTagNames", "getBlockTagNames", "blockAttributes", "push", "nodeIsBlockContainer", "nodeIsBlockStartComment", "firstChild", "nodeIsBlockStart", "strict", "includes", "nodeIsCommentNode", "COMMENT_NODE", "nodeIsCursorTarget", "nodeIsTextNode", "trixCursorTarget", "nodeIsAttachmentElement", "nodeIsEmptyTextNode", "TEXT_NODE", "input", "level2Enabled", "getLevel", "browser", "pickFiles", "callback", "type", "multiple", "hidden", "id", "fileInputId", "files", "getElementById", "body", "click", "parser", "removeBlankTableCells", "tableCellSeparator", "tableRowSeparator", "text_attributes", "inheritable", "window", "getComputedStyle", "fontWeight", "fontStyle", "href", "groupTagName", "getAttribute", "frozen", "backgroundColor", "toolbar", "getDefaultHTML", "interval", "U", "i", "n", "a", "attachment", "attachmentCaption", "attachmentCaptionEditor", "attachmentMetadata", "attachmentMetadataContainer", "attachmentName", "attachmentProgress", "attachmentSize", "attachmentToolbar", "u", "M", "l", "j", "W", "V", "q", "BasicObject", "expression", "toMethod", "toProperty", "optional", "parseProxyMethodExpression", "subject", "object", "_this$toMethod", "_object", "apply", "proxyMethodExpressionPattern", "Error", "args", "Function", "RegExp", "K", "G", "$", "UTF16String", "box", "fromUCS2String", "toString", "ucs2String", "ucs2decode", "codepoints", "ucs2encode", "constructor", "super", "ucs2Length", "offsetToUCS2Offset", "offset", "slice", "max", "offsetFromUCS2Offset", "ucs2Offset", "fromCodepoints", "charAt", "isEqualTo", "toJSON", "getCacheKey", "hasArrayFrom", "_Array$from", "Array", "from", "hasStringCodePointAt", "_$codePointAt", "codePointAt", "hasStringFromCodePoint", "_String$fromCodePoint", "String", "fromCodePoint", "string", "map", "char", "output", "counter", "charCodeAt", "extra", "array", "result", "fromCharCode", "join", "TrixObject", "jsonString", "fromJSON", "JSON", "hasSameConstructorAs", "inspect", "parts", "contents", "contentsForInspection", "toJSONString", "stringify", "toUTF16String", "arraysAreEqual", "b", "index", "spliceArray", "_len", "_key", "splice", "RTL_PATTERN", "getDirection", "dir", "dirName", "textArea", "form", "supportsDirName", "FormData", "has", "error", "supportsDirSelector", "get", "trim", "allAttributeNames", "blockAttributeNames", "textAttributeNames", "listAttributeNames", "getAllAttributeNames", "getTextAttributeNames", "getBlockAttributeNames", "getBlockConfig", "attributeName", "config", "Object", "keys", "getTextConfig", "installDefaultCSSForTagName", "defaultCSS", "insertStyleElementForTagName", "nonce", "getCSPNonce", "head", "insertBefore", "getMetaElement", "content", "querySelector", "testTransferData", "dataTransferIsPlainText", "dataTransfer", "getData", "DOMParser", "parseFromString", "keyEventIsKeyboardCommand", "platform", "metaKey", "ctrlKey", "defer", "fn", "setTimeout", "copyObject", "objectsAreEqual", "normalizeRange", "range", "isArray", "copyValue", "rangeIsCollapsed", "start", "end", "rangeValuesAreEqual", "rangesAreEqual", "leftRange", "rightRange", "leftStart", "leftEnd", "rightStart", "rightEnd", "left", "right", "SelectionChangeObserver", "update", "bind", "selectionManagers", "started", "stop", "registerSelectionManager", "selectionManager", "unregisterSelectionManager", "filter", "sm", "notifySelectionManagersOfSelectionChange", "selectionDidChange", "reset", "selectionChangeObserver", "getDOMSelection", "selection", "getSelection", "rangeCount", "getDOMRange", "_getDOMSelection", "domRange", "getRangeAt", "domRangeIsPrivate", "setDOMRange", "removeAllRanges", "addRange", "nodeIsPrivate", "startContainer", "endContainer", "getPrototypeOf", "normalizeSpaces", "breakableWhitespacePattern", "squishBreakableWhitespace", "source", "utf16StringDifferences", "diffA", "utf16StringDifference", "utf16String", "diffB", "leftIndex", "rightIndexA", "rightIndexB", "Hash", "fromCommonAttributesOfObjects", "objects", "hash", "getKeys", "getKeysCommonToHash", "values", "copy", "merge", "unbox", "toArray", "isEmpty", "toObject", "keyToRemove", "sort", "ObjectGroup", "groupObjects", "ungroupedObjects", "depth", "asTree", "_object$canBeGrouped2", "_object$canBeGrouped", "_group$canBeGroupedWi", "_group", "canBeGrouped", "canBeGroupedWith", "getObjects", "getDepth", "ObjectMap", "find", "ElementStore", "elements", "getKey", "trixStoreKey", "Operation", "isPerforming", "performing", "hasPerformed", "performed", "hasSucceeded", "succeeded", "hasFailed", "getPromise", "promise", "Promise", "resolve", "reject", "perform", "release", "_this$promise", "_this$promise$cancel", "cancel", "proxyMethod", "ObjectView", "childViews", "rootView", "getNodes", "nodes", "createNodes", "cloneNode", "invalidate", "_this$parentView", "parentView", "invalidateViewForObject", "_this$findViewForObje", "findViewForObject", "findOrCreateCachedChildView", "viewClass", "view", "getCachedViewForObject", "recordChildView", "createChildView", "cacheViewForObject", "ObjectGroupView", "getAllChildViews", "views", "childView", "findElement", "findElementForObject", "getViewCache", "isViewCachingEnabled", "viewCache", "shouldCacheViews", "enableViewCaching", "disableViewCaching", "_this$getViewCache", "cache", "garbageCollectCachedViews", "objectKeys", "objectGroup", "getChildViews", "createContainerElement", "DEFAULT_ALLOWED_ATTRIBUTES", "DEFAULT_FORBIDDEN_PROTOCOLS", "DEFAULT_FORBIDDEN_ELEMENTS", "HTMLSanitizer", "sanitizedElement", "sanitize", "sanitizedHtml", "getHTML", "outerHTML", "innerHTML", "sanitizer", "allowedAttributes", "forbiddenProtocols", "forbiddenElements", "createBodyElementForHTML", "sanitizeElements", "normalizeListElementNesting", "getBody", "walker", "nodesToRemove", "nextNode", "currentNode", "elementIsRemovable", "sanitizeElement", "hasAttribute", "protocol", "removeAttribute", "_ref", "indexOf", "querySelectorAll", "listElement", "previousElement", "previousElementSibling", "elementIsForbidden", "elementIsntSerializable", "doc", "implementation", "createHTMLDocument", "css", "AttachmentView", "uploadProgressDelegate", "attachmentPiece", "piece", "createContentNodes", "innerElement", "figure", "getClassName", "getHref", "tabindex", "hasContent", "setHTML", "getContent", "createCaptionElement", "isPending", "progressElement", "class", "getUploadProgress", "trixMutable", "createCursorTarget", "figcaption", "getCaption", "captionConfig", "getCaptionConfig", "getFilename", "getFormattedFilesize", "nameElement", "createTextNode", "sizeElement", "names", "getType", "extension", "getExtension", "trixAttachment", "trixContentType", "getContentType", "trixId", "trixAttributes", "trixSerialize", "htmlContainsTagName", "_config$attachments$t", "findProgressElement", "_this$findElement", "attachmentDidChangeUploadProgress", "div", "PreviewableAttachmentView", "previewDelegate", "image", "src", "refresh", "updateAttributesForImage", "getURL", "previewURL", "getPreviewURL", "serializedAttributes", "width", "getWidth", "height", "getHeight", "storeKey", "attachmentDidChangeAttributes", "PieceView", "getAttributes", "textConfig", "context", "createAttachmentNodes", "createStringNodes", "_element", "firstElementChild", "isPreviewable", "_this$textConfig", "iterable", "substring", "preserveSpaces", "styles", "pendingElement", "styleProperty", "isLast", "isFirst", "followsWhitespace", "TextView", "pieces", "getPieces", "lastIndex", "endsWithWhitespace", "previousPiece", "BlockView", "block", "createComment", "_getBlockConfig", "getLastAttribute", "textView", "shouldAddExtraNewlineElement", "isRTL", "assign", "getBlockBreakPosition", "entries", "DocumentView", "render", "sync", "elementStore", "setDocument", "shadowElement", "getBlocks", "isSynced", "elementsHaveEqualHTML", "fragment", "createDocumentFragmentForSync", "lastChild", "didSync", "findStoredElements", "createDocumentFragment", "storedElement", "replaceChild", "otherElement", "ignoreSpaces", "Ce", "t", "e", "o", "s", "ke", "r", "Ee", "Re", "Se", "De", "Le", "we", "Te", "Fe", "Be", "Pe", "Piece", "types", "pieceJSON", "copyWithAttributes", "getValue", "copyWithAdditionalAttributes", "copyWithoutAttribute", "attribute", "getAttributesHash", "hasSameStringValueAsPiece", "hasSameAttributesAsPiece", "isBlockBreak", "isSerializable", "getLength", "canBeConsolidatedWith", "_defineProperty", "ImagePreloadOperation", "Image", "onload", "naturalWidth", "naturalHeight", "onerror", "Attachment", "attributesForFile", "setFile", "filename", "filesize", "contentType", "attachmentJSON", "releaseFile", "didChangeAttributes", "setAttributes", "newAttributes", "_this$previewDelegate", "_this$previewDelegate2", "_this$delegate", "_this$delegate$attach", "delegate", "preloadURL", "previewablePattern", "getFilesize", "_this$getFilename$mat", "getFile", "preloadFile", "releasePreloadedFile", "uploadProgress", "setUploadProgress", "_this$uploadProgressD", "_this$uploadProgressD2", "preloadingURL", "setPreviewURL", "_this$previewDelegate3", "_this$previewDelegate4", "_this$delegate2", "_this$delegate2$attac", "attachmentDidChangePreviewURL", "preload", "fileObjectURL", "URL", "createObjectURL", "revokeObjectURL", "then", "catch", "AttachmentPiece", "ensureAttachmentExclusivelyHasAttribute", "removeProhibitedAttributes", "permittedAttributes", "_piece$attachment", "json", "toConsole", "registerType", "StringPiece", "consolidateWith", "splitAtOffset", "SplittableList", "eachObject", "insertObjectAtIndex", "insertSplittableListAtIndex", "splittableList", "insertSplittableListAtPosition", "position", "splitObjectAtPosition", "editObjectAtIndex", "replaceObjectAtIndex", "removeObjectAtIndex", "getObjectAtIndex", "getSplittableListInRange", "rightIndex", "splitObjectsAtRange", "selectSplittableList", "removeObjectsInRange", "transformObjectsInRange", "transform", "transformedObjects", "rightOuterIndex", "leftInnerIndex", "startOfRange", "endOfRange", "getObjectAtPosition", "findIndexAndOffsetAtPosition", "splitIndex", "splitOffset", "leftObject", "rightObject", "consolidate", "pendingObject", "_pendingObject$canBeC", "_pendingObject", "consolidateFromIndexToIndex", "startIndex", "endIndex", "objectsInRange", "consolidatedInRange", "currentPosition", "nextPosition", "findPositionAtIndexAndOffset", "currentIndex", "getEndPosition", "endPosition", "objectArraysAreEqual", "Text", "textJSON", "notEmpty", "pieceList", "copyWithPieceList", "copyUsingObjectMap", "objectMap", "appendText", "insertTextAtPosition", "removeTextAtRange", "replaceTextAtRange", "moveTextFromRangeToPosition", "getTextAtRange", "addAttributeAtRange", "addAttributesAtRange", "removeAttributeAtRange", "setAttributesAtRange", "getAttributesAtPosition", "_this$pieceList$getOb", "getCommonAttributes", "getCommonAttributesAtRange", "getExpandedRangeForAttributeAtOffset", "getStringAtRange", "getStringAtPosition", "startsWithString", "endsWithString", "getAttachmentPieces", "getAttachments", "getAttachmentAndPositionById", "attachmentId", "getAttachmentById", "getRangeOfAttachment", "attachmentAndPosition", "updateAttributesForAttachment", "_text$pieceList", "eachPiece", "getPieceAtPosition", "toSerializableText", "Block", "blockJSON", "applyBlockBreakToText", "copyWithText", "copyWithoutText", "copyWithoutAttributes", "mappedText", "addAttribute", "expandAttribute", "addHTMLAttribute", "removeLastValue", "removeLastAttribute", "getLastElement", "getAttributeLevel", "getAttributeAtLevel", "level", "hasAttributes", "getLastNestableAttribute", "getNestableAttributes", "getNestingLevel", "decreaseNestingLevel", "increaseNestingLevel", "lastIndexOf", "getListItemAttributes", "isListItem", "isTerminalBlock", "_getBlockConfig2", "breaksOnReturn", "_getBlockConfig3", "findLineBreakInDirectionFromPosition", "direction", "newlineText", "textForStringWithAttributes", "getTextWithoutBlockBreak", "textEndsInBlockBreak", "otherBlock", "otherAttributes", "otherAttribute", "getListAttributeNames", "unmarkExistingInnerBlockBreaksInText", "addBlockBreakToText", "modified", "innerPieces", "lastPiece", "unmarkBlockBreakPiece", "blockBreakText", "blockBreak", "Document", "documentJSON", "textAttributes", "blocks", "blockList", "getBlockAtIndex", "consolidateBlocks", "copyUsingObjectsFromDocument", "sourceDocument", "copyWithBaseBlockAttributes", "replaceBlock", "oldBlock", "newBlock", "insertDocumentAtRange", "locationFromPosition", "getBlockAtPosition", "mergeDocumentAtRange", "formattedDocument", "startPosition", "startLocation", "baseBlockAttributes", "getBaseBlockAttributes", "trailingBlockAttributes", "leadingBlockAttributes", "blockCount", "getBlockCount", "firstBlock", "firstText", "insertTextAtRange", "leftPosition", "rightPosition", "leftLocation", "rightLocation", "locationRangeFromRange", "leftOffset", "leftBlock", "rightOffset", "rightBlock", "leftText", "rightText", "affectedBlockCount", "getDocumentAtRange", "movingRightward", "eachBlockAtRange", "textRange", "eachBlock", "getTextAtIndex", "removeAttributeForAttachment", "setHTMLAttributeAtPosition", "updatedBlock", "insertBlockBreakAtRange", "applyBlockAttributeAtRange", "expanded", "expandRangeToLineBreaksAndSplitBlocks", "blockConfig", "removeLastListAttributeAtRange", "exceptAttributeName", "converted", "convertLineBreaksToBlockBreaksInRange", "removeBlockAttributesAtRange", "removeLastTerminalAttributeAtRange", "consolidateBlocksAtRange", "lastAttributeName", "endLocation", "startBlock", "positionFromLocation", "endBlock", "_this$getBlockAtIndex", "getTextAtPosition", "getCharacterAtPosition", "getEditCount", "editCount", "getCommonAttributesAtPosition", "attributesForBlock", "commonAttributes", "attributesLeft", "inheritableAttributes", "getRangeOfCommonAttributeAtPosition", "startOffset", "endOffset", "blockIndex", "lastAttributeIndex", "min", "attachmentPieces", "getLocationRangeOfAttachment", "getAttachmentPieceForAttachment", "findRangesForBlockAttribute", "ranges", "findRangesForTextAttribute", "withValue", "location", "locationRangeFromPosition", "rangeFromLocationRange", "locationRange", "getTexts", "toSerializableDocument", "pieceForString", "parseTrixDataAttribute", "HTMLParser", "referenceElement", "blockElements", "processedElements", "getDocument", "createHiddenContainer", "containerElement", "nodeFilter", "processNode", "translateBlockElementMarginsToNewlines", "removeHiddenContainer", "display", "nextSibling", "isInsignificantTextNode", "appendBlockForTextNode", "processTextNode", "appendBlockForElement", "processElement", "currentBlockElement", "isBlockElement", "appendStringWithAttributes", "_this$currentBlock", "getBlockAttributes", "getBlockHTMLAttributes", "currentBlock", "appendBlockForAttributesWithElement", "elementIsBlockElement", "currentBlockContainsElement", "parentBlockElement", "findParentBlockElement", "appendEmptyBlock", "parentElement", "_node$previousSibling", "elementCanDisplayPreformattedText", "stringEndsWithWhitespace", "leftTrimBreakableWhitespace", "getTextAttributes", "appendAttachmentWithAttributes", "isExtraBR", "dimensions", "needsTableSeparator", "appendPiece", "appendStringToTextAtIndex", "prependStringToTextAtIndex", "unshift", "configAttr", "attributeInheritedFromBlock", "blockElement", "findBlockElementAncestors", "attrConfig", "_attrConfig$test", "reverse", "settings", "ancestors", "stringIsAllBreakableWhitespace", "nodeEndsWithNonWhitespace", "_element$previousSibl", "defaultMargin", "getMarginOfDefaultBlockElement", "margin", "getMarginOfBlockElementAtIndex", "top", "bottom", "getBlockElementMargin", "whiteSpace", "marginTop", "marginBottom", "FILTER_REJECT", "FILTER_ACCEPT", "unserializableAttributeNames", "serializedAttributesAttribute", "serializedAttributesSelector", "blockCommentPattern", "serializers", "serializable", "HTMLElement", "el", "bi", "ManagedAttachment", "attachmentManager", "requestRemovalOfAttachment", "AttachmentManager", "managedAttachments", "manageAttachment", "attachmentIsManaged", "attachmentManagerDidRequestRemovalOfAttachment", "unmanageAttachment", "managedAttachment", "LineBreakInsertion", "composition", "selectedRange", "getSelectedRange", "previousCharacter", "nextCharacter", "shouldInsertBlockBreak", "shouldBreakFormattedBlock", "shouldDecreaseListLevel", "shouldPrependListItem", "shouldRemoveLastBlockAttribute", "Composition", "currentAttributes", "revision", "_this$delegate$compos", "refreshAttachments", "compositionDidChangeDocument", "getSnapshot", "loadSnapshot", "_this$delegate2$compo", "_this$delegate3", "_this$delegate3$compo", "compositionWillLoadSnapshot", "setSelection", "compositionDidLoadSnapshot", "insertText", "updatePosition", "notifyDelegateOfInsertionAtRange", "insertBlock", "insertDocument", "insertString", "getCurrentTextAttributes", "insertBlockBreak", "insertLineBreak", "insertion", "decreaseListLevel", "removeLastBlockAttribute", "breakFormattedBlock", "insertHTML", "replaceHTML", "getLocationRange", "insertFile", "insertFiles", "_this$delegate4", "compositionShouldAcceptFile", "attachmentForFile", "insertAttachments", "insertAttachment", "attachmentText", "textForAttachmentWithAttributes", "shouldManageDeletingInDirection", "shouldManageMovingCursorInDirection", "deleteInDirection", "deletingIntoPreviousBlock", "selectionSpansBlocks", "selectionIsCollapsed", "canDecreaseBlockAttributeLevel", "getBlock", "decreaseBlockAttributeLevel", "getExpandedRangeInDirection", "getAttachmentAtRange", "editAttachment", "moveTextFromRange", "removeAttachment", "stopEditingAttachment", "removeCurrentAttribute", "insertPlaceholder", "placeholderPosition", "getPosition", "selectPlaceholder", "setSelectedRange", "PLACEHOLDER", "forgetPlaceholder", "hasCurrentAttribute", "toggleCurrentAttribute", "setCurrentAttribute", "canSetCurrentAttribute", "canSetCurrentBlockAttribute", "canSetCurrentTextAttribute", "getSelectedDocument", "setBlockAttribute", "setTextAttribute", "notifyDelegateOfCurrentAttributesChange", "setHTMLAtributeAtPosition", "allowedHTMLAttributes", "newDocument", "removeBlockAttribute", "updateCurrentAttributes", "removeTextAttribute", "canDecreaseNestingLevel", "_this$getBlock", "canIncreaseNestingLevel", "previousBlock", "getPreviousBlock", "_this$getBlock2", "_this$getBlock3", "attributeLevel", "ignoreLock", "getCurrentAttributes", "freezeSelection", "thawSelection", "hasFrozenSelection", "_this$delegate5", "compositionDidRequestChangingSelectionToLocationRange", "getSelectionManager", "setLocationRange", "targetLocationRange", "withTargetLocationRange", "withTargetRange", "withTargetDOMRange", "createLocationRangeFromDOMRange", "translateUTF16PositionFromOffset", "editingAttachment", "moveCursorInDirection", "canEditAttachment", "expandSelectionInDirection", "expandSelectionForEditing", "expandSelectionAroundCommonAttribute", "selectionContainsAttachments", "_this$getSelectedAtta", "getSelectedAttachments", "selectionIsInCursorTarget", "positionIsCursorTarget", "locationIsCursorTarget", "positionIsBlockBreak", "_this$document$getPie", "_this$getSelectedDocu", "added", "removed", "oldArray", "newArray", "existingValues", "Set", "currentValues", "_this$delegate6", "_this$delegate6$compo", "compositionDidRemoveAttachment", "_this$delegate7", "_this$delegate7$compo", "compositionDidAddAttachment", "_this$delegate8", "_this$delegate8$compo", "compositionDidEditAttachment", "_this$delegate9", "_this$delegate9$compo", "compositionDidChangeAttachmentPreviewURL", "_this$delegate10", "_this$delegate10$comp", "compositionDidStartEditingAttachment", "_this$delegate11", "_this$delegate11$comp", "compositionDidStopEditingAttachment", "_this$delegate12", "_this$delegate12$comp", "compositionDidChangeCurrentAttributes", "_this$delegate13", "_this$delegate13$comp", "compositionDidPerformInsertionAtRange", "utf16string", "utf16position", "UndoManager", "undoEntries", "redoEntries", "recordUndoEntry", "description", "consolidatable", "previousEntry", "entryHasDescriptionAndContext", "undoEntry", "createEntry", "pop", "redoEntry", "snapshot", "canUndo", "canRedo", "entry", "BLOCK_ATTRIBUTE_NAME", "Filter", "applyBlockAttribute", "findRangesOfBlocks", "findRangesOfPieces", "moveSelectedRangeForward", "attachmentGalleryFilter", "DEFAULT_FILTERS", "Editor", "undoManager", "filters", "loadDocument", "loadHTML", "loadJSON", "getClientRectAtPosition", "getClientRectAtLocationRange", "activateAttribute", "attributeIsActive", "canActivateAttribute", "deactivateAttribute", "LocationMapper", "findLocationFromContainerAndOffset", "container", "foundBlock", "attachmentElement", "findAttachmentElementParentForNode", "rejectAttachmentContents", "nodeLength", "findContainerAndOffsetFromLocation", "nodeOffset", "findNodeAndOffsetFromLocation", "getSignificantNodesForIndex", "acceptSignificantNodes", "recordingNodes", "rejectEmptyTextNodes", "PointMapper", "createDOMRangeFromPoint", "x", "y", "caretPositionFromPoint", "offsetNode", "createRange", "setStart", "caretRangeFromPoint", "createTextRange", "originalDOMRange", "moveToPoint", "select", "getClientRectsForDOMRange", "getClientRects", "SelectionManager", "didMouseDown", "locationMapper", "pointMapper", "lockCount", "currentLocationRange", "lockedLocationRange", "createDOMRangeFromLocationRange", "updateCurrentLocationRange", "setLocationRangeFromPointRange", "pointRange", "getLocationAtPoint", "lock", "unlock", "clearSelection", "_getDOMRange", "collapsed", "selectionIsExpanded", "domRangeWithinElement", "pauseTemporarily", "resumeHandlers", "paused", "resume", "clearTimeout", "resumeTimeout", "_this$delegate$locati", "locationRangeDidChange", "rangeStart", "rangeEnd", "setEnd", "point", "_this$createLocationR", "Oi", "Oe", "Ai", "Me", "ze", "yi", "ti", "Li", "ri", "se", "xi", "Di", "vi", "Ie", "Ii", "Ni", "We", "je", "He", "Ci", "Mi", "ee", "ce", "be", "ve", "ge", "de", "me", "keyNames", "undoable", "commands", "do", "undos", "AttachmentEditorController", "title", "trixAction", "didClickToolbar", "didClickActionButton", "textarea", "placeholder", "textareaClone", "tabIndex", "autoresize", "scrollHeight", "didInputCaption", "didKeyDownCaption", "didChangeCaption", "didBlurCaption", "editingFigcaption", "editCaption", "focus", "install", "makeElementMutable", "addToolbar", "installCaptionEditor", "uninstall", "savePendingCaption", "didUninstallAttachmentEditor", "pendingCaption", "_this$delegate3$attac", "attachmentEditorDidRequestUpdatingAttributesForAttachment", "attachmentEditorDidRequestRemovingAttributeForAttachment", "stopPropagation", "attachmentEditorDidRequestRemovalOfAttachment", "_this$delegate5$attac", "keyCode", "attachmentEditorDidRequestDeselectingAttachment", "CompositionController", "didFocus", "didBlur", "didClickAttachment", "documentView", "_this$blurPromise", "focused", "compositionControllerDidFocus", "blurPromise", "compositionControllerDidBlur", "findAttachmentForElement", "compositionControllerDidSelectAttachment", "getSerializableElement", "isEditingAttachment", "_this$delegate4$compo", "_this$delegate5$compo", "canSyncDocumentView", "compositionControllerWillSyncDocumentView", "compositionControllerDidSyncDocumentView", "compositionControllerDidRender", "rerenderViewForObject", "refreshViewCache", "attachmentEditor", "installAttachmentEditorForAttachment", "_this$attachmentEdito", "uninstallAttachmentEditor", "_this$attachmentEdito2", "compositionControllerWillUpdateAttachment", "compositionControllerDidRequestRemovalOfAttachment", "compositionControllerDidRequestDeselectingAttachment", "Controller", "mutableAttributeName", "mutableSelector", "childList", "characterData", "characterDataOldValue", "subtree", "MutationObserver", "didMutate", "observer", "observe", "disconnect", "mutations", "_this$delegate$elemen", "findSignificantMutations", "elementDidMutate", "getMutationSummary", "mutation", "mutationIsSignificant", "nodeIsMutable", "nodesModifiedByMutation", "nodeIsSignificant", "addedNodes", "removedNodes", "getTextMutationSummary", "additions", "deletions", "getTextChangesFromCharacterData", "textChanges", "getTextChangesFromChildList", "addition", "summary", "textAdded", "deleted", "textDeleted", "getMutationsByType", "textRemoved", "getTextForNodes", "characterMutations", "startMutation", "endMutation", "summarized", "oldString", "newString", "oldValue", "FileVerificationOperation", "reader", "FileReader", "abort", "readAsArrayBuffer", "FlakyAndroidKeyboardDetector", "shouldIgnore", "previousEvent", "checkSamsungKeyboardBuggyModeStart", "checkSamsungKeyboardBuggyModeEnd", "buggyMode", "insertingLongTextAfterUnidentifiedChar", "differsInWhitespace", "innerText", "inputType", "_this$event$data", "isBeforeInputInsertText", "previousEventWasUnidentifiedKeydown", "_this$previousEvent", "_this$previousEvent2", "text1", "text2", "normalize", "whiteSpaceNormalizerRegexp", "InputController", "mutationObserver", "flakyKeyboardDetector", "events", "handlerFor", "mutationSummary", "editorWillSyncDocumentView", "editorDidSyncDocumentView", "requestRender", "_this$delegate$inputC", "inputControllerDidRequestRender", "requestReparse", "_this$delegate2$input", "inputControllerDidRequestReparse", "operations", "all", "handleInput", "_this$responder", "inputControllerWillAttachFiles", "responder", "defaultPrevented", "inputControllerWillHandleInput", "inputControllerDidHandleInput", "createLinkHTML", "nn", "pastedFileCount", "Level0InputController", "resetInputSummary", "setInputSummary", "inputSummary", "isComposing", "inputControllerDidAllowUnhandledInput", "mutationIsExpected", "preferDocument", "mutationAdditionMatchesSummary", "mutationDeletionMatchesSummary", "didDelete", "unexpectedNewlineAddition", "unexpectedNewlineDeletion", "_this$compositionInpu", "textChanged", "composedEmptyString", "compositionInput", "getEndData", "getCompositionInput", "CompositionInput", "isEnded", "_this$responder2", "serializeSelectionToDataTransfer", "_this$responder3", "setData", "canAcceptDataTransfer", "Files", "getPastedHTMLUsingHiddenElement", "pageXOffset", "pageYOffset", "opacity", "requestAnimationFrame", "keydown", "didInput", "keyName", "_context2", "modifier", "_context", "character", "inputControllerDidReceiveKeyboardCommand", "keypress", "altKey", "stringFromKeyEvent", "_this$responder9", "inputControllerWillPerformTyping", "textInput", "toUpperCase", "_this$responder10", "dragenter", "dragstart", "_this$delegate5$input", "draggedRange", "inputControllerDidStartDrag", "dragover", "draggingPoint", "clientX", "clientY", "_this$delegate6$input", "inputControllerDidReceiveDragOverPoint", "dragend", "_this$delegate7$input", "inputControllerDidCancelDrag", "drop", "_event$dataTransfer", "_this$responder11", "_this$responder12", "inputControllerWillMoveText", "_this$responder13", "fromJSONString", "cut", "_this$responder14", "clipboardData", "inputControllerWillCutText", "_this$responder15", "paste", "clipboard", "testClipboardData", "pasteEventIsCrippledSafariHTMLPaste", "_this$responder16", "inputControllerWillPaste", "inputControllerDidPaste", "_this$responder17", "_this$delegate14", "_this$responder18", "_this$delegate15", "_this$delegate16", "_this$responder19", "_this$delegate17", "_clipboard$items", "_clipboard$items$getA", "items", "getAsFile", "_this$delegate18", "_this$responder20", "_this$delegate19", "extensionForFile", "compositionstart", "compositionupdate", "compositionend", "beforeinput", "backspace", "_this$delegate20", "delete", "_this$delegate21", "return", "_this$delegate22", "_this$responder21", "tab", "_this$responder22", "_this$responder23", "_this$responder24", "_this$responder25", "control", "d", "_this$delegate23", "h", "_this$delegate24", "_this$delegate25", "_this$responder26", "shift", "_this$delegate26", "_this$responder27", "_this$responder28", "_this$responder29", "alt", "_this$delegate27", "meta", "_this$delegate28", "_file$type", "which", "charCode", "hasPasteboardFlavor", "hasReadableDynamicData", "isExternalHTMLPaste", "isExternalRichTextPaste", "inputController", "isSignificant", "_this$responder5", "_this$responder4", "canApplyToDocument", "_this$responder6", "_this$responder7", "_this$responder8", "_this$data$start", "_this$data$end", "Level2InputController", "scheduledRender", "composing", "reparse", "scheduleRender", "_this$afterRender", "cancelAnimationFrame", "afterRender", "toggleAttributeIfSupported", "inputControllerWillPerformFormatting", "activateAttributeIfSupported", "getTargetDOMRange", "minLength", "_this$event$getTarget", "_this$event", "targetRanges", "getTargetRanges", "staticRangeToRange", "withEvent", "command", "keyboardCommandFromKeyEvent", "shiftKey", "_event$clipboardData", "pasteEventHasFilesOnly", "pasteEventHasPlainTextOnly", "inputTypes", "immmediateRender", "inputEvent", "dragging", "pointFromEvent", "dragEventHasFiles", "ArrowLeft", "ArrowRight", "Backspace", "Tab", "deleteByComposition", "deleteByCut", "deleteByDrag", "deleteByDragRange", "deleteCompositionText", "deleteContent", "deleteContentBackward", "deleteContentForward", "deleteEntireSoftLine", "deleteHardLineBackward", "deleteHardLineForward", "deleteSoftLineBackward", "deleteSoftLineForward", "deleteWordBackward", "deleteWordForward", "formatBackColor", "formatBold", "formatFontColor", "formatFontName", "formatIndent", "formatItalic", "formatJustifyCenter", "formatJustifyFull", "formatJustifyLeft", "formatJustifyRight", "formatOutdent", "formatRemove", "_this$responder30", "formatSetBlockTextDirection", "formatSetInlineTextDirection", "formatStrikeThrough", "formatSubscript", "formatSuperscript", "formatUnderline", "historyRedo", "inputControllerWillPerformRedo", "historyUndo", "inputControllerWillPerformUndo", "insertCompositionText", "insertFromComposition", "insertFromDrop", "_this$responder31", "insertFromPaste", "_this$responder32", "_this$responder33", "processableFilePaste", "_this$responder34", "_this$responder35", "insertFromYank", "insertLink", "insertOrderedList", "insertParagraph", "_this$responder36", "insertReplacementText", "replacement", "_this$event$dataTrans", "insertTranspose", "insertUnorderedList", "staticRange", "_event$dataTransfer$f", "attributeButtonSelector", "actionButtonSelector", "toolbarButtonSelector", "dialogSelector", "activeDialogSelector", "dialogButtonSelector", "dialogInputSelector", "getInputForDialog", "getAttributeName", "getActionName", "ToolbarController", "didClickAttributeButton", "didClickDialogButton", "didKeyDownDialogInput", "actions", "resetDialogInputs", "toolbarDidClickButton", "actionName", "getDialog", "toggleDialog", "toolbarDidInvokeAction", "toolbarDidToggleAttribute", "refreshAttributeButtons", "dialogElement", "dialog", "hideDialog", "updateActions", "refreshActionButtons", "eachActionButton", "disabled", "updateAttributes", "eachAttributeButton", "dialogIsVisible", "applyKeyboardCommand", "keyString", "button", "buttonKeys", "dialogName", "showDialog", "toolbarWillShowDialog", "disabledInput", "toolbarDidShowDialog", "willValidate", "checkValidity", "toolbarDidUpdateAttribute", "toolbarDidRemoveAttribute", "toolbarDidHideDialog", "EditorController", "editorElement", "compositionController", "toolbarController", "toolbarElement", "editor", "notifyEditorElement", "handlingInput", "updateCurrentActions", "pasting", "pastedRange", "attachmentLocationRange", "loadingSnapshot", "isFocused", "requestedLocationRange", "compositionRevisionWhenLocationRangeRequested", "renderedCompositionRevision", "runEditorFilters", "isFocusedInvisibly", "requestedRender", "recordTypingUndoEntry", "recordFormattingUndoEntry", "locationRangeBeforeDrag", "invokingElement", "invokeAction", "selectionFrozen", "canInvokeAction", "actionIsExternal", "_this$actions$actionN", "_this$actions$actionN2", "getCurrentActions", "currentActions", "snapshotsAreEqual", "updateInputElement", "serializer", "setFormValue", "message", "documentChangedSinceLastRender", "notify", "getUndoContext", "getLocationContext", "getTimeContext", "Date", "getTime", "_this$editorElement$o", "ownerDocument", "Pn", "Ui", "Hi", "zi", "Bn", "en", "an", "gn", "Fn", "In", "Gi", "Bt", "Nn", "Xi", "Ne", "TrixToolbarElement", "connectedCallback", "makeEditable", "configureContentEditable", "disableObjectResizing", "setDefaultParagraphSeparator", "_document$queryComman", "_document", "queryCommandSupported", "execCommand", "_document$queryComman2", "_document2", "cursorTargetStyles", "_internals", "WeakMap", "_validate", "WeakSet", "ElementInternalsDelegate", "_classPrivateFieldInitSpec", "writable", "_classPrivateFieldSet", "attachInternals", "_classPrivateMethodGet", "_validate2", "disconnectedCallback", "labels", "_classPrivateFieldGet", "_this$element$inputEl", "inputElement", "toggleAttribute", "required", "validity", "validationMessage", "reportValidity", "setCustomValidity", "customValidationMessage", "valueMissing", "customError", "setValidity", "_focusHandler", "_resetBubbled", "_clickBubbled", "LegacyDelegate", "contains", "label", "texts", "_classPrivateFieldGet2", "console", "warn", "_delegate", "TrixEditorElement", "formAssociated", "localName", "_this$ownerDocument", "toolbarId", "_this$inputElement", "_this$ownerDocument2", "inputId", "nextElementSibling", "_this$editorControlle", "editorController", "_this$inputElement2", "_this$inputElement3", "defaultValue", "_this$editor", "_this$editorControlle2", "formDisabledCallback", "formResetCallback", "Trix", "VERSION", "version", "core", "models", "controllers", "observers", "customElements", "define", "factory", "sparkMd5", "module", "exports", "undefined$1", "hex_chr", "md5cycle", "x", "a", "b", "c", "d", "md5blk", "s", "md5blks", "i", "md5blk_array", "md51", "n", "state", "length", "tail", "tmp", "lo", "hi", "md51_array", "rhex", "j", "hex", "clamp", "val", "from", "to", "begin", "end", "num", "target", "targetArray", "sourceArray", "toUtf8", "str", "utf8Str2ArrayBuffer", "returnUInt8Array", "buff", "arr", "arrayBuffer2Utf8Str", "concatenateArrayBuffers", "first", "second", "result", "hexToBinaryString", "bytes", "SparkMD5", "contents", "raw", "ret", "content", "hash", "fileSlice", "FileChecksum", "file", "callback", "event", "binaryDigest", "base64digest", "start", "getMetaValue", "name", "element", "findElement", "findElements", "root", "selector", "elements", "toArray", "dispatchEvent", "type", "eventInit", "disabled", "bubbles", "cancelable", "detail", "value", "BlobRecord", "checksum", "url", "customHeaders", "headerKey", "csrfToken", "responseType", "response", "direct_upload", "key", "BlobUpload", "blob", "headers", "status", "id", "DirectUpload", "delegate", "error", "notify", "upload", "object", "methodName", "messages", "DirectUploadController", "input", "hiddenInput", "attributes", "progress", "xhr", "inputSelector", "DirectUploadsController", "form", "controllers", "startNextController", "controller", "processingAttribute", "submitButtonsByForm", "started", "didClick", "didSubmitForm", "didSubmitRemoteElement", "button", "handleFormSubmissionEvent", "inputs", "disable", "enable", "submitForm", "autostart", "AttachmentUpload", "attachment", "signedId", "filename"]
}
